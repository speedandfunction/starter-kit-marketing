/** apos-build.js **/

var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sf={exports:{}},N2;function c7(){if(N2)return sf.exports;N2=1;function e(){}return e.prototype={on:function(t,i,n){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:i,ctx:n}),this},once:function(t,i,n){var s=this;function o(){s.off(t,o),i.apply(n,arguments)}return o._=i,this.on(t,o,n)},emit:function(t){var i=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),s=0,o=n.length;for(s;s<o;s++)n[s].fn.apply(n[s].ctx,i);return this},off:function(t,i){var n=this.e||(this.e={}),s=n[t],o=[];if(s&&i)for(var r=0,a=s.length;r<a;r++)s[r].fn!==i&&s[r].fn._!==i&&o.push(s[r]);return o.length?n[t]=o:delete n[t],this}},sf.exports=e,sf.exports.TinyEmitter=e,sf.exports}var E1,B2;function d7(){if(B2)return E1;B2=1;var e=c7();return E1=new e,E1}var u7=d7();const of=Jc(u7);/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ar(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const jt=Object.freeze({}),Cc=Object.freeze([]),un=()=>{},h7=()=>!1,Ju=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),pp=e=>e.startsWith("onUpdate:"),ci=Object.assign,Dv=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},f7=Object.prototype.hasOwnProperty,Dt=(e,t)=>f7.call(e,t),Fe=Array.isArray,nl=e=>Yu(e)==="[object Map]",Yc=e=>Yu(e)==="[object Set]",F2=e=>Yu(e)==="[object Date]",et=e=>typeof e=="function",ei=e=>typeof e=="string",Ys=e=>typeof e=="symbol",Rt=e=>e!==null&&typeof e=="object",Rv=e=>(Rt(e)||et(e))&&et(e.then)&&et(e.catch),e3=Object.prototype.toString,Yu=e=>e3.call(e),Hv=e=>Yu(e).slice(8,-1),t3=e=>Yu(e)==="[object Object]",Vv=e=>ei(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,qd=Ar(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),p7=Ar("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),$m=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},m7=/-(\w)/g,Cn=$m(e=>e.replace(m7,(t,i)=>i?i.toUpperCase():"")),g7=/\B([A-Z])/g,_r=$m(e=>e.replace(g7,"-$1").toLowerCase()),ml=$m(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wr=$m(e=>e?`on${ml(e)}`:""),ha=(e,t)=>!Object.is(e,t),uc=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},bu=(e,t,i,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:i})},mp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},b7=e=>{const t=ei(e)?Number(e):NaN;return isNaN(t)?e:t};let j2;const Zu=()=>j2||(j2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wt(e){if(Fe(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],s=ei(n)?w7(n):Wt(n);if(s)for(const o in s)t[o]=s[o]}return t}else if(ei(e)||Rt(e))return e}const y7=/;(?![^(]*\))/g,v7=/:([^]+)/,_7=/\/\*[^]*?\*\//g;function w7(e){const t={};return e.replace(_7,"").split(y7).forEach(i=>{if(i){const n=i.split(v7);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ne(e){let t="";if(ei(e))t=e;else if(Fe(e))for(let i=0;i<e.length;i++){const n=ne(e[i]);n&&(t+=n+" ")}else if(Rt(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function C7(e){if(!e)return null;let{class:t,style:i}=e;return t&&!ei(t)&&(e.class=ne(t)),i&&(e.style=Wt(i)),e}const k7="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",A7="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",S7="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",x7=Ar(k7),M7=Ar(A7),T7=Ar(S7),O7="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",E7=Ar(O7);function i3(e){return!!e||e===""}function I7(e,t){if(e.length!==t.length)return!1;let i=!0;for(let n=0;i&&n<e.length;n++)i=gl(e[n],t[n]);return i}function gl(e,t){if(e===t)return!0;let i=F2(e),n=F2(t);if(i||n)return i&&n?e.getTime()===t.getTime():!1;if(i=Ys(e),n=Ys(t),i||n)return e===t;if(i=Fe(e),n=Fe(t),i||n)return i&&n?I7(e,t):!1;if(i=Rt(e),n=Rt(t),i||n){if(!i||!n)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(a&&!l||!a&&l||!gl(e[r],t[r]))return!1}}return String(e)===String(t)}function zv(e,t){return e.findIndex(i=>gl(i,t))}const n3=e=>!!(e&&e.__v_isRef===!0),E=e=>ei(e)?e:e==null?"":Fe(e)||Rt(e)&&(e.toString===e3||!et(e.toString))?n3(e)?E(e.value):JSON.stringify(e,s3,2):String(e),s3=(e,t)=>n3(t)?s3(e,t.value):nl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[n,s],o)=>(i[I1(n,o)+" =>"]=s,i),{})}:Yc(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>I1(i))}:Ys(t)?I1(t):Rt(t)&&!Fe(t)&&!t3(t)?String(t):t,I1=(e,t="")=>{var i;return Ys(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ps(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let ln;class o3{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ln,!t&&ln&&(this.index=(ln.scopes||(ln.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=ln;try{return ln=this,t()}finally{ln=i}}else Ps("cannot run an inactive effect scope.")}on(){++this._on===1&&(this.prevScope=ln,ln=this)}off(){this._on>0&&--this._on===0&&(ln=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(this.effects.length=0,i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function r3(e){return new o3(e)}function a3(){return ln}function $7(e,t=!1){ln?ln.cleanups.push(e):t||Ps("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Ft;const $1=new WeakSet;class l3{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ln&&ln.active&&ln.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$1.has(this)&&($1.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||d3(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,U2(this),u3(this);const t=Ft,i=Ks;Ft=this,Ks=!0;try{return this.fn()}finally{Ft!==this&&Ps("Active effect was not restored correctly - this is likely a Vue internal bug."),h3(this),Ft=t,Ks=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fv(t);this.deps=this.depsTail=void 0,U2(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$1.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ly(this)&&this.run()}get dirty(){return ly(this)}}let c3=0,Kd,Gd;function d3(e,t=!1){if(e.flags|=8,t){e.next=Gd,Gd=e;return}e.next=Kd,Kd=e}function Nv(){c3++}function Bv(){if(--c3>0)return;if(Gd){let t=Gd;for(Gd=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;Kd;){let t=Kd;for(Kd=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=i}}if(e)throw e}function u3(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function h3(e){let t,i=e.depsTail,n=i;for(;n;){const s=n.prevDep;n.version===-1?(n===i&&(i=s),Fv(n),L7(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}e.deps=t,e.depsTail=i}function ly(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(f3(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function f3(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===yu)||(e.globalVersion=yu,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ly(e))))return;e.flags|=2;const t=e.dep,i=Ft,n=Ks;Ft=e,Ks=!0;try{u3(e);const s=e.fn(e._value);(t.version===0||ha(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ft=i,Ks=n,h3(e),e.flags&=-3}}function Fv(e,t=!1){const{dep:i,prevSub:n,nextSub:s}=e;if(n&&(n.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=n,e.nextSub=void 0),i.subsHead===e&&(i.subsHead=s),i.subs===e&&(i.subs=n,!n&&i.computed)){i.computed.flags&=-5;for(let o=i.computed.deps;o;o=o.nextDep)Fv(o,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function L7(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let Ks=!0;const p3=[];function Zs(){p3.push(Ks),Ks=!1}function Xs(){const e=p3.pop();Ks=e===void 0?!0:e}function U2(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Ft;Ft=void 0;try{t()}finally{Ft=i}}}let yu=0,P7=class{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Lm{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,this.subsHead=void 0}track(t){if(!Ft||!Ks||Ft===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Ft)i=this.activeLink=new P7(Ft,this),Ft.deps?(i.prevDep=Ft.depsTail,Ft.depsTail.nextDep=i,Ft.depsTail=i):Ft.deps=Ft.depsTail=i,m3(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const n=i.nextDep;n.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=n),i.prevDep=Ft.depsTail,i.nextDep=void 0,Ft.depsTail.nextDep=i,Ft.depsTail=i,Ft.deps===i&&(Ft.deps=n)}return Ft.onTrack&&Ft.onTrack(ci({effect:Ft},t)),i}trigger(t){this.version++,yu++,this.notify(t)}notify(t){Nv();try{for(let i=this.subsHead;i;i=i.nextSub)i.sub.onTrigger&&!(i.sub.flags&8)&&i.sub.onTrigger(ci({effect:i.sub},t));for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{Bv()}}}function m3(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)m3(n)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subsHead===void 0&&(e.dep.subsHead=e),e.dep.subs=e}}const gp=new WeakMap,sl=Symbol("Object iterate"),cy=Symbol("Map keys iterate"),vu=Symbol("Array iterate");function Vi(e,t,i){if(Ks&&Ft){let n=gp.get(e);n||gp.set(e,n=new Map);let s=n.get(i);s||(n.set(i,s=new Lm),s.map=n,s.key=i),s.track({target:e,type:t,key:i})}}function yo(e,t,i,n,s,o){const r=gp.get(e);if(!r){yu++;return}const a=l=>{l&&l.trigger({target:e,type:t,key:i,newValue:n,oldValue:s,oldTarget:o})};if(Nv(),t==="clear")r.forEach(a);else{const l=Fe(e),c=l&&Vv(i);if(l&&i==="length"){const u=Number(n);r.forEach((h,m)=>{(m==="length"||m===vu||!Ys(m)&&m>=u)&&a(h)})}else switch((i!==void 0||r.has(void 0))&&a(r.get(i)),c&&a(r.get(vu)),t){case"add":l?c&&a(r.get("length")):(a(r.get(sl)),nl(e)&&a(r.get(cy)));break;case"delete":l||(a(r.get(sl)),nl(e)&&a(r.get(cy)));break;case"set":nl(e)&&a(r.get(sl));break}}Bv()}function D7(e,t){const i=gp.get(e);return i&&i.get(t)}function Xl(e){const t=lt(e);return t===e?t:(Vi(t,"iterate",vu),kn(e)?t:t.map(Ji))}function Pm(e){return Vi(e=lt(e),"iterate",vu),e}const R7={__proto__:null,[Symbol.iterator](){return L1(this,Symbol.iterator,Ji)},concat(...e){return Xl(this).concat(...e.map(t=>Fe(t)?Xl(t):t))},entries(){return L1(this,"entries",e=>(e[1]=Ji(e[1]),e))},every(e,t){return Zo(this,"every",e,t,void 0,arguments)},filter(e,t){return Zo(this,"filter",e,t,i=>i.map(Ji),arguments)},find(e,t){return Zo(this,"find",e,t,Ji,arguments)},findIndex(e,t){return Zo(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Zo(this,"findLast",e,t,Ji,arguments)},findLastIndex(e,t){return Zo(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Zo(this,"forEach",e,t,void 0,arguments)},includes(...e){return P1(this,"includes",e)},indexOf(...e){return P1(this,"indexOf",e)},join(e){return Xl(this).join(e)},lastIndexOf(...e){return P1(this,"lastIndexOf",e)},map(e,t){return Zo(this,"map",e,t,void 0,arguments)},pop(){return Sd(this,"pop")},push(...e){return Sd(this,"push",e)},reduce(e,...t){return W2(this,"reduce",e,t)},reduceRight(e,...t){return W2(this,"reduceRight",e,t)},shift(){return Sd(this,"shift")},some(e,t){return Zo(this,"some",e,t,void 0,arguments)},splice(...e){return Sd(this,"splice",e)},toReversed(){return Xl(this).toReversed()},toSorted(e){return Xl(this).toSorted(e)},toSpliced(...e){return Xl(this).toSpliced(...e)},unshift(...e){return Sd(this,"unshift",e)},values(){return L1(this,"values",Ji)}};function L1(e,t,i){const n=Pm(e),s=n[t]();return n!==e&&!kn(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=i(o.value)),o}),s}const H7=Array.prototype;function Zo(e,t,i,n,s,o){const r=Pm(e),a=r!==e&&!kn(e),l=r[t];if(l!==H7[t]){const h=l.apply(e,o);return a?Ji(h):h}let c=i;r!==e&&(a?c=function(h,m){return i.call(this,Ji(h),m,e)}:i.length>2&&(c=function(h,m){return i.call(this,h,m,e)}));const u=l.call(r,c,n);return a&&s?s(u):u}function W2(e,t,i,n){const s=Pm(e);let o=i;return s!==e&&(kn(e)?i.length>3&&(o=function(r,a,l){return i.call(this,r,a,l,e)}):o=function(r,a,l){return i.call(this,r,Ji(a),l,e)}),s[t](o,...n)}function P1(e,t,i){const n=lt(e);Vi(n,"iterate",vu);const s=n[t](...i);return(s===-1||s===!1)&&_u(i[0])?(i[0]=lt(i[0]),n[t](...i)):s}function Sd(e,t,i=[]){Zs(),Nv();const n=lt(e)[t].apply(e,i);return Bv(),Xs(),n}const V7=Ar("__proto__,__v_isRef,__isVue"),g3=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ys));function z7(e){Ys(e)||(e=String(e));const t=lt(this);return Vi(t,"has",e),t.hasOwnProperty(e)}class b3{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,n){if(i==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(i==="__v_isReactive")return!s;if(i==="__v_isReadonly")return s;if(i==="__v_isShallow")return o;if(i==="__v_raw")return n===(s?o?k3:C3:o?w3:_3).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=Fe(t);if(!s){let l;if(r&&(l=R7[i]))return l;if(i==="hasOwnProperty")return z7}const a=Reflect.get(t,i,Yt(t)?t:n);return(Ys(i)?g3.has(i):V7(i))||(s||Vi(t,"get",i),o)?a:Yt(a)?r&&Vv(i)?a:a.value:Rt(a)?s?A3(a):Rm(a):a}}class y3 extends b3{constructor(t=!1){super(!1,t)}set(t,i,n,s){let o=t[i];if(!this._isShallow){const l=Eo(o);if(!kn(n)&&!Eo(n)&&(o=lt(o),n=lt(n)),!Fe(t)&&Yt(o)&&!Yt(n))return l?!1:(o.value=n,!0)}const r=Fe(t)&&Vv(i)?Number(i)<t.length:Dt(t,i),a=Reflect.set(t,i,n,Yt(t)?t:s);return t===lt(s)&&(r?ha(n,o)&&yo(t,"set",i,n,o):yo(t,"add",i,n)),a}deleteProperty(t,i){const n=Dt(t,i),s=t[i],o=Reflect.deleteProperty(t,i);return o&&n&&yo(t,"delete",i,void 0,s),o}has(t,i){const n=Reflect.has(t,i);return(!Ys(i)||!g3.has(i))&&Vi(t,"has",i),n}ownKeys(t){return Vi(t,"iterate",Fe(t)?"length":sl),Reflect.ownKeys(t)}}class v3 extends b3{constructor(t=!1){super(!0,t)}set(t,i){return Ps(`Set operation on key "${String(i)}" failed: target is readonly.`,t),!0}deleteProperty(t,i){return Ps(`Delete operation on key "${String(i)}" failed: target is readonly.`,t),!0}}const N7=new y3,B7=new v3,F7=new y3(!0),j7=new v3(!0),dy=e=>e,rf=e=>Reflect.getPrototypeOf(e);function U7(e,t,i){return function(...n){const s=this.__v_raw,o=lt(s),r=nl(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=s[e](...n),u=i?dy:t?bp:Ji;return!t&&Vi(o,"iterate",l?cy:sl),{next(){const{value:h,done:m}=c.next();return m?{value:h,done:m}:{value:a?[u(h[0]),u(h[1])]:u(h),done:m}},[Symbol.iterator](){return this}}}}function af(e){return function(...t){{const i=t[0]?`on key "${t[0]}" `:"";Ps(`${ml(e)} operation ${i}failed: target is readonly.`,lt(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function W7(e,t){const i={get(s){const o=this.__v_raw,r=lt(o),a=lt(s);e||(ha(s,a)&&Vi(r,"get",s),Vi(r,"get",a));const{has:l}=rf(r),c=t?dy:e?bp:Ji;if(l.call(r,s))return c(o.get(s));if(l.call(r,a))return c(o.get(a));o!==r&&o.get(s)},get size(){const s=this.__v_raw;return!e&&Vi(lt(s),"iterate",sl),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,r=lt(o),a=lt(s);return e||(ha(s,a)&&Vi(r,"has",s),Vi(r,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const r=this,a=r.__v_raw,l=lt(a),c=t?dy:e?bp:Ji;return!e&&Vi(l,"iterate",sl),a.forEach((u,h)=>s.call(o,c(u),c(h),r))}};return ci(i,e?{add:af("add"),set:af("set"),delete:af("delete"),clear:af("clear")}:{add(s){!t&&!kn(s)&&!Eo(s)&&(s=lt(s));const o=lt(this);return rf(o).has.call(o,s)||(o.add(s),yo(o,"add",s,s)),this},set(s,o){!t&&!kn(o)&&!Eo(o)&&(o=lt(o));const r=lt(this),{has:a,get:l}=rf(r);let c=a.call(r,s);c?q2(r,a,s):(s=lt(s),c=a.call(r,s));const u=l.call(r,s);return r.set(s,o),c?ha(o,u)&&yo(r,"set",s,o,u):yo(r,"add",s,o),this},delete(s){const o=lt(this),{has:r,get:a}=rf(o);let l=r.call(o,s);l?q2(o,r,s):(s=lt(s),l=r.call(o,s));const c=a?a.call(o,s):void 0,u=o.delete(s);return l&&yo(o,"delete",s,void 0,c),u},clear(){const s=lt(this),o=s.size!==0,r=nl(s)?new Map(s):new Set(s),a=s.clear();return o&&yo(s,"clear",void 0,void 0,r),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{i[s]=U7(s,e,t)}),i}function Dm(e,t){const i=W7(e,t);return(n,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(Dt(i,s)&&s in n?i:n,s,o)}const q7={get:Dm(!1,!1)},K7={get:Dm(!1,!0)},G7={get:Dm(!0,!1)},J7={get:Dm(!0,!0)};function q2(e,t,i){const n=lt(i);if(n!==i&&t.call(e,n)){const s=Hv(e);Ps(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const _3=new WeakMap,w3=new WeakMap,C3=new WeakMap,k3=new WeakMap;function Y7(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Z7(e){return e.__v_skip||!Object.isExtensible(e)?0:Y7(Hv(e))}function Rm(e){return Eo(e)?e:Hm(e,!1,N7,q7,_3)}function X7(e){return Hm(e,!1,F7,K7,w3)}function A3(e){return Hm(e,!0,B7,G7,C3)}function Co(e){return Hm(e,!0,j7,J7,k3)}function Hm(e,t,i,n,s){if(!Rt(e))return Ps(`value cannot be made ${t?"readonly":"reactive"}: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Z7(e);if(o===0)return e;const r=s.get(e);if(r)return r;const a=new Proxy(e,o===2?n:i);return s.set(e,a),a}function So(e){return Eo(e)?So(e.__v_raw):!!(e&&e.__v_isReactive)}function Eo(e){return!!(e&&e.__v_isReadonly)}function kn(e){return!!(e&&e.__v_isShallow)}function _u(e){return e?!!e.__v_raw:!1}function lt(e){const t=e&&e.__v_raw;return t?lt(t):e}function ur(e){return!Dt(e,"__v_skip")&&Object.isExtensible(e)&&bu(e,"__v_skip",!0),e}const Ji=e=>Rt(e)?Rm(e):e,bp=e=>Rt(e)?A3(e):e;function Yt(e){return e?e.__v_isRef===!0:!1}function He(e){return Q7(e,!1)}function Q7(e,t){return Yt(e)?e:new eP(e,t)}class eP{constructor(t,i){this.dep=new Lm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:lt(t),this._value=i?t:Ji(t),this.__v_isShallow=i}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(t){const i=this._rawValue,n=this.__v_isShallow||kn(t)||Eo(t);t=n?t:lt(t),ha(t,i)&&(this._rawValue=t,this._value=n?t:Ji(t),this.dep.trigger({target:this,type:"set",key:"value",newValue:t,oldValue:i}))}}function As(e){return Yt(e)?e.value:e}const tP={get:(e,t,i)=>t==="__v_raw"?e:As(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const s=e[t];return Yt(s)&&!Yt(i)?(s.value=i,!0):Reflect.set(e,t,i,n)}};function S3(e){return So(e)?e:new Proxy(e,tP)}class iP{constructor(t){this.__v_isRef=!0,this._value=void 0;const i=this.dep=new Lm,{get:n,set:s}=t(i.track.bind(i),i.trigger.bind(i));this._get=n,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function nP(e){return new iP(e)}function K2(e){_u(e)||Ps("toRefs() expects a reactive object but received a plain one.");const t=Fe(e)?new Array(e.length):{};for(const i in e)t[i]=x3(e,i);return t}class sP{constructor(t,i,n){this._object=t,this._key=i,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return D7(lt(this._object),this._key)}}class oP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function D1(e,t,i){return Yt(e)?e:et(e)?new oP(e):Rt(e)&&arguments.length>1?x3(e,t,i):He(e)}function x3(e,t,i){const n=e[t];return Yt(n)?n:new sP(e,t,i)}class rP{constructor(t,i,n){this.fn=t,this.setter=i,this._value=void 0,this.dep=new Lm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return d3(this,!0),!0}get value(){const t=this.dep.track({target:this,type:"get",key:"value"});return f3(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter?this.setter(t):Ps("Write operation failed: computed value is readonly")}}function aP(e,t,i=!1){let n,s;et(e)?n=e:(n=e.get,s=e.set);const o=new rP(n,s,i);return t&&!i&&(o.onTrack=t.onTrack,o.onTrigger=t.onTrigger),o}const lf={},yp=new WeakMap;let qa;function lP(e,t=!1,i=qa){if(i){let n=yp.get(i);n||yp.set(i,n=[]),n.push(e)}else t||Ps("onWatcherCleanup() was called when there was no active watcher to associate with.")}function cP(e,t,i=jt){const{immediate:n,deep:s,once:o,scheduler:r,augmentJob:a,call:l}=i,c=P=>{(i.onWarn||Ps)("Invalid watch source: ",P,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=P=>s?P:kn(P)||s===!1||s===0?cr(P,1):cr(P);let h,m,g,v,_=!1,w=!1;if(Yt(e)?(m=()=>e.value,_=kn(e)):So(e)?(m=()=>u(e),_=!0):Fe(e)?(w=!0,_=e.some(P=>So(P)||kn(P)),m=()=>e.map(P=>{if(Yt(P))return P.value;if(So(P))return u(P);if(et(P))return l?l(P,2):P();c(P)})):et(e)?t?m=l?()=>l(e,2):e:m=()=>{if(g){Zs();try{g()}finally{Xs()}}const P=qa;qa=h;try{return l?l(e,3,[v]):e(v)}finally{qa=P}}:(m=un,c(e)),t&&s){const P=m,F=s===!0?1/0:s;m=()=>cr(P(),F)}const A=a3(),L=()=>{h.stop(),A&&A.active&&Dv(A.effects,h)};if(o&&t){const P=t;t=(...F)=>{P(...F),L()}}let N=w?new Array(e.length).fill(lf):lf;const M=P=>{if(!(!(h.flags&1)||!h.dirty&&!P))if(t){const F=h.run();if(s||_||(w?F.some((K,se)=>ha(K,N[se])):ha(F,N))){g&&g();const K=qa;qa=h;try{const se=[F,N===lf?void 0:w&&N[0]===lf?[]:N,v];N=F,l?l(t,3,se):t(...se)}finally{qa=K}}}else h.run()};return a&&a(M),h=new l3(m),h.scheduler=r?()=>r(M,!1):M,v=P=>lP(P,!1,h),g=h.onStop=()=>{const P=yp.get(h);if(P){if(l)l(P,4);else for(const F of P)F();yp.delete(h)}},h.onTrack=i.onTrack,h.onTrigger=i.onTrigger,t?n?M(!0):N=h.run():r?r(M.bind(null,!0),!0):h.run(),L.pause=h.pause.bind(h),L.resume=h.resume.bind(h),L.stop=L,L}function cr(e,t=1/0,i){if(t<=0||!Rt(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,Yt(e))cr(e.value,t,i);else if(Fe(e))for(let n=0;n<e.length;n++)cr(e[n],t,i);else if(Yc(e)||nl(e))e.forEach(n=>{cr(n,t,i)});else if(t3(e)){for(const n in e)cr(e[n],t,i);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&cr(e[n],t,i)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ol=[];function jf(e){ol.push(e)}function Uf(){ol.pop()}let R1=!1;function Ae(e,...t){if(R1)return;R1=!0,Zs();const i=ol.length?ol[ol.length-1].component:null,n=i&&i.appContext.config.warnHandler,s=dP();if(n)Zc(n,i,11,[e+t.map(o=>{var r,a;return(a=(r=o.toString)==null?void 0:r.call(o))!=null?a:JSON.stringify(o)}).join(""),i&&i.proxy,s.map(({vnode:o})=>`at <${jm(i,o.type)}>`).join(`
`),s]);else{const o=[`[Vue warn]: ${e}`,...t];s.length&&o.push(`
`,...uP(s)),console.warn(...o)}Xs(),R1=!1}function dP(){let e=ol[ol.length-1];if(!e)return[];const t=[];for(;e;){const i=t[0];i&&i.vnode===e?i.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function uP(e){const t=[];return e.forEach((i,n)=>{t.push(...n===0?[]:[`
`],...hP(i))}),t}function hP({vnode:e,recurseCount:t}){const i=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,s=` at <${jm(e.component,e.type,n)}`,o=">"+i;return e.props?[s,...fP(e.props),o]:[s+o]}function fP(e){const t=[],i=Object.keys(e);return i.slice(0,3).forEach(n=>{t.push(...M3(n,e[n]))}),i.length>3&&t.push(" ..."),t}function M3(e,t,i){return ei(t)?(t=JSON.stringify(t),i?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?i?t:[`${e}=${t}`]:Yt(t)?(t=M3(e,lt(t.value),!0),i?t:[`${e}=Ref<`,t,">"]):et(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=lt(t),i?t:[`${e}=`,t])}function pP(e,t){e!==void 0&&(typeof e!="number"?Ae(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&Ae(`${t} is NaN - the duration expression might be incorrect.`))}const jv={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Zc(e,t,i,n){try{return n?e(...n):e()}catch(s){Xu(s,t,i)}}function Qs(e,t,i,n){if(et(e)){const s=Zc(e,t,i,n);return s&&Rv(s)&&s.catch(o=>{Xu(o,t,i)}),s}if(Fe(e)){const s=[];for(let o=0;o<e.length;o++)s.push(Qs(e[o],t,i,n));return s}else Ae(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof e}`)}function Xu(e,t,i,n=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||jt;if(t){let a=t.parent;const l=t.proxy,c=jv[i];for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(o){Zs(),Zc(o,null,10,[e,l,c]),Xs();return}}mP(e,i,s,n,r)}function mP(e,t,i,n=!0,s=!1){{const o=jv[t];if(i&&jf(i),Ae(`Unhandled error${o?` during execution of ${o}`:""}`),i&&Uf(),n)throw e;console.error(e)}}const wn=[];let uo=-1;const kc=[];let qr=null,hc=0;const T3=Promise.resolve();let vp=null;const gP=100;function Dn(e){const t=vp||T3;return e?t.then(this?e.bind(this):e):t}function bP(e){let t=uo+1,i=wn.length;for(;t<i;){const n=t+i>>>1,s=wn[n],o=wu(s);o<e||o===e&&s.flags&2?t=n+1:i=n}return t}function Vm(e){if(!(e.flags&1)){const t=wu(e),i=wn[wn.length-1];!i||!(e.flags&2)&&t>=wu(i)?wn.push(e):wn.splice(bP(t),0,e),e.flags|=1,O3()}}function O3(){vp||(vp=T3.then($3))}function E3(e){Fe(e)?kc.push(...e):qr&&e.id===-1?qr.splice(hc+1,0,e):e.flags&1||(kc.push(e),e.flags|=1),O3()}function G2(e,t,i=uo+1){for(t=t||new Map;i<wn.length;i++){const n=wn[i];if(n&&n.flags&2){if(e&&n.id!==e.uid||Uv(t,n))continue;wn.splice(i,1),i--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function I3(e){if(kc.length){const t=[...new Set(kc)].sort((i,n)=>wu(i)-wu(n));if(kc.length=0,qr){qr.push(...t);return}for(qr=t,e=e||new Map,hc=0;hc<qr.length;hc++){const i=qr[hc];Uv(e,i)||(i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2)}qr=null,hc=0}}const wu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function $3(e){e=e||new Map;const t=i=>Uv(e,i);try{for(uo=0;uo<wn.length;uo++){const i=wn[uo];if(i&&!(i.flags&8)){if(t(i))continue;i.flags&4&&(i.flags&=-2),Zc(i,i.i,i.i?15:14),i.flags&4||(i.flags&=-2)}}}finally{for(;uo<wn.length;uo++){const i=wn[uo];i&&(i.flags&=-2)}uo=-1,wn.length=0,I3(e),vp=null,(wn.length||kc.length)&&$3(e)}}function Uv(e,t){const i=e.get(t)||0;if(i>gP){const n=t.i,s=n&&e0(n.type);return Xu(`Maximum recursive updates exceeded${s?` in component <${s}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return e.set(t,i+1),!1}let ko=!1;const Wf=new Map;Zu().__VUE_HMR_RUNTIME__={createRecord:H1(L3),rerender:H1(_P),reload:H1(wP)};const bl=new Map;function yP(e){const t=e.type.__hmrId;let i=bl.get(t);i||(L3(t,e.type),i=bl.get(t)),i.instances.add(e)}function vP(e){bl.get(e.type.__hmrId).instances.delete(e)}function L3(e,t){return bl.has(e)?!1:(bl.set(e,{initialDef:_p(t),instances:new Set}),!0)}function _p(e){return _4(e)?e.__vccOpts:e}function _P(e,t){const i=bl.get(e);i&&(i.initialDef.render=t,[...i.instances].forEach(n=>{t&&(n.render=t,_p(n.type).render=t),n.renderCache=[],ko=!0,n.update(),ko=!1}))}function wP(e,t){const i=bl.get(e);if(!i)return;t=_p(t),J2(i.initialDef,t);const n=[...i.instances];for(let s=0;s<n.length;s++){const o=n[s],r=_p(o.type);let a=Wf.get(r);a||(r!==i.initialDef&&J2(r,t),Wf.set(r,a=new Set)),a.add(o),o.appContext.propsCache.delete(o.type),o.appContext.emitsCache.delete(o.type),o.appContext.optionsCache.delete(o.type),o.ceReload?(a.add(o),o.ceReload(t.styles),a.delete(o)):o.parent?Vm(()=>{ko=!0,o.parent.update(),ko=!1,a.delete(o)}):o.appContext.reload?o.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),o.root.ce&&o!==o.root&&o.root.ce._removeChildStyle(r)}E3(()=>{Wf.clear()})}function J2(e,t){ci(e,t);for(const i in e)i!=="__file"&&!(i in t)&&delete e[i]}function H1(e){return(t,i)=>{try{return e(t,i)}catch(n){console.error(n),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let vo,Dd=[],uy=!1;function Qu(e,...t){vo?vo.emit(e,...t):uy||Dd.push({event:e,args:t})}function P3(e,t){var i,n;vo=e,vo?(vo.enabled=!0,Dd.forEach(({event:s,args:o})=>vo.emit(s,...o)),Dd=[]):typeof window<"u"&&window.HTMLElement&&!((n=(i=window.navigator)==null?void 0:i.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{P3(o,t)}),setTimeout(()=>{vo||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,uy=!0,Dd=[])},3e3)):(uy=!0,Dd=[])}function CP(e,t){Qu("app:init",e,t,{Fragment:Ce,Text:Qc,Comment:wi,Static:Yd})}function kP(e){Qu("app:unmount",e)}const AP=Wv("component:added"),D3=Wv("component:updated"),SP=Wv("component:removed"),xP=e=>{vo&&typeof vo.cleanupBuffer=="function"&&!vo.cleanupBuffer(e)&&SP(e)};/*! #__NO_SIDE_EFFECTS__ */function Wv(e){return t=>{Qu(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const MP=R3("perf:start"),TP=R3("perf:end");function R3(e){return(t,i,n)=>{Qu(e,t.appContext.app,t.uid,t,i,n)}}function OP(e,t,i){Qu("component:emit",e.appContext.app,e,t,i)}let gi=null,H3=null;function wp(e){const t=gi;return gi=e,H3=e&&e.type.__scopeId||null,t}function Q(e,t=gi,i){if(!t||e._n)return e;const n=(...s)=>{n._d&&cC(-1);const o=wp(t);let r;try{r=e(...s)}finally{wp(o),n._d&&cC(1)}return D3(t),r};return n._n=!0,n._c=!0,n._d=!0,n}function V3(e){p7(e)&&Ae("Do not use built-in directive ids as custom directive id: "+e)}function Ge(e,t){if(gi===null)return Ae("withDirectives can only be used inside render functions."),e;const i=Fm(gi),n=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,r,a,l=jt]=t[s];o&&(et(o)&&(o={mounted:o,updated:o}),o.deep&&cr(r),n.push({dir:o,instance:i,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function Na(e,t,i,n){const s=e.dirs,o=t&&t.dirs;for(let r=0;r<s.length;r++){const a=s[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(Zs(),Qs(l,i,8,[e.el,a,e,t]),Xs())}}const EP=Symbol("_vte"),z3=e=>e.__isTeleport,Kr=Symbol("_leaveCb"),cf=Symbol("_enterCb");function N3(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ls(()=>{e.isMounted=!0}),vl(()=>{e.isUnmounting=!0}),e}const vs=[Function,Array],B3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vs,onEnter:vs,onAfterEnter:vs,onEnterCancelled:vs,onBeforeLeave:vs,onLeave:vs,onAfterLeave:vs,onLeaveCancelled:vs,onBeforeAppear:vs,onAppear:vs,onAfterAppear:vs,onAppearCancelled:vs},F3=e=>{const t=e.subTree;return t.component?F3(t.component):t},IP={name:"BaseTransition",props:B3,setup(e,{slots:t}){const i=ed(),n=N3();return()=>{const s=t.default&&qv(t.default(),!0);if(!s||!s.length)return;const o=j3(s),r=lt(e),{mode:a}=r;if(a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&Ae(`invalid <transition> mode: ${a}`),n.isLeaving)return V1(o);const l=Y2(o);if(!l)return V1(o);let c=Cu(l,r,n,i,h=>c=h);l.type!==wi&&yl(l,c);let u=i.subTree&&Y2(i.subTree);if(u&&u.type!==wi&&!Ya(l,u)&&F3(i).type!==wi){let h=Cu(u,r,n,i);if(yl(u,h),a==="out-in"&&l.type!==wi)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,i.job.flags&8||i.update(),delete h.afterLeave,u=void 0},V1(o);a==="in-out"&&l.type!==wi?h.delayLeave=(m,g,v)=>{const _=U3(n,u);_[String(u.key)]=u,m[Kr]=()=>{g(),m[Kr]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function j3(e){let t=e[0];if(e.length>1){let i=!1;for(const n of e)if(n.type!==wi){if(i){Ae("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}t=n,i=!0}}return t}const $P=IP;function U3(e,t){const{leavingVNodes:i}=e;let n=i.get(t.type);return n||(n=Object.create(null),i.set(t.type,n)),n}function Cu(e,t,i,n,s){const{appear:o,mode:r,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:m,onLeave:g,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:w,onAppear:A,onAfterAppear:L,onAppearCancelled:N}=t,M=String(e.key),P=U3(i,e),F=(j,V)=>{j&&Qs(j,n,9,V)},K=(j,V)=>{const z=V[1];F(j,V),Fe(j)?j.every(Z=>Z.length<=1)&&z():j.length<=1&&z()},se={mode:r,persisted:a,beforeEnter(j){let V=l;if(!i.isMounted)if(o)V=w||l;else return;j[Kr]&&j[Kr](!0);const z=P[M];z&&Ya(e,z)&&z.el[Kr]&&z.el[Kr](),F(V,[j])},enter(j){let V=c,z=u,Z=h;if(!i.isMounted)if(o)V=A||c,z=L||u,Z=N||h;else return;let le=!1;const ie=j[cf]=re=>{le||(le=!0,re?F(Z,[j]):F(z,[j]),se.delayedLeave&&se.delayedLeave(),j[cf]=void 0)};V?K(V,[j,ie]):ie()},leave(j,V){const z=String(e.key);if(j[cf]&&j[cf](!0),i.isUnmounting)return V();F(m,[j]);let Z=!1;const le=j[Kr]=ie=>{Z||(Z=!0,V(),ie?F(_,[j]):F(v,[j]),j[Kr]=void 0,P[z]===e&&delete P[z])};P[z]=e,g?K(g,[j,le]):le()},clone(j){const V=Cu(j,t,i,n,s);return s&&s(V),V}};return se}function V1(e){if(eh(e))return e=Io(e),e.children=null,e}function Y2(e){if(!eh(e))return z3(e.type)&&e.children?j3(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&et(i.default))return i.default()}}function yl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,yl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qv(e,t=!1,i){let n=[],s=0;for(let o=0;o<e.length;o++){let r=e[o];const a=i==null?r.key:String(i)+String(r.key!=null?r.key:o);r.type===Ce?(r.patchFlag&128&&s++,n=n.concat(qv(r.children,t,a))):(t||r.type!==wi)&&n.push(a!=null?Io(r,{key:a}):r)}if(s>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function zm(e,t){return et(e)?ci({name:e.name},t,{setup:e}):e}function W3(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const LP=new WeakSet;function Jd(e,t,i,n,s=!1){if(Fe(e)){e.forEach((v,_)=>Jd(v,t&&(Fe(t)?t[_]:t),i,n,s));return}if(Ac(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Jd(e,t,i,n.component.subTree);return}const o=n.shapeFlag&4?Fm(n.component):n.el,r=s?null:o,{i:a,r:l}=e;if(!a){Ae("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=t&&t.r,u=a.refs===jt?a.refs={}:a.refs,h=a.setupState,m=lt(h),g=h===jt?()=>!1:v=>(Dt(m,v)&&!Yt(m[v])&&Ae(`Template ref "${v}" used on a non-ref value. It will not work in the production build.`),LP.has(m[v])?!1:Dt(m,v));if(c!=null&&c!==l&&(ei(c)?(u[c]=null,g(c)&&(h[c]=null)):Yt(c)&&(c.value=null)),et(l))Zc(l,a,12,[r,u]);else{const v=ei(l),_=Yt(l);if(v||_){const w=()=>{if(e.f){const A=v?g(l)?h[l]:u[l]:l.value;s?Fe(A)&&Dv(A,o):Fe(A)?A.includes(o)||A.push(o):v?(u[l]=[o],g(l)&&(h[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else v?(u[l]=r,g(l)&&(h[l]=r)):_?(l.value=r,e.k&&(u[e.k]=r)):Ae("Invalid template ref type:",l,`(${typeof l})`)};r?(w.id=-1,Zn(w,i)):w()}else Ae("Invalid template ref type:",l,`(${typeof l})`)}}Zu().requestIdleCallback;Zu().cancelIdleCallback;const Ac=e=>!!e.type.__asyncLoader,eh=e=>e.type.__isKeepAlive;function PP(e,t){q3(e,"a",t)}function DP(e,t){q3(e,"da",t)}function q3(e,t,i=Mi){const n=e.__wdc||(e.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Nm(t,n,i),i){let s=i.parent;for(;s&&s.parent;)eh(s.parent.vnode)&&RP(n,t,i,s),s=s.parent}}function RP(e,t,i,n){const s=Nm(t,e,n,!0);ku(()=>{Dv(n[t],s)},i)}function Nm(e,t,i=Mi,n=!1){if(i){const s=i[e]||(i[e]=[]),o=t.__weh||(t.__weh=(...r)=>{Zs();const a=th(i),l=Qs(t,i,e,r);return a(),Xs(),l});return n?s.unshift(o):s.push(o),o}else{const s=Wr(jv[e].replace(/ hook$/,""));Ae(`${s} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Sr=e=>(t,i=Mi)=>{(!Su||e==="sp")&&Nm(e,(...n)=>t(...n),i)},HP=Sr("bm"),ls=Sr("m"),VP=Sr("bu"),K3=Sr("u"),vl=Sr("bum"),ku=Sr("um"),zP=Sr("sp"),NP=Sr("rtg"),BP=Sr("rtc");function FP(e,t=Mi){Nm("ec",e,t)}const Cp="components",jP="directives";function O(e,t){return Kv(Cp,e,!0,t)||e}const G3=Symbol.for("v-ndc");function tt(e){return ei(e)?Kv(Cp,e,!1)||e:e||G3}function Bn(e){return Kv(jP,e)}function Kv(e,t,i=!0,n=!1){const s=gi||Mi;if(s){const o=s.type;if(e===Cp){const a=e0(o,!1);if(a&&(a===t||a===Cn(t)||a===ml(Cn(t))))return o}const r=Z2(s[e]||o[e],t)||Z2(s.appContext[e],t);if(!r&&n)return o;if(i&&!r){const a=e===Cp?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";Ae(`Failed to resolve ${e.slice(0,-1)}: ${t}${a}`)}return r}else Ae(`resolve${ml(e.slice(0,-1))} can only be used in render() or setup().`)}function Z2(e,t){return e&&(e[t]||e[Cn(t)]||e[ml(Cn(t))])}function Ie(e,t,i,n){let s;const o=i,r=Fe(e);if(r||ei(e)){const a=r&&So(e);let l=!1,c=!1;a&&(l=!kn(e),c=Eo(e),e=Pm(e)),s=new Array(e.length);for(let u=0,h=e.length;u<h;u++)s[u]=t(l?c?bp(Ji(e[u])):Ji(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){Number.isInteger(e)||Ae(`The v-for range expect an integer value but got ${e}.`),s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o)}else if(Rt(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,o)}}else s=[];return s}function _l(e,t){for(let i=0;i<t.length;i++){const n=t[i];if(Fe(n))for(let s=0;s<n.length;s++)e[n[s].name]=n[s].fn;else n&&(e[n.name]=n.key?(...s)=>{const o=n.fn(...s);return o&&(o.key=n.key),o}:n.fn)}return e}function yt(e,t,i={},n,s){if(gi.ce||gi.parent&&Ac(gi.parent)&&gi.parent.ce)return t!=="default"&&(i.name=t),p(),R(Ce,null,[D("slot",i,n&&n())],64);let o=e[t];o&&o.length>1&&(Ae("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),o=()=>[]),o&&o._c&&(o._d=!1),p();const r=o&&J3(o(i)),a=i.key||r&&r.key,l=R(Ce,{key:(a&&!Ys(a)?a:`_${t}`)+(!r&&n?"_fb":"")},r||(n?n():[]),r&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function J3(e){return e.some(t=>wl(t)?!(t.type===wi||t.type===Ce&&!J3(t.children)):!0)?e:null}function Xc(e,t){const i={};if(!Rt(e))return Ae("v-on with no argument expects an object value."),i;for(const n in e)i[t&&/[A-Z]/.test(n)?`on:${n}`:Wr(n)]=e[n];return i}const hy=e=>e?b4(e)?Fm(e):hy(e.parent):null,rl=ci(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>Co(e.props),$attrs:e=>Co(e.attrs),$slots:e=>Co(e.slots),$refs:e=>Co(e.refs),$parent:e=>hy(e.parent),$root:e=>hy(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Q3(e),$forceUpdate:e=>e.f||(e.f=()=>{Vm(e.update)}),$nextTick:e=>e.n||(e.n=Dn.bind(e.proxy)),$watch:e=>S9.bind(e)}),Gv=e=>e==="_"||e==="$",z1=(e,t)=>e!==jt&&!e.__isScriptSetup&&Dt(e,t),Y3={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:n,data:s,props:o,accessCache:r,type:a,appContext:l}=e;if(t==="__isVue")return!0;let c;if(t[0]!=="$"){const g=r[t];if(g!==void 0)switch(g){case 1:return n[t];case 2:return s[t];case 4:return i[t];case 3:return o[t]}else{if(z1(n,t))return r[t]=1,n[t];if(s!==jt&&Dt(s,t))return r[t]=2,s[t];if((c=e.propsOptions[0])&&Dt(c,t))return r[t]=3,o[t];if(i!==jt&&Dt(i,t))return r[t]=4,i[t];fy&&(r[t]=0)}}const u=rl[t];let h,m;if(u)return t==="$attrs"?(Vi(e.attrs,"get",""),xp()):t==="$slots"&&Vi(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(i!==jt&&Dt(i,t))return r[t]=4,i[t];if(m=l.config.globalProperties,Dt(m,t))return m[t];gi&&(!ei(t)||t.indexOf("__v")!==0)&&(s!==jt&&Gv(t[0])&&Dt(s,t)?Ae(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===gi&&Ae(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,i){const{data:n,setupState:s,ctx:o}=e;return z1(s,t)?(s[t]=i,!0):s.__isScriptSetup&&Dt(s,t)?(Ae(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):n!==jt&&Dt(n,t)?(n[t]=i,!0):Dt(e.props,t)?(Ae(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(Ae(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(o,t,{enumerable:!0,configurable:!0,value:i}):o[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:s,propsOptions:o}},r){let a;return!!i[r]||e!==jt&&Dt(e,r)||z1(t,r)||(a=o[0])&&Dt(a,r)||Dt(n,r)||Dt(rl,r)||Dt(s.config.globalProperties,r)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:Dt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};Y3.ownKeys=e=>(Ae("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function UP(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(rl).forEach(i=>{Object.defineProperty(t,i,{configurable:!0,enumerable:!1,get:()=>rl[i](e),set:un})}),t}function WP(e){const{ctx:t,propsOptions:[i]}=e;i&&Object.keys(i).forEach(n=>{Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>e.props[n],set:un})})}function qP(e){const{ctx:t,setupState:i}=e;Object.keys(lt(i)).forEach(n=>{if(!i.__isScriptSetup){if(Gv(n[0])){Ae(`setup() return property ${JSON.stringify(n)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i[n],set:un})}})}function kp(){return Z3().slots}function KP(){return Z3().attrs}function Z3(){const e=ed();return e||Ae("useContext() called without active instance."),e.setupContext||(e.setupContext=v4(e))}function X2(e){return Fe(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function GP(){const e=Object.create(null);return(t,i)=>{e[i]?Ae(`${t} property "${i}" is already defined in ${e[i]}.`):e[i]=t}}let fy=!0;function JP(e){const t=Q3(e),i=e.proxy,n=e.ctx;fy=!1,t.beforeCreate&&Q2(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:m,beforeUpdate:g,updated:v,activated:_,deactivated:w,beforeDestroy:A,beforeUnmount:L,destroyed:N,unmounted:M,render:P,renderTracked:F,renderTriggered:K,errorCaptured:se,serverPrefetch:j,expose:V,inheritAttrs:z,components:Z,directives:le,filters:ie}=t,re=GP();{const[ee]=e.propsOptions;if(ee)for(const G in ee)re("Props",G)}if(c&&YP(c,n,re),r)for(const ee in r){const G=r[ee];et(G)?(Object.defineProperty(n,ee,{value:G.bind(i),configurable:!0,enumerable:!0,writable:!0}),re("Methods",ee)):Ae(`Method "${ee}" has type "${typeof G}" in the component definition. Did you reference the function correctly?`)}if(s){et(s)||Ae("The data option must be a function. Plain object usage is no longer supported.");const ee=s.call(i,i);if(Rv(ee)&&Ae("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Rt(ee))Ae("data() should return an object.");else{e.data=Rm(ee);for(const G in ee)re("Data",G),Gv(G[0])||Object.defineProperty(n,G,{configurable:!0,enumerable:!0,get:()=>ee[G],set:un})}}if(fy=!0,o)for(const ee in o){const G=o[ee],U=et(G)?G.bind(i,i):et(G.get)?G.get.bind(i,i):un;U===un&&Ae(`Computed property "${ee}" has no getter.`);const de=!et(G)&&et(G.set)?G.set.bind(i):()=>{Ae(`Write operation failed: computed property "${ee}" is readonly.`)},Se=st({get:U,set:de});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>Se.value,set:Te=>Se.value=Te}),re("Computed",ee)}if(a)for(const ee in a)X3(a[ee],n,i,ee);if(l){const ee=et(l)?l.call(i):l;Reflect.ownKeys(ee).forEach(G=>{i9(G,ee[G])})}u&&Q2(u,e,"c");function te(ee,G){Fe(G)?G.forEach(U=>ee(U.bind(i))):G&&ee(G.bind(i))}if(te(HP,h),te(ls,m),te(VP,g),te(K3,v),te(PP,_),te(DP,w),te(FP,se),te(BP,F),te(NP,K),te(vl,L),te(ku,M),te(zP,j),Fe(V))if(V.length){const ee=e.exposed||(e.exposed={});V.forEach(G=>{Object.defineProperty(ee,G,{get:()=>i[G],set:U=>i[G]=U})})}else e.exposed||(e.exposed={});P&&e.render===un&&(e.render=P),z!=null&&(e.inheritAttrs=z),Z&&(e.components=Z),le&&(e.directives=le),j&&W3(e)}function YP(e,t,i=un){Fe(e)&&(e=py(e));for(const n in e){const s=e[n];let o;Rt(s)?"default"in s?o=gr(s.from||n,s.default,!0):o=gr(s.from||n):o=gr(s),Yt(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o,i("Inject",n)}}function Q2(e,t,i){Qs(Fe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,i)}function X3(e,t,i,n){let s=n.includes(".")?d4(i,n):()=>i[n];if(ei(e)){const o=t[e];et(o)?ss(s,o):Ae(`Invalid watch handler specified by key "${e}"`,o)}else if(et(e))ss(s,e.bind(i));else if(Rt(e))if(Fe(e))e.forEach(o=>X3(o,t,i,n));else{const o=et(e.handler)?e.handler.bind(i):t[e.handler];et(o)?ss(s,o,e):Ae(`Invalid watch handler specified by key "${e.handler}"`,o)}else Ae(`Invalid watch option: "${n}"`,e)}function Q3(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!s.length&&!i&&!n?l=t:(l={},s.length&&s.forEach(c=>Ap(l,c,r,!0)),Ap(l,t,r)),Rt(t)&&o.set(t,l),l}function Ap(e,t,i,n=!1){const{mixins:s,extends:o}=t;o&&Ap(e,o,i,!0),s&&s.forEach(r=>Ap(e,r,i,!0));for(const r in t)if(n&&r==="expose")Ae('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=ZP[r]||i&&i[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const ZP={data:eC,props:tC,emits:tC,methods:Rd,computed:Rd,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:Rd,directives:Rd,watch:QP,provide:eC,inject:XP};function eC(e,t){return t?e?function(){return ci(et(e)?e.call(this,this):e,et(t)?t.call(this,this):t)}:t:e}function XP(e,t){return Rd(py(e),py(t))}function py(e){if(Fe(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function vn(e,t){return e?[...new Set([].concat(e,t))]:t}function Rd(e,t){return e?ci(Object.create(null),e,t):t}function tC(e,t){return e?Fe(e)&&Fe(t)?[...new Set([...e,...t])]:ci(Object.create(null),X2(e),X2(t??{})):t}function QP(e,t){if(!e)return t;if(!t)return e;const i=ci(Object.create(null),e);for(const n in t)i[n]=vn(e[n],t[n]);return i}function e4(){return{app:null,config:{isNativeTag:h7,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let e9=0;function t9(e,t){return function(n,s=null){et(n)||(n=ci({},n)),s!=null&&!Rt(s)&&(Ae("root props passed to app.mount() must be an object."),s=null);const o=e4(),r=new WeakSet,a=[];let l=!1;const c=o.app={_uid:e9++,_component:n,_props:s,_container:null,_context:o,_instance:null,version:hC,get config(){return o.config},set config(u){Ae("app.config cannot be replaced. Modify individual options instead.")},use(u,...h){return r.has(u)?Ae("Plugin has already been applied to target app."):u&&et(u.install)?(r.add(u),u.install(c,...h)):et(u)?(r.add(u),u(c,...h)):Ae('A plugin must either be a function or an object with an "install" function.'),c},mixin(u){return o.mixins.includes(u)?Ae("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):o.mixins.push(u),c},component(u,h){return _y(u,o.config),h?(o.components[u]&&Ae(`Component "${u}" has already been registered in target app.`),o.components[u]=h,c):o.components[u]},directive(u,h){return V3(u),h?(o.directives[u]&&Ae(`Directive "${u}" has already been registered in target app.`),o.directives[u]=h,c):o.directives[u]},mount(u,h,m){if(l)Ae("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&Ae("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const g=c._ceVNode||D(n,s);return g.appContext=o,m===!0?m="svg":m===!1&&(m=void 0),o.reload=()=>{const v=Io(g);v.el=null,e(v,u,m)},e(g,u,m),l=!0,c._container=u,u.__vue_app__=c,c._instance=g.component,CP(c,hC),Fm(g.component)}},onUnmount(u){typeof u!="function"&&Ae(`Expected function as first argument to app.onUnmount(), but got ${typeof u}`),a.push(u)},unmount(){l?(Qs(a,c._instance,16),e(null,c._container),c._instance=null,kP(c),delete c._container.__vue_app__):Ae("Cannot unmount an app that is not mounted.")},provide(u,h){return u in o.provides&&(Dt(o.provides,u)?Ae(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`):Ae(`App already provides property with key "${String(u)}" inherited from its parent element. It will be overwritten with the new value.`)),o.provides[u]=h,c},runWithContext(u){const h=al;al=c;try{return u()}finally{al=h}}};return c}}let al=null;function i9(e,t){if(!Mi)Ae("provide() can only be used inside setup().");else{let i=Mi.provides;const n=Mi.parent&&Mi.parent.provides;n===i&&(i=Mi.provides=Object.create(n)),i[e]=t}}function gr(e,t,i=!1){const n=Mi||gi;if(n||al){let s=al?al._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return i&&et(t)?t.call(n&&n.proxy):t;Ae(`injection "${String(e)}" not found.`)}else Ae("inject() can only be used inside setup() or functional components.")}function n9(){return!!(Mi||gi||al)}const t4={},i4=()=>Object.create(t4),n4=e=>Object.getPrototypeOf(e)===t4;function s9(e,t,i,n=!1){const s={},o=i4();e.propsDefaults=Object.create(null),s4(e,t,s,o);for(const r in e.propsOptions[0])r in s||(s[r]=void 0);r4(t||{},s,e),i?e.props=n?s:X7(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function o9(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function r9(e,t,i,n){const{props:s,attrs:o,vnode:{patchFlag:r}}=e,a=lt(s),[l]=e.propsOptions;let c=!1;if(!o9(e)&&(n||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let m=u[h];if(Bm(e.emitsOptions,m))continue;const g=t[m];if(l)if(Dt(o,m))g!==o[m]&&(o[m]=g,c=!0);else{const v=Cn(m);s[v]=my(l,a,v,g,e,!1)}else g!==o[m]&&(o[m]=g,c=!0)}}}else{s4(e,t,s,o)&&(c=!0);let u;for(const h in a)(!t||!Dt(t,h)&&((u=_r(h))===h||!Dt(t,u)))&&(l?i&&(i[h]!==void 0||i[u]!==void 0)&&(s[h]=my(l,a,h,void 0,e,!0)):delete s[h]);if(o!==a)for(const h in o)(!t||!Dt(t,h))&&(delete o[h],c=!0)}c&&yo(e.attrs,"set",""),r4(t||{},s,e)}function s4(e,t,i,n){const[s,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(qd(l))continue;const c=t[l];let u;s&&Dt(s,u=Cn(l))?!o||!o.includes(u)?i[u]=c:(a||(a={}))[u]=c:Bm(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(o){const l=lt(i),c=a||jt;for(let u=0;u<o.length;u++){const h=o[u];i[h]=my(s,l,h,c[h],e,!Dt(c,h))}}return r}function my(e,t,i,n,s,o){const r=e[i];if(r!=null){const a=Dt(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&et(l)){const{propsDefaults:c}=s;if(i in c)n=c[i];else{const u=th(s);n=c[i]=l.call(null,t),u()}}else n=l;s.ce&&s.ce._setProp(i,n)}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===_r(i))&&(n=!0))}return n}const a9=new WeakMap;function o4(e,t,i=!1){const n=i?a9:t.propsCache,s=n.get(e);if(s)return s;const o=e.props,r={},a=[];let l=!1;if(!et(e)){const u=h=>{l=!0;const[m,g]=o4(h,t,!0);ci(r,m),g&&a.push(...g)};!i&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Rt(e)&&n.set(e,Cc),Cc;if(Fe(o))for(let u=0;u<o.length;u++){ei(o[u])||Ae("props must be strings when using array syntax.",o[u]);const h=Cn(o[u]);iC(h)&&(r[h]=jt)}else if(o){Rt(o)||Ae("invalid props options",o);for(const u in o){const h=Cn(u);if(iC(h)){const m=o[u],g=r[h]=Fe(m)||et(m)?{type:m}:ci({},m),v=g.type;let _=!1,w=!0;if(Fe(v))for(let A=0;A<v.length;++A){const L=v[A],N=et(L)&&L.name;if(N==="Boolean"){_=!0;break}else N==="String"&&(w=!1)}else _=et(v)&&v.name==="Boolean";g[0]=_,g[1]=w,(_||Dt(g,"default"))&&a.push(h)}}}const c=[r,a];return Rt(e)&&n.set(e,c),c}function iC(e){return e[0]!=="$"&&!qd(e)?!0:(Ae(`Invalid prop name: "${e}" is a reserved property.`),!1)}function l9(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function r4(e,t,i){const n=lt(t),s=i.propsOptions[0],o=Object.keys(e).map(r=>Cn(r));for(const r in s){let a=s[r];a!=null&&c9(r,n[r],a,Co(n),!o.includes(r))}}function c9(e,t,i,n,s){const{type:o,required:r,validator:a,skipCheck:l}=i;if(r&&s){Ae('Missing required prop: "'+e+'"');return}if(!(t==null&&!r)){if(o!=null&&o!==!0&&!l){let c=!1;const u=Fe(o)?o:[o],h=[];for(let m=0;m<u.length&&!c;m++){const{valid:g,expectedType:v}=u9(t,u[m]);h.push(v||""),c=g}if(!c){Ae(h9(e,t,h));return}}a&&!a(t,n)&&Ae('Invalid prop: custom validator check failed for prop "'+e+'".')}}const d9=Ar("String,Number,Boolean,Function,Symbol,BigInt");function u9(e,t){let i;const n=l9(t);if(n==="null")i=e===null;else if(d9(n)){const s=typeof e;i=s===n.toLowerCase(),!i&&s==="object"&&(i=e instanceof t)}else n==="Object"?i=Rt(e):n==="Array"?i=Fe(e):i=e instanceof t;return{valid:i,expectedType:n}}function h9(e,t,i){if(i.length===0)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let n=`Invalid prop: type check failed for prop "${e}". Expected ${i.map(ml).join(" | ")}`;const s=i[0],o=Hv(t),r=nC(t,s),a=nC(t,o);return i.length===1&&sC(s)&&!f9(s,o)&&(n+=` with value ${r}`),n+=`, got ${o} `,sC(o)&&(n+=`with value ${a}.`),n}function nC(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function sC(e){return["string","number","boolean"].some(i=>e.toLowerCase()===i)}function f9(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Jv=e=>e[0]==="_"||e==="$stable",Yv=e=>Fe(e)?e.map(Ws):[Ws(e)],p9=(e,t,i)=>{if(t._n)return t;const n=Q((...s)=>(Mi&&!(i===null&&gi)&&!(i&&i.root!==Mi.root)&&Ae(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Yv(t(...s))),i);return n._c=!1,n},a4=(e,t,i)=>{const n=e._ctx;for(const s in e){if(Jv(s))continue;const o=e[s];if(et(o))t[s]=p9(s,o,n);else if(o!=null){Ae(`Non-function value encountered for slot "${s}". Prefer function slots for better performance.`);const r=Yv(o);t[s]=()=>r}}},l4=(e,t)=>{eh(e.vnode)||Ae("Non-function value encountered for default slot. Prefer function slots for better performance.");const i=Yv(t);e.slots.default=()=>i},gy=(e,t,i)=>{for(const n in t)(i||!Jv(n))&&(e[n]=t[n])},m9=(e,t,i)=>{const n=e.slots=i4();if(e.vnode.shapeFlag&32){const s=t.__;s&&bu(n,"__",s,!0);const o=t._;o?(gy(n,t,i),i&&bu(n,"_",o,!0)):a4(t,n)}else t&&l4(e,t)},g9=(e,t,i)=>{const{vnode:n,slots:s}=e;let o=!0,r=jt;if(n.shapeFlag&32){const a=t._;a?ko?(gy(s,t,i),yo(e,"set","$slots")):i&&a===1?o=!1:gy(s,t,i):(o=!t.$stable,a4(t,s)),r=t}else t&&(l4(e,t),r={default:1});if(o)for(const a in s)!Jv(a)&&r[a]==null&&delete s[a]};let xd,Qr;function Ql(e,t){e.appContext.config.performance&&Sp()&&Qr.mark(`vue-${t}-${e.uid}`),MP(e,t,Sp()?Qr.now():Date.now())}function ec(e,t){if(e.appContext.config.performance&&Sp()){const i=`vue-${t}-${e.uid}`,n=i+":end";Qr.mark(n),Qr.measure(`<${jm(e,e.type)}> ${t}`,i,n),Qr.clearMarks(i),Qr.clearMarks(n)}TP(e,t,Sp()?Qr.now():Date.now())}function Sp(){return xd!==void 0||(typeof window<"u"&&window.performance?(xd=!0,Qr=window.performance):xd=!1),xd}function b9(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Zn=$9;function y9(e){return v9(e)}function v9(e,t){b9();const i=Zu();i.__VUE__=!0,P3(i.__VUE_DEVTOOLS_GLOBAL_HOOK__,i);const{insert:n,remove:s,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:m,setScopeId:g=un,insertStaticContent:v}=e,_=(H,W,oe,ve=null,he=null,ge=null,Me=void 0,we=null,be=ko?!1:!!W.dynamicChildren)=>{if(H===W)return;H&&!Ya(H,W)&&(ve=ht(H),Ne(H,he,ge,!0),H=null),W.patchFlag===-2&&(be=!1,W.dynamicChildren=null);const{type:ye,ref:Ve,shapeFlag:xe}=W;switch(ye){case Qc:w(H,W,oe,ve);break;case wi:A(H,W,oe,ve);break;case Yd:H==null?L(W,oe,ve,Me):N(H,W,oe,Me);break;case Ce:le(H,W,oe,ve,he,ge,Me,we,be);break;default:xe&1?F(H,W,oe,ve,he,ge,Me,we,be):xe&6?ie(H,W,oe,ve,he,ge,Me,we,be):xe&64||xe&128?ye.process(H,W,oe,ve,he,ge,Me,we,be,zt):Ae("Invalid VNode type:",ye,`(${typeof ye})`)}Ve!=null&&he?Jd(Ve,H&&H.ref,ge,W||H,!W):Ve==null&&H&&H.ref!=null&&Jd(H.ref,null,ge,H,!0)},w=(H,W,oe,ve)=>{if(H==null)n(W.el=a(W.children),oe,ve);else{const he=W.el=H.el;W.children!==H.children&&c(he,W.children)}},A=(H,W,oe,ve)=>{H==null?n(W.el=l(W.children||""),oe,ve):W.el=H.el},L=(H,W,oe,ve)=>{[H.el,H.anchor]=v(H.children,W,oe,ve,H.el,H.anchor)},N=(H,W,oe,ve)=>{if(W.children!==H.children){const he=m(H.anchor);P(H),[W.el,W.anchor]=v(W.children,oe,he,ve)}else W.el=H.el,W.anchor=H.anchor},M=({el:H,anchor:W},oe,ve)=>{let he;for(;H&&H!==W;)he=m(H),n(H,oe,ve),H=he;n(W,oe,ve)},P=({el:H,anchor:W})=>{let oe;for(;H&&H!==W;)oe=m(H),s(H),H=oe;s(W)},F=(H,W,oe,ve,he,ge,Me,we,be)=>{W.type==="svg"?Me="svg":W.type==="math"&&(Me="mathml"),H==null?K(W,oe,ve,he,ge,Me,we,be):V(H,W,he,ge,Me,we,be)},K=(H,W,oe,ve,he,ge,Me,we)=>{let be,ye;const{props:Ve,shapeFlag:xe,transition:ze,dirs:Ze}=H;if(be=H.el=r(H.type,ge,Ve&&Ve.is,Ve),xe&8?u(be,H.children):xe&16&&j(H.children,be,null,ve,he,N1(H,ge),Me,we),Ze&&Na(H,null,ve,"created"),se(be,H,H.scopeId,Me,ve),Ve){for(const kt in Ve)kt!=="value"&&!qd(kt)&&o(be,kt,null,Ve[kt],ge,ve);"value"in Ve&&o(be,"value",null,Ve.value,ge),(ye=Ve.onVnodeBeforeMount)&&lo(ye,ve,H)}bu(be,"__vnode",H,!0),bu(be,"__vueParentComponent",ve,!0),Ze&&Na(H,null,ve,"beforeMount");const ct=_9(he,ze);ct&&ze.beforeEnter(be),n(be,W,oe),((ye=Ve&&Ve.onVnodeMounted)||ct||Ze)&&Zn(()=>{ye&&lo(ye,ve,H),ct&&ze.enter(be),Ze&&Na(H,null,ve,"mounted")},he)},se=(H,W,oe,ve,he)=>{if(oe&&g(H,oe),ve)for(let ge=0;ge<ve.length;ge++)g(H,ve[ge]);if(he){let ge=he.subTree;if(ge.patchFlag>0&&ge.patchFlag&2048&&(ge=Xv(ge.children)||ge),W===ge||f4(ge.type)&&(ge.ssContent===W||ge.ssFallback===W)){const Me=he.vnode;se(H,Me,Me.scopeId,Me.slotScopeIds,he.parent)}}},j=(H,W,oe,ve,he,ge,Me,we,be=0)=>{for(let ye=be;ye<H.length;ye++){const Ve=H[ye]=we?Gr(H[ye]):Ws(H[ye]);_(null,Ve,W,oe,ve,he,ge,Me,we)}},V=(H,W,oe,ve,he,ge,Me)=>{const we=W.el=H.el;we.__vnode=W;let{patchFlag:be,dynamicChildren:ye,dirs:Ve}=W;be|=H.patchFlag&16;const xe=H.props||jt,ze=W.props||jt;let Ze;if(oe&&Ba(oe,!1),(Ze=ze.onVnodeBeforeUpdate)&&lo(Ze,oe,W,H),Ve&&Na(W,H,oe,"beforeUpdate"),oe&&Ba(oe,!0),ko&&(be=0,Me=!1,ye=null),(xe.innerHTML&&ze.innerHTML==null||xe.textContent&&ze.textContent==null)&&u(we,""),ye?(z(H.dynamicChildren,ye,we,oe,ve,N1(W,he),ge),by(H,W)):Me||U(H,W,we,null,oe,ve,N1(W,he),ge,!1),be>0){if(be&16)Z(we,xe,ze,oe,he);else if(be&2&&xe.class!==ze.class&&o(we,"class",null,ze.class,he),be&4&&o(we,"style",xe.style,ze.style,he),be&8){const ct=W.dynamicProps;for(let kt=0;kt<ct.length;kt++){const It=ct[kt],Ci=xe[It],ki=ze[It];(ki!==Ci||It==="value")&&o(we,It,Ci,ki,he,oe)}}be&1&&H.children!==W.children&&u(we,W.children)}else!Me&&ye==null&&Z(we,xe,ze,oe,he);((Ze=ze.onVnodeUpdated)||Ve)&&Zn(()=>{Ze&&lo(Ze,oe,W,H),Ve&&Na(W,H,oe,"updated")},ve)},z=(H,W,oe,ve,he,ge,Me)=>{for(let we=0;we<W.length;we++){const be=H[we],ye=W[we],Ve=be.el&&(be.type===Ce||!Ya(be,ye)||be.shapeFlag&198)?h(be.el):oe;_(be,ye,Ve,null,ve,he,ge,Me,!0)}},Z=(H,W,oe,ve,he)=>{if(W!==oe){if(W!==jt)for(const ge in W)!qd(ge)&&!(ge in oe)&&o(H,ge,W[ge],null,he,ve);for(const ge in oe){if(qd(ge))continue;const Me=oe[ge],we=W[ge];Me!==we&&ge!=="value"&&o(H,ge,we,Me,he,ve)}"value"in oe&&o(H,"value",W.value,oe.value,he)}},le=(H,W,oe,ve,he,ge,Me,we,be)=>{const ye=W.el=H?H.el:a(""),Ve=W.anchor=H?H.anchor:a("");let{patchFlag:xe,dynamicChildren:ze,slotScopeIds:Ze}=W;(ko||xe&2048)&&(xe=0,be=!1,ze=null),Ze&&(we=we?we.concat(Ze):Ze),H==null?(n(ye,oe,ve),n(Ve,oe,ve),j(W.children||[],oe,Ve,he,ge,Me,we,be)):xe>0&&xe&64&&ze&&H.dynamicChildren?(z(H.dynamicChildren,ze,oe,he,ge,Me,we),by(H,W)):U(H,W,oe,Ve,he,ge,Me,we,be)},ie=(H,W,oe,ve,he,ge,Me,we,be)=>{W.slotScopeIds=we,H==null?W.shapeFlag&512?he.ctx.activate(W,oe,ve,Me,be):re(W,oe,ve,he,ge,Me,be):te(H,W,be)},re=(H,W,oe,ve,he,ge,Me)=>{const we=H.component=z9(H,ve,he);if(we.type.__hmrId&&yP(we),jf(H),Ql(we,"mount"),eh(H)&&(we.ctx.renderer=zt),Ql(we,"init"),B9(we,!1,Me),ec(we,"init"),ko&&(H.el=null),we.asyncDep){if(he&&he.registerDep(we,ee,Me),!H.el){const be=we.subTree=D(wi);A(null,be,W,oe)}}else ee(we,H,W,oe,he,ge,Me);Uf(),ec(we,"mount")},te=(H,W,oe)=>{const ve=W.component=H.component;if(E9(H,W,oe))if(ve.asyncDep&&!ve.asyncResolved){jf(W),G(ve,W,oe),Uf();return}else ve.next=W,ve.update();else W.el=H.el,ve.vnode=W},ee=(H,W,oe,ve,he,ge,Me)=>{const we=()=>{if(H.isMounted){let{next:xe,bu:ze,u:Ze,parent:ct,vnode:kt}=H;{const sn=c4(H);if(sn){xe&&(xe.el=kt.el,G(H,xe,Me)),sn.asyncDep.then(()=>{H.isUnmounted||we()});return}}let It=xe,Ci;jf(xe||H.vnode),Ba(H,!1),xe?(xe.el=kt.el,G(H,xe,Me)):xe=kt,ze&&uc(ze),(Ci=xe.props&&xe.props.onVnodeBeforeUpdate)&&lo(Ci,ct,xe,kt),Ba(H,!0),Ql(H,"render");const ki=rC(H);ec(H,"render");const nn=H.subTree;H.subTree=ki,Ql(H,"patch"),_(nn,ki,h(nn.el),ht(nn),H,he,ge),ec(H,"patch"),xe.el=ki.el,It===null&&I9(H,ki.el),Ze&&Zn(Ze,he),(Ci=xe.props&&xe.props.onVnodeUpdated)&&Zn(()=>lo(Ci,ct,xe,kt),he),D3(H),Uf()}else{let xe;const{el:ze,props:Ze}=W,{bm:ct,m:kt,parent:It,root:Ci,type:ki}=H,nn=Ac(W);Ba(H,!1),ct&&uc(ct),!nn&&(xe=Ze&&Ze.onVnodeBeforeMount)&&lo(xe,It,W),Ba(H,!0);{Ci.ce&&Ci.ce._def.shadowRoot!==!1&&Ci.ce._injectChildStyle(ki),Ql(H,"render");const sn=H.subTree=rC(H);ec(H,"render"),Ql(H,"patch"),_(null,sn,oe,ve,H,he,ge),ec(H,"patch"),W.el=sn.el}if(kt&&Zn(kt,he),!nn&&(xe=Ze&&Ze.onVnodeMounted)){const sn=W;Zn(()=>lo(xe,It,sn),he)}(W.shapeFlag&256||It&&Ac(It.vnode)&&It.vnode.shapeFlag&256)&&H.a&&Zn(H.a,he),H.isMounted=!0,AP(H),W=oe=ve=null}};H.scope.on();const be=H.effect=new l3(we);H.scope.off();const ye=H.update=be.run.bind(be),Ve=H.job=be.runIfDirty.bind(be);Ve.i=H,Ve.id=H.uid,be.scheduler=()=>Vm(Ve),Ba(H,!0),be.onTrack=H.rtc?xe=>uc(H.rtc,xe):void 0,be.onTrigger=H.rtg?xe=>uc(H.rtg,xe):void 0,ye()},G=(H,W,oe)=>{W.component=H;const ve=H.vnode.props;H.vnode=W,H.next=null,r9(H,W.props,ve,oe),g9(H,W.children,oe),Zs(),G2(H),Xs()},U=(H,W,oe,ve,he,ge,Me,we,be=!1)=>{const ye=H&&H.children,Ve=H?H.shapeFlag:0,xe=W.children,{patchFlag:ze,shapeFlag:Ze}=W;if(ze>0){if(ze&128){Se(ye,xe,oe,ve,he,ge,Me,we,be);return}else if(ze&256){de(ye,xe,oe,ve,he,ge,Me,we,be);return}}Ze&8?(Ve&16&&We(ye,he,ge),xe!==ye&&u(oe,xe)):Ve&16?Ze&16?Se(ye,xe,oe,ve,he,ge,Me,we,be):We(ye,he,ge,!0):(Ve&8&&u(oe,""),Ze&16&&j(xe,oe,ve,he,ge,Me,we,be))},de=(H,W,oe,ve,he,ge,Me,we,be)=>{H=H||Cc,W=W||Cc;const ye=H.length,Ve=W.length,xe=Math.min(ye,Ve);let ze;for(ze=0;ze<xe;ze++){const Ze=W[ze]=be?Gr(W[ze]):Ws(W[ze]);_(H[ze],Ze,oe,null,he,ge,Me,we,be)}ye>Ve?We(H,he,ge,!0,!1,xe):j(W,oe,ve,he,ge,Me,we,be,xe)},Se=(H,W,oe,ve,he,ge,Me,we,be)=>{let ye=0;const Ve=W.length;let xe=H.length-1,ze=Ve-1;for(;ye<=xe&&ye<=ze;){const Ze=H[ye],ct=W[ye]=be?Gr(W[ye]):Ws(W[ye]);if(Ya(Ze,ct))_(Ze,ct,oe,null,he,ge,Me,we,be);else break;ye++}for(;ye<=xe&&ye<=ze;){const Ze=H[xe],ct=W[ze]=be?Gr(W[ze]):Ws(W[ze]);if(Ya(Ze,ct))_(Ze,ct,oe,null,he,ge,Me,we,be);else break;xe--,ze--}if(ye>xe){if(ye<=ze){const Ze=ze+1,ct=Ze<Ve?W[Ze].el:ve;for(;ye<=ze;)_(null,W[ye]=be?Gr(W[ye]):Ws(W[ye]),oe,ct,he,ge,Me,we,be),ye++}}else if(ye>ze)for(;ye<=xe;)Ne(H[ye],he,ge,!0),ye++;else{const Ze=ye,ct=ye,kt=new Map;for(ye=ct;ye<=ze;ye++){const De=W[ye]=be?Gr(W[ye]):Ws(W[ye]);De.key!=null&&(kt.has(De.key)&&Ae("Duplicate keys found during update:",JSON.stringify(De.key),"Make sure keys are unique."),kt.set(De.key,ye))}let It,Ci=0;const ki=ze-ct+1;let nn=!1,sn=0;const ce=new Array(ki);for(ye=0;ye<ki;ye++)ce[ye]=0;for(ye=Ze;ye<=xe;ye++){const De=H[ye];if(Ci>=ki){Ne(De,he,ge,!0);continue}let ft;if(De.key!=null)ft=kt.get(De.key);else for(It=ct;It<=ze;It++)if(ce[It-ct]===0&&Ya(De,W[It])){ft=It;break}ft===void 0?Ne(De,he,ge,!0):(ce[ft-ct]=ye+1,ft>=sn?sn=ft:nn=!0,_(De,W[ft],oe,null,he,ge,Me,we,be),Ci++)}const Pe=nn?w9(ce):Cc;for(It=Pe.length-1,ye=ki-1;ye>=0;ye--){const De=ct+ye,ft=W[De],St=De+1<Ve?W[De+1].el:ve;ce[ye]===0?_(null,ft,oe,St,he,ge,Me,we,be):nn&&(It<0||ye!==Pe[It]?Te(ft,oe,St,2):It--)}}},Te=(H,W,oe,ve,he=null)=>{const{el:ge,type:Me,transition:we,children:be,shapeFlag:ye}=H;if(ye&6){Te(H.component.subTree,W,oe,ve);return}if(ye&128){H.suspense.move(W,oe,ve);return}if(ye&64){Me.move(H,W,oe,zt);return}if(Me===Ce){n(ge,W,oe);for(let xe=0;xe<be.length;xe++)Te(be[xe],W,oe,ve);n(H.anchor,W,oe);return}if(Me===Yd){M(H,W,oe);return}if(ve!==2&&ye&1&&we)if(ve===0)we.beforeEnter(ge),n(ge,W,oe),Zn(()=>we.enter(ge),he);else{const{leave:xe,delayLeave:ze,afterLeave:Ze}=we,ct=()=>{H.ctx.isUnmounted?s(ge):n(ge,W,oe)},kt=()=>{xe(ge,()=>{ct(),Ze&&Ze()})};ze?ze(ge,ct,kt):kt()}else n(ge,W,oe)},Ne=(H,W,oe,ve=!1,he=!1)=>{const{type:ge,props:Me,ref:we,children:be,dynamicChildren:ye,shapeFlag:Ve,patchFlag:xe,dirs:ze,cacheIndex:Ze}=H;if(xe===-2&&(he=!1),we!=null&&(Zs(),Jd(we,null,oe,H,!0),Xs()),Ze!=null&&(W.renderCache[Ze]=void 0),Ve&256){W.ctx.deactivate(H);return}const ct=Ve&1&&ze,kt=!Ac(H);let It;if(kt&&(It=Me&&Me.onVnodeBeforeUnmount)&&lo(It,W,H),Ve&6)Le(H.component,oe,ve);else{if(Ve&128){H.suspense.unmount(oe,ve);return}ct&&Na(H,null,W,"beforeUnmount"),Ve&64?H.type.remove(H,W,oe,zt,ve):ye&&!ye.hasOnce&&(ge!==Ce||xe>0&&xe&64)?We(ye,W,oe,!1,!0):(ge===Ce&&xe&384||!he&&Ve&16)&&We(be,W,oe),ve&&Ue(H)}(kt&&(It=Me&&Me.onVnodeUnmounted)||ct)&&Zn(()=>{It&&lo(It,W,H),ct&&Na(H,null,W,"unmounted")},oe)},Ue=H=>{const{type:W,el:oe,anchor:ve,transition:he}=H;if(W===Ce){H.patchFlag>0&&H.patchFlag&2048&&he&&!he.persisted?H.children.forEach(Me=>{Me.type===wi?s(Me.el):Ue(Me)}):gt(oe,ve);return}if(W===Yd){P(H);return}const ge=()=>{s(oe),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(H.shapeFlag&1&&he&&!he.persisted){const{leave:Me,delayLeave:we}=he,be=()=>Me(oe,ge);we?we(H.el,ge,be):be()}else ge()},gt=(H,W)=>{let oe;for(;H!==W;)oe=m(H),s(H),H=oe;s(W)},Le=(H,W,oe)=>{H.type.__hmrId&&vP(H);const{bum:ve,scope:he,job:ge,subTree:Me,um:we,m:be,a:ye,parent:Ve,slots:{__:xe}}=H;oC(be),oC(ye),ve&&uc(ve),Ve&&Fe(xe)&&xe.forEach(ze=>{Ve.renderCache[ze]=void 0}),he.stop(),ge&&(ge.flags|=8,Ne(Me,H,W,oe)),we&&Zn(we,W),Zn(()=>{H.isUnmounted=!0},W),W&&W.pendingBranch&&!W.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===W.pendingId&&(W.deps--,W.deps===0&&W.resolve()),xP(H)},We=(H,W,oe,ve=!1,he=!1,ge=0)=>{for(let Me=ge;Me<H.length;Me++)Ne(H[Me],W,oe,ve,he)},ht=H=>{if(H.shapeFlag&6)return ht(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const W=m(H.anchor||H.el),oe=W&&W[EP];return oe?m(oe):W};let Pt=!1;const Tt=(H,W,oe)=>{H==null?W._vnode&&Ne(W._vnode,null,null,!0):_(W._vnode||null,H,W,null,null,null,oe),W._vnode=H,Pt||(Pt=!0,G2(),I3(),Pt=!1)},zt={p:_,um:Ne,m:Te,r:Ue,mt:re,mc:j,pc:U,pbc:z,n:ht,o:e};return{render:Tt,hydrate:void 0,createApp:t9(Tt)}}function N1({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function Ba({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function _9(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function by(e,t,i=!1){const n=e.children,s=t.children;if(Fe(n)&&Fe(s))for(let o=0;o<n.length;o++){const r=n[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=Gr(s[o]),a.el=r.el),!i&&a.patchFlag!==-2&&by(r,a)),a.type===Qc&&(a.el=r.el),a.type===wi&&!a.el&&(a.el=r.el),a.el&&(a.el.__vnode=a)}}function w9(e){const t=e.slice(),i=[0];let n,s,o,r,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(s=i[i.length-1],e[s]<c){t[n]=s,i.push(n);continue}for(o=0,r=i.length-1;o<r;)a=o+r>>1,e[i[a]]<c?o=a+1:r=a;c<e[i[o]]&&(o>0&&(t[n]=i[o-1]),i[o]=n)}}for(o=i.length,r=i[o-1];o-- >0;)i[o]=r,r=t[r];return i}function c4(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:c4(t)}function oC(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const C9=Symbol.for("v-scx"),k9=()=>{{const e=gr(C9);return e||Ae("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function A9(e,t){return Zv(e,null,t)}function ss(e,t,i){return et(t)||Ae("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Zv(e,t,i)}function Zv(e,t,i=jt){const{immediate:n,deep:s,flush:o,once:r}=i;t||(n!==void 0&&Ae('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&Ae('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&Ae('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=ci({},i);a.onWarn=Ae;const l=t&&n||!t&&o!=="post";let c;if(Su){if(o==="sync"){const g=k9();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=un,g.resume=un,g.pause=un,g}}const u=Mi;a.call=(g,v,_)=>Qs(g,u,v,_);let h=!1;o==="post"?a.scheduler=g=>{Zn(g,u&&u.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(g,v)=>{v?g():Vm(g)}),a.augmentJob=g=>{t&&(g.flags|=4),h&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const m=cP(e,t,a);return Su&&(c?c.push(m):l&&m()),m}function S9(e,t,i){const n=this.proxy,s=ei(e)?e.includes(".")?d4(n,e):()=>n[e]:e.bind(n,n);let o;et(t)?o=t:(o=t.handler,i=t);const r=th(this),a=Zv(s,o.bind(n),i);return r(),a}function d4(e,t){const i=t.split(".");return()=>{let n=e;for(let s=0;s<i.length&&n;s++)n=n[i[s]];return n}}const x9=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Cn(t)}Modifiers`]||e[`${_r(t)}Modifiers`];function M9(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||jt;{const{emitsOptions:u,propsOptions:[h]}=e;if(u)if(!(t in u))(!h||!(Wr(Cn(t))in h))&&Ae(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${Wr(Cn(t))}" prop.`);else{const m=u[t];et(m)&&(m(...i)||Ae(`Invalid event arguments: event validation failed for event "${t}".`))}}let s=i;const o=t.startsWith("update:"),r=o&&x9(n,t.slice(7));r&&(r.trim&&(s=i.map(u=>ei(u)?u.trim():u)),r.number&&(s=i.map(mp))),OP(e,t,s);{const u=t.toLowerCase();u!==t&&n[Wr(u)]&&Ae(`Event "${u}" is emitted in component ${jm(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${_r(t)}" instead of "${t}".`)}let a,l=n[a=Wr(t)]||n[a=Wr(Cn(t))];!l&&o&&(l=n[a=Wr(_r(t))]),l&&Qs(l,e,6,s);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Qs(c,e,6,s)}}function u4(e,t,i=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const o=e.emits;let r={},a=!1;if(!et(e)){const l=c=>{const u=u4(c,t,!0);u&&(a=!0,ci(r,u))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Rt(e)&&n.set(e,null),null):(Fe(o)?o.forEach(l=>r[l]=null):ci(r,o),Rt(e)&&n.set(e,r),r)}function Bm(e,t){return!e||!Ju(t)?!1:(t=t.slice(2).replace(/Once$/,""),Dt(e,t[0].toLowerCase()+t.slice(1))||Dt(e,_r(t))||Dt(e,t))}let yy=!1;function xp(){yy=!0}function rC(e){const{type:t,vnode:i,proxy:n,withProxy:s,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:u,props:h,data:m,setupState:g,ctx:v,inheritAttrs:_}=e,w=wp(e);let A,L;yy=!1;try{if(i.shapeFlag&4){const P=s||n,F=g.__isScriptSetup?new Proxy(P,{get(K,se,j){return Ae(`Property '${String(se)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(K,se,j)}}):P;A=Ws(c.call(F,P,u,Co(h),g,m,v)),L=a}else{const P=t;a===h&&xp(),A=Ws(P.length>1?P(Co(h),{get attrs(){return xp(),Co(a)},slots:r,emit:l}):P(Co(h),null)),L=t.props?a:T9(a)}}catch(P){Zd.length=0,Xu(P,e,1),A=D(wi)}let N=A,M;if(A.patchFlag>0&&A.patchFlag&2048&&([N,M]=h4(A)),L&&_!==!1){const P=Object.keys(L),{shapeFlag:F}=N;if(P.length){if(F&7)o&&P.some(pp)&&(L=O9(L,o)),N=Io(N,L,!1,!0);else if(!yy&&N.type!==wi){const K=Object.keys(a),se=[],j=[];for(let V=0,z=K.length;V<z;V++){const Z=K[V];Ju(Z)?pp(Z)||se.push(Z[2].toLowerCase()+Z.slice(3)):j.push(Z)}j.length&&Ae(`Extraneous non-props attributes (${j.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),se.length&&Ae(`Extraneous non-emits event listeners (${se.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return i.dirs&&(aC(N)||Ae("Runtime directive used on component with non-element root node. The directives will not function as intended."),N=Io(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(i.dirs):i.dirs),i.transition&&(aC(N)||Ae("Component inside <Transition> renders non-element root node that cannot be animated."),yl(N,i.transition)),M?M(N):A=N,wp(w),A}const h4=e=>{const t=e.children,i=e.dynamicChildren,n=Xv(t,!1);if(n){if(n.patchFlag>0&&n.patchFlag&2048)return h4(n)}else return[e,void 0];const s=t.indexOf(n),o=i?i.indexOf(n):-1,r=a=>{t[s]=a,i&&(o>-1?i[o]=a:a.patchFlag>0&&(e.dynamicChildren=[...i,a]))};return[Ws(n),r]};function Xv(e,t=!0){let i;for(let n=0;n<e.length;n++){const s=e[n];if(wl(s)){if(s.type!==wi||s.children==="v-if"){if(i)return;if(i=s,t&&i.patchFlag>0&&i.patchFlag&2048)return Xv(i.children)}}else return}return i}const T9=e=>{let t;for(const i in e)(i==="class"||i==="style"||Ju(i))&&((t||(t={}))[i]=e[i]);return t},O9=(e,t)=>{const i={};for(const n in e)(!pp(n)||!(n.slice(9)in t))&&(i[n]=e[n]);return i},aC=e=>e.shapeFlag&7||e.type===wi;function E9(e,t,i){const{props:n,children:s,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if((s||a)&&ko||t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return n?lC(n,r,c):!!r;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const m=u[h];if(r[m]!==n[m]&&!Bm(c,m))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?lC(n,r,c):!0:!!r;return!1}function lC(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const o=n[s];if(t[o]!==e[o]&&!Bm(i,o))return!0}return!1}function I9({vnode:e,parent:t},i){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=i,t=t.parent;else break}}const f4=e=>e.__isSuspense;function $9(e,t){t&&t.pendingBranch?Fe(e)?t.effects.push(...e):t.effects.push(e):E3(e)}const Ce=Symbol.for("v-fgt"),Qc=Symbol.for("v-txt"),wi=Symbol.for("v-cmt"),Yd=Symbol.for("v-stc"),Zd=[];let is=null;function p(e=!1){Zd.push(is=e?null:[])}function L9(){Zd.pop(),is=Zd[Zd.length-1]||null}let Au=1;function cC(e,t=!1){Au+=e,e<0&&is&&t&&(is.hasOnce=!0)}function p4(e){return e.dynamicChildren=Au>0?is||Cc:null,L9(),Au>0&&is&&is.push(e),e}function y(e,t,i,n,s,o){return p4(k(e,t,i,n,s,o,!0))}function R(e,t,i,n,s){return p4(D(e,t,i,n,s,!0))}function wl(e){return e?e.__v_isVNode===!0:!1}function Ya(e,t){if(t.shapeFlag&6&&e.component){const i=Wf.get(t.type);if(i&&i.has(e.component))return e.shapeFlag&=-257,t.shapeFlag&=-513,!1}return e.type===t.type&&e.key===t.key}const P9=(...e)=>D9(...e),m4=({key:e})=>e??null,qf=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?ei(e)||Yt(e)||et(e)?{i:gi,r:e,k:t,f:!!i}:e:null);function k(e,t=null,i=null,n=0,s=null,o=e===Ce?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&m4(t),ref:t&&qf(t),scopeId:H3,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:gi};return a?(Qv(l,i),o&128&&e.normalize(l)):i&&(l.shapeFlag|=ei(i)?8:16),l.key!==l.key&&Ae("VNode created with invalid key (NaN). VNode type:",l.type),Au>0&&!r&&is&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&is.push(l),l}const D=P9;function D9(e,t=null,i=null,n=0,s=null,o=!1){if((!e||e===G3)&&(e||Ae(`Invalid vnode type when creating vnode: ${e}.`),e=wi),wl(e)){const a=Io(e,t,!0);return i&&Qv(a,i),Au>0&&!o&&is&&(a.shapeFlag&6?is[is.indexOf(e)]=a:is.push(a)),a.patchFlag=-2,a}if(_4(e)&&(e=e.__vccOpts),t){t=R9(t);let{class:a,style:l}=t;a&&!ei(a)&&(t.class=ne(a)),Rt(l)&&(_u(l)&&!Fe(l)&&(l=ci({},l)),t.style=Wt(l))}const r=ei(e)?1:f4(e)?128:z3(e)?64:Rt(e)?4:et(e)?2:0;return r&4&&_u(e)&&(e=lt(e),Ae("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),k(e,t,i,n,s,r,o,!0)}function R9(e){return e?_u(e)||n4(e)?ci({},e):e:null}function Io(e,t,i=!1,n=!1){const{props:s,ref:o,patchFlag:r,children:a,transition:l}=e,c=t?J(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&m4(c),ref:t&&t.ref?i&&o?Fe(o)?o.concat(qf(t)):[o,qf(t)]:qf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r===-1&&Fe(a)?a.map(g4):a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Io(e.ssContent),ssFallback:e.ssFallback&&Io(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&yl(u,l.clone(u)),u}function g4(e){const t=Io(e);return Fe(e.children)&&(t.children=e.children.map(g4)),t}function Mt(e=" ",t=0){return D(Qc,null,e,t)}function Ll(e,t){const i=D(Yd,null,e);return i.staticCount=t,i}function S(e="",t=!1){return t?(p(),R(wi,null,e)):D(wi,null,e)}function Ws(e){return e==null||typeof e=="boolean"?D(wi):Fe(e)?D(Ce,null,e.slice()):wl(e)?Gr(e):D(Qc,null,String(e))}function Gr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Io(e)}function Qv(e,t){let i=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Fe(t))i=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),Qv(e,s()),s._c&&(s._d=!0));return}else{i=32;const s=t._;!s&&!n4(t)?t._ctx=gi:s===3&&gi&&(gi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else et(t)?(t={default:t,_ctx:gi},i=32):(t=String(t),n&64?(i=16,t=[Mt(t)]):i=8);e.children=t,e.shapeFlag|=i}function J(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=ne([t.class,n.class]));else if(s==="style")t.style=Wt([t.style,n.style]);else if(Ju(s)){const o=t[s],r=n[s];r&&o!==r&&!(Fe(o)&&o.includes(r))&&(t[s]=o?[].concat(o,r):r)}else s!==""&&(t[s]=n[s])}return t}function lo(e,t,i,n=null){Qs(e,t,7,[i,n])}const H9=e4();let V9=0;function z9(e,t,i){const n=e.type,s=(t?t.appContext:e.appContext)||H9,o={uid:V9++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new o3(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:o4(n,s),emitsOptions:u4(n,s),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:n.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx=UP(o),o.root=t?t.root:o,o.emit=M9.bind(null,o),e.ce&&e.ce(o),o}let Mi=null;const ed=()=>Mi||gi;let Mp,vy;{const e=Zu(),t=(i,n)=>{let s;return(s=e[i])||(s=e[i]=[]),s.push(n),o=>{s.length>1?s.forEach(r=>r(o)):s[0](o)}};Mp=t("__VUE_INSTANCE_SETTERS__",i=>Mi=i),vy=t("__VUE_SSR_SETTERS__",i=>Su=i)}const th=e=>{const t=Mi;return Mp(e),e.scope.on(),()=>{e.scope.off(),Mp(t)}},dC=()=>{Mi&&Mi.scope.off(),Mp(null)},N9=Ar("slot,component");function _y(e,{isNativeTag:t}){(N9(e)||t(e))&&Ae("Do not use built-in or reserved HTML elements as component id: "+e)}function b4(e){return e.vnode.shapeFlag&4}let Su=!1;function B9(e,t=!1,i=!1){t&&vy(t);const{props:n,children:s}=e.vnode,o=b4(e);s9(e,n,o,t),m9(e,s,i||t);const r=o?F9(e,t):void 0;return t&&vy(!1),r}function F9(e,t){var i;const n=e.type;{if(n.name&&_y(n.name,e.appContext.config),n.components){const o=Object.keys(n.components);for(let r=0;r<o.length;r++)_y(o[r],e.appContext.config)}if(n.directives){const o=Object.keys(n.directives);for(let r=0;r<o.length;r++)V3(o[r])}n.compilerOptions&&j9()&&Ae('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Y3),WP(e);const{setup:s}=n;if(s){Zs();const o=e.setupContext=s.length>1?v4(e):null,r=th(e),a=Zc(s,e,0,[Co(e.props),o]),l=Rv(a);if(Xs(),r(),(l||e.sp)&&!Ac(e)&&W3(e),l){if(a.then(dC,dC),t)return a.then(c=>{uC(e,c,t)}).catch(c=>{Xu(c,e,0)});if(e.asyncDep=a,!e.suspense){const c=(i=n.name)!=null?i:"Anonymous";Ae(`Component <${c}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else uC(e,a,t)}else y4(e,t)}function uC(e,t,i){et(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Rt(t)?(wl(t)&&Ae("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=S3(t),qP(e)):t!==void 0&&Ae(`setup() should return an object. Received: ${t===null?"null":typeof t}`),y4(e,i)}const j9=()=>!0;function y4(e,t,i){const n=e.type;e.render||(e.render=n.render||un);{const s=th(e);Zs();try{JP(e)}finally{Xs(),s()}}!n.render&&e.render===un&&!t&&(n.template?Ae('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):Ae("Component is missing template or render function: ",n))}const U9={get(e,t){return xp(),Vi(e,"get",""),e[t]},set(){return Ae("setupContext.attrs is readonly."),!1},deleteProperty(){return Ae("setupContext.attrs is readonly."),!1}};function W9(e){return new Proxy(e.slots,{get(t,i){return Vi(e,"get","$slots"),t[i]}})}function v4(e){const t=i=>{if(e.exposed&&Ae("expose() should be called only once per setup()."),i!=null){let n=typeof i;n==="object"&&(Fe(i)?n="array":Yt(i)&&(n="ref")),n!=="object"&&Ae(`expose() should be passed a plain object, received ${n}.`)}e.exposed=i||{}};{let i,n;return Object.freeze({get attrs(){return i||(i=new Proxy(e.attrs,U9))},get slots(){return n||(n=W9(e))},get emit(){return(s,...o)=>e.emit(s,...o)},expose:t})}}function Fm(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(S3(ur(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in rl)return rl[i](e)},has(t,i){return i in t||i in rl}})):e.proxy}const q9=/(?:^|[-_])(\w)/g,K9=e=>e.replace(q9,t=>t.toUpperCase()).replace(/[-_]/g,"");function e0(e,t=!0){return et(e)?e.displayName||e.name:e.name||t&&e.__name}function jm(e,t,i=!1){let n=e0(t);if(!n&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(n=s[1])}if(!n&&e&&e.parent){const s=o=>{for(const r in o)if(o[r]===t)return r};n=s(e.components||e.parent.type.components)||s(e.appContext.components)}return n?K9(n):i?"App":"Anonymous"}function _4(e){return et(e)&&"__vccOpts"in e}const st=(e,t)=>{const i=aP(e,t,Su);{const n=ed();n&&n.appContext.config.warnRecursiveComputed&&(i._warnRecursive=!0)}return i};function Um(e,t,i){const n=arguments.length;return n===2?Rt(t)&&!Fe(t)?wl(t)?D(e,null,[t]):D(e,t):D(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&wl(i)&&(i=[i]),D(e,t,i))}function G9(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#1677ff"},i={style:"color:#f5222d"},n={style:"color:#eb2f96"},s={__vue_custom_formatter:!0,header(h){if(!Rt(h))return null;if(h.__isVue)return["div",e,"VueInstance"];if(Yt(h)){Zs();const m=h.value;return Xs(),["div",{},["span",e,u(h)],"<",a(m),">"]}else{if(So(h))return["div",{},["span",e,kn(h)?"ShallowReactive":"Reactive"],"<",a(h),`>${Eo(h)?" (readonly)":""}`];if(Eo(h))return["div",{},["span",e,kn(h)?"ShallowReadonly":"Readonly"],"<",a(h),">"]}return null},hasBody(h){return h&&h.__isVue},body(h){if(h&&h.__isVue)return["div",{},...o(h.$)]}};function o(h){const m=[];h.type.props&&h.props&&m.push(r("props",lt(h.props))),h.setupState!==jt&&m.push(r("setup",h.setupState)),h.data!==jt&&m.push(r("data",lt(h.data)));const g=l(h,"computed");g&&m.push(r("computed",g));const v=l(h,"inject");return v&&m.push(r("injected",v)),m.push(["div",{},["span",{style:n.style+";opacity:0.66"},"$ (internal): "],["object",{object:h}]]),m}function r(h,m){return m=ci({},m),Object.keys(m).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},h],["div",{style:"padding-left:1.25em"},...Object.keys(m).map(g=>["div",{},["span",n,g+": "],a(m[g],!1)])]]:["span",{}]}function a(h,m=!0){return typeof h=="number"?["span",t,h]:typeof h=="string"?["span",i,JSON.stringify(h)]:typeof h=="boolean"?["span",n,h]:Rt(h)?["object",{object:m?lt(h):h}]:["span",i,String(h)]}function l(h,m){const g=h.type;if(et(g))return;const v={};for(const _ in h.ctx)c(g,_,m)&&(v[_]=h.ctx[_]);return v}function c(h,m,g){const v=h[g];if(Fe(v)&&v.includes(m)||Rt(v)&&m in v||h.extends&&c(h.extends,m,g)||h.mixins&&h.mixins.some(_=>c(_,m,g)))return!0}function u(h){return kn(h)?"ShallowRef":h.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(s):window.devtoolsFormatters=[s]}const hC="3.5.17",Gs=Ae;/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wy;const fC=typeof window<"u"&&window.trustedTypes;if(fC)try{wy=fC.createPolicy("vue",{createHTML:e=>e})}catch(e){Gs(`Error creating trusted types policy: ${e}`)}const w4=wy?e=>wy.createHTML(e):e=>e,J9="http://www.w3.org/2000/svg",Y9="http://www.w3.org/1998/Math/MathML",rr=typeof document<"u"?document:null,pC=rr&&rr.createElement("template"),Z9={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const s=t==="svg"?rr.createElementNS(J9,e):t==="mathml"?rr.createElementNS(Y9,e):i?rr.createElement(e,{is:i}):rr.createElement(e);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>rr.createTextNode(e),createComment:e=>rr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,s,o){const r=i?i.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),!(s===o||!(s=s.nextSibling)););else{pC.innerHTML=w4(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=pC.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,i)}return[r?r.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Br="transition",Md="animation",Ic=Symbol("_vtc"),C4={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},k4=ci({},B3,C4),X9=e=>(e.displayName="Transition",e.props=k4,e),ns=X9((e,{slots:t})=>Um($P,A4(e),t)),Fa=(e,t=[])=>{Fe(e)?e.forEach(i=>i(...t)):e&&e(...t)},mC=e=>e?Fe(e)?e.some(t=>t.length>1):e.length>1:!1;function A4(e){const t={};for(const Z in e)Z in C4||(t[Z]=e[Z]);if(e.css===!1)return t;const{name:i="v",type:n,duration:s,enterFromClass:o=`${i}-enter-from`,enterActiveClass:r=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=o,appearActiveClass:c=r,appearToClass:u=a,leaveFromClass:h=`${i}-leave-from`,leaveActiveClass:m=`${i}-leave-active`,leaveToClass:g=`${i}-leave-to`}=e,v=Q9(s),_=v&&v[0],w=v&&v[1],{onBeforeEnter:A,onEnter:L,onEnterCancelled:N,onLeave:M,onLeaveCancelled:P,onBeforeAppear:F=A,onAppear:K=L,onAppearCancelled:se=N}=t,j=(Z,le,ie,re)=>{Z._enterCancelled=re,jr(Z,le?u:a),jr(Z,le?c:r),ie&&ie()},V=(Z,le)=>{Z._isLeaving=!1,jr(Z,h),jr(Z,g),jr(Z,m),le&&le()},z=Z=>(le,ie)=>{const re=Z?K:L,te=()=>j(le,Z,ie);Fa(re,[le,te]),gC(()=>{jr(le,Z?l:o),co(le,Z?u:a),mC(re)||bC(le,n,_,te)})};return ci(t,{onBeforeEnter(Z){Fa(A,[Z]),co(Z,o),co(Z,r)},onBeforeAppear(Z){Fa(F,[Z]),co(Z,l),co(Z,c)},onEnter:z(!1),onAppear:z(!0),onLeave(Z,le){Z._isLeaving=!0;const ie=()=>V(Z,le);co(Z,h),Z._enterCancelled?(co(Z,m),Cy()):(Cy(),co(Z,m)),gC(()=>{Z._isLeaving&&(jr(Z,h),co(Z,g),mC(M)||bC(Z,n,w,ie))}),Fa(M,[Z,ie])},onEnterCancelled(Z){j(Z,!1,void 0,!0),Fa(N,[Z])},onAppearCancelled(Z){j(Z,!0,void 0,!0),Fa(se,[Z])},onLeaveCancelled(Z){V(Z),Fa(P,[Z])}})}function Q9(e){if(e==null)return null;if(Rt(e))return[B1(e.enter),B1(e.leave)];{const t=B1(e);return[t,t]}}function B1(e){const t=b7(e);return pP(t,"<transition> explicit duration"),t}function co(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[Ic]||(e[Ic]=new Set)).add(t)}function jr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const i=e[Ic];i&&(i.delete(t),i.size||(e[Ic]=void 0))}function gC(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let eD=0;function bC(e,t,i,n){const s=e._endId=++eD,o=()=>{s===e._endId&&n()};if(i!=null)return setTimeout(o,i);const{type:r,timeout:a,propCount:l}=S4(e,t);if(!r)return n();const c=r+"end";let u=0;const h=()=>{e.removeEventListener(c,m),o()},m=g=>{g.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,m)}function S4(e,t){const i=window.getComputedStyle(e),n=v=>(i[v]||"").split(", "),s=n(`${Br}Delay`),o=n(`${Br}Duration`),r=yC(s,o),a=n(`${Md}Delay`),l=n(`${Md}Duration`),c=yC(a,l);let u=null,h=0,m=0;t===Br?r>0&&(u=Br,h=r,m=o.length):t===Md?c>0&&(u=Md,h=c,m=l.length):(h=Math.max(r,c),u=h>0?r>c?Br:Md:null,m=u?u===Br?o.length:l.length:0);const g=u===Br&&/\b(transform|all)(,|$)/.test(n(`${Br}Property`).toString());return{type:u,timeout:h,propCount:m,hasTransform:g}}function yC(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,n)=>vC(i)+vC(e[n])))}function vC(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Cy(){return document.body.offsetHeight}function tD(e,t,i){const n=e[Ic];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Tp=Symbol("_vod"),x4=Symbol("_vsh"),ti={beforeMount(e,{value:t},{transition:i}){e[Tp]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):Td(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:n}){!t!=!i&&(n?t?(n.beforeEnter(e),Td(e,!0),n.enter(e)):n.leave(e,()=>{Td(e,!1)}):Td(e,t))},beforeUnmount(e,{value:t}){Td(e,t)}};ti.name="show";function Td(e,t){e.style.display=t?e[Tp]:"none",e[x4]=!t}const iD=Symbol("CSS_VAR_TEXT"),nD=/(^|;)\s*display\s*:/;function sD(e,t,i){const n=e.style,s=ei(i);let o=!1;if(i&&!s){if(t)if(ei(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();i[a]==null&&Kf(n,a,"")}else for(const r in t)i[r]==null&&Kf(n,r,"");for(const r in i)r==="display"&&(o=!0),Kf(n,r,i[r])}else if(s){if(t!==i){const r=n[iD];r&&(i+=";"+r),n.cssText=i,o=nD.test(i)}}else t&&e.removeAttribute("style");Tp in e&&(e[Tp]=o?n.display:"",e[x4]&&(n.display="none"))}const oD=/[^\\];\s*$/,_C=/\s*!important$/;function Kf(e,t,i){if(Fe(i))i.forEach(n=>Kf(e,t,n));else if(i==null&&(i=""),oD.test(i)&&Gs(`Unexpected semicolon at the end of '${t}' style value: '${i}'`),t.startsWith("--"))e.setProperty(t,i);else{const n=rD(e,t);_C.test(i)?e.setProperty(_r(n),i.replace(_C,""),"important"):e[n]=i}}const wC=["Webkit","Moz","ms"],F1={};function rD(e,t){const i=F1[t];if(i)return i;let n=Cn(t);if(n!=="filter"&&n in e)return F1[t]=n;n=ml(n);for(let s=0;s<wC.length;s++){const o=wC[s]+n;if(o in e)return F1[t]=o}return t}const CC="http://www.w3.org/1999/xlink";function kC(e,t,i,n,s,o=E7(t)){n&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(CC,t.slice(6,t.length)):e.setAttributeNS(CC,t,i):i==null||o&&!i3(i)?e.removeAttribute(t):e.setAttribute(t,o?"":Ys(i)?String(i):i)}function AC(e,t,i,n,s){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?w4(i):i);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let r=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=i3(i):i==null&&a==="string"?(i="",r=!0):a==="number"&&(i=0,r=!0)}try{e[t]=i}catch(a){r||Gs(`Failed setting prop "${t}" on <${o.toLowerCase()}>: value ${i} is invalid.`,a)}r&&e.removeAttribute(s||t)}function dr(e,t,i,n){e.addEventListener(t,i,n)}function aD(e,t,i,n){e.removeEventListener(t,i,n)}const SC=Symbol("_vei");function lD(e,t,i,n,s=null){const o=e[SC]||(e[SC]={}),r=o[t];if(n&&r)r.value=MC(n,t);else{const[a,l]=cD(t);if(n){const c=o[t]=hD(MC(n,t),s);dr(e,a,c,l)}else r&&(aD(e,a,r,l),o[t]=void 0)}}const xC=/(?:Once|Passive|Capture)$/;function cD(e){let t;if(xC.test(e)){t={};let n;for(;n=e.match(xC);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_r(e.slice(2)),t]}let j1=0;const dD=Promise.resolve(),uD=()=>j1||(dD.then(()=>j1=0),j1=Date.now());function hD(e,t){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;Qs(fD(n,i.value),t,5,[n])};return i.value=e,i.attached=uD(),i}function MC(e,t){return et(e)||Fe(e)?e:(Gs(`Wrong type passed as event handler to ${t} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof e}.`),un)}function fD(e,t){if(Fe(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const TC=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,pD=(e,t,i,n,s,o)=>{const r=s==="svg";t==="class"?tD(e,n,r):t==="style"?sD(e,i,n):Ju(t)?pp(t)||lD(e,t,i,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mD(e,t,n,r))?(AC(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&kC(e,t,n,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ei(n))?AC(e,Cn(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),kC(e,t,n,r))};function mD(e,t,i,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&TC(t)&&et(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return TC(t)&&ei(i)?!1:t in e}const M4=new WeakMap,T4=new WeakMap,Op=Symbol("_moveCb"),OC=Symbol("_enterCb"),gD=e=>(delete e.props.mode,e),bD=gD({name:"TransitionGroup",props:ci({},k4,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=ed(),n=N3();let s,o;return K3(()=>{if(!s.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!wD(s[0].el,i.vnode.el,r)){s=[];return}s.forEach(yD),s.forEach(vD);const a=s.filter(_D);Cy(),a.forEach(l=>{const c=l.el,u=c.style;co(c,r),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[Op]=m=>{m&&m.target!==c||(!m||/transform$/.test(m.propertyName))&&(c.removeEventListener("transitionend",h),c[Op]=null,jr(c,r))};c.addEventListener("transitionend",h)}),s=[]}),()=>{const r=lt(e),a=A4(r);let l=r.tag||Ce;if(s=[],o)for(let c=0;c<o.length;c++){const u=o[c];u.el&&u.el instanceof Element&&(s.push(u),yl(u,Cu(u,a,n,i)),M4.set(u,u.el.getBoundingClientRect()))}o=t.default?qv(t.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null?yl(u,Cu(u,a,n,i)):u.type!==Qc&&Gs("<TransitionGroup> children must be keyed.")}return D(l,null,o)}}}),td=bD;function yD(e){const t=e.el;t[Op]&&t[Op](),t[OC]&&t[OC]()}function vD(e){T4.set(e,e.el.getBoundingClientRect())}function _D(e){const t=M4.get(e),i=T4.get(e),n=t.left-i.left,s=t.top-i.top;if(n||s){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${s}px)`,o.transitionDuration="0s",e}}function wD(e,t,i){const n=e.cloneNode(),s=e[Ic];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(n);const{hasTransform:r}=S4(n);return o.removeChild(n),r}const va=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Fe(t)?i=>uc(t,i):t};function CD(e){e.target.composing=!0}function EC(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Os=Symbol("_assign"),Ds={created(e,{modifiers:{lazy:t,trim:i,number:n}},s){e[Os]=va(s);const o=n||s.props&&s.props.type==="number";dr(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;i&&(a=a.trim()),o&&(a=mp(a)),e[Os](a)}),i&&dr(e,"change",()=>{e.value=e.value.trim()}),t||(dr(e,"compositionstart",CD),dr(e,"compositionend",EC),dr(e,"change",EC))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:n,trim:s,number:o}},r){if(e[Os]=va(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?mp(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===i||s&&e.value.trim()===l)||(e.value=l))}},O4={deep:!0,created(e,t,i){e[Os]=va(i),dr(e,"change",()=>{const n=e._modelValue,s=$c(e),o=e.checked,r=e[Os];if(Fe(n)){const a=zv(n,s),l=a!==-1;if(o&&!l)r(n.concat(s));else if(!o&&l){const c=[...n];c.splice(a,1),r(c)}}else if(Yc(n)){const a=new Set(n);o?a.add(s):a.delete(s),r(a)}else r(I4(e,o))})},mounted:IC,beforeUpdate(e,t,i){e[Os]=va(i),IC(e,t,i)}};function IC(e,{value:t,oldValue:i},n){e._modelValue=t;let s;if(Fe(t))s=zv(t,n.props.value)>-1;else if(Yc(t))s=t.has(n.props.value);else{if(t===i)return;s=gl(t,I4(e,!0))}e.checked!==s&&(e.checked=s)}const kD={created(e,{value:t},i){e.checked=gl(t,i.props.value),e[Os]=va(i),dr(e,"change",()=>{e[Os]($c(e))})},beforeUpdate(e,{value:t,oldValue:i},n){e[Os]=va(n),t!==i&&(e.checked=gl(t,n.props.value))}},E4={deep:!0,created(e,{value:t,modifiers:{number:i}},n){const s=Yc(t);dr(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>i?mp($c(r)):$c(r));e[Os](e.multiple?s?new Set(o):o:o[0]),e._assigning=!0,Dn(()=>{e._assigning=!1})}),e[Os]=va(n)},mounted(e,{value:t}){$C(e,t)},beforeUpdate(e,t,i){e[Os]=va(i)},updated(e,{value:t}){e._assigning||$C(e,t)}};function $C(e,t){const i=e.multiple,n=Fe(t);if(i&&!n&&!Yc(t)){Gs(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let s=0,o=e.options.length;s<o;s++){const r=e.options[s],a=$c(r);if(i)if(n){const l=typeof a;l==="string"||l==="number"?r.selected=t.some(c=>String(c)===String(a)):r.selected=zv(t,a)>-1}else r.selected=t.has(a);else if(gl($c(r),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function $c(e){return"_value"in e?e._value:e.value}function I4(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const $4={created(e,t,i){df(e,t,i,null,"created")},mounted(e,t,i){df(e,t,i,null,"mounted")},beforeUpdate(e,t,i,n){df(e,t,i,n,"beforeUpdate")},updated(e,t,i,n){df(e,t,i,n,"updated")}};function AD(e,t){switch(e){case"SELECT":return E4;case"TEXTAREA":return Ds;default:switch(t){case"checkbox":return O4;case"radio":return kD;default:return Ds}}}function df(e,t,i,n,s){const r=AD(e.tagName,i.props&&i.props.type)[s];r&&r(e,t,i,n)}const SD=["ctrl","shift","alt","meta"],xD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>SD.some(i=>e[`${i}Key`]&&!t.includes(i))},Je=(e,t)=>{const i=e._withMods||(e._withMods={}),n=t.join(".");return i[n]||(i[n]=(s,...o)=>{for(let r=0;r<t.length;r++){const a=xD[t[r]];if(a&&a(s,t))return}return e(s,...o)})},MD={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qe=(e,t)=>{const i=e._withKeys||(e._withKeys={}),n=t.join(".");return i[n]||(i[n]=s=>{if(!("key"in s))return;const o=_r(s.key);if(t.some(r=>r===o||MD[r]===o))return e(s)})},TD=ci({patchProp:pD},Z9);let LC;function OD(){return LC||(LC=y9(TD))}const ED=(...e)=>{const t=OD().createApp(...e);$D(t),LD(t);const{mount:i}=t;return t.mount=n=>{const s=PD(n);if(!s)return;const o=t._component;!et(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const r=i(s,!1,ID(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),r},t};function ID(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $D(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>x7(t)||M7(t)||T7(t),writable:!1})}function LD(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){Gs("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const i=e.config.compilerOptions,n='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return Gs(n),i},set(){Gs(n)}})}}function PD(e){if(ei(e)){const t=document.querySelector(e);return t||Gs(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&Gs('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function DD(){G9()}DD();const I=(e,t)=>{const i=e.__vccOpts||e;for(const[n,s]of t)i[n]=s;return i},RD={name:"AccountBoxIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},HD=["aria-hidden","aria-label"],VD=["fill","width","height"],zD={d:"M6,17C6,15 10,13.9 12,13.9C14,13.9 18,15 18,17V18H6M15,9A3,3 0 0,1 12,12A3,3 0 0,1 9,9A3,3 0 0,1 12,6A3,3 0 0,1 15,9M3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3H5C3.89,3 3,3.9 3,5Z"},ND={key:0};function BD(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon account-box-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",zD,[i.title?(p(),y("title",ND,E(i.title),1)):S("v-if",!0)])],8,VD))],16,HD)}const FD=I(RD,[["render",BD],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AccountBox.vue"]]),jD={name:"AlertCircleIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},UD=["aria-hidden","aria-label"],WD=["fill","width","height"],qD={d:"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},KD={key:0};function GD(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon alert-circle-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",qD,[i.title?(p(),y("title",KD,E(i.title),1)):S("v-if",!0)])],8,WD))],16,UD)}const JD=I(jD,[["render",GD],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AlertCircle.vue"]]),YD={name:"AlphaXIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},ZD=["aria-hidden","aria-label"],XD=["fill","width","height"],QD={d:"M9,7L11,12L9,17H11L12,14.5L13,17H15L13,12L15,7H13L12,9.5L11,7H9Z"},eR={key:0};function tR(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon alpha-x-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",QD,[i.title?(p(),y("title",eR,E(i.title),1)):S("v-if",!0)])],8,XD))],16,ZD)}const iR=I(YD,[["render",tR],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AlphaX.vue"]]),nR={name:"AnchorIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},sR=["aria-hidden","aria-label"],oR=["fill","width","height"],rR={d:"M12 2A3 3 0 0 0 9 5A3 3 0 0 0 11 7.83V9H8V11H11V19.92C10.26 19.79 9.5 19.58 8.79 19.27C8.05 18.95 7.4 18.56 6.82 18.09C6.24 17.62 5.78 17.11 5.44 16.55L7 15L3 12V15C3 15.97 3.27 16.88 3.82 17.72C4.37 18.56 5.09 19.31 6 19.95C6.87 20.59 7.84 21.09 8.88 21.45C9.93 21.81 10.97 22 12 22C13.03 22 14.07 21.8 15.12 21.44C16.16 21.08 17.13 20.58 18 19.95C18.92 19.31 19.63 18.57 20.18 17.72C20.73 16.88 21 15.97 21 15V12L17 15L18.56 16.55C18.22 17.11 17.76 17.62 17.18 18.09C16.6 18.56 15.95 18.95 15.21 19.27C14.5 19.58 13.74 19.79 13 19.92V11H16V9H13V7.82A3 3 0 0 0 15 5A3 3 0 0 0 12 2M12 4A1 1 0 0 1 13 5A1 1 0 0 1 12 6A1 1 0 0 1 11 5A1 1 0 0 1 12 4Z"},aR={key:0};function lR(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon anchor-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",rR,[i.title?(p(),y("title",aR,E(i.title),1)):S("v-if",!0)])],8,oR))],16,sR)}const cR=I(nR,[["render",lR],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Anchor.vue"]]),dR={name:"AppleKeyboardCapsIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},uR=["aria-hidden","aria-label"],hR=["fill","width","height"],fR={d:"M15,14V8H17.17L12,2.83L6.83,8H9V14H15M12,0L22,10H17V16H7V10H2L12,0M7,18H17V24H7V18M15,20H9V22H15V20Z"},pR={key:0};function mR(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon apple-keyboard-caps-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",fR,[i.title?(p(),y("title",pR,E(i.title),1)):S("v-if",!0)])],8,hR))],16,uR)}const gR=I(dR,[["render",mR],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AppleKeyboardCaps.vue"]]),bR={name:"AppleKeyboardCommandIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},yR=["aria-hidden","aria-label"],vR=["fill","width","height"],_R={d:"M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z"},wR={key:0};function CR(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon apple-keyboard-command-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",_R,[i.title?(p(),y("title",wR,E(i.title),1)):S("v-if",!0)])],8,vR))],16,yR)}const kR=I(bR,[["render",CR],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AppleKeyboardCommand.vue"]]),AR={name:"AppleKeyboardControlIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},SR=["aria-hidden","aria-label"],xR=["fill","width","height"],MR={d:"M19.78,11.78L18.36,13.19L12,6.83L5.64,13.19L4.22,11.78L12,4L19.78,11.78Z"},TR={key:0};function OR(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon apple-keyboard-control-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",MR,[i.title?(p(),y("title",TR,E(i.title),1)):S("v-if",!0)])],8,xR))],16,SR)}const ER=I(AR,[["render",OR],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AppleKeyboardControl.vue"]]),IR={name:"AppleKeyboardOptionIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},$R=["aria-hidden","aria-label"],LR=["fill","width","height"],PR={d:"M3,4H9.11L16.15,18H21V20H14.88L7.84,6H3V4M14,4H21V6H14V4Z"},DR={key:0};function RR(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon apple-keyboard-option-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",PR,[i.title?(p(),y("title",DR,E(i.title),1)):S("v-if",!0)])],8,LR))],16,$R)}const HR=I(IR,[["render",RR],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AppleKeyboardOption.vue"]]),VR={name:"AppleKeyboardShiftIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},zR=["aria-hidden","aria-label"],NR=["fill","width","height"],BR={d:"M15,18V12H17.17L12,6.83L6.83,12H9V18H15M12,4L22,14H17V20H7V14H2L12,4Z"},FR={key:0};function jR(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon apple-keyboard-shift-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",BR,[i.title?(p(),y("title",FR,E(i.title),1)):S("v-if",!0)])],8,NR))],16,zR)}const UR=I(VR,[["render",jR],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AppleKeyboardShift.vue"]]),WR={name:"ArchiveArrowDownIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},qR=["aria-hidden","aria-label"],KR=["fill","width","height"],GR={d:"M3 3H21V7H3V3M4 21V8H20V21H4M14 14V11H10V14H7L12 19L17 14H14Z"},JR={key:0};function YR(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon archive-arrow-down-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",GR,[i.title?(p(),y("title",JR,E(i.title),1)):S("v-if",!0)])],8,KR))],16,qR)}const ZR=I(WR,[["render",YR],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArchiveArrowDown.vue"]]),XR={name:"ArchiveArrowUpIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},QR=["aria-hidden","aria-label"],eH=["fill","width","height"],tH={d:"M4 21H20V8H4M14 15V18H10V15H7L12 10L17 15M3 3H21V7H3"},iH={key:0};function nH(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon archive-arrow-up-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",tH,[i.title?(p(),y("title",iH,E(i.title),1)):S("v-if",!0)])],8,eH))],16,QR)}const sH=I(XR,[["render",nH],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArchiveArrowUp.vue"]]),oH={name:"ArrowCollapseVerticalIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},rH=["aria-hidden","aria-label"],aH=["fill","width","height"],lH={d:"M4,12H20V14H4V12M4,9H20V11H4V9M16,4L12,8L8,4H11V1H13V4H16M8,19L12,15L16,19H13V22H11V19H8Z"},cH={key:0};function dH(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon arrow-collapse-vertical-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",lH,[i.title?(p(),y("title",cH,E(i.title),1)):S("v-if",!0)])],8,aH))],16,rH)}const uH=I(oH,[["render",dH],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArrowCollapseVertical.vue"]]),hH={name:"ArrowDownIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},fH=["aria-hidden","aria-label"],pH=["fill","width","height"],mH={d:"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z"},gH={key:0};function bH(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon arrow-down-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",mH,[i.title?(p(),y("title",gH,E(i.title),1)):S("v-if",!0)])],8,pH))],16,fH)}const yH=I(hH,[["render",bH],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArrowDown.vue"]]),vH={name:"ArrowExpandVerticalIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},_H=["aria-hidden","aria-label"],wH=["fill","width","height"],CH={d:"M13,9V15H16L12,19L8,15H11V9H8L12,5L16,9H13M4,2H20V4H4V2M4,20H20V22H4V20Z"},kH={key:0};function AH(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon arrow-expand-vertical-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",CH,[i.title?(p(),y("title",kH,E(i.title),1)):S("v-if",!0)])],8,wH))],16,_H)}const SH=I(vH,[["render",AH],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArrowExpandVertical.vue"]]),xH={name:"ArrowLeftIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},MH=["aria-hidden","aria-label"],TH=["fill","width","height"],OH={d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"},EH={key:0};function IH(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon arrow-left-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",OH,[i.title?(p(),y("title",EH,E(i.title),1)):S("v-if",!0)])],8,TH))],16,MH)}const $H=I(xH,[["render",IH],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArrowLeft.vue"]]),LH={name:"ArrowRightIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},PH=["aria-hidden","aria-label"],DH=["fill","width","height"],RH={d:"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"},HH={key:0};function VH(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon arrow-right-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",RH,[i.title?(p(),y("title",HH,E(i.title),1)):S("v-if",!0)])],8,DH))],16,PH)}const zH=I(LH,[["render",VH],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArrowRight.vue"]]),NH={name:"ArrowUpIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},BH=["aria-hidden","aria-label"],FH=["fill","width","height"],jH={d:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"},UH={key:0};function WH(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon arrow-up-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",jH,[i.title?(p(),y("title",UH,E(i.title),1)):S("v-if",!0)])],8,FH))],16,BH)}const qH=I(NH,[["render",WH],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArrowUp.vue"]]),KH={name:"BinocularsIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},GH=["aria-hidden","aria-label"],JH=["fill","width","height"],YH={d:"M11,6H13V13H11V6M9,20A1,1 0 0,1 8,21H5A1,1 0 0,1 4,20V15L6,6H10V13A1,1 0 0,1 9,14V20M10,5H7V3H10V5M15,20V14A1,1 0 0,1 14,13V6H18L20,15V20A1,1 0 0,1 19,21H16A1,1 0 0,1 15,20M14,5V3H17V5H14Z"},ZH={key:0};function XH(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon binoculars-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",YH,[i.title?(p(),y("title",ZH,E(i.title),1)):S("v-if",!0)])],8,JH))],16,GH)}const QH=I(KH,[["render",XH],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Binoculars.vue"]]),eV={name:"CalendarIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},tV=["aria-hidden","aria-label"],iV=["fill","width","height"],nV={d:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"},sV={key:0};function oV(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon calendar-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",nV,[i.title?(p(),y("title",sV,E(i.title),1)):S("v-if",!0)])],8,iV))],16,tV)}const rV=I(eV,[["render",oV],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Calendar.vue"]]),aV={name:"CellphoneIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},lV=["aria-hidden","aria-label"],cV=["fill","width","height"],dV={d:"M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z"},uV={key:0};function hV(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon cellphone-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",dV,[i.title?(p(),y("title",uV,E(i.title),1)):S("v-if",!0)])],8,cV))],16,lV)}const fV=I(aV,[["render",hV],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Cellphone.vue"]]),pV={name:"CheckAllIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},mV=["aria-hidden","aria-label"],gV=["fill","width","height"],bV={d:"M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z"},yV={key:0};function vV(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon check-all-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",bV,[i.title?(p(),y("title",yV,E(i.title),1)):S("v-if",!0)])],8,gV))],16,mV)}const _V=I(pV,[["render",vV],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CheckAll.vue"]]),wV={name:"CheckBoldIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},CV=["aria-hidden","aria-label"],kV=["fill","width","height"],AV={d:"M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"},SV={key:0};function xV(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon check-bold-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",AV,[i.title?(p(),y("title",SV,E(i.title),1)):S("v-if",!0)])],8,kV))],16,CV)}const MV=I(wV,[["render",xV],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CheckBold.vue"]]),TV={name:"CheckCircleIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},OV=["aria-hidden","aria-label"],EV=["fill","width","height"],IV={d:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"},$V={key:0};function LV(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon check-circle-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",IV,[i.title?(p(),y("title",$V,E(i.title),1)):S("v-if",!0)])],8,EV))],16,OV)}const PV=I(TV,[["render",LV],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CheckCircle.vue"]]),DV={name:"CheckDecagramIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},RV=["aria-hidden","aria-label"],HV=["fill","width","height"],VV={d:"M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z"},zV={key:0};function NV(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon check-decagram-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",VV,[i.title?(p(),y("title",zV,E(i.title),1)):S("v-if",!0)])],8,HV))],16,RV)}const BV=I(DV,[["render",NV],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CheckDecagram.vue"]]),FV={name:"CheckboxBlankOutlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},jV=["aria-hidden","aria-label"],UV=["fill","width","height"],WV={d:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"},qV={key:0};function KV(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon checkbox-blank-outline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",WV,[i.title?(p(),y("title",qV,E(i.title),1)):S("v-if",!0)])],8,UV))],16,jV)}const GV=I(FV,[["render",KV],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CheckboxBlankOutline.vue"]]),JV={name:"CheckboxMarkedIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},YV=["aria-hidden","aria-label"],ZV=["fill","width","height"],XV={d:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},QV={key:0};function ez(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon checkbox-marked-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",XV,[i.title?(p(),y("title",QV,E(i.title),1)):S("v-if",!0)])],8,ZV))],16,YV)}const tz=I(JV,[["render",ez],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CheckboxMarked.vue"]]),iz={name:"ChevronDownIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},nz=["aria-hidden","aria-label"],sz=["fill","width","height"],oz={d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},rz={key:0};function az(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon chevron-down-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",oz,[i.title?(p(),y("title",rz,E(i.title),1)):S("v-if",!0)])],8,sz))],16,nz)}const lz=I(iz,[["render",az],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ChevronDown.vue"]]),cz={name:"ChevronLeftIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},dz=["aria-hidden","aria-label"],uz=["fill","width","height"],hz={d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"},fz={key:0};function pz(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon chevron-left-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",hz,[i.title?(p(),y("title",fz,E(i.title),1)):S("v-if",!0)])],8,uz))],16,dz)}const mz=I(cz,[["render",pz],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ChevronLeft.vue"]]),gz={name:"ChevronRightIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},bz=["aria-hidden","aria-label"],yz=["fill","width","height"],vz={d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"},_z={key:0};function wz(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon chevron-right-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",vz,[i.title?(p(),y("title",_z,E(i.title),1)):S("v-if",!0)])],8,yz))],16,bz)}const L4=I(gz,[["render",wz],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ChevronRight.vue"]]),Cz={name:"ChevronUpIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},kz=["aria-hidden","aria-label"],Az=["fill","width","height"],Sz={d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"},xz={key:0};function Mz(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon chevron-up-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Sz,[i.title?(p(),y("title",xz,E(i.title),1)):S("v-if",!0)])],8,Az))],16,kz)}const Tz=I(Cz,[["render",Mz],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ChevronUp.vue"]]),Oz={name:"CircleIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Ez=["aria-hidden","aria-label"],Iz=["fill","width","height"],$z={d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},Lz={key:0};function Pz(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon circle-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",$z,[i.title?(p(),y("title",Lz,E(i.title),1)):S("v-if",!0)])],8,Iz))],16,Ez)}const Dz=I(Oz,[["render",Pz],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Circle.vue"]]),Rz={name:"CircleMediumIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Hz=["aria-hidden","aria-label"],Vz=["fill","width","height"],zz={d:"M12,8A4,4 0 0,0 8,12A4,4 0 0,0 12,16A4,4 0 0,0 16,12A4,4 0 0,0 12,8Z"},Nz={key:0};function Bz(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon circle-medium-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",zz,[i.title?(p(),y("title",Nz,E(i.title),1)):S("v-if",!0)])],8,Vz))],16,Hz)}const Fz=I(Rz,[["render",Bz],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CircleMedium.vue"]]),jz={name:"ClipboardPlusIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Uz=["aria-hidden","aria-label"],Wz=["fill","width","height"],qz={d:"M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M13,12H16V14H13V17H11V14H8V12H11V9H13V12Z"},Kz={key:0};function Gz(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon clipboard-plus-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",qz,[i.title?(p(),y("title",Kz,E(i.title),1)):S("v-if",!0)])],8,Wz))],16,Uz)}const Jz=I(jz,[["render",Gz],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ClipboardPlus.vue"]]),Yz={name:"ClipboardPlusOutlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Zz=["aria-hidden","aria-label"],Xz=["fill","width","height"],Qz={d:"M19 3H14.82C14.4 1.84 13.3 1 12 1S9.6 1.84 9.18 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.9 20.11 3 19 3M12 3C12.55 3 13 3.45 13 4S12.55 5 12 5 11 4.55 11 4 11.45 3 12 3M7 7H17V5H19V19H5V5H7V7M13 12H16V14H13V17H11V14H8V12H11V9H13V12Z"},eN={key:0};function tN(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon clipboard-plus-outline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Qz,[i.title?(p(),y("title",eN,E(i.title),1)):S("v-if",!0)])],8,Xz))],16,Zz)}const iN=I(Yz,[["render",tN],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ClipboardPlusOutline.vue"]]),nN={name:"ClockIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},sN=["aria-hidden","aria-label"],oN=["fill","width","height"],rN={d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z"},aN={key:0};function lN(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon clock-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",rN,[i.title?(p(),y("title",aN,E(i.title),1)):S("v-if",!0)])],8,oN))],16,sN)}const cN=I(nN,[["render",lN],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Clock.vue"]]),dN={name:"CloseCircleIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},uN=["aria-hidden","aria-label"],hN=["fill","width","height"],fN={d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},pN={key:0};function mN(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon close-circle-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",fN,[i.title?(p(),y("title",pN,E(i.title),1)):S("v-if",!0)])],8,hN))],16,uN)}const gN=I(dN,[["render",mN],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CloseCircle.vue"]]),bN={name:"CloseIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},yN=["aria-hidden","aria-label"],vN=["fill","width","height"],_N={d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},wN={key:0};function CN(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon close-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",_N,[i.title?(p(),y("title",wN,E(i.title),1)):S("v-if",!0)])],8,vN))],16,yN)}const t0=I(bN,[["render",CN],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Close.vue"]]),kN={name:"CloudUploadIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},AN=["aria-hidden","aria-label"],SN=["fill","width","height"],xN={d:"M14,13V17H10V13H7L12,8L17,13M19.35,10.03C18.67,6.59 15.64,4 12,4C9.11,4 6.6,5.64 5.35,8.03C2.34,8.36 0,10.9 0,14A6,6 0 0,0 6,20H19A5,5 0 0,0 24,15C24,12.36 21.95,10.22 19.35,10.03Z"},MN={key:0};function TN(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon cloud-upload-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",xN,[i.title?(p(),y("title",MN,E(i.title),1)):S("v-if",!0)])],8,SN))],16,AN)}const ON=I(kN,[["render",TN],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CloudUpload.vue"]]),EN={name:"CodeTagsIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},IN=["aria-hidden","aria-label"],$N=["fill","width","height"],LN={d:"M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z"},PN={key:0};function DN(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon code-tags-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",LN,[i.title?(p(),y("title",PN,E(i.title),1)):S("v-if",!0)])],8,$N))],16,IN)}const RN=I(EN,[["render",DN],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CodeTags.vue"]]),HN={name:"CogIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},VN=["aria-hidden","aria-label"],zN=["fill","width","height"],NN={d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"},BN={key:0};function FN(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon cog-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",NN,[i.title?(p(),y("title",BN,E(i.title),1)):S("v-if",!0)])],8,zN))],16,VN)}const jN=I(HN,[["render",FN],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Cog.vue"]]),UN={name:"ContentCopyIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},WN=["aria-hidden","aria-label"],qN=["fill","width","height"],KN={d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"},GN={key:0};function JN(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon content-copy-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",KN,[i.title?(p(),y("title",GN,E(i.title),1)):S("v-if",!0)])],8,qN))],16,WN)}const YN=I(UN,[["render",JN],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ContentCopy.vue"]]),ZN={name:"ContentCutIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},XN=["aria-hidden","aria-label"],QN=["fill","width","height"],eB={d:"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z"},tB={key:0};function iB(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon content-cut-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",eB,[i.title?(p(),y("title",tB,E(i.title),1)):S("v-if",!0)])],8,QN))],16,XN)}const nB=I(ZN,[["render",iB],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ContentCut.vue"]]),sB={name:"ContentDuplicateIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},oB=["aria-hidden","aria-label"],rB=["fill","width","height"],aB={d:"M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z"},lB={key:0};function cB(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon content-duplicate-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",aB,[i.title?(p(),y("title",lB,E(i.title),1)):S("v-if",!0)])],8,rB))],16,oB)}const dB=I(sB,[["render",cB],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ContentDuplicate.vue"]]),uB={name:"CursorDefaultClickIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},hB=["aria-hidden","aria-label"],fB=["fill","width","height"],pB={d:"M10.76,8.69A0.76,0.76 0 0,0 10,9.45V20.9C10,21.32 10.34,21.66 10.76,21.66C10.95,21.66 11.11,21.6 11.24,21.5L13.15,19.95L14.81,23.57C14.94,23.84 15.21,24 15.5,24C15.61,24 15.72,24 15.83,23.92L18.59,22.64C18.97,22.46 19.15,22 18.95,21.63L17.28,18L19.69,17.55C19.85,17.5 20,17.43 20.12,17.29C20.39,16.97 20.35,16.5 20,16.21L11.26,8.86L11.25,8.87C11.12,8.76 10.95,8.69 10.76,8.69M15,10V8H20V10H15M13.83,4.76L16.66,1.93L18.07,3.34L15.24,6.17L13.83,4.76M10,0H12V5H10V0M3.93,14.66L6.76,11.83L8.17,13.24L5.34,16.07L3.93,14.66M3.93,3.34L5.34,1.93L8.17,4.76L6.76,6.17L3.93,3.34M7,10H2V8H7V10"},mB={key:0};function gB(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon cursor-default-click-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",pB,[i.title?(p(),y("title",mB,E(i.title),1)):S("v-if",!0)])],8,fB))],16,hB)}const bB=I(uB,[["render",gB],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CursorDefaultClick.vue"]]),yB={name:"DeleteIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},vB=["aria-hidden","aria-label"],_B=["fill","width","height"],wB={d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},CB={key:0};function kB(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon delete-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",wB,[i.title?(p(),y("title",CB,E(i.title),1)):S("v-if",!0)])],8,_B))],16,vB)}const AB=I(yB,[["render",kB],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Delete.vue"]]),SB={name:"DotsHorizontalIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},xB=["aria-hidden","aria-label"],MB=["fill","width","height"],TB={d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"},OB={key:0};function EB(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon dots-horizontal-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",TB,[i.title?(p(),y("title",OB,E(i.title),1)):S("v-if",!0)])],8,MB))],16,xB)}const IB=I(SB,[["render",EB],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/DotsHorizontal.vue"]]),$B={name:"DotsVerticalIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},LB=["aria-hidden","aria-label"],PB=["fill","width","height"],DB={d:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},RB={key:0};function HB(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon dots-vertical-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",DB,[i.title?(p(),y("title",RB,E(i.title),1)):S("v-if",!0)])],8,PB))],16,LB)}const VB=I($B,[["render",HB],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/DotsVertical.vue"]]),zB={name:"AppsIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},NB=["aria-hidden","aria-label"],BB=["fill","width","height"],FB={d:"M16,20H20V16H16M16,14H20V10H16M10,8H14V4H10M16,8H20V4H16M10,14H14V10H10M4,14H8V10H4M4,20H8V16H4M10,20H14V16H10M4,8H8V4H4V8Z"},jB={key:0};function UB(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon apps-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",FB,[i.title?(p(),y("title",jB,E(i.title),1)):S("v-if",!0)])],8,BB))],16,NB)}const WB=I(zB,[["render",UB],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Apps.vue"]]),qB={name:"EyeIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},KB=["aria-hidden","aria-label"],GB=["fill","width","height"],JB={d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},YB={key:0};function ZB(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon eye-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",JB,[i.title?(p(),y("title",YB,E(i.title),1)):S("v-if",!0)])],8,GB))],16,KB)}const XB=I(qB,[["render",ZB],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Eye.vue"]]),QB={name:"FileDocumentIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},eF=["aria-hidden","aria-label"],tF=["fill","width","height"],iF={d:"M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z"},nF={key:0};function sF(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon file-document-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",iF,[i.title?(p(),y("title",nF,E(i.title),1)):S("v-if",!0)])],8,tF))],16,eF)}const oF=I(QB,[["render",sF],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FileDocument.vue"]]),rF={name:"FileTreeIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},aF=["aria-hidden","aria-label"],lF=["fill","width","height"],cF={d:"M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z"},dF={key:0};function uF(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon file-tree-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",cF,[i.title?(p(),y("title",dF,E(i.title),1)):S("v-if",!0)])],8,lF))],16,aF)}const hF=I(rF,[["render",uF],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FileTree.vue"]]),fF={name:"FlareIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},pF=["aria-hidden","aria-label"],mF=["fill","width","height"],gF={d:"M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z"},bF={key:0};function yF(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon flare-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",gF,[i.title?(p(),y("title",bF,E(i.title),1)):S("v-if",!0)])],8,mF))],16,pF)}const vF=I(fF,[["render",yF],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Flare.vue"]]),_F={name:"FormatAlignCenterIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},wF=["aria-hidden","aria-label"],CF=["fill","width","height"],kF={d:"M3,3H21V5H3V3M7,7H17V9H7V7M3,11H21V13H3V11M7,15H17V17H7V15M3,19H21V21H3V19Z"},AF={key:0};function SF(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-align-center-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",kF,[i.title?(p(),y("title",AF,E(i.title),1)):S("v-if",!0)])],8,CF))],16,wF)}const xF=I(_F,[["render",SF],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatAlignCenter.vue"]]),MF={name:"FormatAlignJustifyIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},TF=["aria-hidden","aria-label"],OF=["fill","width","height"],EF={d:"M3,3H21V5H3V3M3,7H21V9H3V7M3,11H21V13H3V11M3,15H21V17H3V15M3,19H21V21H3V19Z"},IF={key:0};function $F(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-align-justify-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",EF,[i.title?(p(),y("title",IF,E(i.title),1)):S("v-if",!0)])],8,OF))],16,TF)}const LF=I(MF,[["render",$F],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatAlignJustify.vue"]]),PF={name:"FormatAlignLeftIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},DF=["aria-hidden","aria-label"],RF=["fill","width","height"],HF={d:"M3,3H21V5H3V3M3,7H15V9H3V7M3,11H21V13H3V11M3,15H15V17H3V15M3,19H21V21H3V19Z"},VF={key:0};function zF(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-align-left-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",HF,[i.title?(p(),y("title",VF,E(i.title),1)):S("v-if",!0)])],8,RF))],16,DF)}const NF=I(PF,[["render",zF],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatAlignLeft.vue"]]),BF={name:"FormatAlignRightIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},FF=["aria-hidden","aria-label"],jF=["fill","width","height"],UF={d:"M3,3H21V5H3V3M9,7H21V9H9V7M3,11H21V13H3V11M9,15H21V17H9V15M3,19H21V21H3V19Z"},WF={key:0};function qF(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-align-right-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",UF,[i.title?(p(),y("title",WF,E(i.title),1)):S("v-if",!0)])],8,jF))],16,FF)}const KF=I(BF,[["render",qF],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatAlignRight.vue"]]),GF={name:"FormatBoldIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},JF=["aria-hidden","aria-label"],YF=["fill","width","height"],ZF={d:"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z"},XF={key:0};function QF(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-bold-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",ZF,[i.title?(p(),y("title",XF,E(i.title),1)):S("v-if",!0)])],8,YF))],16,JF)}const ej=I(GF,[["render",QF],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatBold.vue"]]),tj={name:"FormatFontIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},ij=["aria-hidden","aria-label"],nj=["fill","width","height"],sj={d:"M17,8H20V20H21V21H17V20H18V17H14L12.5,20H14V21H10V20H11L17,8M18,9L14.5,16H18V9M5,3H10C11.11,3 12,3.89 12,5V16H9V11H6V16H3V5C3,3.89 3.89,3 5,3M6,5V9H9V5H6Z"},oj={key:0};function rj(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-font-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",sj,[i.title?(p(),y("title",oj,E(i.title),1)):S("v-if",!0)])],8,nj))],16,ij)}const aj=I(tj,[["render",rj],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatFont.vue"]]),lj={name:"FormatItalicIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},cj=["aria-hidden","aria-label"],dj=["fill","width","height"],uj={d:"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z"},hj={key:0};function fj(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-italic-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",uj,[i.title?(p(),y("title",hj,E(i.title),1)):S("v-if",!0)])],8,dj))],16,cj)}const pj=I(lj,[["render",fj],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatItalic.vue"]]),mj={name:"FormatListBulletedIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},gj=["aria-hidden","aria-label"],bj=["fill","width","height"],yj={d:"M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z"},vj={key:0};function _j(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-list-bulleted-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",yj,[i.title?(p(),y("title",vj,E(i.title),1)):S("v-if",!0)])],8,bj))],16,gj)}const wj=I(mj,[["render",_j],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatListBulleted.vue"]]),Cj={name:"FormatListNumberedIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},kj=["aria-hidden","aria-label"],Aj=["fill","width","height"],Sj={d:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z"},xj={key:0};function Mj(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-list-numbered-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Sj,[i.title?(p(),y("title",xj,E(i.title),1)):S("v-if",!0)])],8,Aj))],16,kj)}const Tj=I(Cj,[["render",Mj],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatListNumbered.vue"]]),Oj={name:"FormatQuoteCloseIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Ej=["aria-hidden","aria-label"],Ij=["fill","width","height"],$j={d:"M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z"},Lj={key:0};function Pj(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-quote-close-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",$j,[i.title?(p(),y("title",Lj,E(i.title),1)):S("v-if",!0)])],8,Ij))],16,Ej)}const Dj=I(Oj,[["render",Pj],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatQuoteClose.vue"]]),Rj={name:"FormatStrikethroughVariantIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Hj=["aria-hidden","aria-label"],Vj=["fill","width","height"],zj={d:"M23,12V14H18.61C19.61,16.14 19.56,22 12.38,22C4.05,22.05 4.37,15.5 4.37,15.5L8.34,15.55C8.37,18.92 11.5,18.92 12.12,18.88C12.76,18.83 15.15,18.84 15.34,16.5C15.42,15.41 14.32,14.58 13.12,14H1V12H23M19.41,7.89L15.43,7.86C15.43,7.86 15.6,5.09 12.15,5.08C8.7,5.06 9,7.28 9,7.56C9.04,7.84 9.34,9.22 12,9.88H5.71C5.71,9.88 2.22,3.15 10.74,2C19.45,0.8 19.43,7.91 19.41,7.89Z"},Nj={key:0};function Bj(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-strikethrough-variant-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",zj,[i.title?(p(),y("title",Nj,E(i.title),1)):S("v-if",!0)])],8,Vj))],16,Hj)}const Fj=I(Rj,[["render",Bj],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatStrikethroughVariant.vue"]]),jj={name:"FormatSubscriptIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Uj=["aria-hidden","aria-label"],Wj=["fill","width","height"],qj={d:"M16,7.41L11.41,12L16,16.59L14.59,18L10,13.41L5.41,18L4,16.59L8.59,12L4,7.41L5.41,6L10,10.59L14.59,6L16,7.41M21.85,21.03H16.97V20.03L17.86,19.23C18.62,18.58 19.18,18.04 19.56,17.6C19.93,17.16 20.12,16.75 20.13,16.36C20.14,16.08 20.05,15.85 19.86,15.66C19.68,15.5 19.39,15.38 19,15.38C18.69,15.38 18.42,15.44 18.16,15.56L17.5,15.94L17.05,14.77C17.32,14.56 17.64,14.38 18.03,14.24C18.42,14.1 18.85,14 19.32,14C20.1,14.04 20.7,14.25 21.1,14.66C21.5,15.07 21.72,15.59 21.72,16.23C21.71,16.79 21.53,17.31 21.18,17.78C20.84,18.25 20.42,18.7 19.91,19.14L19.27,19.66V19.68H21.85V21.03Z"},Kj={key:0};function Gj(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-subscript-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",qj,[i.title?(p(),y("title",Kj,E(i.title),1)):S("v-if",!0)])],8,Wj))],16,Uj)}const Jj=I(jj,[["render",Gj],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatSubscript.vue"]]),Yj={name:"FormatSuperscriptIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Zj=["aria-hidden","aria-label"],Xj=["fill","width","height"],Qj={d:"M16,7.41L11.41,12L16,16.59L14.59,18L10,13.41L5.41,18L4,16.59L8.59,12L4,7.41L5.41,6L10,10.59L14.59,6L16,7.41M21.85,9H16.97V8L17.86,7.18C18.62,6.54 19.18,6 19.56,5.55C19.93,5.11 20.12,4.7 20.13,4.32C20.14,4.04 20.05,3.8 19.86,3.62C19.68,3.43 19.39,3.34 19,3.33C18.69,3.34 18.42,3.4 18.16,3.5L17.5,3.89L17.05,2.72C17.32,2.5 17.64,2.33 18.03,2.19C18.42,2.05 18.85,2 19.32,2C20.1,2 20.7,2.2 21.1,2.61C21.5,3 21.72,3.54 21.72,4.18C21.71,4.74 21.53,5.26 21.18,5.73C20.84,6.21 20.42,6.66 19.91,7.09L19.27,7.61V7.63H21.85V9Z"},eU={key:0};function tU(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-superscript-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Qj,[i.title?(p(),y("title",eU,E(i.title),1)):S("v-if",!0)])],8,Xj))],16,Zj)}const iU=I(Yj,[["render",tU],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatSuperscript.vue"]]),nU={name:"FormatTextIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},sU=["aria-hidden","aria-label"],oU=["fill","width","height"],rU={d:"M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z"},aU={key:0};function lU(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-text-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",rU,[i.title?(p(),y("title",aU,E(i.title),1)):S("v-if",!0)])],8,oU))],16,sU)}const cU=I(nU,[["render",lU],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatText.vue"]]),dU={name:"FormatUnderlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},uU=["aria-hidden","aria-label"],hU=["fill","width","height"],fU={d:"M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z"},pU={key:0};function mU(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-underline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",fU,[i.title?(p(),y("title",pU,E(i.title),1)):S("v-if",!0)])],8,hU))],16,uU)}const gU=I(dU,[["render",mU],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatUnderline.vue"]]),bU={name:"HelpCircleIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},yU=["aria-hidden","aria-label"],vU=["fill","width","height"],_U={d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"},wU={key:0};function CU(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon help-circle-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",_U,[i.title?(p(),y("title",wU,E(i.title),1)):S("v-if",!0)])],8,vU))],16,yU)}const kU=I(bU,[["render",CU],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/HelpCircle.vue"]]),AU={name:"ImageEditOutlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},SU=["aria-hidden","aria-label"],xU=["fill","width","height"],MU={d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"},TU={key:0};function OU(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon image-edit-outline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",MU,[i.title?(p(),y("title",TU,E(i.title),1)):S("v-if",!0)])],8,xU))],16,SU)}const EU=I(AU,[["render",OU],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ImageEditOutline.vue"]]),IU={name:"ImageIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},$U=["aria-hidden","aria-label"],LU=["fill","width","height"],PU={d:"M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z"},DU={key:0};function RU(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon image-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",PU,[i.title?(p(),y("title",DU,E(i.title),1)):S("v-if",!0)])],8,LU))],16,$U)}const HU=I(IU,[["render",RU],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Image.vue"]]),VU={name:"ImageSizeSelectActualIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},zU=["aria-hidden","aria-label"],NU=["fill","width","height"],BU={d:"M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z"},FU={key:0};function jU(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon image-size-select-actual-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",BU,[i.title?(p(),y("title",FU,E(i.title),1)):S("v-if",!0)])],8,NU))],16,zU)}const UU=I(VU,[["render",jU],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ImageSizeSelectActual.vue"]]),WU={name:"InformationIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},qU=["aria-hidden","aria-label"],KU=["fill","width","height"],GU={d:"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},JU={key:0};function YU(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon information-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",GU,[i.title?(p(),y("title",JU,E(i.title),1)):S("v-if",!0)])],8,KU))],16,qU)}const P4=I(WU,[["render",YU],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Information.vue"]]),ZU={name:"InformationOutlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},XU=["aria-hidden","aria-label"],QU=["fill","width","height"],eW={d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"},tW={key:0};function iW(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon information-outline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",eW,[i.title?(p(),y("title",tW,E(i.title),1)):S("v-if",!0)])],8,QU))],16,XU)}const nW=I(ZU,[["render",iW],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/InformationOutline.vue"]]),sW={name:"InstagramIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},oW=["aria-hidden","aria-label"],rW=["fill","width","height"],aW={d:"M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"},lW={key:0};function cW(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon instagram-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",aW,[i.title?(p(),y("title",lW,E(i.title),1)):S("v-if",!0)])],8,rW))],16,oW)}const dW=I(sW,[["render",cW],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Instagram.vue"]]),uW={name:"KeyboardBackspaceIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},hW=["aria-hidden","aria-label"],fW=["fill","width","height"],pW={d:"M21,11H6.83L10.41,7.41L9,6L3,12L9,18L10.41,16.58L6.83,13H21V11Z"},mW={key:0};function gW(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-backspace-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",pW,[i.title?(p(),y("title",mW,E(i.title),1)):S("v-if",!0)])],8,fW))],16,hW)}const bW=I(uW,[["render",gW],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardBackspace.vue"]]),yW={name:"KeyboardEscIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},vW=["aria-hidden","aria-label"],_W=["fill","width","height"],wW={d:"M1 7H7V9H3V11H7V13H3V15H7V17H1V7M11 7H15V9H11V11H13C14.11 11 15 11.9 15 13V15C15 16.11 14.11 17 13 17H9V15H13V13H11C9.9 13 9 12.11 9 11V9C9 7.9 9.9 7 11 7M19 7H21C22.11 7 23 7.9 23 9V10H21V9H19V15H21V14H23V15C23 16.11 22.11 17 21 17H19C17.9 17 17 16.11 17 15V9C17 7.9 17.9 7 19 7Z"},CW={key:0};function kW(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-esc-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",wW,[i.title?(p(),y("title",CW,E(i.title),1)):S("v-if",!0)])],8,_W))],16,vW)}const AW=I(yW,[["render",kW],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardEsc.vue"]]),SW={name:"KeyboardF1Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},xW=["aria-hidden","aria-label"],MW=["fill","width","height"],TW={d:"M6 7H12V9H8V11H11V13H8V17H6V7M14 7H18V17H16V9H14V7Z"},OW={key:0};function EW(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f1-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",TW,[i.title?(p(),y("title",OW,E(i.title),1)):S("v-if",!0)])],8,MW))],16,xW)}const IW=I(SW,[["render",EW],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF1.vue"]]),$W={name:"KeyboardF10Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},LW=["aria-hidden","aria-label"],PW=["fill","width","height"],DW={d:"M2 7H8V9H4V11H7V13H4V17H2V7M10 7H14V17H12V9H10V7M18 7H20C21.11 7 22 7.9 22 9V15C22 16.11 21.11 17 20 17H18C16.9 17 16 16.11 16 15V9C16 7.9 16.9 7 18 7M18 9V15H20V9H18Z"},RW={key:0};function HW(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f10-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",DW,[i.title?(p(),y("title",RW,E(i.title),1)):S("v-if",!0)])],8,PW))],16,LW)}const VW=I($W,[["render",HW],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF10.vue"]]),zW={name:"KeyboardF11Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},NW=["aria-hidden","aria-label"],BW=["fill","width","height"],FW={d:"M3 7H9V9H5V11H8V13H5V17H3V7M11 7H15V17H13V9H11V7M17 7H21V17H19V9H17V7Z"},jW={key:0};function UW(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f11-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",FW,[i.title?(p(),y("title",jW,E(i.title),1)):S("v-if",!0)])],8,BW))],16,NW)}const WW=I(zW,[["render",UW],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF11.vue"]]),qW={name:"KeyboardF12Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},KW=["aria-hidden","aria-label"],GW=["fill","width","height"],JW={d:"M2 7H8V9H4V11H7V13H4V17H2V7M16 7H20C21.11 7 22 7.9 22 9V11C22 12.11 21.11 13 20 13H18V15H22V17H16V13C16 11.9 16.9 11 18 11H20V9H16V7M10 7H14V17H12V9H10V7Z"},YW={key:0};function ZW(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f12-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",JW,[i.title?(p(),y("title",YW,E(i.title),1)):S("v-if",!0)])],8,GW))],16,KW)}const XW=I(qW,[["render",ZW],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF12.vue"]]),QW={name:"KeyboardF2Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},eq=["aria-hidden","aria-label"],tq=["fill","width","height"],iq={d:"M5 7H11V9H7V11H10V13H7V17H5V7M13 7H17C18.11 7 19 7.9 19 9V11C19 12.11 18.11 13 17 13H15V15H19V17H13V13C13 11.9 13.9 11 15 11H17V9H13V7Z"},nq={key:0};function sq(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f2-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",iq,[i.title?(p(),y("title",nq,E(i.title),1)):S("v-if",!0)])],8,tq))],16,eq)}const oq=I(QW,[["render",sq],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF2.vue"]]),rq={name:"KeyboardF3Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},aq=["aria-hidden","aria-label"],lq=["fill","width","height"],cq={d:"M5 7H11V9H7V11H10V13H7V17H5V7M19 15C19 16.11 18.11 17 17 17H13V15H17V13H15V11H17V9H13V7H17C18.1 7 19 7.89 19 9V10.5C19 11.33 18.33 12 17.5 12C18.33 12 19 12.67 19 13.5V15Z"},dq={key:0};function uq(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f3-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",cq,[i.title?(p(),y("title",dq,E(i.title),1)):S("v-if",!0)])],8,lq))],16,aq)}const hq=I(rq,[["render",uq],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF3.vue"]]),fq={name:"KeyboardF4Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},pq=["aria-hidden","aria-label"],mq=["fill","width","height"],gq={d:"M5 7H11V9H7V11H10V13H7V17H5V7M13 7H15V11H17V7H19V17H17V13H13V7Z"},bq={key:0};function yq(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f4-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",gq,[i.title?(p(),y("title",bq,E(i.title),1)):S("v-if",!0)])],8,mq))],16,pq)}const vq=I(fq,[["render",yq],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF4.vue"]]),_q={name:"KeyboardF5Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},wq=["aria-hidden","aria-label"],Cq=["fill","width","height"],kq={d:"M5 7H11V9H7V11H10V13H7V17H5V7M13 7H19V9H15V11H17C18.11 11 19 11.9 19 13V15C19 16.11 18.11 17 17 17H13V15H17V13H13V7Z"},Aq={key:0};function Sq(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f5-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",kq,[i.title?(p(),y("title",Aq,E(i.title),1)):S("v-if",!0)])],8,Cq))],16,wq)}const xq=I(_q,[["render",Sq],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF5.vue"]]),Mq={name:"KeyboardF6Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Tq=["aria-hidden","aria-label"],Oq=["fill","width","height"],Eq={d:"M5 7H11V9H7V11H10V13H7V17H5V7M15 7H19V9H15V11H17C18.11 11 19 11.9 19 13V15C19 16.11 18.11 17 17 17H15C13.9 17 13 16.11 13 15V9C13 7.9 13.9 7 15 7M15 13V15H17V13H15Z"},Iq={key:0};function $q(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f6-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Eq,[i.title?(p(),y("title",Iq,E(i.title),1)):S("v-if",!0)])],8,Oq))],16,Tq)}const Lq=I(Mq,[["render",$q],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF6.vue"]]),Pq={name:"KeyboardF7Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Dq=["aria-hidden","aria-label"],Rq=["fill","width","height"],Hq={d:"M5 7H11V9H7V11H10V13H7V17H5V7M15 17H13L17 9H13V7H19V9L15 17Z"},Vq={key:0};function zq(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f7-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Hq,[i.title?(p(),y("title",Vq,E(i.title),1)):S("v-if",!0)])],8,Rq))],16,Dq)}const Nq=I(Pq,[["render",zq],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF7.vue"]]),Bq={name:"KeyboardF8Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Fq=["aria-hidden","aria-label"],jq=["fill","width","height"],Uq={d:"M5 7H11V9H7V11H10V13H7V17H5V7M15 13V15H17V13H15M15 9V11H17V9H15M15 17C13.9 17 13 16.11 13 15V13.5C13 12.67 13.67 12 14.5 12C13.67 12 13 11.33 13 10.5V9C13 7.9 13.9 7 15 7H17C18.1 7 19 7.89 19 9V10.5C19 11.33 18.33 12 17.5 12C18.33 12 19 12.67 19 13.5V15C19 16.11 18.11 17 17 17H15Z"},Wq={key:0};function qq(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f8-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Uq,[i.title?(p(),y("title",Wq,E(i.title),1)):S("v-if",!0)])],8,jq))],16,Fq)}const Kq=I(Bq,[["render",qq],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF8.vue"]]),Gq={name:"KeyboardF9Icon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Jq=["aria-hidden","aria-label"],Yq=["fill","width","height"],Zq={d:"M5 7H11V9H7V11H10V13H7V17H5V7M17 17H13V15H17V13H15C13.9 13 13 12.11 13 11V9C13 7.9 13.9 7 15 7H17C18.11 7 19 7.9 19 9V15C19 16.11 18.11 17 17 17M17 11V9H15V11H17Z"},Xq={key:0};function Qq(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-f9-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Zq,[i.title?(p(),y("title",Xq,E(i.title),1)):S("v-if",!0)])],8,Yq))],16,Jq)}const eK=I(Gq,[["render",Qq],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardF9.vue"]]),tK={name:"KeyboardReturnIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},iK=["aria-hidden","aria-label"],nK=["fill","width","height"],sK={d:"M19,7V11H5.83L9.41,7.41L8,6L2,12L8,18L9.41,16.58L5.83,13H21V7H19Z"},oK={key:0};function rK(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-return-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",sK,[i.title?(p(),y("title",oK,E(i.title),1)):S("v-if",!0)])],8,nK))],16,iK)}const aK=I(tK,[["render",rK],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardReturn.vue"]]),lK={name:"KeyboardSpaceIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},cK=["aria-hidden","aria-label"],dK=["fill","width","height"],uK={d:"M3 15H5V19H19V15H21V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V15Z"},hK={key:0};function fK(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-space-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",uK,[i.title?(p(),y("title",hK,E(i.title),1)):S("v-if",!0)])],8,dK))],16,cK)}const pK=I(lK,[["render",fK],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardSpace.vue"]]),mK={name:"KeyboardTabIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},gK=["aria-hidden","aria-label"],bK=["fill","width","height"],yK={d:"M20,18H22V6H20M11.59,7.41L15.17,11H1V13H15.17L11.59,16.58L13,18L19,12L13,6L11.59,7.41Z"},vK={key:0};function _K(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon keyboard-tab-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",yK,[i.title?(p(),y("title",vK,E(i.title),1)):S("v-if",!0)])],8,bK))],16,gK)}const wK=I(mK,[["render",_K],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/KeyboardTab.vue"]]),CK={name:"LabelIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},kK=["aria-hidden","aria-label"],AK=["fill","width","height"],SK={d:"M17.63,5.84C17.27,5.33 16.67,5 16,5H5A2,2 0 0,0 3,7V17A2,2 0 0,0 5,19H16C16.67,19 17.27,18.66 17.63,18.15L22,12L17.63,5.84Z"},xK={key:0};function MK(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon label-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",SK,[i.title?(p(),y("title",xK,E(i.title),1)):S("v-if",!0)])],8,AK))],16,kK)}const TK=I(CK,[["render",MK],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Label.vue"]]),OK={name:"LightbulbOnIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},EK=["aria-hidden","aria-label"],IK=["fill","width","height"],$K={d:"M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63Z"},LK={key:0};function PK(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon lightbulb-on-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",$K,[i.title?(p(),y("title",LK,E(i.title),1)):S("v-if",!0)])],8,IK))],16,EK)}const DK=I(OK,[["render",PK],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/LightbulbOn.vue"]]),RK={name:"LinkIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},HK=["aria-hidden","aria-label"],VK=["fill","width","height"],zK={d:"M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"},NK={key:0};function BK(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon link-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",zK,[i.title?(p(),y("title",NK,E(i.title),1)):S("v-if",!0)])],8,VK))],16,HK)}const FK=I(RK,[["render",BK],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Link.vue"]]),jK={name:"ListStatusIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},UK=["aria-hidden","aria-label"],WK=["fill","width","height"],qK={d:"M16.5 11L13 7.5L14.4 6.1L16.5 8.2L20.7 4L22.1 5.4L16.5 11M11 7H2V9H11V7M21 13.4L19.6 12L17 14.6L14.4 12L13 13.4L15.6 16L13 18.6L14.4 20L17 17.4L19.6 20L21 18.6L18.4 16L21 13.4M11 15H2V17H11V15Z"},KK={key:0};function GK(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon list-status-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",qK,[i.title?(p(),y("title",KK,E(i.title),1)):S("v-if",!0)])],8,WK))],16,UK)}const JK=I(jK,[["render",GK],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ListStatus.vue"]]),YK={name:"LockIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},ZK=["aria-hidden","aria-label"],XK=["fill","width","height"],QK={d:"M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"},eG={key:0};function tG(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon lock-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",QK,[i.title?(p(),y("title",eG,E(i.title),1)):S("v-if",!0)])],8,XK))],16,ZK)}const iG=I(YK,[["render",tG],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Lock.vue"]]),nG={name:"MagnifyIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},sG=["aria-hidden","aria-label"],oG=["fill","width","height"],rG={d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},aG={key:0};function lG(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon magnify-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",rG,[i.title?(p(),y("title",aG,E(i.title),1)):S("v-if",!0)])],8,oG))],16,sG)}const cG=I(nG,[["render",lG],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Magnify.vue"]]),dG={name:"MapMarkerIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},uG=["aria-hidden","aria-label"],hG=["fill","width","height"],fG={d:"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"},pG={key:0};function mG(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon map-marker-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",fG,[i.title?(p(),y("title",pG,E(i.title),1)):S("v-if",!0)])],8,hG))],16,uG)}const gG=I(dG,[["render",mG],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/MapMarker.vue"]]),bG={name:"MenuDownIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},yG=["aria-hidden","aria-label"],vG=["fill","width","height"],_G={d:"M7,10L12,15L17,10H7Z"},wG={key:0};function CG(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon menu-down-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",_G,[i.title?(p(),y("title",wG,E(i.title),1)):S("v-if",!0)])],8,vG))],16,yG)}const kG=I(bG,[["render",CG],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/MenuDown.vue"]]),AG={name:"MinusBoxIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},SG=["aria-hidden","aria-label"],xG=["fill","width","height"],MG={d:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},TG={key:0};function OG(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon minus-box-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",MG,[i.title?(p(),y("title",TG,E(i.title),1)):S("v-if",!0)])],8,xG))],16,SG)}const EG=I(AG,[["render",OG],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/MinusBox.vue"]]),IG={name:"MinusIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},$G=["aria-hidden","aria-label"],LG=["fill","width","height"],PG={d:"M19,13H5V11H19V13Z"},DG={key:0};function RG(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon minus-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",PG,[i.title?(p(),y("title",DG,E(i.title),1)):S("v-if",!0)])],8,LG))],16,$G)}const HG=I(IG,[["render",RG],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Minus.vue"]]),VG={name:"MonitorIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},zG=["aria-hidden","aria-label"],NG=["fill","width","height"],BG={d:"M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z"},FG={key:0};function jG(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon monitor-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",BG,[i.title?(p(),y("title",FG,E(i.title),1)):S("v-if",!0)])],8,NG))],16,zG)}const UG=I(VG,[["render",jG],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Monitor.vue"]]),WG={name:"PaperclipIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},qG=["aria-hidden","aria-label"],KG=["fill","width","height"],GG={d:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},JG={key:0};function YG(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon paperclip-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",GG,[i.title?(p(),y("title",JG,E(i.title),1)):S("v-if",!0)])],8,KG))],16,qG)}const ZG=I(WG,[["render",YG],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Paperclip.vue"]]),XG={name:"PencilIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},QG=["aria-hidden","aria-label"],eJ=["fill","width","height"],tJ={d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},iJ={key:0};function nJ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon pencil-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",tJ,[i.title?(p(),y("title",iJ,E(i.title),1)):S("v-if",!0)])],8,eJ))],16,QG)}const sJ=I(XG,[["render",nJ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Pencil.vue"]]),oJ={name:"PhoneIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},rJ=["aria-hidden","aria-label"],aJ=["fill","width","height"],lJ={d:"M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"},cJ={key:0};function dJ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon phone-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",lJ,[i.title?(p(),y("title",cJ,E(i.title),1)):S("v-if",!0)])],8,aJ))],16,rJ)}const uJ=I(oJ,[["render",dJ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Phone.vue"]]),hJ={name:"PlayBoxIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},fJ=["aria-hidden","aria-label"],pJ=["fill","width","height"],mJ={d:"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.89 20.1 3 19 3M10 16V8L15 12"},gJ={key:0};function bJ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon play-box-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",mJ,[i.title?(p(),y("title",gJ,E(i.title),1)):S("v-if",!0)])],8,pJ))],16,fJ)}const yJ=I(hJ,[["render",bJ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/PlayBox.vue"]]),vJ={name:"PlaylistEditIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},_J=["aria-hidden","aria-label"],wJ=["fill","width","height"],CJ={d:"M2,6V8H14V6H2M2,10V12H14V10H2M20.04,10.13C19.9,10.13 19.76,10.19 19.65,10.3L18.65,11.3L20.7,13.35L21.7,12.35C21.92,12.14 21.92,11.79 21.7,11.58L20.42,10.3C20.31,10.19 20.18,10.13 20.04,10.13M18.07,11.88L12,17.94V20H14.06L20.12,13.93L18.07,11.88M2,14V16H10V14H2Z"},kJ={key:0};function AJ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon playlist-edit-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",CJ,[i.title?(p(),y("title",kJ,E(i.title),1)):S("v-if",!0)])],8,wJ))],16,_J)}const SJ=I(vJ,[["render",AJ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/PlaylistEdit.vue"]]),xJ={name:"PlusIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},MJ=["aria-hidden","aria-label"],TJ=["fill","width","height"],OJ={d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"},EJ={key:0};function IJ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon plus-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",OJ,[i.title?(p(),y("title",EJ,E(i.title),1)):S("v-if",!0)])],8,TJ))],16,MJ)}const $J=I(xJ,[["render",IJ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Plus.vue"]]),LJ={name:"RedoVariantIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},PJ=["aria-hidden","aria-label"],DJ=["fill","width","height"],RJ={d:"M10.5,7A6.5,6.5 0 0,0 4,13.5A6.5,6.5 0 0,0 10.5,20H14V18H10.5C8,18 6,16 6,13.5C6,11 8,9 10.5,9H16.17L13.09,12.09L14.5,13.5L20,8L14.5,2.5L13.08,3.91L16.17,7H10.5M18,18H16V20H18V18Z"},HJ={key:0};function VJ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon redo-variant-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",RJ,[i.title?(p(),y("title",HJ,E(i.title),1)):S("v-if",!0)])],8,DJ))],16,PJ)}const zJ=I(LJ,[["render",VJ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/RedoVariant.vue"]]),NJ={name:"RefreshIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},BJ=["aria-hidden","aria-label"],FJ=["fill","width","height"],jJ={d:"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"},UJ={key:0};function WJ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon refresh-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",jJ,[i.title?(p(),y("title",UJ,E(i.title),1)):S("v-if",!0)])],8,FJ))],16,BJ)}const qJ=I(NJ,[["render",WJ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Refresh.vue"]]),KJ={name:"ShapeIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},GJ=["aria-hidden","aria-label"],JJ=["fill","width","height"],YJ={d:"M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z"},ZJ={key:0};function XJ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon shape-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",YJ,[i.title?(p(),y("title",ZJ,E(i.title),1)):S("v-if",!0)])],8,JJ))],16,GJ)}const QJ=I(KJ,[["render",XJ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Shape.vue"]]),eY={name:"SignTextIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},tY=["aria-hidden","aria-label"],iY=["fill","width","height"],nY={d:"M11,3L12,2L13,3V5H20A1,1 0 0,1 21,6V16A1,1 0 0,1 20,17H13V20A2,2 0 0,1 15,22H9A2,2 0 0,1 11,20V17H4A1,1 0 0,1 3,16V6A1,1 0 0,1 4,5H11V3M6,8V10H18V8H6M6,12V14H13V12H6Z"},sY={key:0};function oY(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon sign-text-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",nY,[i.title?(p(),y("title",sY,E(i.title),1)):S("v-if",!0)])],8,iY))],16,tY)}const rY=I(eY,[["render",oY],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/SignText.vue"]]),aY={name:"TabletIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},lY=["aria-hidden","aria-label"],cY=["fill","width","height"],dY={d:"M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z"},uY={key:0};function hY(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon tablet-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",dY,[i.title?(p(),y("title",uY,E(i.title),1)):S("v-if",!0)])],8,cY))],16,lY)}const fY=I(aY,[["render",hY],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Tablet.vue"]]),pY={name:"TagIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},mY=["aria-hidden","aria-label"],gY=["fill","width","height"],bY={d:"M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z"},yY={key:0};function vY(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon tag-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",bY,[i.title?(p(),y("title",yY,E(i.title),1)):S("v-if",!0)])],8,gY))],16,mY)}const _Y=I(pY,[["render",vY],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Tag.vue"]]),wY={name:"TextBoxIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},CY=["aria-hidden","aria-label"],kY=["fill","width","height"],AY={d:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},SY={key:0};function xY(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon text-box-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",AY,[i.title?(p(),y("title",SY,E(i.title),1)):S("v-if",!0)])],8,kY))],16,CY)}const MY=I(wY,[["render",xY],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TextBox.vue"]]),TY={name:"TextBoxMultipleIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},OY=["aria-hidden","aria-label"],EY=["fill","width","height"],IY={d:"M16,15H9V13H16M19,11H9V9H19M19,7H9V5H19M21,1H7C5.89,1 5,1.89 5,3V17C5,18.11 5.9,19 7,19H21C22.11,19 23,18.11 23,17V3C23,1.89 22.1,1 21,1M3,5V21H19V23H3A2,2 0 0,1 1,21V5H3Z"},$Y={key:0};function LY(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon text-box-multiple-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",IY,[i.title?(p(),y("title",$Y,E(i.title),1)):S("v-if",!0)])],8,EY))],16,OY)}const PY=I(TY,[["render",LY],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TextBoxMultiple.vue"]]),DY={name:"TextBoxRemoveIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},RY=["aria-hidden","aria-label"],HY=["fill","width","height"],VY={d:"M14.46,15.88L15.88,14.46L18,16.59L20.12,14.46L21.54,15.88L19.41,18L21.54,20.12L20.12,21.54L18,19.41L15.88,21.54L14.46,20.12L16.59,18L14.46,15.88M12,17V15H7V17H12M17,11H7V13H14.69C13.07,14.07 12,15.91 12,18C12,19.09 12.29,20.12 12.8,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H19A2,2 0 0,1 21,5V12.8C20.12,12.29 19.09,12 18,12L17,12.08V11M17,9V7H7V9H17Z"},zY={key:0};function NY(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon text-box-remove-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",VY,[i.title?(p(),y("title",zY,E(i.title),1)):S("v-if",!0)])],8,HY))],16,RY)}const BY=I(DY,[["render",NY],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TextBoxRemove.vue"]]),FY={name:"TrashCanIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},jY=["aria-hidden","aria-label"],UY=["fill","width","height"],WY={d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z"},qY={key:0};function KY(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon trash-can-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",WY,[i.title?(p(),y("title",qY,E(i.title),1)):S("v-if",!0)])],8,UY))],16,jY)}const GY=I(FY,[["render",KY],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TrashCan.vue"]]),JY={name:"TrashCanOutlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},YY=["aria-hidden","aria-label"],ZY=["fill","width","height"],XY={d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"},QY={key:0};function eZ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon trash-can-outline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",XY,[i.title?(p(),y("title",QY,E(i.title),1)):S("v-if",!0)])],8,ZY))],16,YY)}const tZ=I(JY,[["render",eZ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TrashCanOutline.vue"]]),iZ={name:"TuneIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},nZ=["aria-hidden","aria-label"],sZ=["fill","width","height"],oZ={d:"M3,17V19H9V17H3M3,5V7H13V5H3M13,21V19H21V17H13V15H11V21H13M7,9V11H3V13H7V15H9V9H7M21,13V11H11V13H21M15,9H17V7H21V5H17V3H15V9Z"},rZ={key:0};function aZ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon tune-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",oZ,[i.title?(p(),y("title",rZ,E(i.title),1)):S("v-if",!0)])],8,sZ))],16,nZ)}const lZ=I(iZ,[["render",aZ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Tune.vue"]]),cZ={name:"UndoVariantIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},dZ=["aria-hidden","aria-label"],uZ=["fill","width","height"],hZ={d:"M13.5,7A6.5,6.5 0 0,1 20,13.5A6.5,6.5 0 0,1 13.5,20H10V18H13.5C16,18 18,16 18,13.5C18,11 16,9 13.5,9H7.83L10.91,12.09L9.5,13.5L4,8L9.5,2.5L10.92,3.91L7.83,7H13.5M6,18H8V20H6V18Z"},fZ={key:0};function pZ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon undo-variant-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",hZ,[i.title?(p(),y("title",fZ,E(i.title),1)):S("v-if",!0)])],8,uZ))],16,dZ)}const mZ=I(cZ,[["render",pZ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/UndoVariant.vue"]]),gZ={name:"UnfoldLessHorizontalIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},bZ=["aria-hidden","aria-label"],yZ=["fill","width","height"],vZ={d:"M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z"},_Z={key:0};function wZ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon unfold-less-horizontal-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",vZ,[i.title?(p(),y("title",_Z,E(i.title),1)):S("v-if",!0)])],8,yZ))],16,bZ)}const CZ=I(gZ,[["render",wZ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/UnfoldLessHorizontal.vue"]]),kZ={name:"UnfoldMoreHorizontalIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},AZ=["aria-hidden","aria-label"],SZ=["fill","width","height"],xZ={d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"},MZ={key:0};function TZ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon unfold-more-horizontal-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",xZ,[i.title?(p(),y("title",MZ,E(i.title),1)):S("v-if",!0)])],8,SZ))],16,AZ)}const OZ=I(kZ,[["render",TZ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/UnfoldMoreHorizontal.vue"]]),EZ={name:"VideoIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},IZ=["aria-hidden","aria-label"],$Z=["fill","width","height"],LZ={d:"M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z"},PZ={key:0};function DZ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon video-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",LZ,[i.title?(p(),y("title",PZ,E(i.title),1)):S("v-if",!0)])],8,$Z))],16,IZ)}const RZ=I(EZ,[["render",DZ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Video.vue"]]),HZ={name:"ViewColumnIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},VZ=["aria-hidden","aria-label"],zZ=["fill","width","height"],NZ={d:"M16,5V18H21V5M4,18H9V5H4M10,18H15V5H10V18Z"},BZ={key:0};function FZ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon view-column-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",NZ,[i.title?(p(),y("title",BZ,E(i.title),1)):S("v-if",!0)])],8,zZ))],16,VZ)}const jZ=I(HZ,[["render",FZ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ViewColumn.vue"]]),UZ={name:"WaterOffIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},WZ=["aria-hidden","aria-label"],qZ=["fill","width","height"],KZ={d:"M20.84 22.73L16.29 18.18C15.2 19.3 13.69 20 12 20C8.69 20 6 17.31 6 14C6 12.67 6.67 11.03 7.55 9.44L1.11 3L2.39 1.73L22.11 21.46L20.84 22.73M18 14C18 10 12 3.25 12 3.25S10.84 4.55 9.55 6.35L17.95 14.75C18 14.5 18 14.25 18 14Z"},GZ={key:0};function JZ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon water-off-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",KZ,[i.title?(p(),y("title",GZ,E(i.title),1)):S("v-if",!0)])],8,qZ))],16,WZ)}const YZ=I(UZ,[["render",JZ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/WaterOff.vue"]]),ZZ={name:"WebIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},XZ=["aria-hidden","aria-label"],QZ=["fill","width","height"],eX={d:"M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},tX={key:0};function iX(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon web-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",eX,[i.title?(p(),y("title",tX,E(i.title),1)):S("v-if",!0)])],8,QZ))],16,XZ)}const nX=I(ZZ,[["render",iX],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Web.vue"]]),sX={name:"DatabaseExportIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},oX=["aria-hidden","aria-label"],rX=["fill","width","height"],aX={d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C12.5,11 13,10.97 13.5,10.92V9.5H16.39L15.39,8.5L18.9,5C17.5,3.8 14.94,3 12,3M18.92,7.08L17.5,8.5L20,11H15V13H20L17.5,15.5L18.92,16.92L23.84,12M4,9V12C4,14.21 7.58,16 12,16C13.17,16 14.26,15.85 15.25,15.63L16.38,14.5H13.5V12.92C13,12.97 12.5,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C14.94,21 17.5,20.2 18.9,19L17,17.1C15.61,17.66 13.9,18 12,18C7.58,18 4,16.21 4,14Z"},lX={key:0};function cX(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon database-export-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",aX,[i.title?(p(),y("title",lX,E(i.title),1)):S("v-if",!0)])],8,rX))],16,oX)}const dX=I(sX,[["render",cX],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/DatabaseExport.vue"]]),uX={name:"FormatColorHighlightIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},hX=["aria-hidden","aria-label"],fX=["fill","width","height"],pX={d:"M4,17L6.75,14.25L6.72,14.23C6.14,13.64 6.14,12.69 6.72,12.11L11.46,7.37L15.7,11.61L10.96,16.35C10.39,16.93 9.46,16.93 8.87,16.37L8.24,17H4M15.91,2.91C16.5,2.33 17.45,2.33 18.03,2.91L20.16,5.03C20.74,5.62 20.74,6.57 20.16,7.16L16.86,10.45L12.62,6.21L15.91,2.91Z"},mX={key:0};function gX(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-color-highlight-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",pX,[i.title?(p(),y("title",mX,E(i.title),1)):S("v-if",!0)])],8,fX))],16,hX)}const bX=I(uX,[["render",gX],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatColorHighlight.vue"]]),yX={name:"TableIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},vX=["aria-hidden","aria-label"],_X=["fill","width","height"],wX={d:"M5,4H19A2,2 0 0,1 21,6V18A2,2 0 0,1 19,20H5A2,2 0 0,1 3,18V6A2,2 0 0,1 5,4M5,8V12H11V8H5M13,8V12H19V8H13M5,14V18H11V14H5M13,14V18H19V14H13Z"},CX={key:0};function kX(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",wX,[i.title?(p(),y("title",CX,E(i.title),1)):S("v-if",!0)])],8,_X))],16,vX)}const AX=I(yX,[["render",kX],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Table.vue"]]),SX={name:"PaletteSwatchIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},xX=["aria-hidden","aria-label"],MX=["fill","width","height"],TX={d:"M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z"},OX={key:0};function EX(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon palette-swatch-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",TX,[i.title?(p(),y("title",OX,E(i.title),1)):S("v-if",!0)])],8,MX))],16,xX)}const IX=I(SX,[["render",EX],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/PaletteSwatch.vue"]]),$X={name:"TableRowPlusAfterIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},LX=["aria-hidden","aria-label"],PX=["fill","width","height"],DX={d:"M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z"},RX={key:0};function HX(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-row-plus-after-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",DX,[i.title?(p(),y("title",RX,E(i.title),1)):S("v-if",!0)])],8,PX))],16,LX)}const VX=I($X,[["render",HX],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableRowPlusAfter.vue"]]),zX={name:"TableColumnPlusAfterIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},NX=["aria-hidden","aria-label"],BX=["fill","width","height"],FX={d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},jX={key:0};function UX(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-column-plus-after-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",FX,[i.title?(p(),y("title",jX,E(i.title),1)):S("v-if",!0)])],8,BX))],16,NX)}const WX=I(zX,[["render",UX],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableColumnPlusAfter.vue"]]),qX={name:"TableColumnRemoveIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},KX=["aria-hidden","aria-label"],GX=["fill","width","height"],JX={d:"M4,2H11A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M17.59,12L15,9.41L16.41,8L19,10.59L21.59,8L23,9.41L20.41,12L23,14.59L21.59,16L19,13.41L16.41,16L15,14.59L17.59,12Z"},YX={key:0};function ZX(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-column-remove-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",JX,[i.title?(p(),y("title",YX,E(i.title),1)):S("v-if",!0)])],8,GX))],16,KX)}const XX=I(qX,[["render",ZX],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableColumnRemove.vue"]]),QX={name:"TableRowRemoveIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},eQ=["aria-hidden","aria-label"],tQ=["fill","width","height"],iQ={d:"M9.41,13L12,15.59L14.59,13L16,14.41L13.41,17L16,19.59L14.59,21L12,18.41L9.41,21L8,19.59L10.59,17L8,14.41L9.41,13M22,9A2,2 0 0,1 20,11H4A2,2 0 0,1 2,9V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V9M4,9H8V6H4V9M10,9H14V6H10V9M16,9H20V6H16V9Z"},nQ={key:0};function sQ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-row-remove-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",iQ,[i.title?(p(),y("title",nQ,E(i.title),1)):S("v-if",!0)])],8,tQ))],16,eQ)}const oQ=I(QX,[["render",sQ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableRowRemove.vue"]]),rQ={name:"TablePlusIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},aQ=["aria-hidden","aria-label"],lQ=["fill","width","height"],cQ={d:"M18,14H20V17H23V19H20V22H18V19H15V17H18V14M4,3H18A2,2 0 0,1 20,5V12.08C18.45,11.82 16.92,12.18 15.68,13H12V17H13.08C12.97,17.68 12.97,18.35 13.08,19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,7V11H10V7H4M12,7V11H18V7H12M4,13V17H10V13H4Z"},dQ={key:0};function uQ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-plus-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",cQ,[i.title?(p(),y("title",dQ,E(i.title),1)):S("v-if",!0)])],8,lQ))],16,aQ)}const hQ=I(rQ,[["render",uQ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TablePlus.vue"]]),fQ={name:"TableMinusIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},pQ=["aria-hidden","aria-label"],mQ=["fill","width","height"],gQ={d:"M15 19V17H23V19H15M4 3H18C19.11 3 20 3.9 20 5V12.08C18.45 11.82 16.92 12.18 15.68 13H12V17H13.08C12.97 17.68 12.97 18.35 13.08 19H4C2.9 19 2 18.11 2 17V5C2 3.9 2.9 3 4 3M4 7V11H10V7H4M12 7V11H18V7H12M4 13V17H10V13H4Z"},bQ={key:0};function yQ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-minus-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",gQ,[i.title?(p(),y("title",bQ,E(i.title),1)):S("v-if",!0)])],8,mQ))],16,pQ)}const vQ=I(fQ,[["render",yQ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableMinus.vue"]]),_Q={name:"TableColumnIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},wQ=["aria-hidden","aria-label"],CQ=["fill","width","height"],kQ={d:"M8,2H16A2,2 0 0,1 18,4V20A2,2 0 0,1 16,22H8A2,2 0 0,1 6,20V4A2,2 0 0,1 8,2M8,10V14H16V10H8M8,16V20H16V16H8M8,4V8H16V4H8Z"},AQ={key:0};function SQ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-column-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",kQ,[i.title?(p(),y("title",AQ,E(i.title),1)):S("v-if",!0)])],8,CQ))],16,wQ)}const xQ=I(_Q,[["render",SQ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableColumn.vue"]]),MQ={name:"TableRowIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},TQ=["aria-hidden","aria-label"],OQ=["fill","width","height"],EQ={d:"M22,14A2,2 0 0,1 20,16H4A2,2 0 0,1 2,14V10A2,2 0 0,1 4,8H20A2,2 0 0,1 22,10V14M4,14H8V10H4V14M10,14H14V10H10V14M16,14H20V10H16V14Z"},IQ={key:0};function $Q(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-row-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",EQ,[i.title?(p(),y("title",IQ,E(i.title),1)):S("v-if",!0)])],8,OQ))],16,TQ)}const LQ=I(MQ,[["render",$Q],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableRow.vue"]]),PQ={name:"TableSplitCellIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},DQ=["aria-hidden","aria-label"],RQ=["fill","width","height"],HQ={d:"M19 14H21V20H3V14H5V18H19V14M3 4V10H5V6H19V10H21V4H3M11 11V13H8V15L5 12L8 9V11H11M16 11V9L19 12L16 15V13H13V11H16Z"},VQ={key:0};function zQ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-split-cell-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",HQ,[i.title?(p(),y("title",VQ,E(i.title),1)):S("v-if",!0)])],8,RQ))],16,DQ)}const NQ=I(PQ,[["render",zQ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableSplitCell.vue"]]),BQ={name:"TableMergeCellsIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},FQ=["aria-hidden","aria-label"],jQ=["fill","width","height"],UQ={d:"M5,10H3V4H11V6H5V10M19,18H13V20H21V14H19V18M5,18V14H3V20H11V18H5M21,4H13V6H19V10H21V4M8,13V15L11,12L8,9V11H3V13H8M16,11V9L13,12L16,15V13H21V11H16Z"},WQ={key:0};function qQ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon table-merge-cells-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",UQ,[i.title?(p(),y("title",WQ,E(i.title),1)):S("v-if",!0)])],8,jQ))],16,FQ)}const KQ=I(BQ,[["render",qQ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TableMergeCells.vue"]]),GQ={name:"EarthIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},JQ=["aria-hidden","aria-label"],YQ=["fill","width","height"],ZQ={d:"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},XQ={key:0};function QQ(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon earth-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",ZQ,[i.title?(p(),y("title",XQ,E(i.title),1)):S("v-if",!0)])],8,YQ))],16,JQ)}const eee=I(GQ,[["render",QQ],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Earth.vue"]]),tee={name:"DatabaseCheckIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},iee=["aria-hidden","aria-label"],nee=["fill","width","height"],see={d:"M12 3C16.42 3 20 4.79 20 7S16.42 11 12 11 4 9.21 4 7 7.58 3 12 3M4 9C4 11.21 7.58 13 12 13S20 11.21 20 9V12.08L19 12C16.41 12 14.2 13.64 13.36 15.94L12 16C7.58 16 4 14.21 4 12V9M4 14C4 16.21 7.58 18 12 18H13C13 19.05 13.27 20.04 13.75 20.9L12 21C7.58 21 4 19.21 4 17V14M18 21.08L15.25 18.08L16.41 16.92L18 18.5L21.59 14.92L22.75 16.33L18 21.08"},oee={key:0};function ree(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon database-check-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",see,[i.title?(p(),y("title",oee,E(i.title),1)):S("v-if",!0)])],8,nee))],16,iee)}const aee=I(tee,[["render",ree],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/DatabaseCheck.vue"]]),lee={name:"TrayFullIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},cee=["aria-hidden","aria-label"],dee=["fill","width","height"],uee={d:"M18 5H6V7H18M6 9H18V11H6M2 12H4V17H20V12H22V17A2 2 0 0 1 20 19H4A2 2 0 0 1 2 17M18 13H6V15H18Z"},hee={key:0};function fee(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon tray-full-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",uee,[i.title?(p(),y("title",hee,E(i.title),1)):S("v-if",!0)])],8,dee))],16,cee)}const pee=I(lee,[["render",fee],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/TrayFull.vue"]]),mee={name:"FormSelectIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},gee=["aria-hidden","aria-label"],bee=["fill","width","height"],yee={d:"M15 5H18L16.5 7L15 5M5 2H19C20.11 2 21 2.9 21 4V20C21 21.11 20.11 22 19 22H5C3.9 22 3 21.11 3 20V4C3 2.9 3.9 2 5 2M5 4V8H19V4H5M5 20H19V10H5V20M7 12H17V14H7V12M7 16H17V18H7V16Z"},vee={key:0};function _ee(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon form-select-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",yee,[i.title?(p(),y("title",vee,E(i.title),1)):S("v-if",!0)])],8,bee))],16,gee)}const wee=I(mee,[["render",_ee],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormSelect.vue"]]),Cee={name:"FormTextboxIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},kee=["aria-hidden","aria-label"],Aee=["fill","width","height"],See={d:"M17,7H22V17H17V19A1,1 0 0,0 18,20H20V22H17.5C16.95,22 16,21.55 16,21C16,21.55 15.05,22 14.5,22H12V20H14A1,1 0 0,0 15,19V5A1,1 0 0,0 14,4H12V2H14.5C15.05,2 16,2.45 16,3C16,2.45 16.95,2 17.5,2H20V4H18A1,1 0 0,0 17,5V7M2,7H13V9H4V15H13V17H2V7M20,15V9H17V15H20Z"},xee={key:0};function Mee(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon form-textbox-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",See,[i.title?(p(),y("title",xee,E(i.title),1)):S("v-if",!0)])],8,Aee))],16,kee)}const Tee=I(Cee,[["render",Mee],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormTextbox.vue"]]),Oee={name:"FormTextareaIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Eee=["aria-hidden","aria-label"],Iee=["fill","width","height"],$ee={d:"M13 9H4V23H2V7H13M23 9V7H17V5A1 1 0 0 1 18 4H20V2H17.5C17 2 16 2.45 16 3C16 2.45 15.05 2 14.5 2H12V4H14A1 1 0 0 1 15 5V19A1 1 0 0 1 14 20H12V22H14.5C15.05 22 16 21.55 16 21C16 21.55 16.95 22 17.5 22H20V20H18A1 1 0 0 1 17 19V9Z"},Lee={key:0};function Pee(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon form-textarea-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",$ee,[i.title?(p(),y("title",Lee,E(i.title),1)):S("v-if",!0)])],8,Iee))],16,Eee)}const Dee=I(Oee,[["render",Pee],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormTextarea.vue"]]),Ree={name:"RadioboxMarkedIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Hee=["aria-hidden","aria-label"],Vee=["fill","width","height"],zee={d:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z"},Nee={key:0};function Bee(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon radiobox-marked-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",zee,[i.title?(p(),y("title",Nee,E(i.title),1)):S("v-if",!0)])],8,Vee))],16,Hee)}const Fee=I(Ree,[["render",Bee],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/RadioboxMarked.vue"]]),jee={name:"FileUploadOutlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Uee=["aria-hidden","aria-label"],Wee=["fill","width","height"],qee={d:"M14,2L20,8V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2H14M18,20V9H13V4H6V20H18M12,12L16,16H13.5V19H10.5V16H8L12,12Z"},Kee={key:0};function Gee(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon file-upload-outline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",qee,[i.title?(p(),y("title",Kee,E(i.title),1)):S("v-if",!0)])],8,Wee))],16,Uee)}const Jee=I(jee,[["render",Gee],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FileUploadOutline.vue"]]),Yee={name:"CheckboxMarkedOutlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Zee=["aria-hidden","aria-label"],Xee=["fill","width","height"],Qee={d:"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"},ete={key:0};function tte(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon checkbox-marked-outline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Qee,[i.title?(p(),y("title",ete,E(i.title),1)):S("v-if",!0)])],8,Xee))],16,Zee)}const ite=I(Yee,[["render",tte],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/CheckboxMarkedOutline.vue"]]),nte={name:"ToggleSwitchOutlineIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},ste=["aria-hidden","aria-label"],ote=["fill","width","height"],rte={d:"M17,10A2,2 0 0,1 19,12A2,2 0 0,1 17,14A2,2 0 0,1 15,12A2,2 0 0,1 17,10M17,7A5,5 0 0,1 22,12A5,5 0 0,1 17,17H7A5,5 0 0,1 2,12A5,5 0 0,1 7,7H17M7,9A3,3 0 0,0 4,12A3,3 0 0,0 7,15H17A3,3 0 0,0 20,12A3,3 0 0,0 17,9H7Z"},ate={key:0};function lte(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon toggle-switch-outline-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",rte,[i.title?(p(),y("title",ate,E(i.title),1)):S("v-if",!0)])],8,ote))],16,ste)}const cte=I(nte,[["render",lte],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ToggleSwitchOutline.vue"]]),dte={name:"ArrowDecisionIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},ute=["aria-hidden","aria-label"],hte=["fill","width","height"],fte={d:"M11,5H8L12,1L16,5H13V9.43C12.25,9.89 11.58,10.46 11,11.12V5M22,11L18,7V10C14.39,9.85 11.31,12.57 11,16.17C9.44,16.72 8.62,18.44 9.17,20C9.72,21.56 11.44,22.38 13,21.83C14.56,21.27 15.38,19.56 14.83,18C14.53,17.14 13.85,16.47 13,16.17C13.47,12.17 17.47,11.97 17.95,11.97V14.97L22,11M10.63,11.59C9.3,10.57 7.67,10 6,10V7L2,11L6,15V12C7.34,12.03 8.63,12.5 9.64,13.4C9.89,12.76 10.22,12.15 10.63,11.59Z"},pte={key:0};function mte(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon arrow-decision-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",fte,[i.title?(p(),y("title",pte,E(i.title),1)):S("v-if",!0)])],8,hte))],16,ute)}const gte=I(dte,[["render",mte],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ArrowDecision.vue"]]),bte={name:"MenuOpenIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},yte=["aria-hidden","aria-label"],vte=["fill","width","height"],_te={d:"M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z"},wte={key:0};function Cte(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon menu-open-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",_te,[i.title?(p(),y("title",wte,E(i.title),1)):S("v-if",!0)])],8,vte))],16,yte)}const kte=I(bte,[["render",Cte],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/MenuOpen.vue"]]),Ate={name:"ShapeRectanglePlusIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Ste=["aria-hidden","aria-label"],xte=["fill","width","height"],Mte={d:"M19,6H22V8H19V11H17V8H14V6H17V3H19V6M17,17V14H19V19H3V6H11V8H5V17H17Z"},Tte={key:0};function Ote(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon shape-rectangle-plus-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Mte,[i.title?(p(),y("title",Tte,E(i.title),1)):S("v-if",!0)])],8,xte))],16,Ste)}const Ete=I(Ate,[["render",Ote],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ShapeRectanglePlus.vue"]]),Ite={name:"GestureTapButtonIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},$te=["aria-hidden","aria-label"],Lte=["fill","width","height"],Pte={d:"M13 5C15.21 5 17 6.79 17 9C17 10.5 16.2 11.77 15 12.46V11.24C15.61 10.69 16 9.89 16 9C16 7.34 14.66 6 13 6S10 7.34 10 9C10 9.89 10.39 10.69 11 11.24V12.46C9.8 11.77 9 10.5 9 9C9 6.79 10.79 5 13 5M20 20.5C19.97 21.32 19.32 21.97 18.5 22H13C12.62 22 12.26 21.85 12 21.57L8 17.37L8.74 16.6C8.93 16.39 9.2 16.28 9.5 16.28H9.7L12 18V9C12 8.45 12.45 8 13 8S14 8.45 14 9V13.47L15.21 13.6L19.15 15.79C19.68 16.03 20 16.56 20 17.14V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.11 2.9 14 4 14H8V12L4 12L4 4H20L20 12H18V14H20V13.96L20.04 14C21.13 14 22 13.09 22 12V4C22 2.9 21.11 2 20 2Z"},Dte={key:0};function Rte(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon gesture-tap-button-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Pte,[i.title?(p(),y("title",Dte,E(i.title),1)):S("v-if",!0)])],8,Lte))],16,$te)}const Hte=I(Ite,[["render",Rte],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/GestureTapButton.vue"]]),Vte={name:"FormDropdownIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},zte=["aria-hidden","aria-label"],Nte=["fill","width","height"],Bte={d:"M17 5H20L18.5 7L17 5M3 2H21C22.11 2 23 2.9 23 4V8C23 9.11 22.11 10 21 10H16V20C16 21.11 15.11 22 14 22H3C1.9 22 1 21.11 1 20V4C1 2.9 1.9 2 3 2M3 4V8H14V4H3M21 8V4H16V8H21M3 20H14V10H3V20M5 12H12V14H5V12M5 16H12V18H5V16Z"},Fte={key:0};function jte(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon form-dropdown-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Bte,[i.title?(p(),y("title",Fte,E(i.title),1)):S("v-if",!0)])],8,Nte))],16,zte)}const Ute=I(Vte,[["render",jte],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormDropdown.vue"]]),Wte={name:"ImageAlbumIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},qte=["aria-hidden","aria-label"],Kte=["fill","width","height"],Gte={d:"M6,19L9,15.14L11.14,17.72L14.14,13.86L18,19H6M6,4H11V12L8.5,10.5L6,12M18,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V4A2,2 0 0,0 18,2Z"},Jte={key:0};function Yte(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon image-album-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Gte,[i.title?(p(),y("title",Jte,E(i.title),1)):S("v-if",!0)])],8,Kte))],16,qte)}const Zte=I(Wte,[["render",Yte],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/ImageAlbum.vue"]]),Xte={name:"MapIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Qte=["aria-hidden","aria-label"],eie=["fill","width","height"],tie={d:"M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z"},iie={key:0};function nie(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon map-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",tie,[i.title?(p(),y("title",iie,E(i.title),1)):S("v-if",!0)])],8,eie))],16,Qte)}const sie=I(Xte,[["render",nie],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Map.vue"]]),oie={name:"CardsIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},rie=["aria-hidden","aria-label"],aie=["fill","width","height"],lie={d:"M21.47,4.35L20.13,3.79V12.82L22.56,6.96C22.97,5.94 22.5,4.77 21.47,4.35M1.97,8.05L6.93,20C7.24,20.77 7.97,21.24 8.74,21.26C9,21.26 9.27,21.21 9.53,21.1L16.9,18.05C17.65,17.74 18.11,17 18.13,16.26C18.14,16 18.09,15.71 18,15.45L13,3.5C12.71,2.73 11.97,2.26 11.19,2.25C10.93,2.25 10.67,2.31 10.42,2.4L3.06,5.45C2.04,5.87 1.55,7.04 1.97,8.05M18.12,4.25A2,2 0 0,0 16.12,2.25H14.67L18.12,10.59"},cie={key:0};function die(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon cards-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",lie,[i.title?(p(),y("title",cie,E(i.title),1)):S("v-if",!0)])],8,aie))],16,rie)}const uie=I(oie,[["render",die],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/Cards.vue"]]),hie={name:"PageLayoutSidebarRightIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},fie=["aria-hidden","aria-label"],pie=["fill","width","height"],mie={d:"M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M14,8V16H18V8H14Z"},gie={key:0};function bie(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon page-layout-sidebar-right-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",mie,[i.title?(p(),y("title",gie,E(i.title),1)):S("v-if",!0)])],8,pie))],16,fie)}const yie=I(hie,[["render",bie],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/PageLayoutSidebarRight.vue"]]),vie={name:"FormatListChecksIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},_ie=["aria-hidden","aria-label"],wie=["fill","width","height"],Cie={d:"M3,5H9V11H3V5M5,7V9H7V7H5M11,7H21V9H11V7M11,15H21V17H11V15M5,20L1.5,16.5L2.91,15.09L5,17.17L9.59,12.59L11,14L5,20Z"},kie={key:0};function Aie(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon format-list-checks-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Cie,[i.title?(p(),y("title",kie,E(i.title),1)):S("v-if",!0)])],8,wie))],16,_ie)}const Sie=I(vie,[["render",Aie],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/FormatListChecks.vue"]]),xie={name:"AccountMultiplePlusIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Mie=["aria-hidden","aria-label"],Tie=["fill","width","height"],Oie={d:"M19 17V19H7V17S7 13 13 13 19 17 19 17M16 8A3 3 0 1 0 13 11A3 3 0 0 0 16 8M19.2 13.06A5.6 5.6 0 0 1 21 17V19H24V17S24 13.55 19.2 13.06M18 5A2.91 2.91 0 0 0 17.11 5.14A5 5 0 0 1 17.11 10.86A2.91 2.91 0 0 0 18 11A3 3 0 0 0 18 5M8 10H5V7H3V10H0V12H3V15H5V12H8Z"},Eie={key:0};function Iie(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon account-multiple-plus-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Oie,[i.title?(p(),y("title",Eie,E(i.title),1)):S("v-if",!0)])],8,Tie))],16,Mie)}const $ie=I(xie,[["render",Iie],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/AccountMultiplePlus.vue"]]),Lie={name:"AposI18nLocalize",props:{doc:{required:!1,type:Object,default:null},locale:{required:!1,type:Object,default:null},moduleName:{required:!0,type:String}},emits:["modal-result"],data(){var e;return{modal:{busy:!1,busyTitle:this.$t("apostrophe:localizingBusy"),disableHeader:!0,active:!1,showModal:!1},locales:Object.entries(window.apos.i18n.locales).map(([t,i])=>({name:t,label:i.label||t,_edit:i._edit})),localized:{},tooltips:{relatedDocSettings:this.$t("apostrophe:relatedDocsDefinition"),localizeAllAndOverwrite:this.$t("apostrophe:relatedDocOverwriteWarning")},wizard:{step:"selectContent",busy:!1,sections:{selectContent:{title:this.$t("apostrophe:selectContent"),if(){if(!this.allRelatedDocsKnown)return!0;const t=this.allRelatedDocs.length>0;return t||(this.wizard.values.toLocalize.data="thisDoc"),t}},selectLocales:{title:this.$t("apostrophe:selectLocales"),filter:"",if(){return!this.locale},complete(){return this.selectedLocales.length>0}},confirmSettings:{title:this.$t("apostrophe:confirmSettings"),complete(){const{toLocalize:t,relatedDocTypesToLocalize:i}=this.wizard.values;return t.data!=="relatedDocsOnly"||this.relatedDocTypes.find(({value:n})=>i.data.includes(n))}}},values:{toLocalize:{data:"thisDocAndRelated"},toLocales:{data:this.locale?[this.locale]:[]},relatedDocSettings:{data:"localizeNewRelated"},relatedDocTypesToLocalize:{data:[]},translateContent:{data:!1},translateTargets:{data:[]},translateProvider:{data:((e=apos.translation.providers[0])==null?void 0:e.name)||null}}},fullDoc:this.doc,relatedDocs:[],allRelatedDocs:[],allRelatedDocsKnown:!1,docTypesSeen:[],searchField:{label:this.$t("apostrophe:searchLocales"),placeholder:`${this.$t("apostrophe:searchLocales")}...`},searchValue:{value:"",error:!1},toLocalizeChoices:[],toLocalizeChoicesStandalone:[{value:"thisDoc",label:"apostrophe:thisDocument"},{value:"thisDocAndRelated",label:"apostrophe:thisDocumentAndRelated"},{value:"relatedDocsOnly",label:"apostrophe:relatedDocsOnly"}],toLocalizeChoicesBatch:[{value:"thisDoc",label:"apostrophe:theseDocuments"},{value:"thisDocAndRelated",label:"apostrophe:theseDocumentsAndRelated"},{value:"relatedDocsOnly",label:"apostrophe:relatedDocsOnly"}],translationEnabled:apos.modules["@apostrophecms/translation"].enabled,translationErrMsg:null,translationShowRetry:!1,translationShowLoader:!1}},computed:{moduleOptions(){return window.apos.i18n},batchOptions(){return this.$attrs.action==="localize"?{enabled:!0,action:this.$attrs.action,label:this.$attrs.label,messages:this.$attrs.messages,checked:this.$attrs.checked,checkedTypes:this.$attrs.checkedTypes||[this.moduleName],permission:this.$attrs.permission}:{enabled:!1}},isBatchMode(){return this.batchOptions.enabled},currentLocale(){var e;return((e=this.$attrs["modal-data"])==null?void 0:e.locale)??this.moduleOptions.locale},action(){return this.doc.slug.startsWith("/")?apos.page.action:apos.modules[this.doc.type].action},filteredLocales(){const e=t=>t.toLowerCase().includes(this.wizard.sections.selectLocales.filter.toLowerCase());return this.locales.filter(({name:t,label:i})=>e(t)||e(i))},selectedLocales(){return this.wizard.values.toLocales.data},allSelected(){return this.selectedLocales.length===this.locales.filter(e=>!this.isCurrentLocale(e)&&this.canEditLocale(e)).length},relatedDocTypes(){if(this.isBatchMode)return this.getRelatedSchemaTypes(this.batchOptions.checkedTypes);const e={};for(const t of this.relatedDocs)e[t.type]||(e[t.type]={value:t.type,count:0,readOnly:!1}),e[t.type].count++;for(const t of Object.values(e)){const i=this.plural(t.value);t.label={key:"apostrophe:typeWithCount",type:this.$t(i),count:t.count}}return Object.values(e)},relatedDocTypesField(){return{name:"related-doc-types-to-localize",label:"apostrophe:relatedDocTypesToLocalize",choices:this.relatedDocTypes}},visibleSections(){const e=this;return Object.entries(this.wizard.sections).filter(([,i])=>i.if?i.if.bind(e)():!0).map(([i,n])=>({name:i,...n}))},visibleStepNames(){return this.visibleSections.map(e=>e.name)},previousStepName(){const e=this.visibleStepNames;return e[e.indexOf(this.wizard.step)-1]},nextStepName(){const e=this.visibleStepNames;return e[e.indexOf(this.wizard.step)+1]}},watch:{"wizard.values.relatedDocSettings.data"(){this.isBatchMode||this.updateRelatedDocs()},"wizard.values.toLocalize.data"(){this.isBatchMode||this.updateRelatedDocs()},async"wizard.values.translateContent.data"(e){await this.checkAvailableTranslations(e)},selectedLocales(){this.isBatchMode||this.updateRelatedDocs()},relatedDocs(){for(const e of this.relatedDocs)this.docTypesSeen.includes(e.type)||(this.docTypesSeen.push(e.type),apos.modules[e.type].relatedDocument&&this.wizard.values.relatedDocTypesToLocalize.data.push(e.type))},relatedDocTypes(e){if(this.isBatchMode)for(const t of e)this.docTypesSeen.includes(t.value)||(this.docTypesSeen.push(t.value),this.wizard.values.relatedDocTypesToLocalize.data.push(t.value))}},async mounted(){if(this.modal.active=!0,this.wizard.busy=!0,this.normalizeConfig(),this.isBatchMode)this.wizard.step=this.visibleStepNames[0],this.wizard.busy=!1;else try{this.fullDoc=await apos.http.get(`${this.action}/${this.doc._id}`,{busy:!0});const e=await apos.http.get(`${this.action}/${this.fullDoc._id}/locales`,{busy:!0});this.localized=Object.fromEntries(e.results.filter(t=>t.aposLocale.endsWith(":draft")).map(t=>[t.aposLocale.split(":")[0],t])),await this.updateRelatedDocs()}finally{this.wizard.step=this.visibleStepNames[0],this.wizard.busy=!1}},methods:{normalizeConfig(){this.isBatchMode?this.toLocalizeChoices=this.toLocalizeChoicesBatch:this.toLocalizeChoices=this.toLocalizeChoicesStandalone},close(){this.modal.busy||(this.modal.showModal=!1)},goTo(e){this.wizard.step=e},goToPrevious(){this.wizard.step=this.previousStepName,this.uncheckTranslate()},uncheckTranslate(){this.wizard.values.translateContent.data=!1,this.wizard.values.translateTargets.data=[],this.translationErrMsg=null,this.translationShowRetry=!1},goToNext(){this.goTo(this.nextStepName)},isFirstStep(){return this.wizard.step===this.visibleStepNames[0]},isLastStep(){return this.wizard.step===this.visibleStepNames[this.visibleStepNames.length-1]},isStep(e){return this.wizard.step===e},isCurrentLocale(e){return this.currentLocale===e.name},canEditLocale(e){return!!e._edit},isSelected(e){return this.wizard.values.toLocales.data.some(({name:t})=>t===e.name)},isLocalized(e){return!!this.localized[e.name]},selectAll(){this.wizard.values.toLocales.data=this.locales.filter(e=>!this.isCurrentLocale(e)&&this.canEditLocale(e))},deselectAll(){this.wizard.values.toLocales.data=[]},toggleLocale(e){!this.isSelected(e)&&!this.isCurrentLocale(e)&&this.canEditLocale(e)?this.wizard.values.toLocales.data=[...this.wizard.values.toLocales.data,e]:this.isSelected(e)&&(this.wizard.values.toLocales.data=this.wizard.values.toLocales.data.filter(t=>t!==e)),this.filteredLocales.length<2&&(this.wizard.sections.selectLocales.filter="",this.searchValue.data="",this.$refs.searchInput.$el.querySelector("input").focus())},removeLocale(e){this.wizard.values.toLocales.data=this.wizard.values.toLocales.data.filter(t=>t.name!==e.name)},complete(e){e||(e=this.wizard.step);const t=this.wizard.sections[e].complete;return!t||t.bind(this)()},completedPrevious(e){for(const t of this.visibleStepNames){if(e===t)return!0;if(!this.complete(t))return!1}},localeClasses(e){const t={};return this.isCurrentLocale(e)&&(t["apos-current-locale"]=!0),this.canEditLocale(e)||(t["apos-disabled-locale"]=!0),t},singular(e){const t=apos.modules[e]||{};return t.action==="@apostrophecms/page"?"apostrophe:page":t.label||e},plural(e){const t=apos.modules[e]||{};return t.action==="@apostrophecms/page"?"apostrophe:pages":t.pluralLabel||t.label||e},updateFilter(e){e&&e.data!==void 0&&(this.wizard.sections.selectLocales.filter=e.data)},async submit(){var i,n,s,o;if(this.isBatchMode)return this.submitBatch();let e=[];const t=[];if(this.wizard.busy=!0,this.wizard.values.toLocalize.data!=="relatedDocsOnly"&&e.push(this.fullDoc),this.wizard.values.toLocalize.data!=="thisDoc")for(const r of this.relatedDocTypes){const a=this.relatedDocs.filter(l=>l.type===r.value);e=[...e,...a]}for(const r of e)if(!(r._id!==this.fullDoc._id&&!this.wizard.values.relatedDocTypesToLocalize.data.includes(r.type))){this.modal.busy=!0;for(const a of this.selectedLocales)try{if(await apos.http.post(`${apos.modules[r.type].action}/${r._id}/localize`,{body:{toLocale:a.name,update:r._id===this.fullDoc._id||this.wizard.values.relatedDocSettings.data!=="localizeNewRelated"},qs:{aposTranslateTargets:this.wizard.values.translateTargets.data,aposTranslateProvider:this.wizard.values.translateProvider.data},busy:!0}),t.push({type:"success",locale:a,docTypeLabel:this.singular(r.type),doc:r,relationship:r._id===this.fullDoc._id}),this.locale){const l=await apos.http.post(`${this.moduleOptions.action}/locale`,{body:{contextDocId:apos.adminBar.context&&apos.adminBar.context._id,locale:a.name}});l.redirectTo&&window.location.assign(l.redirectTo)}}catch(l){if(l.status!==409){const c=(n=(i=l==null?void 0:l.body)==null?void 0:i.data)!=null&&n.parentNotLocalized?this.$t("apostrophe:parentNotLocalized"):(o=(s=l==null?void 0:l.body)==null?void 0:s.data)!=null&&o.detail?this.$t(l.body.data.detail):null;t.push({type:"error",locale:a,docTypeLabel:this.singular(r.type),doc:r,relationship:r._id===this.fullDoc._id,detail:c})}}}if(t.some(({type:r})=>r==="error"))this.modal.busy=!1,this.close(),await apos.report({heading:"apostrophe:localizingReportHeading",description:"apostrophe:localizingReportDesc",footerMessageDanger:"apostrophe:localizingReportHeading",items:t,headers:[{name:"doc.aposDocId",label:"_id",format:"last:5"},{name:"docTypeLabel",label:"apostrophe:type",sortable:!0},{name:"locale.label",label:"apostrophe:locale",sortable:!0},{name:"relationship",label:"apostrophe:relationship",format:"yesno",visibility:"export",sortable:!0},{name:"doc.title",label:"apostrophe:title",width:"20%",sortable:!0},{name:"detail",label:"apostrophe:details",width:"20%"}]});else for(const r of t)await apos.notify("apostrophe:localized",{type:"success",interpolate:{type:this.$t(this.singular(r.doc.type)),title:r.doc.title,locale:r.locale.name},dismiss:!0});setTimeout(()=>{this.modal.busy=!1,this.close()},250)},async submitBatch(){const e=this.wizard.values.toLocalize.data==="thisDoc"?[]:this.wizard.values.relatedDocTypesToLocalize.data,t=apos.modules[this.moduleName].action;try{await apos.http.post(`${t}/${this.batchOptions.action}`,{busy:!0,qs:{aposTranslateTargets:this.wizard.values.translateTargets.data,aposTranslateProvider:this.wizard.values.translateProvider.data},body:{_ids:this.batchOptions.checked,relatedTypes:e,toLocales:this.selectedLocales.map(i=>i.name),update:this.wizard.values.relatedDocSettings.data!=="localizeNewRelated",relatedOnly:this.wizard.values.toLocalize.data==="relatedDocsOnly",messages:this.batchOptions.messages}})}catch{apos.notify("apostrophe:error",{type:"danger",dismiss:!0})}finally{this.modal.busy=!1,this.close()}},getRelatedSchemaTypes(e){const t=this,i={},n=new Set;return e.forEach(r=>s(apos.modules[r].schema,i,n)),Object.values(i).filter(r=>o(r.value));function s(r,a={},l=new Set){var c,u,h;for(const m of r||[])if(!l.has(m._id))switch(l.add(m._id),m.type){case"array":case"object":s(m.schema,a,l);break;case"area":{for(const g of Object.keys(((c=m.options)==null?void 0:c.widgets)||{}))s((u=apos.modules[`${g}-widget`])==null?void 0:u.schema,a,l);break}case"relationship":{a[h=m.withType]||(a[h]={value:m.withType,count:0}),a[m.withType].count||(a[m.withType].label=t.plural(m.withType)),a[m.withType].count++;break}}}function o(r){return["@apostrophecms/page","@apostrophecms/any-page-type"].includes(r)?!1:window.apos.modules[r].relatedDocument!==!1&&window.apos.modules[r].localized!==!1}},async getRelatedDocs(e){const t=this.wizard.busy;this.wizard.busy=!0;const i=apos.modules[e.type].schema,n=s(e,i);if(!n.length)return[];try{const o=await apos.http.post(`${apos.doc.action}/editable?aposMode=draft`,{body:{ids:n.map(a=>a._id)}});return n.filter(a=>o.editable.includes(a._id))}finally{this.wizard.busy=t}function s(o,r){var l,c;let a=[];for(const u of r)if(u.type==="array")for(const h of o[u.name]||[])a=[...a,...s(h,u.schema)];else if(u.type==="object")o[u.name]&&(a=[...a,...s(o[u.name],u.schema)]);else if(u.type==="area")for(const h of((l=o[u.name])==null?void 0:l.items)||[])a=[...a,...s(h,((c=apos.modules[`${h==null?void 0:h.type}-widget`])==null?void 0:c.schema)||[])];else u.type==="relationship"&&(a=[...a,...o[u.name]||[]]);return a.filter(u=>apos.modules[u.type].relatedDocument!==!1&&apos.modules[u.type].localized!==!1)}},async updateRelatedDocs(){if(this.wizard.values.toLocalize.data==="thisDoc")return;const e=this.wizard.busy;this.wizard.busy=!0;let t=await this.getRelatedDocs(this.fullDoc);if(this.allRelatedDocs=t,this.allRelatedDocsKnown=!0,this.wizard.values.relatedDocSettings.data==="localizeNewRelated"){const i=new Set;for(const n of this.selectedLocales){const s=(await apos.http.post(`${apos.modules["@apostrophecms/i18n"].action}/exist-in-locale`,{busy:!0,body:{ids:t.map(o=>o._id),locale:n.name}})).originalLocaleIds;for(const o of t.map(r=>r._id))s.includes(o)||i.add(o)}t=t.filter(n=>i.has(n._id))}this.relatedDocs=t,this.wizard.busy=e},wait(e){return new Promise(t=>{setTimeout(()=>{t()},e)})},async retryTranslationCheck(){await this.checkAvailableTranslations(!1),this.translationShowLoader=!0,await this.wait(500),await this.checkAvailableTranslations(!0),this.translationShowLoader=!1},async checkAvailableTranslations(e){var r;if(!e){this.translationErrMsg=null,this.translationShowRetry=!1,this.wizard.values.translateTargets.data=[];return}const t=this.currentLocale,i=this.wizard.values.toLocales.data;let n;try{n=await apos.http.get(`${apos.translation.action}/languages`,{qs:{provider:this.wizard.values.translateProvider.data,source:[t],target:i.map(({name:a})=>a)}})}catch(a){console.error("An error happened while getting available languages: ",a),this.wizard.values.translateTargets.data=[],this.translationErrMsg=this.$t("apostrophe:automaticTranslationErrMsg"),this.translationShowRetry=!0;return}const s=!n.source[0].supported,o=n.target.filter(({supported:a})=>!a).map(({code:a})=>{var l;return((l=i.find(c=>c.name===a))==null?void 0:l.label)||a});if(s){const a=(r=this.moduleOptions.locales[t])==null?void 0:r.label;this.translationErrMsg=this.$t("apostrophe:automaticTranslationSourceErrMsg",{source:a}),this.wizard.values.translateTargets.data=[];return}if(o.length){const a=o.length>1;this.translationErrMsg=this.$t(`apostrophe:automaticTranslationTargetErrMsg${a?"_plural":""}`,{targets:o.join(", ")})}if(o.length>=i.length){this.wizard.values.translateTargets.data=[];return}this.wizard.values.translateTargets.data=n.target.filter(({supported:a})=>a).map(({code:a})=>a)}}},Pie={class:"apos-wizard__navigation__items"},Die={class:"apos-modal__footer"},Rie={class:"apos-wizard__header"},Hie={class:"apos-modal__heading"},Vie={key:0,class:"apos-wizard__step apos-wizard__step-select-content"},zie={class:"apos-wizard__help-text"},Nie={key:1,class:"apos-wizard__step apos-wizard__step-select-locales"},Bie={class:"apos-locales"},Fie=["onClick"],jie={class:"apos-locale"},Uie={class:"apos-locale-name"},Wie={key:2,class:"apos-wizard__step apos-wizard__step-confirm-settings"},qie={class:"apos-selected-locales"},Kie={key:0,class:"apos-wizard__field-group"},Gie={class:"apos-wizard__field-group-heading"},Jie={key:1,class:"apos-wizard__help-text"},Yie={key:1,class:"apos-wizard__translation"},Zie={class:"apos-wizard__translation-title"},Xie={class:"apos-wizard__translation-title-text"},Qie={key:0},ene=["innerHTML"],tne={key:1,class:"apos-wizard__translation-spinner"};function ine(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposModalBody"),l=O("AposInputRadio"),c=O("AposIndicator"),u=O("AposInputString"),h=O("AposInputCheckboxes"),m=O("AposTranslationIndicator"),g=O("AposCheckbox"),v=O("AposSpinner"),_=O("AposModal"),w=Bn("apos-tooltip");return p(),R(_,{class:ne(["apos-wizard apos-i18n-localize",{"apos-wizard-busy":s.wizard.busy}]),modal:s.modal,onEsc:o.close,onInactive:t[9]||(t[9]=A=>s.modal.active=!1),onShowModal:t[10]||(t[10]=A=>s.modal.showModal=!0)},{leftRail:Q(()=>[D(a,{class:"apos-wizard__navigation"},{bodyMain:Q(()=>[k("ul",Pie,[(p(!0),y(Ce,null,Ie(o.visibleSections,A=>(p(),y("li",{key:A.title,class:ne(["apos-wizard__navigation__item",{"apos-is-active":o.isStep(A.name)}])},E(A.title),3))),128))])]),footer:Q(()=>[k("div",Die,[D(r,{type:"default",label:"apostrophe:cancel",modifiers:["block"],onClick:o.close},null,8,["onClick"])])]),_:1})]),main:Q(()=>[D(a,{class:"apos-wizard__content"},{bodyMain:Q(()=>[k("header",Rie,[k("h2",Hie,E(e.$t("apostrophe:localizeContent")),1)]),k("form",{class:"apos-wizard__form",onSubmit:t[6]||(t[6]=Je(()=>{},["prevent"]))},[o.isStep("selectContent")?(p(),y("fieldset",Vie,[D(l,{modelValue:s.wizard.values.toLocalize,"onUpdate:modelValue":t[0]||(t[0]=A=>s.wizard.values.toLocalize=A),field:{name:"to-localize",label:"apostrophe:selectContentToLocalize",choices:s.toLocalizeChoices}},null,8,["modelValue","field"]),k("p",zie,[D(c,{class:"apos-wizard__help-text__icon",icon:"information-icon","icon-size":16}),Mt(" "+E(e.$t("apostrophe:relatedDocsDefinition")),1)])])):S("v-if",!0),o.isStep("selectLocales")?(p(),y("fieldset",Nie,[D(r,J({class:"apos-locale-select-all",label:o.allSelected?e.$t("apostrophe:deselectAll"):e.$t("apostrophe:selectAll"),type:"quiet",modifiers:["inline"]},Xc({click:o.allSelected?o.deselectAll:o.selectAll})),null,16,["label"]),D(u,{ref:"searchInput",modelValue:s.searchValue,"onUpdate:modelValue":[t[1]||(t[1]=A=>s.searchValue=A),o.updateFilter],field:s.searchField,class:"apos-locales-filter"},null,8,["modelValue","field","onUpdate:modelValue"]),D(td,{tag:"ul",name:"selected-list",class:"apos-selected-locales"},{default:Q(()=>[(p(!0),y(Ce,null,Ie(o.selectedLocales,A=>(p(),y("li",{key:A.name,class:"apos-locale-item--selected"},[D(r,{type:"primary",class:"apos-locale-button",modifiers:["small"],icon:"close-icon","icon-size":12,label:A.label,onClick:Je(L=>o.removeLocale(A),["prevent"])},null,8,["label","onClick"])]))),128))]),_:1}),k("ul",Bie,[(p(!0),y(Ce,null,Ie(o.filteredLocales,A=>(p(),y("li",{key:A.name,class:ne(["apos-locale-item",o.localeClasses(A)]),"data-apos-test":"localeItem",onClick:L=>o.toggleLocale(A)},[k("span",jie,[o.isCurrentLocale(A)&&!o.isSelected(A)?(p(),R(c,{key:0,icon:"map-marker-icon",class:"apos-current-locale-icon","icon-size":14,title:e.$t("apostrophe:i18nDefaultLocale"),tooltip:"apostrophe:i18nCurrentLocale"},null,8,["title"])):S("v-if",!0),o.isSelected(A)?(p(),R(c,{key:1,icon:"check-bold-icon",class:"apos-check-icon","icon-size":10,title:e.$t("apostrophe:i18nCurrentlySelectedLocale")},null,8,["title"])):S("v-if",!0),Mt(" "+E(A.label)+" ",1),k("span",Uie," ("+E(A.name)+") ",1),Ge(k("span",{class:ne(["apos-locale-localized",{"apos-state-is-localized":o.isLocalized(A)}])},null,2),[[w,o.isLocalized(A)?"apostrophe:localizeLocalized":"apostrophe:localizeNotYetLocalized"]])])],10,Fie))),128))])])):S("v-if",!0),o.isStep("confirmSettings")?(p(),y("fieldset",Wie,[k("ul",qie,[(p(!0),y(Ce,null,Ie(o.selectedLocales,A=>(p(),y("li",{key:A.name,class:"apos-locale-item--selected"},[D(r,{type:"primary",class:"apos-locale-to-localize",modifiers:["small"],label:A.label,disabled:!0},null,8,["label"])]))),128))]),s.wizard.values.toLocalize.data!=="thisDoc"?(p(),y("div",Kie,[k("p",Gie,[Mt(E(e.$t("apostrophe:relatedDocSettings"))+" ",1),D(c,{class:"apos-wizard__field-group-heading__info",icon:"information-icon","icon-size":14,tooltip:s.tooltips.relatedDocSettings},null,8,["tooltip"])]),D(l,{modelValue:s.wizard.values.relatedDocSettings,"onUpdate:modelValue":t[2]||(t[2]=A=>s.wizard.values.relatedDocSettings=A),field:{name:"relatedDocSettings",choices:[{value:"localizeNewRelated",label:"apostrophe:localizeNewRelated"},{value:"localizeAllRelatedAndOverwriteExisting",label:"apostrophe:localizeAllRelated",tooltip:s.tooltips.localizeAllAndOverwrite}]}},null,8,["modelValue","field"]),o.relatedDocTypes.length?(p(),R(h,{key:0,modelValue:s.wizard.values.relatedDocTypesToLocalize,"onUpdate:modelValue":t[3]||(t[3]=A=>s.wizard.values.relatedDocTypesToLocalize=A),field:o.relatedDocTypesField},null,8,["modelValue","field"])):(p(),y("p",Jie,[D(c,{class:"apos-wizard__help-text__icon",icon:"lightbulb-on-icon","icon-color":"var(--a-success)","icon-size":16}),Mt(" "+E(e.$t("apostrophe:noNewRelatedDocuments")),1)]))])):S("v-if",!0),s.translationEnabled?(p(),y("div",Yie,[k("p",Zie,[D(m,{size:18}),k("span",Xie,E(e.$t("apostrophe:automaticTranslationSettings")),1)]),D(g,{modelValue:s.wizard.values.translateContent.data,"onUpdate:modelValue":t[4]||(t[4]=A=>s.wizard.values.translateContent.data=A),field:{name:"translate"},choice:{value:s.wizard.values.translateContent.data,label:e.$t("apostrophe:automaticTranslationCheckbox")},"data-apos-test":"localizationTranslationCheck"},null,8,["modelValue","choice"]),s.translationErrMsg?(p(),y("div",Qie,[S(" eslint-disable vue/no-v-html "),k("p",{class:"apos-wizard__translation-error","data-apos-test":"localizationTranslationErr",innerHTML:s.translationErrMsg},null,8,ene),S(" eslint-disable vue/no-v-html "),s.translationShowRetry?(p(),R(r,{key:0,label:"apostrophe:retry",modifiers:["quiet","no-motion"],"data-apos-test":"localizationTranslationRetry",onClick:t[5]||(t[5]=A=>o.retryTranslationCheck())})):S("v-if",!0)])):s.translationShowLoader?(p(),y("div",tne,[D(v)])):S("v-if",!0)])):S("v-if",!0)])):S("v-if",!0)],32)]),footer:Q(()=>[o.isLastStep()?(p(),R(r,{key:0,attrs:{"data-apos-focus-priority":!0},type:"primary",label:"apostrophe:localizeContent",disabled:!o.complete()||s.wizard.busy,onClick:o.submit},null,8,["disabled","onClick"])):(p(),R(r,{key:1,attrs:{"data-apos-focus-priority":!0},type:"primary",icon:"arrow-right-icon",modifiers:["icon-right"],disabled:!o.complete()||s.wizard.busy,"icon-size":12,label:"apostrophe:next",onClick:t[7]||(t[7]=A=>o.goToNext())},null,8,["disabled"])),o.isFirstStep()?S("v-if",!0):(p(),R(r,{key:2,type:"default",disabled:s.wizard.busy,label:"apostrophe:back",onClick:t[8]||(t[8]=A=>o.goToPrevious())},null,8,["disabled"]))]),_:1})]),_:1},8,["class","modal","onEsc"])}const nne=I(Lie,[["render",ine],["__scopeId","data-v-bc2aac5b"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/i18n/apos/components/AposI18nLocalize.vue"]]),Vo={data(){return{cancelHeading:"apostrophe:unsavedChanges",cancelDescription:"apostrophe:discardChangesPrompt",cancelNegativeLabel:"apostrophe:resumeEditing",cancelAffirmativeLabel:"apostrophe:discardChanges"}},methods:{async confirmAndCancel(){let e;return this.isModified?await apos.confirm({heading:this.cancelHeading,description:this.cancelDescription,negativeLabel:this.cancelNegativeLabel,affirmativeLabel:this.cancelAffirmativeLabel})?(await apos.notify("apostrophe:changesDiscarded",{dismiss:!0}),e=!0):e=!1:e=!0,e&&(this.modal?this.modal.showModal=!1:this.close()),e}}};function ut(e){if(typeof e!="object")return e;var t,i,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){i=new e.constructor;for(t in e)e.hasOwnProperty(t)&&i[t]!==e[t]&&(i[t]=ut(e[t]))}else{i={};for(t in e)t==="__proto__"?Object.defineProperty(i,t,{value:ut(e[t]),configurable:!0,enumerable:!0,writable:!0}):i[t]=ut(e[t])}return i}if(n==="[object Array]"){for(t=e.length,i=Array(t);t--;)i[t]=ut(e[t]);return i}return n==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(ut(s))}),i):n==="[object Map]"?(i=new Map,e.forEach(function(s,o){i.set(ut(o),ut(s))}),i):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(i=new RegExp(e.source,e.flags),i.lastIndex=e.lastIndex,i):n==="[object DataView]"?new e.constructor(ut(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}function Lc(e,t,i=()=>null){return Object.entries(t).every(([n,s])=>{if(n==="$or")return sne(e,s,i);if(n==="$and")return one(e,s,i);const o=R4(e,n);return i(n,s,o)===!1?!1:D4(n)?!0:rne(o,s)})}function D4(e){return e.endsWith(")")}function sne(e,t,i){return t.some(n=>Lc(e,n,i))}function one(e,t,i){return t.every(n=>Lc(e,n,i))}function R4(e,t){if(!t.includes("."))return e==null?void 0:e[t];const i=t.split(".");let n=e;for(;i.length>0;){if(n==null||typeof(n==null?void 0:n[i[0]])==null)return;if(Array.isArray(n)&&!Object.hasOwn(n,i[0]))return n.flatMap(o=>R4(o,i.join(".")));const s=i.shift();n=n[s]}return n}const cs={};cs.$eq=(e,t)=>Array.isArray(e)?Array.isArray(t)?e.length===t.length&&t.every(i=>e.includes(i)):e.includes(t):e===t;cs.$ne=(e,t)=>cs.$eq(e,t)===!1;cs.$exists=(e,t)=>t?e!=null:e==null;cs.$in=(e,t)=>{if(!Array.isArray(t))throw new Error("$in and $nin operators require an array as condition value");return Array.isArray(e)?t.some(i=>e.includes(i)):t.includes(e)};cs.$nin=(e,t)=>cs.$in(e,t)===!1;cs.$gt=(e,t)=>e>t;cs.$lt=(e,t)=>e<t;cs.$gte=(e,t)=>e>=t;cs.$lte=(e,t)=>e<=t;function rne(e,t){return typeof t=="object"&&t!==null?Object.keys(t).length===0?!1:Object.entries(t).every(([i,n])=>{switch(i){case"min":return e>=n;case"max":return e<=n;default:{if(cs[i])return cs[i](e,n);throw new Error(`Unsupported operator: ${i}`)}}}):Array.isArray(e)?e.includes(t):t===e}const xu=["if","requiredIf"],_a=()=>Object.fromEntries(xu.map(e=>[e,{}]));async function H4(e,t,i){const n=_a();for(const o of e)for(const r of xu)if(o[r]){const a=Object.entries(o[r]).flatMap(c=>s(c,r)).filter(Boolean),l=[...new Set(a)];try{const c=l.map(h=>n[r][h]!==void 0?null:ane(h,o._id,t)).filter(Boolean),u=await Promise.all(c);n[r]={...n[r],...Object.fromEntries(u)}}catch{await apos.notify(i("apostrophe:errorEvaluatingExternalCondition",{name:o.name}),{type:"danger",icon:"alert-circle-icon",dismiss:!0,localize:!1})}}return n;function s([o,r],a){return o==="$or"?r.flatMap(l=>Object.entries(l).map(c=>s(c,a))):V4(o,a)?o:null}}async function ane(e,t,i){const{result:n}=await apos.http.get(`${apos.schema.action}/evaluate-external-condition`,{qs:{fieldId:t,docId:i,conditionKey:e},busy:!0});return[e,n]}function V4(e,t){if(!D4(e))return!1;const[i]=e.split("(");return e.endsWith("()")||console.warn(`Warning in \`${t}\` definition: "${i}()" should not be passed any argument.`),!0}function z4(e,t,i){const n=_a();for(const o of e)for(const r of xu)o[r]&&(n[r][o.name]=Lc(t,o[r],(a,l,c)=>s(a,l,r)));return n;function s(o,r,a){var l;if(V4(o,a))return((l=i[a])==null?void 0:l[o])===r}}function N4(e){return e.filter(n=>xu.some(s=>n[s])).flatMap(n=>xu.map(s=>n[s]).filter(Boolean)).some(i);function i(n){if(!n)return!1;for(const[s,o]of Object.entries(n)){if(s.startsWith("<"))return!0;if(Array.isArray(o)){if(o.some(r=>i(r)))return!0;continue}if(o&&typeof o=="object"&&i(o))return!0}return!1}}const xr={props:{parentFollowingValues:{type:Object,default:null}},data(){return{docFields:{data:{}},serverErrors:null,restoreOnly:!1,readOnly:!1,changed:[],externalConditionsResults:_a(),conditionalFields:_a()}},computed:{schema(){let e=(this.moduleOptions.schema||[]).filter(t=>apos.schema.components.fields[t.type]);if(this.restoreOnly||this.readOnly){e=ut(e);for(const t of e)t.readOnly=!0}return e=e.filter(t=>t.name!=="archived"),e},docMeta(){var e;return((e=this.docFields.data)==null?void 0:e.aposMeta)||{}}},watch:{docType:{async handler(){this.moduleName==="@apostrophecms/page"&&(await this.evaluateExternalConditions(),this.evaluateConditions())}}},methods:{async evaluateExternalConditions(){var e,t;this.externalConditionsResults=await H4(this.schema,this.docId||((t=(e=this.docFields)==null?void 0:e.data)==null?void 0:t._docId),this.$t)},followingValues(e,t=!1){const i=this.getFieldsByCategory(e),n={},s={};for(const[o,r]of Object.entries(this.parentFollowingValues||{}))s[`<${o}`]=r;if(t)return s;for(const o of i)if(o.following){const r=Array.isArray(o.following)?o.following:[o.following];n[o.name]={};for(const a of r)a.startsWith("<")?n[o.name][a]=s[a]:n[o.name][a]=this.getFieldValue(a)}return n},getFieldsByCategory(e){return e&&this.utilityFields?e==="other"?this.schema.filter(t=>!this.utilityFields.includes(t.name)):this.schema.filter(t=>this.utilityFields.includes(t.name)):this.schema},getConditionalFields(e){const t={...this.followingValues(e,!0),...this.currentDoc?this.currentDoc.data:this.docFields.data};return z4(this.getFieldsByCategory(e),t,this.externalConditionsResults)},evaluateConditions(){this.conditionalFields=this.getConditionalFields()},getFieldValue(e){return this.docFields.data[e]},getAposSchema(e){return this.$refs.schema},async handleSaveError(e,{fallback:t}){var i,n,s;if(console.error(e),e.body&&e.body.data&&e.body.data.errors){const o={};let r;if(e.body.data.errors.forEach(a=>{r=r||a,o[a.path]=a}),this.serverErrors=o,r){const a=this.schema.find(l=>l.name===r.path);a&&(a.group.name!=="utility"&&this.switchPane&&this.switchPane(a.group.name),this.$nextTick(()=>{this.getAposSchema(a).scrollFieldIntoView(a.name)}))}}else{const o=((n=(i=e.body)==null?void 0:i.data)==null?void 0:n.detail)||((s=e.body)==null?void 0:s.message);await apos.notify(o||t,{type:"danger",icon:"alert-circle-icon",dismiss:!0})}},triggerValidate(){this.triggerValidation=!0,this.$nextTick(async()=>{this.triggerValidation=!1})},async postprocess(){const e=t(this.schema,this.docFields.data);for(const i of e){if(!(i.value&&i.field.postprocessor))continue;const n=i.field.withType,s=apos.modules[n];i.context[i.field.name]=(await apos.http.post(`${s.action}/${i.field.postprocessor}`,{qs:{aposMode:"draft"},body:{relationship:i.value,widgetOptions:apos.area.widgetOptions[0]},busy:!0})).relationship}function t(i,n){let s=[];for(const o of i)if(o.type==="relationship")s.push({context:n,field:o,value:n[o.name]});else if(o.type==="array")for(const r of n[o.name]||[])s=[...s,t(o.schema,r)];else o.type==="object"&&(s=[...s,t(o.schema,n[o.name]||{})]);return s}}}};var tc={},Xo={},Xt={},dt={},PC;function lne(){if(PC)return dt;PC=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.toBig=dt.shrSL=dt.shrSH=dt.rotrSL=dt.rotrSH=dt.rotrBL=dt.rotrBH=dt.rotr32L=dt.rotr32H=dt.rotlSL=dt.rotlSH=dt.rotlBL=dt.rotlBH=dt.add5L=dt.add5H=dt.add4L=dt.add4H=dt.add3L=dt.add3H=void 0,dt.add=A,dt.fromBig=i,dt.split=n;const e=BigInt(2**32-1),t=BigInt(32);function i(j,V=!1){return V?{h:Number(j&e),l:Number(j>>t&e)}:{h:Number(j>>t&e)|0,l:Number(j&e)|0}}function n(j,V=!1){const z=j.length;let Z=new Uint32Array(z),le=new Uint32Array(z);for(let ie=0;ie<z;ie++){const{h:re,l:te}=i(j[ie],V);[Z[ie],le[ie]]=[re,te]}return[Z,le]}const s=(j,V)=>BigInt(j>>>0)<<t|BigInt(V>>>0);dt.toBig=s;const o=(j,V,z)=>j>>>z;dt.shrSH=o;const r=(j,V,z)=>j<<32-z|V>>>z;dt.shrSL=r;const a=(j,V,z)=>j>>>z|V<<32-z;dt.rotrSH=a;const l=(j,V,z)=>j<<32-z|V>>>z;dt.rotrSL=l;const c=(j,V,z)=>j<<64-z|V>>>z-32;dt.rotrBH=c;const u=(j,V,z)=>j>>>z-32|V<<64-z;dt.rotrBL=u;const h=(j,V)=>V;dt.rotr32H=h;const m=(j,V)=>j;dt.rotr32L=m;const g=(j,V,z)=>j<<z|V>>>32-z;dt.rotlSH=g;const v=(j,V,z)=>V<<z|j>>>32-z;dt.rotlSL=v;const _=(j,V,z)=>V<<z-32|j>>>64-z;dt.rotlBH=_;const w=(j,V,z)=>j<<z-32|V>>>64-z;dt.rotlBL=w;function A(j,V,z,Z){const le=(V>>>0)+(Z>>>0);return{h:j+z+(le/2**32|0)|0,l:le|0}}const L=(j,V,z)=>(j>>>0)+(V>>>0)+(z>>>0);dt.add3L=L;const N=(j,V,z,Z)=>V+z+Z+(j/2**32|0)|0;dt.add3H=N;const M=(j,V,z,Z)=>(j>>>0)+(V>>>0)+(z>>>0)+(Z>>>0);dt.add4L=M;const P=(j,V,z,Z,le)=>V+z+Z+le+(j/2**32|0)|0;dt.add4H=P;const F=(j,V,z,Z,le)=>(j>>>0)+(V>>>0)+(z>>>0)+(Z>>>0)+(le>>>0);dt.add5L=F;const K=(j,V,z,Z,le,ie)=>V+z+Z+le+ie+(j/2**32|0)|0;dt.add5H=K;const se={fromBig:i,split:n,toBig:s,shrSH:o,shrSL:r,rotrSH:a,rotrSL:l,rotrBH:c,rotrBL:u,rotr32H:h,rotr32L:m,rotlSH:g,rotlSL:v,rotlBH:_,rotlBL:w,add:A,add3L:L,add3H:N,add4L:M,add4H:P,add5H:K,add5L:F};return dt.default=se,dt}var U1={},Od={},DC;function cne(){return DC||(DC=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.crypto=void 0,Od.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Od}var RC;function dne(){return RC||(RC=1,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.Hash=e.nextTick=e.swap32IfBE=e.byteSwapIfBE=e.swap8IfBE=e.isLE=void 0,e.isBytes=i,e.anumber=n,e.abytes=s,e.ahash=o,e.aexists=r,e.aoutput=a,e.u8=l,e.u32=c,e.clean=u,e.createView=h,e.rotr=m,e.rotl=g,e.byteSwap=v,e.byteSwap32=_,e.bytesToHex=L,e.hexToBytes=P,e.asyncLoop=K,e.utf8ToBytes=se,e.bytesToUtf8=j,e.toBytes=V,e.kdfInputToBytes=z,e.concatBytes=Z,e.checkOpts=le,e.createHasher=re,e.createOptHasher=te,e.createXOFer=ee,e.randomBytes=G;const t=cne();function i(U){return U instanceof Uint8Array||ArrayBuffer.isView(U)&&U.constructor.name==="Uint8Array"}function n(U){if(!Number.isSafeInteger(U)||U<0)throw new Error("positive integer expected, got "+U)}function s(U,...de){if(!i(U))throw new Error("Uint8Array expected");if(de.length>0&&!de.includes(U.length))throw new Error("Uint8Array expected of length "+de+", got length="+U.length)}function o(U){if(typeof U!="function"||typeof U.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(U.outputLen),n(U.blockLen)}function r(U,de=!0){if(U.destroyed)throw new Error("Hash instance has been destroyed");if(de&&U.finished)throw new Error("Hash#digest() has already been called")}function a(U,de){s(U);const Se=de.outputLen;if(U.length<Se)throw new Error("digestInto() expects output buffer of length at least "+Se)}function l(U){return new Uint8Array(U.buffer,U.byteOffset,U.byteLength)}function c(U){return new Uint32Array(U.buffer,U.byteOffset,Math.floor(U.byteLength/4))}function u(...U){for(let de=0;de<U.length;de++)U[de].fill(0)}function h(U){return new DataView(U.buffer,U.byteOffset,U.byteLength)}function m(U,de){return U<<32-de|U>>>de}function g(U,de){return U<<de|U>>>32-de>>>0}e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function v(U){return U<<24&4278190080|U<<8&16711680|U>>>8&65280|U>>>24&255}e.swap8IfBE=e.isLE?U=>U:U=>v(U),e.byteSwapIfBE=e.swap8IfBE;function _(U){for(let de=0;de<U.length;de++)U[de]=v(U[de]);return U}e.swap32IfBE=e.isLE?U=>U:_;const w=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",A=Array.from({length:256},(U,de)=>de.toString(16).padStart(2,"0"));function L(U){if(s(U),w)return U.toHex();let de="";for(let Se=0;Se<U.length;Se++)de+=A[U[Se]];return de}const N={_0:48,_9:57,A:65,F:70,a:97,f:102};function M(U){if(U>=N._0&&U<=N._9)return U-N._0;if(U>=N.A&&U<=N.F)return U-(N.A-10);if(U>=N.a&&U<=N.f)return U-(N.a-10)}function P(U){if(typeof U!="string")throw new Error("hex string expected, got "+typeof U);if(w)return Uint8Array.fromHex(U);const de=U.length,Se=de/2;if(de%2)throw new Error("hex string expected, got unpadded hex of length "+de);const Te=new Uint8Array(Se);for(let Ne=0,Ue=0;Ne<Se;Ne++,Ue+=2){const gt=M(U.charCodeAt(Ue)),Le=M(U.charCodeAt(Ue+1));if(gt===void 0||Le===void 0){const We=U[Ue]+U[Ue+1];throw new Error('hex string expected, got non-hex character "'+We+'" at index '+Ue)}Te[Ne]=gt*16+Le}return Te}const F=async()=>{};e.nextTick=F;async function K(U,de,Se){let Te=Date.now();for(let Ne=0;Ne<U;Ne++){Se(Ne);const Ue=Date.now()-Te;Ue>=0&&Ue<de||(await(0,e.nextTick)(),Te+=Ue)}}function se(U){if(typeof U!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(U))}function j(U){return new TextDecoder().decode(U)}function V(U){return typeof U=="string"&&(U=se(U)),s(U),U}function z(U){return typeof U=="string"&&(U=se(U)),s(U),U}function Z(...U){let de=0;for(let Te=0;Te<U.length;Te++){const Ne=U[Te];s(Ne),de+=Ne.length}const Se=new Uint8Array(de);for(let Te=0,Ne=0;Te<U.length;Te++){const Ue=U[Te];Se.set(Ue,Ne),Ne+=Ue.length}return Se}function le(U,de){if(de!==void 0&&{}.toString.call(de)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(U,de)}class ie{}e.Hash=ie;function re(U){const de=Te=>U().update(V(Te)).digest(),Se=U();return de.outputLen=Se.outputLen,de.blockLen=Se.blockLen,de.create=()=>U(),de}function te(U){const de=(Te,Ne)=>U(Ne).update(V(Te)).digest(),Se=U({});return de.outputLen=Se.outputLen,de.blockLen=Se.blockLen,de.create=Te=>U(Te),de}function ee(U){const de=(Te,Ne)=>U(Ne).update(V(Te)).digest(),Se=U({});return de.outputLen=Se.outputLen,de.blockLen=Se.blockLen,de.create=Te=>U(Te),de}e.wrapConstructor=re,e.wrapConstructorWithOpts=te,e.wrapXOFConstructorWithOpts=ee;function G(U=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(U));if(t.crypto&&typeof t.crypto.randomBytes=="function")return Uint8Array.from(t.crypto.randomBytes(U));throw new Error("crypto.getRandomValues must be defined")}}(U1)),U1}var HC;function une(){if(HC)return Xt;HC=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.shake256=Xt.shake128=Xt.keccak_512=Xt.keccak_384=Xt.keccak_256=Xt.keccak_224=Xt.sha3_512=Xt.sha3_384=Xt.sha3_256=Xt.sha3_224=Xt.Keccak=void 0,Xt.keccakP=w;const e=lne(),t=dne(),i=BigInt(0),n=BigInt(1),s=BigInt(2),o=BigInt(7),r=BigInt(256),a=BigInt(113),l=[],c=[],u=[];for(let M=0,P=n,F=1,K=0;M<24;M++){[F,K]=[K,(2*F+3*K)%5],l.push(2*(5*K+F)),c.push((M+1)*(M+2)/2%64);let se=i;for(let j=0;j<7;j++)P=(P<<n^(P>>o)*a)%r,P&s&&(se^=n<<(n<<BigInt(j))-n);u.push(se)}const h=(0,e.split)(u,!0),m=h[0],g=h[1],v=(M,P,F)=>F>32?(0,e.rotlBH)(M,P,F):(0,e.rotlSH)(M,P,F),_=(M,P,F)=>F>32?(0,e.rotlBL)(M,P,F):(0,e.rotlSL)(M,P,F);function w(M,P=24){const F=new Uint32Array(10);for(let K=24-P;K<24;K++){for(let V=0;V<10;V++)F[V]=M[V]^M[V+10]^M[V+20]^M[V+30]^M[V+40];for(let V=0;V<10;V+=2){const z=(V+8)%10,Z=(V+2)%10,le=F[Z],ie=F[Z+1],re=v(le,ie,1)^F[z],te=_(le,ie,1)^F[z+1];for(let ee=0;ee<50;ee+=10)M[V+ee]^=re,M[V+ee+1]^=te}let se=M[2],j=M[3];for(let V=0;V<24;V++){const z=c[V],Z=v(se,j,z),le=_(se,j,z),ie=l[V];se=M[ie],j=M[ie+1],M[ie]=Z,M[ie+1]=le}for(let V=0;V<50;V+=10){for(let z=0;z<10;z++)F[z]=M[V+z];for(let z=0;z<10;z++)M[V+z]^=~F[(z+2)%10]&F[(z+4)%10]}M[0]^=m[K],M[1]^=g[K]}(0,t.clean)(F)}class A extends t.Hash{constructor(P,F,K,se=!1,j=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=P,this.suffix=F,this.outputLen=K,this.enableXOF=se,this.rounds=j,(0,t.anumber)(K),!(0<P&&P<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,t.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,t.swap32IfBE)(this.state32),w(this.state32,this.rounds),(0,t.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(P){(0,t.aexists)(this),P=(0,t.toBytes)(P),(0,t.abytes)(P);const{blockLen:F,state:K}=this,se=P.length;for(let j=0;j<se;){const V=Math.min(F-this.pos,se-j);for(let z=0;z<V;z++)K[this.pos++]^=P[j++];this.pos===F&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:P,suffix:F,pos:K,blockLen:se}=this;P[K]^=F,(F&128)!==0&&K===se-1&&this.keccak(),P[se-1]^=128,this.keccak()}writeInto(P){(0,t.aexists)(this,!1),(0,t.abytes)(P),this.finish();const F=this.state,{blockLen:K}=this;for(let se=0,j=P.length;se<j;){this.posOut>=K&&this.keccak();const V=Math.min(K-this.posOut,j-se);P.set(F.subarray(this.posOut,this.posOut+V),se),this.posOut+=V,se+=V}return P}xofInto(P){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(P)}xof(P){return(0,t.anumber)(P),this.xofInto(new Uint8Array(P))}digestInto(P){if((0,t.aoutput)(P,this),this.finished)throw new Error("digest() was already called");return this.writeInto(P),this.destroy(),P}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,t.clean)(this.state)}_cloneInto(P){const{blockLen:F,suffix:K,outputLen:se,rounds:j,enableXOF:V}=this;return P||(P=new A(F,K,se,V,j)),P.state32.set(this.state32),P.pos=this.pos,P.posOut=this.posOut,P.finished=this.finished,P.rounds=j,P.suffix=K,P.outputLen=se,P.enableXOF=V,P.destroyed=this.destroyed,P}}Xt.Keccak=A;const L=(M,P,F)=>(0,t.createHasher)(()=>new A(P,M,F));Xt.sha3_224=L(6,144,224/8),Xt.sha3_256=L(6,136,256/8),Xt.sha3_384=L(6,104,384/8),Xt.sha3_512=L(6,72,512/8),Xt.keccak_224=L(1,144,224/8),Xt.keccak_256=L(1,136,256/8),Xt.keccak_384=L(1,104,384/8),Xt.keccak_512=L(1,72,512/8);const N=(M,P,F)=>(0,t.createXOFer)((K={})=>new A(P,M,K.dkLen===void 0?F:K.dkLen,!0));return Xt.shake128=N(31,168,128/8),Xt.shake256=N(31,136,256/8),Xt}var VC;function hne(){if(VC)return Xo;VC=1;const{sha3_512:e}=une(),t=24,i=32,n=(v=4,_=Math.random)=>{let w="";for(;w.length<v;)w=w+Math.floor(_()*36).toString(36);return w};function s(v){let _=8n,w=0n;for(const A of v.values()){const L=BigInt(A);w=(w<<_)+L}return w}const o=(v="")=>s(e(v)).toString(36).slice(1),r=Array.from({length:26},(v,_)=>String.fromCharCode(_+97)),a=v=>r[Math.floor(v()*r.length)],l=({globalObj:v=typeof wo<"u"?wo:typeof window<"u"?window:{},random:_=Math.random}={})=>{const w=Object.keys(v).toString(),A=w.length?w+n(i,_):n(i,_);return o(A).substring(0,i)},c=v=>()=>v++,u=476782367,h=({random:v=Math.random,counter:_=c(Math.floor(v()*u)),length:w=t,fingerprint:A=l({random:v})}={})=>function(){const N=a(v),M=Date.now().toString(36),P=_().toString(36),F=n(w,v),K=`${M+F+P+A}`;return`${N+o(K).substring(1,w)}`},m=h(),g=(v,{minLength:_=2,maxLength:w=i}={})=>{const A=v.length,L=/^[0-9a-z]+$/;try{if(typeof v=="string"&&A>=_&&A<=w&&L.test(v))return!0}finally{}return!1};return Xo.getConstants=()=>({defaultLength:t,bigLength:i}),Xo.init=h,Xo.createId=m,Xo.bufToBigInt=s,Xo.createCounter=c,Xo.createFingerprint=l,Xo.isCuid=g,Xo}var zC;function B4(){if(zC)return tc;zC=1;const{createId:e,init:t,getConstants:i,isCuid:n}=hne();return tc.createId=e,tc.init=t,tc.getConstants=i,tc.isCuid=n,tc}var Ut=B4(),Hd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var fne=Hd.exports,NC;function pne(){return NC||(NC=1,function(e,t){(function(){var i,n="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",h=1,m=2,g=4,v=1,_=2,w=1,A=2,L=4,N=8,M=16,P=32,F=64,K=128,se=256,j=512,V=30,z="...",Z=800,le=16,ie=1,re=2,te=3,ee=1/0,G=9007199254740991,U=17976931348623157e292,de=NaN,Se=4294967295,Te=Se-1,Ne=Se>>>1,Ue=[["ary",K],["bind",w],["bindKey",A],["curry",N],["curryRight",M],["flip",j],["partial",P],["partialRight",F],["rearg",se]],gt="[object Arguments]",Le="[object Array]",We="[object AsyncFunction]",ht="[object Boolean]",Pt="[object Date]",Tt="[object DOMException]",zt="[object Error]",yi="[object Function]",H="[object GeneratorFunction]",W="[object Map]",oe="[object Number]",ve="[object Null]",he="[object Object]",ge="[object Promise]",Me="[object Proxy]",we="[object RegExp]",be="[object Set]",ye="[object String]",Ve="[object Symbol]",xe="[object Undefined]",ze="[object WeakMap]",Ze="[object WeakSet]",ct="[object ArrayBuffer]",kt="[object DataView]",It="[object Float32Array]",Ci="[object Float64Array]",ki="[object Int8Array]",nn="[object Int16Array]",sn="[object Int32Array]",ce="[object Uint8Array]",Pe="[object Uint8ClampedArray]",De="[object Uint16Array]",ft="[object Uint32Array]",St=/\b__p \+= '';/g,Ui=/\b(__p \+=) '' \+/g,Tn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,No=/&(?:amp|lt|gt|quot|#39);/g,ad=/[&<>"']/g,Bo=RegExp(No.source),ld=RegExp(ad.source),Rl=/<%-([\s\S]+?)%>/g,Ir=/<%([\s\S]+?)%>/g,ph=/<%=([\s\S]+?)%>/g,cd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hl=/^\w*$/,z5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yg=/[\\^$.*+?()[\]{}|]/g,N5=RegExp(yg.source),vg=/^\s+/,B5=/\s/,F5=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,j5=/\{\n\/\* \[wrapped with (.+)\] \*/,U5=/,? & /,W5=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,q5=/[()=,{}\[\]\/\s]/,K5=/\\(\\)?/g,G5=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,p_=/\w*$/,J5=/^[-+]0x[0-9a-f]+$/i,Y5=/^0b[01]+$/i,Z5=/^\[object .+?Constructor\]$/,X5=/^0o[0-7]+$/i,Q5=/^(?:0|[1-9]\d*)$/,eO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mh=/($^)/,tO=/['\n\r\u2028\u2029\\]/g,gh="\\ud800-\\udfff",iO="\\u0300-\\u036f",nO="\\ufe20-\\ufe2f",sO="\\u20d0-\\u20ff",m_=iO+nO+sO,g_="\\u2700-\\u27bf",b_="a-z\\xdf-\\xf6\\xf8-\\xff",oO="\\xac\\xb1\\xd7\\xf7",rO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",aO="\\u2000-\\u206f",lO=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",y_="A-Z\\xc0-\\xd6\\xd8-\\xde",v_="\\ufe0e\\ufe0f",__=oO+rO+aO+lO,_g="[']",cO="["+gh+"]",w_="["+__+"]",bh="["+m_+"]",C_="\\d+",dO="["+g_+"]",k_="["+b_+"]",A_="[^"+gh+__+C_+g_+b_+y_+"]",wg="\\ud83c[\\udffb-\\udfff]",uO="(?:"+bh+"|"+wg+")",S_="[^"+gh+"]",Cg="(?:\\ud83c[\\udde6-\\uddff]){2}",kg="[\\ud800-\\udbff][\\udc00-\\udfff]",Vl="["+y_+"]",x_="\\u200d",M_="(?:"+k_+"|"+A_+")",hO="(?:"+Vl+"|"+A_+")",T_="(?:"+_g+"(?:d|ll|m|re|s|t|ve))?",O_="(?:"+_g+"(?:D|LL|M|RE|S|T|VE))?",E_=uO+"?",I_="["+v_+"]?",fO="(?:"+x_+"(?:"+[S_,Cg,kg].join("|")+")"+I_+E_+")*",pO="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$_=I_+E_+fO,gO="(?:"+[dO,Cg,kg].join("|")+")"+$_,bO="(?:"+[S_+bh+"?",bh,Cg,kg,cO].join("|")+")",yO=RegExp(_g,"g"),vO=RegExp(bh,"g"),Ag=RegExp(wg+"(?="+wg+")|"+bO+$_,"g"),_O=RegExp([Vl+"?"+k_+"+"+T_+"(?="+[w_,Vl,"$"].join("|")+")",hO+"+"+O_+"(?="+[w_,Vl+M_,"$"].join("|")+")",Vl+"?"+M_+"+"+T_,Vl+"+"+O_,mO,pO,C_,gO].join("|"),"g"),wO=RegExp("["+x_+gh+m_+v_+"]"),CO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kO=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],AO=-1,ii={};ii[It]=ii[Ci]=ii[ki]=ii[nn]=ii[sn]=ii[ce]=ii[Pe]=ii[De]=ii[ft]=!0,ii[gt]=ii[Le]=ii[ct]=ii[ht]=ii[kt]=ii[Pt]=ii[zt]=ii[yi]=ii[W]=ii[oe]=ii[he]=ii[we]=ii[be]=ii[ye]=ii[ze]=!1;var Zt={};Zt[gt]=Zt[Le]=Zt[ct]=Zt[kt]=Zt[ht]=Zt[Pt]=Zt[It]=Zt[Ci]=Zt[ki]=Zt[nn]=Zt[sn]=Zt[W]=Zt[oe]=Zt[he]=Zt[we]=Zt[be]=Zt[ye]=Zt[Ve]=Zt[ce]=Zt[Pe]=Zt[De]=Zt[ft]=!0,Zt[zt]=Zt[yi]=Zt[ze]=!1;var SO={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},xO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},MO={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},TO={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},OO=parseFloat,EO=parseInt,L_=typeof wo=="object"&&wo&&wo.Object===Object&&wo,IO=typeof self=="object"&&self&&self.Object===Object&&self,Wi=L_||IO||Function("return this")(),Sg=t&&!t.nodeType&&t,Ia=Sg&&!0&&e&&!e.nodeType&&e,P_=Ia&&Ia.exports===Sg,xg=P_&&L_.process,us=function(){try{var Y=Ia&&Ia.require&&Ia.require("util").types;return Y||xg&&xg.binding&&xg.binding("util")}catch{}}(),D_=us&&us.isArrayBuffer,R_=us&&us.isDate,H_=us&&us.isMap,V_=us&&us.isRegExp,z_=us&&us.isSet,N_=us&&us.isTypedArray;function Fn(Y,ue,ae){switch(ae.length){case 0:return Y.call(ue);case 1:return Y.call(ue,ae[0]);case 2:return Y.call(ue,ae[0],ae[1]);case 3:return Y.call(ue,ae[0],ae[1],ae[2])}return Y.apply(ue,ae)}function $O(Y,ue,ae,Re){for(var pt=-1,Nt=Y==null?0:Y.length;++pt<Nt;){var Ei=Y[pt];ue(Re,Ei,ae(Ei),Y)}return Re}function hs(Y,ue){for(var ae=-1,Re=Y==null?0:Y.length;++ae<Re&&ue(Y[ae],ae,Y)!==!1;);return Y}function LO(Y,ue){for(var ae=Y==null?0:Y.length;ae--&&ue(Y[ae],ae,Y)!==!1;);return Y}function B_(Y,ue){for(var ae=-1,Re=Y==null?0:Y.length;++ae<Re;)if(!ue(Y[ae],ae,Y))return!1;return!0}function $r(Y,ue){for(var ae=-1,Re=Y==null?0:Y.length,pt=0,Nt=[];++ae<Re;){var Ei=Y[ae];ue(Ei,ae,Y)&&(Nt[pt++]=Ei)}return Nt}function yh(Y,ue){var ae=Y==null?0:Y.length;return!!ae&&zl(Y,ue,0)>-1}function Mg(Y,ue,ae){for(var Re=-1,pt=Y==null?0:Y.length;++Re<pt;)if(ae(ue,Y[Re]))return!0;return!1}function si(Y,ue){for(var ae=-1,Re=Y==null?0:Y.length,pt=Array(Re);++ae<Re;)pt[ae]=ue(Y[ae],ae,Y);return pt}function Lr(Y,ue){for(var ae=-1,Re=ue.length,pt=Y.length;++ae<Re;)Y[pt+ae]=ue[ae];return Y}function Tg(Y,ue,ae,Re){var pt=-1,Nt=Y==null?0:Y.length;for(Re&&Nt&&(ae=Y[++pt]);++pt<Nt;)ae=ue(ae,Y[pt],pt,Y);return ae}function PO(Y,ue,ae,Re){var pt=Y==null?0:Y.length;for(Re&&pt&&(ae=Y[--pt]);pt--;)ae=ue(ae,Y[pt],pt,Y);return ae}function Og(Y,ue){for(var ae=-1,Re=Y==null?0:Y.length;++ae<Re;)if(ue(Y[ae],ae,Y))return!0;return!1}var DO=Eg("length");function RO(Y){return Y.split("")}function HO(Y){return Y.match(W5)||[]}function F_(Y,ue,ae){var Re;return ae(Y,function(pt,Nt,Ei){if(ue(pt,Nt,Ei))return Re=Nt,!1}),Re}function vh(Y,ue,ae,Re){for(var pt=Y.length,Nt=ae+(Re?1:-1);Re?Nt--:++Nt<pt;)if(ue(Y[Nt],Nt,Y))return Nt;return-1}function zl(Y,ue,ae){return ue===ue?JO(Y,ue,ae):vh(Y,j_,ae)}function VO(Y,ue,ae,Re){for(var pt=ae-1,Nt=Y.length;++pt<Nt;)if(Re(Y[pt],ue))return pt;return-1}function j_(Y){return Y!==Y}function U_(Y,ue){var ae=Y==null?0:Y.length;return ae?$g(Y,ue)/ae:de}function Eg(Y){return function(ue){return ue==null?i:ue[Y]}}function Ig(Y){return function(ue){return Y==null?i:Y[ue]}}function W_(Y,ue,ae,Re,pt){return pt(Y,function(Nt,Ei,Gt){ae=Re?(Re=!1,Nt):ue(ae,Nt,Ei,Gt)}),ae}function zO(Y,ue){var ae=Y.length;for(Y.sort(ue);ae--;)Y[ae]=Y[ae].value;return Y}function $g(Y,ue){for(var ae,Re=-1,pt=Y.length;++Re<pt;){var Nt=ue(Y[Re]);Nt!==i&&(ae=ae===i?Nt:ae+Nt)}return ae}function Lg(Y,ue){for(var ae=-1,Re=Array(Y);++ae<Y;)Re[ae]=ue(ae);return Re}function NO(Y,ue){return si(ue,function(ae){return[ae,Y[ae]]})}function q_(Y){return Y&&Y.slice(0,Y_(Y)+1).replace(vg,"")}function jn(Y){return function(ue){return Y(ue)}}function Pg(Y,ue){return si(ue,function(ae){return Y[ae]})}function dd(Y,ue){return Y.has(ue)}function K_(Y,ue){for(var ae=-1,Re=Y.length;++ae<Re&&zl(ue,Y[ae],0)>-1;);return ae}function G_(Y,ue){for(var ae=Y.length;ae--&&zl(ue,Y[ae],0)>-1;);return ae}function BO(Y,ue){for(var ae=Y.length,Re=0;ae--;)Y[ae]===ue&&++Re;return Re}var FO=Ig(SO),jO=Ig(xO);function UO(Y){return"\\"+TO[Y]}function WO(Y,ue){return Y==null?i:Y[ue]}function Nl(Y){return wO.test(Y)}function qO(Y){return CO.test(Y)}function KO(Y){for(var ue,ae=[];!(ue=Y.next()).done;)ae.push(ue.value);return ae}function Dg(Y){var ue=-1,ae=Array(Y.size);return Y.forEach(function(Re,pt){ae[++ue]=[pt,Re]}),ae}function J_(Y,ue){return function(ae){return Y(ue(ae))}}function Pr(Y,ue){for(var ae=-1,Re=Y.length,pt=0,Nt=[];++ae<Re;){var Ei=Y[ae];(Ei===ue||Ei===u)&&(Y[ae]=u,Nt[pt++]=ae)}return Nt}function _h(Y){var ue=-1,ae=Array(Y.size);return Y.forEach(function(Re){ae[++ue]=Re}),ae}function GO(Y){var ue=-1,ae=Array(Y.size);return Y.forEach(function(Re){ae[++ue]=[Re,Re]}),ae}function JO(Y,ue,ae){for(var Re=ae-1,pt=Y.length;++Re<pt;)if(Y[Re]===ue)return Re;return-1}function YO(Y,ue,ae){for(var Re=ae+1;Re--;)if(Y[Re]===ue)return Re;return Re}function Bl(Y){return Nl(Y)?XO(Y):DO(Y)}function Vs(Y){return Nl(Y)?QO(Y):RO(Y)}function Y_(Y){for(var ue=Y.length;ue--&&B5.test(Y.charAt(ue)););return ue}var ZO=Ig(MO);function XO(Y){for(var ue=Ag.lastIndex=0;Ag.test(Y);)++ue;return ue}function QO(Y){return Y.match(Ag)||[]}function eE(Y){return Y.match(_O)||[]}var tE=function Y(ue){ue=ue==null?Wi:Fl.defaults(Wi.Object(),ue,Fl.pick(Wi,kO));var ae=ue.Array,Re=ue.Date,pt=ue.Error,Nt=ue.Function,Ei=ue.Math,Gt=ue.Object,Rg=ue.RegExp,iE=ue.String,fs=ue.TypeError,wh=ae.prototype,nE=Nt.prototype,jl=Gt.prototype,Ch=ue["__core-js_shared__"],kh=nE.toString,Kt=jl.hasOwnProperty,sE=0,Z_=function(){var d=/[^.]+$/.exec(Ch&&Ch.keys&&Ch.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Ah=jl.toString,oE=kh.call(Gt),rE=Wi._,aE=Rg("^"+kh.call(Kt).replace(yg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sh=P_?ue.Buffer:i,Dr=ue.Symbol,xh=ue.Uint8Array,X_=Sh?Sh.allocUnsafe:i,Mh=J_(Gt.getPrototypeOf,Gt),Q_=Gt.create,ew=jl.propertyIsEnumerable,Th=wh.splice,tw=Dr?Dr.isConcatSpreadable:i,ud=Dr?Dr.iterator:i,$a=Dr?Dr.toStringTag:i,Oh=function(){try{var d=Ha(Gt,"defineProperty");return d({},"",{}),d}catch{}}(),lE=ue.clearTimeout!==Wi.clearTimeout&&ue.clearTimeout,cE=Re&&Re.now!==Wi.Date.now&&Re.now,dE=ue.setTimeout!==Wi.setTimeout&&ue.setTimeout,Eh=Ei.ceil,Ih=Ei.floor,Hg=Gt.getOwnPropertySymbols,uE=Sh?Sh.isBuffer:i,iw=ue.isFinite,hE=wh.join,fE=J_(Gt.keys,Gt),Ii=Ei.max,on=Ei.min,pE=Re.now,mE=ue.parseInt,nw=Ei.random,gE=wh.reverse,Vg=Ha(ue,"DataView"),hd=Ha(ue,"Map"),zg=Ha(ue,"Promise"),Ul=Ha(ue,"Set"),fd=Ha(ue,"WeakMap"),pd=Ha(Gt,"create"),$h=fd&&new fd,Wl={},bE=Va(Vg),yE=Va(hd),vE=Va(zg),_E=Va(Ul),wE=Va(fd),Lh=Dr?Dr.prototype:i,md=Lh?Lh.valueOf:i,sw=Lh?Lh.toString:i;function T(d){if(di(d)&&!bt(d)&&!(d instanceof Ot)){if(d instanceof ps)return d;if(Kt.call(d,"__wrapped__"))return o2(d)}return new ps(d)}var ql=function(){function d(){}return function(f){if(!ri(f))return{};if(Q_)return Q_(f);d.prototype=f;var b=new d;return d.prototype=i,b}}();function Ph(){}function ps(d,f){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=i}T.templateSettings={escape:Rl,evaluate:Ir,interpolate:ph,variable:"",imports:{_:T}},T.prototype=Ph.prototype,T.prototype.constructor=T,ps.prototype=ql(Ph.prototype),ps.prototype.constructor=ps;function Ot(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function CE(){var d=new Ot(this.__wrapped__);return d.__actions__=On(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=On(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=On(this.__views__),d}function kE(){if(this.__filtered__){var d=new Ot(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function AE(){var d=this.__wrapped__.value(),f=this.__dir__,b=bt(d),C=f<0,x=b?d.length:0,$=RI(0,x,this.__views__),B=$.start,q=$.end,X=q-B,fe=C?q:B-1,pe=this.__iteratees__,_e=pe.length,$e=0,je=on(X,this.__takeCount__);if(!b||!C&&x==X&&je==X)return Tw(d,this.__actions__);var it=[];e:for(;X--&&$e<je;){fe+=f;for(var _t=-1,nt=d[fe];++_t<_e;){var xt=pe[_t],$t=xt.iteratee,qn=xt.type,yn=$t(nt);if(qn==re)nt=yn;else if(!yn){if(qn==ie)continue e;break e}}it[$e++]=nt}return it}Ot.prototype=ql(Ph.prototype),Ot.prototype.constructor=Ot;function La(d){var f=-1,b=d==null?0:d.length;for(this.clear();++f<b;){var C=d[f];this.set(C[0],C[1])}}function SE(){this.__data__=pd?pd(null):{},this.size=0}function xE(d){var f=this.has(d)&&delete this.__data__[d];return this.size-=f?1:0,f}function ME(d){var f=this.__data__;if(pd){var b=f[d];return b===l?i:b}return Kt.call(f,d)?f[d]:i}function TE(d){var f=this.__data__;return pd?f[d]!==i:Kt.call(f,d)}function OE(d,f){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=pd&&f===i?l:f,this}La.prototype.clear=SE,La.prototype.delete=xE,La.prototype.get=ME,La.prototype.has=TE,La.prototype.set=OE;function Fo(d){var f=-1,b=d==null?0:d.length;for(this.clear();++f<b;){var C=d[f];this.set(C[0],C[1])}}function EE(){this.__data__=[],this.size=0}function IE(d){var f=this.__data__,b=Dh(f,d);if(b<0)return!1;var C=f.length-1;return b==C?f.pop():Th.call(f,b,1),--this.size,!0}function $E(d){var f=this.__data__,b=Dh(f,d);return b<0?i:f[b][1]}function LE(d){return Dh(this.__data__,d)>-1}function PE(d,f){var b=this.__data__,C=Dh(b,d);return C<0?(++this.size,b.push([d,f])):b[C][1]=f,this}Fo.prototype.clear=EE,Fo.prototype.delete=IE,Fo.prototype.get=$E,Fo.prototype.has=LE,Fo.prototype.set=PE;function jo(d){var f=-1,b=d==null?0:d.length;for(this.clear();++f<b;){var C=d[f];this.set(C[0],C[1])}}function DE(){this.size=0,this.__data__={hash:new La,map:new(hd||Fo),string:new La}}function RE(d){var f=Kh(this,d).delete(d);return this.size-=f?1:0,f}function HE(d){return Kh(this,d).get(d)}function VE(d){return Kh(this,d).has(d)}function zE(d,f){var b=Kh(this,d),C=b.size;return b.set(d,f),this.size+=b.size==C?0:1,this}jo.prototype.clear=DE,jo.prototype.delete=RE,jo.prototype.get=HE,jo.prototype.has=VE,jo.prototype.set=zE;function Pa(d){var f=-1,b=d==null?0:d.length;for(this.__data__=new jo;++f<b;)this.add(d[f])}function NE(d){return this.__data__.set(d,l),this}function BE(d){return this.__data__.has(d)}Pa.prototype.add=Pa.prototype.push=NE,Pa.prototype.has=BE;function zs(d){var f=this.__data__=new Fo(d);this.size=f.size}function FE(){this.__data__=new Fo,this.size=0}function jE(d){var f=this.__data__,b=f.delete(d);return this.size=f.size,b}function UE(d){return this.__data__.get(d)}function WE(d){return this.__data__.has(d)}function qE(d,f){var b=this.__data__;if(b instanceof Fo){var C=b.__data__;if(!hd||C.length<s-1)return C.push([d,f]),this.size=++b.size,this;b=this.__data__=new jo(C)}return b.set(d,f),this.size=b.size,this}zs.prototype.clear=FE,zs.prototype.delete=jE,zs.prototype.get=UE,zs.prototype.has=WE,zs.prototype.set=qE;function ow(d,f){var b=bt(d),C=!b&&za(d),x=!b&&!C&&Nr(d),$=!b&&!C&&!x&&Yl(d),B=b||C||x||$,q=B?Lg(d.length,iE):[],X=q.length;for(var fe in d)(f||Kt.call(d,fe))&&!(B&&(fe=="length"||x&&(fe=="offset"||fe=="parent")||$&&(fe=="buffer"||fe=="byteLength"||fe=="byteOffset")||Ko(fe,X)))&&q.push(fe);return q}function rw(d){var f=d.length;return f?d[Yg(0,f-1)]:i}function KE(d,f){return Gh(On(d),Da(f,0,d.length))}function GE(d){return Gh(On(d))}function Ng(d,f,b){(b!==i&&!Ns(d[f],b)||b===i&&!(f in d))&&Uo(d,f,b)}function gd(d,f,b){var C=d[f];(!(Kt.call(d,f)&&Ns(C,b))||b===i&&!(f in d))&&Uo(d,f,b)}function Dh(d,f){for(var b=d.length;b--;)if(Ns(d[b][0],f))return b;return-1}function JE(d,f,b,C){return Rr(d,function(x,$,B){f(C,x,b(x),B)}),C}function aw(d,f){return d&&ro(f,Di(f),d)}function YE(d,f){return d&&ro(f,In(f),d)}function Uo(d,f,b){f=="__proto__"&&Oh?Oh(d,f,{configurable:!0,enumerable:!0,value:b,writable:!0}):d[f]=b}function Bg(d,f){for(var b=-1,C=f.length,x=ae(C),$=d==null;++b<C;)x[b]=$?i:w1(d,f[b]);return x}function Da(d,f,b){return d===d&&(b!==i&&(d=d<=b?d:b),f!==i&&(d=d>=f?d:f)),d}function ms(d,f,b,C,x,$){var B,q=f&h,X=f&m,fe=f&g;if(b&&(B=x?b(d,C,x,$):b(d)),B!==i)return B;if(!ri(d))return d;var pe=bt(d);if(pe){if(B=VI(d),!q)return On(d,B)}else{var _e=rn(d),$e=_e==yi||_e==H;if(Nr(d))return Iw(d,q);if(_e==he||_e==gt||$e&&!x){if(B=X||$e?{}:Yw(d),!q)return X?MI(d,YE(B,d)):xI(d,aw(B,d))}else{if(!Zt[_e])return x?d:{};B=zI(d,_e,q)}}$||($=new zs);var je=$.get(d);if(je)return je;$.set(d,B),S2(d)?d.forEach(function(nt){B.add(ms(nt,f,b,nt,d,$))}):k2(d)&&d.forEach(function(nt,xt){B.set(xt,ms(nt,f,b,xt,d,$))});var it=fe?X?a1:r1:X?In:Di,_t=pe?i:it(d);return hs(_t||d,function(nt,xt){_t&&(xt=nt,nt=d[xt]),gd(B,xt,ms(nt,f,b,xt,d,$))}),B}function ZE(d){var f=Di(d);return function(b){return lw(b,d,f)}}function lw(d,f,b){var C=b.length;if(d==null)return!C;for(d=Gt(d);C--;){var x=b[C],$=f[x],B=d[x];if(B===i&&!(x in d)||!$(B))return!1}return!0}function cw(d,f,b){if(typeof d!="function")throw new fs(r);return kd(function(){d.apply(i,b)},f)}function bd(d,f,b,C){var x=-1,$=yh,B=!0,q=d.length,X=[],fe=f.length;if(!q)return X;b&&(f=si(f,jn(b))),C?($=Mg,B=!1):f.length>=s&&($=dd,B=!1,f=new Pa(f));e:for(;++x<q;){var pe=d[x],_e=b==null?pe:b(pe);if(pe=C||pe!==0?pe:0,B&&_e===_e){for(var $e=fe;$e--;)if(f[$e]===_e)continue e;X.push(pe)}else $(f,_e,C)||X.push(pe)}return X}var Rr=Rw(oo),dw=Rw(jg,!0);function XE(d,f){var b=!0;return Rr(d,function(C,x,$){return b=!!f(C,x,$),b}),b}function Rh(d,f,b){for(var C=-1,x=d.length;++C<x;){var $=d[C],B=f($);if(B!=null&&(q===i?B===B&&!Wn(B):b(B,q)))var q=B,X=$}return X}function QE(d,f,b,C){var x=d.length;for(b=vt(b),b<0&&(b=-b>x?0:x+b),C=C===i||C>x?x:vt(C),C<0&&(C+=x),C=b>C?0:M2(C);b<C;)d[b++]=f;return d}function uw(d,f){var b=[];return Rr(d,function(C,x,$){f(C,x,$)&&b.push(C)}),b}function qi(d,f,b,C,x){var $=-1,B=d.length;for(b||(b=BI),x||(x=[]);++$<B;){var q=d[$];f>0&&b(q)?f>1?qi(q,f-1,b,C,x):Lr(x,q):C||(x[x.length]=q)}return x}var Fg=Hw(),hw=Hw(!0);function oo(d,f){return d&&Fg(d,f,Di)}function jg(d,f){return d&&hw(d,f,Di)}function Hh(d,f){return $r(f,function(b){return Go(d[b])})}function Ra(d,f){f=Vr(f,d);for(var b=0,C=f.length;d!=null&&b<C;)d=d[ao(f[b++])];return b&&b==C?d:i}function fw(d,f,b){var C=f(d);return bt(d)?C:Lr(C,b(d))}function gn(d){return d==null?d===i?xe:ve:$a&&$a in Gt(d)?DI(d):GI(d)}function Ug(d,f){return d>f}function eI(d,f){return d!=null&&Kt.call(d,f)}function tI(d,f){return d!=null&&f in Gt(d)}function iI(d,f,b){return d>=on(f,b)&&d<Ii(f,b)}function Wg(d,f,b){for(var C=b?Mg:yh,x=d[0].length,$=d.length,B=$,q=ae($),X=1/0,fe=[];B--;){var pe=d[B];B&&f&&(pe=si(pe,jn(f))),X=on(pe.length,X),q[B]=!b&&(f||x>=120&&pe.length>=120)?new Pa(B&&pe):i}pe=d[0];var _e=-1,$e=q[0];e:for(;++_e<x&&fe.length<X;){var je=pe[_e],it=f?f(je):je;if(je=b||je!==0?je:0,!($e?dd($e,it):C(fe,it,b))){for(B=$;--B;){var _t=q[B];if(!(_t?dd(_t,it):C(d[B],it,b)))continue e}$e&&$e.push(it),fe.push(je)}}return fe}function nI(d,f,b,C){return oo(d,function(x,$,B){f(C,b(x),$,B)}),C}function yd(d,f,b){f=Vr(f,d),d=e2(d,f);var C=d==null?d:d[ao(bs(f))];return C==null?i:Fn(C,d,b)}function pw(d){return di(d)&&gn(d)==gt}function sI(d){return di(d)&&gn(d)==ct}function oI(d){return di(d)&&gn(d)==Pt}function vd(d,f,b,C,x){return d===f?!0:d==null||f==null||!di(d)&&!di(f)?d!==d&&f!==f:rI(d,f,b,C,vd,x)}function rI(d,f,b,C,x,$){var B=bt(d),q=bt(f),X=B?Le:rn(d),fe=q?Le:rn(f);X=X==gt?he:X,fe=fe==gt?he:fe;var pe=X==he,_e=fe==he,$e=X==fe;if($e&&Nr(d)){if(!Nr(f))return!1;B=!0,pe=!1}if($e&&!pe)return $||($=new zs),B||Yl(d)?Kw(d,f,b,C,x,$):LI(d,f,X,b,C,x,$);if(!(b&v)){var je=pe&&Kt.call(d,"__wrapped__"),it=_e&&Kt.call(f,"__wrapped__");if(je||it){var _t=je?d.value():d,nt=it?f.value():f;return $||($=new zs),x(_t,nt,b,C,$)}}return $e?($||($=new zs),PI(d,f,b,C,x,$)):!1}function aI(d){return di(d)&&rn(d)==W}function qg(d,f,b,C){var x=b.length,$=x,B=!C;if(d==null)return!$;for(d=Gt(d);x--;){var q=b[x];if(B&&q[2]?q[1]!==d[q[0]]:!(q[0]in d))return!1}for(;++x<$;){q=b[x];var X=q[0],fe=d[X],pe=q[1];if(B&&q[2]){if(fe===i&&!(X in d))return!1}else{var _e=new zs;if(C)var $e=C(fe,pe,X,d,f,_e);if(!($e===i?vd(pe,fe,v|_,C,_e):$e))return!1}}return!0}function mw(d){if(!ri(d)||jI(d))return!1;var f=Go(d)?aE:Z5;return f.test(Va(d))}function lI(d){return di(d)&&gn(d)==we}function cI(d){return di(d)&&rn(d)==be}function dI(d){return di(d)&&ef(d.length)&&!!ii[gn(d)]}function gw(d){return typeof d=="function"?d:d==null?$n:typeof d=="object"?bt(d)?vw(d[0],d[1]):yw(d):V2(d)}function Kg(d){if(!Cd(d))return fE(d);var f=[];for(var b in Gt(d))Kt.call(d,b)&&b!="constructor"&&f.push(b);return f}function uI(d){if(!ri(d))return KI(d);var f=Cd(d),b=[];for(var C in d)C=="constructor"&&(f||!Kt.call(d,C))||b.push(C);return b}function Gg(d,f){return d<f}function bw(d,f){var b=-1,C=En(d)?ae(d.length):[];return Rr(d,function(x,$,B){C[++b]=f(x,$,B)}),C}function yw(d){var f=c1(d);return f.length==1&&f[0][2]?Xw(f[0][0],f[0][1]):function(b){return b===d||qg(b,d,f)}}function vw(d,f){return u1(d)&&Zw(f)?Xw(ao(d),f):function(b){var C=w1(b,d);return C===i&&C===f?C1(b,d):vd(f,C,v|_)}}function Vh(d,f,b,C,x){d!==f&&Fg(f,function($,B){if(x||(x=new zs),ri($))hI(d,f,B,b,Vh,C,x);else{var q=C?C(f1(d,B),$,B+"",d,f,x):i;q===i&&(q=$),Ng(d,B,q)}},In)}function hI(d,f,b,C,x,$,B){var q=f1(d,b),X=f1(f,b),fe=B.get(X);if(fe){Ng(d,b,fe);return}var pe=$?$(q,X,b+"",d,f,B):i,_e=pe===i;if(_e){var $e=bt(X),je=!$e&&Nr(X),it=!$e&&!je&&Yl(X);pe=X,$e||je||it?bt(q)?pe=q:vi(q)?pe=On(q):je?(_e=!1,pe=Iw(X,!0)):it?(_e=!1,pe=$w(X,!0)):pe=[]:Ad(X)||za(X)?(pe=q,za(q)?pe=T2(q):(!ri(q)||Go(q))&&(pe=Yw(X))):_e=!1}_e&&(B.set(X,pe),x(pe,X,C,$,B),B.delete(X)),Ng(d,b,pe)}function _w(d,f){var b=d.length;if(b)return f+=f<0?b:0,Ko(f,b)?d[f]:i}function ww(d,f,b){f.length?f=si(f,function($){return bt($)?function(B){return Ra(B,$.length===1?$[0]:$)}:$}):f=[$n];var C=-1;f=si(f,jn(Xe()));var x=bw(d,function($,B,q){var X=si(f,function(fe){return fe($)});return{criteria:X,index:++C,value:$}});return zO(x,function($,B){return SI($,B,b)})}function fI(d,f){return Cw(d,f,function(b,C){return C1(d,C)})}function Cw(d,f,b){for(var C=-1,x=f.length,$={};++C<x;){var B=f[C],q=Ra(d,B);b(q,B)&&_d($,Vr(B,d),q)}return $}function pI(d){return function(f){return Ra(f,d)}}function Jg(d,f,b,C){var x=C?VO:zl,$=-1,B=f.length,q=d;for(d===f&&(f=On(f)),b&&(q=si(d,jn(b)));++$<B;)for(var X=0,fe=f[$],pe=b?b(fe):fe;(X=x(q,pe,X,C))>-1;)q!==d&&Th.call(q,X,1),Th.call(d,X,1);return d}function kw(d,f){for(var b=d?f.length:0,C=b-1;b--;){var x=f[b];if(b==C||x!==$){var $=x;Ko(x)?Th.call(d,x,1):Qg(d,x)}}return d}function Yg(d,f){return d+Ih(nw()*(f-d+1))}function mI(d,f,b,C){for(var x=-1,$=Ii(Eh((f-d)/(b||1)),0),B=ae($);$--;)B[C?$:++x]=d,d+=b;return B}function Zg(d,f){var b="";if(!d||f<1||f>G)return b;do f%2&&(b+=d),f=Ih(f/2),f&&(d+=d);while(f);return b}function At(d,f){return p1(Qw(d,f,$n),d+"")}function gI(d){return rw(Zl(d))}function bI(d,f){var b=Zl(d);return Gh(b,Da(f,0,b.length))}function _d(d,f,b,C){if(!ri(d))return d;f=Vr(f,d);for(var x=-1,$=f.length,B=$-1,q=d;q!=null&&++x<$;){var X=ao(f[x]),fe=b;if(X==="__proto__"||X==="constructor"||X==="prototype")return d;if(x!=B){var pe=q[X];fe=C?C(pe,X,q):i,fe===i&&(fe=ri(pe)?pe:Ko(f[x+1])?[]:{})}gd(q,X,fe),q=q[X]}return d}var Aw=$h?function(d,f){return $h.set(d,f),d}:$n,yI=Oh?function(d,f){return Oh(d,"toString",{configurable:!0,enumerable:!1,value:A1(f),writable:!0})}:$n;function vI(d){return Gh(Zl(d))}function gs(d,f,b){var C=-1,x=d.length;f<0&&(f=-f>x?0:x+f),b=b>x?x:b,b<0&&(b+=x),x=f>b?0:b-f>>>0,f>>>=0;for(var $=ae(x);++C<x;)$[C]=d[C+f];return $}function _I(d,f){var b;return Rr(d,function(C,x,$){return b=f(C,x,$),!b}),!!b}function zh(d,f,b){var C=0,x=d==null?C:d.length;if(typeof f=="number"&&f===f&&x<=Ne){for(;C<x;){var $=C+x>>>1,B=d[$];B!==null&&!Wn(B)&&(b?B<=f:B<f)?C=$+1:x=$}return x}return Xg(d,f,$n,b)}function Xg(d,f,b,C){var x=0,$=d==null?0:d.length;if($===0)return 0;f=b(f);for(var B=f!==f,q=f===null,X=Wn(f),fe=f===i;x<$;){var pe=Ih((x+$)/2),_e=b(d[pe]),$e=_e!==i,je=_e===null,it=_e===_e,_t=Wn(_e);if(B)var nt=C||it;else fe?nt=it&&(C||$e):q?nt=it&&$e&&(C||!je):X?nt=it&&$e&&!je&&(C||!_t):je||_t?nt=!1:nt=C?_e<=f:_e<f;nt?x=pe+1:$=pe}return on($,Te)}function Sw(d,f){for(var b=-1,C=d.length,x=0,$=[];++b<C;){var B=d[b],q=f?f(B):B;if(!b||!Ns(q,X)){var X=q;$[x++]=B===0?0:B}}return $}function xw(d){return typeof d=="number"?d:Wn(d)?de:+d}function Un(d){if(typeof d=="string")return d;if(bt(d))return si(d,Un)+"";if(Wn(d))return sw?sw.call(d):"";var f=d+"";return f=="0"&&1/d==-ee?"-0":f}function Hr(d,f,b){var C=-1,x=yh,$=d.length,B=!0,q=[],X=q;if(b)B=!1,x=Mg;else if($>=s){var fe=f?null:II(d);if(fe)return _h(fe);B=!1,x=dd,X=new Pa}else X=f?[]:q;e:for(;++C<$;){var pe=d[C],_e=f?f(pe):pe;if(pe=b||pe!==0?pe:0,B&&_e===_e){for(var $e=X.length;$e--;)if(X[$e]===_e)continue e;f&&X.push(_e),q.push(pe)}else x(X,_e,b)||(X!==q&&X.push(_e),q.push(pe))}return q}function Qg(d,f){return f=Vr(f,d),d=e2(d,f),d==null||delete d[ao(bs(f))]}function Mw(d,f,b,C){return _d(d,f,b(Ra(d,f)),C)}function Nh(d,f,b,C){for(var x=d.length,$=C?x:-1;(C?$--:++$<x)&&f(d[$],$,d););return b?gs(d,C?0:$,C?$+1:x):gs(d,C?$+1:0,C?x:$)}function Tw(d,f){var b=d;return b instanceof Ot&&(b=b.value()),Tg(f,function(C,x){return x.func.apply(x.thisArg,Lr([C],x.args))},b)}function e1(d,f,b){var C=d.length;if(C<2)return C?Hr(d[0]):[];for(var x=-1,$=ae(C);++x<C;)for(var B=d[x],q=-1;++q<C;)q!=x&&($[x]=bd($[x]||B,d[q],f,b));return Hr(qi($,1),f,b)}function Ow(d,f,b){for(var C=-1,x=d.length,$=f.length,B={};++C<x;){var q=C<$?f[C]:i;b(B,d[C],q)}return B}function t1(d){return vi(d)?d:[]}function i1(d){return typeof d=="function"?d:$n}function Vr(d,f){return bt(d)?d:u1(d,f)?[d]:s2(Bt(d))}var wI=At;function zr(d,f,b){var C=d.length;return b=b===i?C:b,!f&&b>=C?d:gs(d,f,b)}var Ew=lE||function(d){return Wi.clearTimeout(d)};function Iw(d,f){if(f)return d.slice();var b=d.length,C=X_?X_(b):new d.constructor(b);return d.copy(C),C}function n1(d){var f=new d.constructor(d.byteLength);return new xh(f).set(new xh(d)),f}function CI(d,f){var b=f?n1(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}function kI(d){var f=new d.constructor(d.source,p_.exec(d));return f.lastIndex=d.lastIndex,f}function AI(d){return md?Gt(md.call(d)):{}}function $w(d,f){var b=f?n1(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}function Lw(d,f){if(d!==f){var b=d!==i,C=d===null,x=d===d,$=Wn(d),B=f!==i,q=f===null,X=f===f,fe=Wn(f);if(!q&&!fe&&!$&&d>f||$&&B&&X&&!q&&!fe||C&&B&&X||!b&&X||!x)return 1;if(!C&&!$&&!fe&&d<f||fe&&b&&x&&!C&&!$||q&&b&&x||!B&&x||!X)return-1}return 0}function SI(d,f,b){for(var C=-1,x=d.criteria,$=f.criteria,B=x.length,q=b.length;++C<B;){var X=Lw(x[C],$[C]);if(X){if(C>=q)return X;var fe=b[C];return X*(fe=="desc"?-1:1)}}return d.index-f.index}function Pw(d,f,b,C){for(var x=-1,$=d.length,B=b.length,q=-1,X=f.length,fe=Ii($-B,0),pe=ae(X+fe),_e=!C;++q<X;)pe[q]=f[q];for(;++x<B;)(_e||x<$)&&(pe[b[x]]=d[x]);for(;fe--;)pe[q++]=d[x++];return pe}function Dw(d,f,b,C){for(var x=-1,$=d.length,B=-1,q=b.length,X=-1,fe=f.length,pe=Ii($-q,0),_e=ae(pe+fe),$e=!C;++x<pe;)_e[x]=d[x];for(var je=x;++X<fe;)_e[je+X]=f[X];for(;++B<q;)($e||x<$)&&(_e[je+b[B]]=d[x++]);return _e}function On(d,f){var b=-1,C=d.length;for(f||(f=ae(C));++b<C;)f[b]=d[b];return f}function ro(d,f,b,C){var x=!b;b||(b={});for(var $=-1,B=f.length;++$<B;){var q=f[$],X=C?C(b[q],d[q],q,b,d):i;X===i&&(X=d[q]),x?Uo(b,q,X):gd(b,q,X)}return b}function xI(d,f){return ro(d,d1(d),f)}function MI(d,f){return ro(d,Gw(d),f)}function Bh(d,f){return function(b,C){var x=bt(b)?$O:JE,$=f?f():{};return x(b,d,Xe(C,2),$)}}function Kl(d){return At(function(f,b){var C=-1,x=b.length,$=x>1?b[x-1]:i,B=x>2?b[2]:i;for($=d.length>3&&typeof $=="function"?(x--,$):i,B&&bn(b[0],b[1],B)&&($=x<3?i:$,x=1),f=Gt(f);++C<x;){var q=b[C];q&&d(f,q,C,$)}return f})}function Rw(d,f){return function(b,C){if(b==null)return b;if(!En(b))return d(b,C);for(var x=b.length,$=f?x:-1,B=Gt(b);(f?$--:++$<x)&&C(B[$],$,B)!==!1;);return b}}function Hw(d){return function(f,b,C){for(var x=-1,$=Gt(f),B=C(f),q=B.length;q--;){var X=B[d?q:++x];if(b($[X],X,$)===!1)break}return f}}function TI(d,f,b){var C=f&w,x=wd(d);function $(){var B=this&&this!==Wi&&this instanceof $?x:d;return B.apply(C?b:this,arguments)}return $}function Vw(d){return function(f){f=Bt(f);var b=Nl(f)?Vs(f):i,C=b?b[0]:f.charAt(0),x=b?zr(b,1).join(""):f.slice(1);return C[d]()+x}}function Gl(d){return function(f){return Tg(R2(D2(f).replace(yO,"")),d,"")}}function wd(d){return function(){var f=arguments;switch(f.length){case 0:return new d;case 1:return new d(f[0]);case 2:return new d(f[0],f[1]);case 3:return new d(f[0],f[1],f[2]);case 4:return new d(f[0],f[1],f[2],f[3]);case 5:return new d(f[0],f[1],f[2],f[3],f[4]);case 6:return new d(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new d(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var b=ql(d.prototype),C=d.apply(b,f);return ri(C)?C:b}}function OI(d,f,b){var C=wd(d);function x(){for(var $=arguments.length,B=ae($),q=$,X=Jl(x);q--;)B[q]=arguments[q];var fe=$<3&&B[0]!==X&&B[$-1]!==X?[]:Pr(B,X);if($-=fe.length,$<b)return jw(d,f,Fh,x.placeholder,i,B,fe,i,i,b-$);var pe=this&&this!==Wi&&this instanceof x?C:d;return Fn(pe,this,B)}return x}function zw(d){return function(f,b,C){var x=Gt(f);if(!En(f)){var $=Xe(b,3);f=Di(f),b=function(q){return $(x[q],q,x)}}var B=d(f,b,C);return B>-1?x[$?f[B]:B]:i}}function Nw(d){return qo(function(f){var b=f.length,C=b,x=ps.prototype.thru;for(d&&f.reverse();C--;){var $=f[C];if(typeof $!="function")throw new fs(r);if(x&&!B&&qh($)=="wrapper")var B=new ps([],!0)}for(C=B?C:b;++C<b;){$=f[C];var q=qh($),X=q=="wrapper"?l1($):i;X&&h1(X[0])&&X[1]==(K|N|P|se)&&!X[4].length&&X[9]==1?B=B[qh(X[0])].apply(B,X[3]):B=$.length==1&&h1($)?B[q]():B.thru($)}return function(){var fe=arguments,pe=fe[0];if(B&&fe.length==1&&bt(pe))return B.plant(pe).value();for(var _e=0,$e=b?f[_e].apply(this,fe):pe;++_e<b;)$e=f[_e].call(this,$e);return $e}})}function Fh(d,f,b,C,x,$,B,q,X,fe){var pe=f&K,_e=f&w,$e=f&A,je=f&(N|M),it=f&j,_t=$e?i:wd(d);function nt(){for(var xt=arguments.length,$t=ae(xt),qn=xt;qn--;)$t[qn]=arguments[qn];if(je)var yn=Jl(nt),Kn=BO($t,yn);if(C&&($t=Pw($t,C,x,je)),$&&($t=Dw($t,$,B,je)),xt-=Kn,je&&xt<fe){var _i=Pr($t,yn);return jw(d,f,Fh,nt.placeholder,b,$t,_i,q,X,fe-xt)}var Bs=_e?b:this,Yo=$e?Bs[d]:d;return xt=$t.length,q?$t=JI($t,q):it&&xt>1&&$t.reverse(),pe&&X<xt&&($t.length=X),this&&this!==Wi&&this instanceof nt&&(Yo=_t||wd(Yo)),Yo.apply(Bs,$t)}return nt}function Bw(d,f){return function(b,C){return nI(b,d,f(C),{})}}function jh(d,f){return function(b,C){var x;if(b===i&&C===i)return f;if(b!==i&&(x=b),C!==i){if(x===i)return C;typeof b=="string"||typeof C=="string"?(b=Un(b),C=Un(C)):(b=xw(b),C=xw(C)),x=d(b,C)}return x}}function s1(d){return qo(function(f){return f=si(f,jn(Xe())),At(function(b){var C=this;return d(f,function(x){return Fn(x,C,b)})})})}function Uh(d,f){f=f===i?" ":Un(f);var b=f.length;if(b<2)return b?Zg(f,d):f;var C=Zg(f,Eh(d/Bl(f)));return Nl(f)?zr(Vs(C),0,d).join(""):C.slice(0,d)}function EI(d,f,b,C){var x=f&w,$=wd(d);function B(){for(var q=-1,X=arguments.length,fe=-1,pe=C.length,_e=ae(pe+X),$e=this&&this!==Wi&&this instanceof B?$:d;++fe<pe;)_e[fe]=C[fe];for(;X--;)_e[fe++]=arguments[++q];return Fn($e,x?b:this,_e)}return B}function Fw(d){return function(f,b,C){return C&&typeof C!="number"&&bn(f,b,C)&&(b=C=i),f=Jo(f),b===i?(b=f,f=0):b=Jo(b),C=C===i?f<b?1:-1:Jo(C),mI(f,b,C,d)}}function Wh(d){return function(f,b){return typeof f=="string"&&typeof b=="string"||(f=ys(f),b=ys(b)),d(f,b)}}function jw(d,f,b,C,x,$,B,q,X,fe){var pe=f&N,_e=pe?B:i,$e=pe?i:B,je=pe?$:i,it=pe?i:$;f|=pe?P:F,f&=~(pe?F:P),f&L||(f&=-4);var _t=[d,f,x,je,_e,it,$e,q,X,fe],nt=b.apply(i,_t);return h1(d)&&t2(nt,_t),nt.placeholder=C,i2(nt,d,f)}function o1(d){var f=Ei[d];return function(b,C){if(b=ys(b),C=C==null?0:on(vt(C),292),C&&iw(b)){var x=(Bt(b)+"e").split("e"),$=f(x[0]+"e"+(+x[1]+C));return x=(Bt($)+"e").split("e"),+(x[0]+"e"+(+x[1]-C))}return f(b)}}var II=Ul&&1/_h(new Ul([,-0]))[1]==ee?function(d){return new Ul(d)}:M1;function Uw(d){return function(f){var b=rn(f);return b==W?Dg(f):b==be?GO(f):NO(f,d(f))}}function Wo(d,f,b,C,x,$,B,q){var X=f&A;if(!X&&typeof d!="function")throw new fs(r);var fe=C?C.length:0;if(fe||(f&=-97,C=x=i),B=B===i?B:Ii(vt(B),0),q=q===i?q:vt(q),fe-=x?x.length:0,f&F){var pe=C,_e=x;C=x=i}var $e=X?i:l1(d),je=[d,f,b,C,x,pe,_e,$,B,q];if($e&&qI(je,$e),d=je[0],f=je[1],b=je[2],C=je[3],x=je[4],q=je[9]=je[9]===i?X?0:d.length:Ii(je[9]-fe,0),!q&&f&(N|M)&&(f&=-25),!f||f==w)var it=TI(d,f,b);else f==N||f==M?it=OI(d,f,q):(f==P||f==(w|P))&&!x.length?it=EI(d,f,b,C):it=Fh.apply(i,je);var _t=$e?Aw:t2;return i2(_t(it,je),d,f)}function Ww(d,f,b,C){return d===i||Ns(d,jl[b])&&!Kt.call(C,b)?f:d}function qw(d,f,b,C,x,$){return ri(d)&&ri(f)&&($.set(f,d),Vh(d,f,i,qw,$),$.delete(f)),d}function $I(d){return Ad(d)?i:d}function Kw(d,f,b,C,x,$){var B=b&v,q=d.length,X=f.length;if(q!=X&&!(B&&X>q))return!1;var fe=$.get(d),pe=$.get(f);if(fe&&pe)return fe==f&&pe==d;var _e=-1,$e=!0,je=b&_?new Pa:i;for($.set(d,f),$.set(f,d);++_e<q;){var it=d[_e],_t=f[_e];if(C)var nt=B?C(_t,it,_e,f,d,$):C(it,_t,_e,d,f,$);if(nt!==i){if(nt)continue;$e=!1;break}if(je){if(!Og(f,function(xt,$t){if(!dd(je,$t)&&(it===xt||x(it,xt,b,C,$)))return je.push($t)})){$e=!1;break}}else if(!(it===_t||x(it,_t,b,C,$))){$e=!1;break}}return $.delete(d),$.delete(f),$e}function LI(d,f,b,C,x,$,B){switch(b){case kt:if(d.byteLength!=f.byteLength||d.byteOffset!=f.byteOffset)return!1;d=d.buffer,f=f.buffer;case ct:return!(d.byteLength!=f.byteLength||!$(new xh(d),new xh(f)));case ht:case Pt:case oe:return Ns(+d,+f);case zt:return d.name==f.name&&d.message==f.message;case we:case ye:return d==f+"";case W:var q=Dg;case be:var X=C&v;if(q||(q=_h),d.size!=f.size&&!X)return!1;var fe=B.get(d);if(fe)return fe==f;C|=_,B.set(d,f);var pe=Kw(q(d),q(f),C,x,$,B);return B.delete(d),pe;case Ve:if(md)return md.call(d)==md.call(f)}return!1}function PI(d,f,b,C,x,$){var B=b&v,q=r1(d),X=q.length,fe=r1(f),pe=fe.length;if(X!=pe&&!B)return!1;for(var _e=X;_e--;){var $e=q[_e];if(!(B?$e in f:Kt.call(f,$e)))return!1}var je=$.get(d),it=$.get(f);if(je&&it)return je==f&&it==d;var _t=!0;$.set(d,f),$.set(f,d);for(var nt=B;++_e<X;){$e=q[_e];var xt=d[$e],$t=f[$e];if(C)var qn=B?C($t,xt,$e,f,d,$):C(xt,$t,$e,d,f,$);if(!(qn===i?xt===$t||x(xt,$t,b,C,$):qn)){_t=!1;break}nt||(nt=$e=="constructor")}if(_t&&!nt){var yn=d.constructor,Kn=f.constructor;yn!=Kn&&"constructor"in d&&"constructor"in f&&!(typeof yn=="function"&&yn instanceof yn&&typeof Kn=="function"&&Kn instanceof Kn)&&(_t=!1)}return $.delete(d),$.delete(f),_t}function qo(d){return p1(Qw(d,i,l2),d+"")}function r1(d){return fw(d,Di,d1)}function a1(d){return fw(d,In,Gw)}var l1=$h?function(d){return $h.get(d)}:M1;function qh(d){for(var f=d.name+"",b=Wl[f],C=Kt.call(Wl,f)?b.length:0;C--;){var x=b[C],$=x.func;if($==null||$==d)return x.name}return f}function Jl(d){var f=Kt.call(T,"placeholder")?T:d;return f.placeholder}function Xe(){var d=T.iteratee||S1;return d=d===S1?gw:d,arguments.length?d(arguments[0],arguments[1]):d}function Kh(d,f){var b=d.__data__;return FI(f)?b[typeof f=="string"?"string":"hash"]:b.map}function c1(d){for(var f=Di(d),b=f.length;b--;){var C=f[b],x=d[C];f[b]=[C,x,Zw(x)]}return f}function Ha(d,f){var b=WO(d,f);return mw(b)?b:i}function DI(d){var f=Kt.call(d,$a),b=d[$a];try{d[$a]=i;var C=!0}catch{}var x=Ah.call(d);return C&&(f?d[$a]=b:delete d[$a]),x}var d1=Hg?function(d){return d==null?[]:(d=Gt(d),$r(Hg(d),function(f){return ew.call(d,f)}))}:T1,Gw=Hg?function(d){for(var f=[];d;)Lr(f,d1(d)),d=Mh(d);return f}:T1,rn=gn;(Vg&&rn(new Vg(new ArrayBuffer(1)))!=kt||hd&&rn(new hd)!=W||zg&&rn(zg.resolve())!=ge||Ul&&rn(new Ul)!=be||fd&&rn(new fd)!=ze)&&(rn=function(d){var f=gn(d),b=f==he?d.constructor:i,C=b?Va(b):"";if(C)switch(C){case bE:return kt;case yE:return W;case vE:return ge;case _E:return be;case wE:return ze}return f});function RI(d,f,b){for(var C=-1,x=b.length;++C<x;){var $=b[C],B=$.size;switch($.type){case"drop":d+=B;break;case"dropRight":f-=B;break;case"take":f=on(f,d+B);break;case"takeRight":d=Ii(d,f-B);break}}return{start:d,end:f}}function HI(d){var f=d.match(j5);return f?f[1].split(U5):[]}function Jw(d,f,b){f=Vr(f,d);for(var C=-1,x=f.length,$=!1;++C<x;){var B=ao(f[C]);if(!($=d!=null&&b(d,B)))break;d=d[B]}return $||++C!=x?$:(x=d==null?0:d.length,!!x&&ef(x)&&Ko(B,x)&&(bt(d)||za(d)))}function VI(d){var f=d.length,b=new d.constructor(f);return f&&typeof d[0]=="string"&&Kt.call(d,"index")&&(b.index=d.index,b.input=d.input),b}function Yw(d){return typeof d.constructor=="function"&&!Cd(d)?ql(Mh(d)):{}}function zI(d,f,b){var C=d.constructor;switch(f){case ct:return n1(d);case ht:case Pt:return new C(+d);case kt:return CI(d,b);case It:case Ci:case ki:case nn:case sn:case ce:case Pe:case De:case ft:return $w(d,b);case W:return new C;case oe:case ye:return new C(d);case we:return kI(d);case be:return new C;case Ve:return AI(d)}}function NI(d,f){var b=f.length;if(!b)return d;var C=b-1;return f[C]=(b>1?"& ":"")+f[C],f=f.join(b>2?", ":" "),d.replace(F5,`{
/* [wrapped with `+f+`] */
`)}function BI(d){return bt(d)||za(d)||!!(tw&&d&&d[tw])}function Ko(d,f){var b=typeof d;return f=f??G,!!f&&(b=="number"||b!="symbol"&&Q5.test(d))&&d>-1&&d%1==0&&d<f}function bn(d,f,b){if(!ri(b))return!1;var C=typeof f;return(C=="number"?En(b)&&Ko(f,b.length):C=="string"&&f in b)?Ns(b[f],d):!1}function u1(d,f){if(bt(d))return!1;var b=typeof d;return b=="number"||b=="symbol"||b=="boolean"||d==null||Wn(d)?!0:Hl.test(d)||!cd.test(d)||f!=null&&d in Gt(f)}function FI(d){var f=typeof d;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?d!=="__proto__":d===null}function h1(d){var f=qh(d),b=T[f];if(typeof b!="function"||!(f in Ot.prototype))return!1;if(d===b)return!0;var C=l1(b);return!!C&&d===C[0]}function jI(d){return!!Z_&&Z_ in d}var UI=Ch?Go:O1;function Cd(d){var f=d&&d.constructor,b=typeof f=="function"&&f.prototype||jl;return d===b}function Zw(d){return d===d&&!ri(d)}function Xw(d,f){return function(b){return b==null?!1:b[d]===f&&(f!==i||d in Gt(b))}}function WI(d){var f=Xh(d,function(C){return b.size===c&&b.clear(),C}),b=f.cache;return f}function qI(d,f){var b=d[1],C=f[1],x=b|C,$=x<(w|A|K),B=C==K&&b==N||C==K&&b==se&&d[7].length<=f[8]||C==(K|se)&&f[7].length<=f[8]&&b==N;if(!($||B))return d;C&w&&(d[2]=f[2],x|=b&w?0:L);var q=f[3];if(q){var X=d[3];d[3]=X?Pw(X,q,f[4]):q,d[4]=X?Pr(d[3],u):f[4]}return q=f[5],q&&(X=d[5],d[5]=X?Dw(X,q,f[6]):q,d[6]=X?Pr(d[5],u):f[6]),q=f[7],q&&(d[7]=q),C&K&&(d[8]=d[8]==null?f[8]:on(d[8],f[8])),d[9]==null&&(d[9]=f[9]),d[0]=f[0],d[1]=x,d}function KI(d){var f=[];if(d!=null)for(var b in Gt(d))f.push(b);return f}function GI(d){return Ah.call(d)}function Qw(d,f,b){return f=Ii(f===i?d.length-1:f,0),function(){for(var C=arguments,x=-1,$=Ii(C.length-f,0),B=ae($);++x<$;)B[x]=C[f+x];x=-1;for(var q=ae(f+1);++x<f;)q[x]=C[x];return q[f]=b(B),Fn(d,this,q)}}function e2(d,f){return f.length<2?d:Ra(d,gs(f,0,-1))}function JI(d,f){for(var b=d.length,C=on(f.length,b),x=On(d);C--;){var $=f[C];d[C]=Ko($,b)?x[$]:i}return d}function f1(d,f){if(!(f==="constructor"&&typeof d[f]=="function")&&f!="__proto__")return d[f]}var t2=n2(Aw),kd=dE||function(d,f){return Wi.setTimeout(d,f)},p1=n2(yI);function i2(d,f,b){var C=f+"";return p1(d,NI(C,YI(HI(C),b)))}function n2(d){var f=0,b=0;return function(){var C=pE(),x=le-(C-b);if(b=C,x>0){if(++f>=Z)return arguments[0]}else f=0;return d.apply(i,arguments)}}function Gh(d,f){var b=-1,C=d.length,x=C-1;for(f=f===i?C:f;++b<f;){var $=Yg(b,x),B=d[$];d[$]=d[b],d[b]=B}return d.length=f,d}var s2=WI(function(d){var f=[];return d.charCodeAt(0)===46&&f.push(""),d.replace(z5,function(b,C,x,$){f.push(x?$.replace(K5,"$1"):C||b)}),f});function ao(d){if(typeof d=="string"||Wn(d))return d;var f=d+"";return f=="0"&&1/d==-ee?"-0":f}function Va(d){if(d!=null){try{return kh.call(d)}catch{}try{return d+""}catch{}}return""}function YI(d,f){return hs(Ue,function(b){var C="_."+b[0];f&b[1]&&!yh(d,C)&&d.push(C)}),d.sort()}function o2(d){if(d instanceof Ot)return d.clone();var f=new ps(d.__wrapped__,d.__chain__);return f.__actions__=On(d.__actions__),f.__index__=d.__index__,f.__values__=d.__values__,f}function ZI(d,f,b){(b?bn(d,f,b):f===i)?f=1:f=Ii(vt(f),0);var C=d==null?0:d.length;if(!C||f<1)return[];for(var x=0,$=0,B=ae(Eh(C/f));x<C;)B[$++]=gs(d,x,x+=f);return B}function XI(d){for(var f=-1,b=d==null?0:d.length,C=0,x=[];++f<b;){var $=d[f];$&&(x[C++]=$)}return x}function QI(){var d=arguments.length;if(!d)return[];for(var f=ae(d-1),b=arguments[0],C=d;C--;)f[C-1]=arguments[C];return Lr(bt(b)?On(b):[b],qi(f,1))}var e8=At(function(d,f){return vi(d)?bd(d,qi(f,1,vi,!0)):[]}),t8=At(function(d,f){var b=bs(f);return vi(b)&&(b=i),vi(d)?bd(d,qi(f,1,vi,!0),Xe(b,2)):[]}),i8=At(function(d,f){var b=bs(f);return vi(b)&&(b=i),vi(d)?bd(d,qi(f,1,vi,!0),i,b):[]});function n8(d,f,b){var C=d==null?0:d.length;return C?(f=b||f===i?1:vt(f),gs(d,f<0?0:f,C)):[]}function s8(d,f,b){var C=d==null?0:d.length;return C?(f=b||f===i?1:vt(f),f=C-f,gs(d,0,f<0?0:f)):[]}function o8(d,f){return d&&d.length?Nh(d,Xe(f,3),!0,!0):[]}function r8(d,f){return d&&d.length?Nh(d,Xe(f,3),!0):[]}function a8(d,f,b,C){var x=d==null?0:d.length;return x?(b&&typeof b!="number"&&bn(d,f,b)&&(b=0,C=x),QE(d,f,b,C)):[]}function r2(d,f,b){var C=d==null?0:d.length;if(!C)return-1;var x=b==null?0:vt(b);return x<0&&(x=Ii(C+x,0)),vh(d,Xe(f,3),x)}function a2(d,f,b){var C=d==null?0:d.length;if(!C)return-1;var x=C-1;return b!==i&&(x=vt(b),x=b<0?Ii(C+x,0):on(x,C-1)),vh(d,Xe(f,3),x,!0)}function l2(d){var f=d==null?0:d.length;return f?qi(d,1):[]}function l8(d){var f=d==null?0:d.length;return f?qi(d,ee):[]}function c8(d,f){var b=d==null?0:d.length;return b?(f=f===i?1:vt(f),qi(d,f)):[]}function d8(d){for(var f=-1,b=d==null?0:d.length,C={};++f<b;){var x=d[f];C[x[0]]=x[1]}return C}function c2(d){return d&&d.length?d[0]:i}function u8(d,f,b){var C=d==null?0:d.length;if(!C)return-1;var x=b==null?0:vt(b);return x<0&&(x=Ii(C+x,0)),zl(d,f,x)}function h8(d){var f=d==null?0:d.length;return f?gs(d,0,-1):[]}var f8=At(function(d){var f=si(d,t1);return f.length&&f[0]===d[0]?Wg(f):[]}),p8=At(function(d){var f=bs(d),b=si(d,t1);return f===bs(b)?f=i:b.pop(),b.length&&b[0]===d[0]?Wg(b,Xe(f,2)):[]}),m8=At(function(d){var f=bs(d),b=si(d,t1);return f=typeof f=="function"?f:i,f&&b.pop(),b.length&&b[0]===d[0]?Wg(b,i,f):[]});function g8(d,f){return d==null?"":hE.call(d,f)}function bs(d){var f=d==null?0:d.length;return f?d[f-1]:i}function b8(d,f,b){var C=d==null?0:d.length;if(!C)return-1;var x=C;return b!==i&&(x=vt(b),x=x<0?Ii(C+x,0):on(x,C-1)),f===f?YO(d,f,x):vh(d,j_,x,!0)}function y8(d,f){return d&&d.length?_w(d,vt(f)):i}var v8=At(d2);function d2(d,f){return d&&d.length&&f&&f.length?Jg(d,f):d}function _8(d,f,b){return d&&d.length&&f&&f.length?Jg(d,f,Xe(b,2)):d}function w8(d,f,b){return d&&d.length&&f&&f.length?Jg(d,f,i,b):d}var C8=qo(function(d,f){var b=d==null?0:d.length,C=Bg(d,f);return kw(d,si(f,function(x){return Ko(x,b)?+x:x}).sort(Lw)),C});function k8(d,f){var b=[];if(!(d&&d.length))return b;var C=-1,x=[],$=d.length;for(f=Xe(f,3);++C<$;){var B=d[C];f(B,C,d)&&(b.push(B),x.push(C))}return kw(d,x),b}function m1(d){return d==null?d:gE.call(d)}function A8(d,f,b){var C=d==null?0:d.length;return C?(b&&typeof b!="number"&&bn(d,f,b)?(f=0,b=C):(f=f==null?0:vt(f),b=b===i?C:vt(b)),gs(d,f,b)):[]}function S8(d,f){return zh(d,f)}function x8(d,f,b){return Xg(d,f,Xe(b,2))}function M8(d,f){var b=d==null?0:d.length;if(b){var C=zh(d,f);if(C<b&&Ns(d[C],f))return C}return-1}function T8(d,f){return zh(d,f,!0)}function O8(d,f,b){return Xg(d,f,Xe(b,2),!0)}function E8(d,f){var b=d==null?0:d.length;if(b){var C=zh(d,f,!0)-1;if(Ns(d[C],f))return C}return-1}function I8(d){return d&&d.length?Sw(d):[]}function $8(d,f){return d&&d.length?Sw(d,Xe(f,2)):[]}function L8(d){var f=d==null?0:d.length;return f?gs(d,1,f):[]}function P8(d,f,b){return d&&d.length?(f=b||f===i?1:vt(f),gs(d,0,f<0?0:f)):[]}function D8(d,f,b){var C=d==null?0:d.length;return C?(f=b||f===i?1:vt(f),f=C-f,gs(d,f<0?0:f,C)):[]}function R8(d,f){return d&&d.length?Nh(d,Xe(f,3),!1,!0):[]}function H8(d,f){return d&&d.length?Nh(d,Xe(f,3)):[]}var V8=At(function(d){return Hr(qi(d,1,vi,!0))}),z8=At(function(d){var f=bs(d);return vi(f)&&(f=i),Hr(qi(d,1,vi,!0),Xe(f,2))}),N8=At(function(d){var f=bs(d);return f=typeof f=="function"?f:i,Hr(qi(d,1,vi,!0),i,f)});function B8(d){return d&&d.length?Hr(d):[]}function F8(d,f){return d&&d.length?Hr(d,Xe(f,2)):[]}function j8(d,f){return f=typeof f=="function"?f:i,d&&d.length?Hr(d,i,f):[]}function g1(d){if(!(d&&d.length))return[];var f=0;return d=$r(d,function(b){if(vi(b))return f=Ii(b.length,f),!0}),Lg(f,function(b){return si(d,Eg(b))})}function u2(d,f){if(!(d&&d.length))return[];var b=g1(d);return f==null?b:si(b,function(C){return Fn(f,i,C)})}var U8=At(function(d,f){return vi(d)?bd(d,f):[]}),W8=At(function(d){return e1($r(d,vi))}),q8=At(function(d){var f=bs(d);return vi(f)&&(f=i),e1($r(d,vi),Xe(f,2))}),K8=At(function(d){var f=bs(d);return f=typeof f=="function"?f:i,e1($r(d,vi),i,f)}),G8=At(g1);function J8(d,f){return Ow(d||[],f||[],gd)}function Y8(d,f){return Ow(d||[],f||[],_d)}var Z8=At(function(d){var f=d.length,b=f>1?d[f-1]:i;return b=typeof b=="function"?(d.pop(),b):i,u2(d,b)});function h2(d){var f=T(d);return f.__chain__=!0,f}function X8(d,f){return f(d),d}function Jh(d,f){return f(d)}var Q8=qo(function(d){var f=d.length,b=f?d[0]:0,C=this.__wrapped__,x=function($){return Bg($,d)};return f>1||this.__actions__.length||!(C instanceof Ot)||!Ko(b)?this.thru(x):(C=C.slice(b,+b+(f?1:0)),C.__actions__.push({func:Jh,args:[x],thisArg:i}),new ps(C,this.__chain__).thru(function($){return f&&!$.length&&$.push(i),$}))});function e6(){return h2(this)}function t6(){return new ps(this.value(),this.__chain__)}function i6(){this.__values__===i&&(this.__values__=x2(this.value()));var d=this.__index__>=this.__values__.length,f=d?i:this.__values__[this.__index__++];return{done:d,value:f}}function n6(){return this}function s6(d){for(var f,b=this;b instanceof Ph;){var C=o2(b);C.__index__=0,C.__values__=i,f?x.__wrapped__=C:f=C;var x=C;b=b.__wrapped__}return x.__wrapped__=d,f}function o6(){var d=this.__wrapped__;if(d instanceof Ot){var f=d;return this.__actions__.length&&(f=new Ot(this)),f=f.reverse(),f.__actions__.push({func:Jh,args:[m1],thisArg:i}),new ps(f,this.__chain__)}return this.thru(m1)}function r6(){return Tw(this.__wrapped__,this.__actions__)}var a6=Bh(function(d,f,b){Kt.call(d,b)?++d[b]:Uo(d,b,1)});function l6(d,f,b){var C=bt(d)?B_:XE;return b&&bn(d,f,b)&&(f=i),C(d,Xe(f,3))}function c6(d,f){var b=bt(d)?$r:uw;return b(d,Xe(f,3))}var d6=zw(r2),u6=zw(a2);function h6(d,f){return qi(Yh(d,f),1)}function f6(d,f){return qi(Yh(d,f),ee)}function p6(d,f,b){return b=b===i?1:vt(b),qi(Yh(d,f),b)}function f2(d,f){var b=bt(d)?hs:Rr;return b(d,Xe(f,3))}function p2(d,f){var b=bt(d)?LO:dw;return b(d,Xe(f,3))}var m6=Bh(function(d,f,b){Kt.call(d,b)?d[b].push(f):Uo(d,b,[f])});function g6(d,f,b,C){d=En(d)?d:Zl(d),b=b&&!C?vt(b):0;var x=d.length;return b<0&&(b=Ii(x+b,0)),tf(d)?b<=x&&d.indexOf(f,b)>-1:!!x&&zl(d,f,b)>-1}var b6=At(function(d,f,b){var C=-1,x=typeof f=="function",$=En(d)?ae(d.length):[];return Rr(d,function(B){$[++C]=x?Fn(f,B,b):yd(B,f,b)}),$}),y6=Bh(function(d,f,b){Uo(d,b,f)});function Yh(d,f){var b=bt(d)?si:bw;return b(d,Xe(f,3))}function v6(d,f,b,C){return d==null?[]:(bt(f)||(f=f==null?[]:[f]),b=C?i:b,bt(b)||(b=b==null?[]:[b]),ww(d,f,b))}var _6=Bh(function(d,f,b){d[b?0:1].push(f)},function(){return[[],[]]});function w6(d,f,b){var C=bt(d)?Tg:W_,x=arguments.length<3;return C(d,Xe(f,4),b,x,Rr)}function C6(d,f,b){var C=bt(d)?PO:W_,x=arguments.length<3;return C(d,Xe(f,4),b,x,dw)}function k6(d,f){var b=bt(d)?$r:uw;return b(d,Qh(Xe(f,3)))}function A6(d){var f=bt(d)?rw:gI;return f(d)}function S6(d,f,b){(b?bn(d,f,b):f===i)?f=1:f=vt(f);var C=bt(d)?KE:bI;return C(d,f)}function x6(d){var f=bt(d)?GE:vI;return f(d)}function M6(d){if(d==null)return 0;if(En(d))return tf(d)?Bl(d):d.length;var f=rn(d);return f==W||f==be?d.size:Kg(d).length}function T6(d,f,b){var C=bt(d)?Og:_I;return b&&bn(d,f,b)&&(f=i),C(d,Xe(f,3))}var O6=At(function(d,f){if(d==null)return[];var b=f.length;return b>1&&bn(d,f[0],f[1])?f=[]:b>2&&bn(f[0],f[1],f[2])&&(f=[f[0]]),ww(d,qi(f,1),[])}),Zh=cE||function(){return Wi.Date.now()};function E6(d,f){if(typeof f!="function")throw new fs(r);return d=vt(d),function(){if(--d<1)return f.apply(this,arguments)}}function m2(d,f,b){return f=b?i:f,f=d&&f==null?d.length:f,Wo(d,K,i,i,i,i,f)}function g2(d,f){var b;if(typeof f!="function")throw new fs(r);return d=vt(d),function(){return--d>0&&(b=f.apply(this,arguments)),d<=1&&(f=i),b}}var b1=At(function(d,f,b){var C=w;if(b.length){var x=Pr(b,Jl(b1));C|=P}return Wo(d,C,f,b,x)}),b2=At(function(d,f,b){var C=w|A;if(b.length){var x=Pr(b,Jl(b2));C|=P}return Wo(f,C,d,b,x)});function y2(d,f,b){f=b?i:f;var C=Wo(d,N,i,i,i,i,i,f);return C.placeholder=y2.placeholder,C}function v2(d,f,b){f=b?i:f;var C=Wo(d,M,i,i,i,i,i,f);return C.placeholder=v2.placeholder,C}function _2(d,f,b){var C,x,$,B,q,X,fe=0,pe=!1,_e=!1,$e=!0;if(typeof d!="function")throw new fs(r);f=ys(f)||0,ri(b)&&(pe=!!b.leading,_e="maxWait"in b,$=_e?Ii(ys(b.maxWait)||0,f):$,$e="trailing"in b?!!b.trailing:$e);function je(_i){var Bs=C,Yo=x;return C=x=i,fe=_i,B=d.apply(Yo,Bs),B}function it(_i){return fe=_i,q=kd(xt,f),pe?je(_i):B}function _t(_i){var Bs=_i-X,Yo=_i-fe,z2=f-Bs;return _e?on(z2,$-Yo):z2}function nt(_i){var Bs=_i-X,Yo=_i-fe;return X===i||Bs>=f||Bs<0||_e&&Yo>=$}function xt(){var _i=Zh();if(nt(_i))return $t(_i);q=kd(xt,_t(_i))}function $t(_i){return q=i,$e&&C?je(_i):(C=x=i,B)}function qn(){q!==i&&Ew(q),fe=0,C=X=x=q=i}function yn(){return q===i?B:$t(Zh())}function Kn(){var _i=Zh(),Bs=nt(_i);if(C=arguments,x=this,X=_i,Bs){if(q===i)return it(X);if(_e)return Ew(q),q=kd(xt,f),je(X)}return q===i&&(q=kd(xt,f)),B}return Kn.cancel=qn,Kn.flush=yn,Kn}var I6=At(function(d,f){return cw(d,1,f)}),$6=At(function(d,f,b){return cw(d,ys(f)||0,b)});function L6(d){return Wo(d,j)}function Xh(d,f){if(typeof d!="function"||f!=null&&typeof f!="function")throw new fs(r);var b=function(){var C=arguments,x=f?f.apply(this,C):C[0],$=b.cache;if($.has(x))return $.get(x);var B=d.apply(this,C);return b.cache=$.set(x,B)||$,B};return b.cache=new(Xh.Cache||jo),b}Xh.Cache=jo;function Qh(d){if(typeof d!="function")throw new fs(r);return function(){var f=arguments;switch(f.length){case 0:return!d.call(this);case 1:return!d.call(this,f[0]);case 2:return!d.call(this,f[0],f[1]);case 3:return!d.call(this,f[0],f[1],f[2])}return!d.apply(this,f)}}function P6(d){return g2(2,d)}var D6=wI(function(d,f){f=f.length==1&&bt(f[0])?si(f[0],jn(Xe())):si(qi(f,1),jn(Xe()));var b=f.length;return At(function(C){for(var x=-1,$=on(C.length,b);++x<$;)C[x]=f[x].call(this,C[x]);return Fn(d,this,C)})}),y1=At(function(d,f){var b=Pr(f,Jl(y1));return Wo(d,P,i,f,b)}),w2=At(function(d,f){var b=Pr(f,Jl(w2));return Wo(d,F,i,f,b)}),R6=qo(function(d,f){return Wo(d,se,i,i,i,f)});function H6(d,f){if(typeof d!="function")throw new fs(r);return f=f===i?f:vt(f),At(d,f)}function V6(d,f){if(typeof d!="function")throw new fs(r);return f=f==null?0:Ii(vt(f),0),At(function(b){var C=b[f],x=zr(b,0,f);return C&&Lr(x,C),Fn(d,this,x)})}function z6(d,f,b){var C=!0,x=!0;if(typeof d!="function")throw new fs(r);return ri(b)&&(C="leading"in b?!!b.leading:C,x="trailing"in b?!!b.trailing:x),_2(d,f,{leading:C,maxWait:f,trailing:x})}function N6(d){return m2(d,1)}function B6(d,f){return y1(i1(f),d)}function F6(){if(!arguments.length)return[];var d=arguments[0];return bt(d)?d:[d]}function j6(d){return ms(d,g)}function U6(d,f){return f=typeof f=="function"?f:i,ms(d,g,f)}function W6(d){return ms(d,h|g)}function q6(d,f){return f=typeof f=="function"?f:i,ms(d,h|g,f)}function K6(d,f){return f==null||lw(d,f,Di(f))}function Ns(d,f){return d===f||d!==d&&f!==f}var G6=Wh(Ug),J6=Wh(function(d,f){return d>=f}),za=pw(function(){return arguments}())?pw:function(d){return di(d)&&Kt.call(d,"callee")&&!ew.call(d,"callee")},bt=ae.isArray,Y6=D_?jn(D_):sI;function En(d){return d!=null&&ef(d.length)&&!Go(d)}function vi(d){return di(d)&&En(d)}function Z6(d){return d===!0||d===!1||di(d)&&gn(d)==ht}var Nr=uE||O1,X6=R_?jn(R_):oI;function Q6(d){return di(d)&&d.nodeType===1&&!Ad(d)}function e$(d){if(d==null)return!0;if(En(d)&&(bt(d)||typeof d=="string"||typeof d.splice=="function"||Nr(d)||Yl(d)||za(d)))return!d.length;var f=rn(d);if(f==W||f==be)return!d.size;if(Cd(d))return!Kg(d).length;for(var b in d)if(Kt.call(d,b))return!1;return!0}function t$(d,f){return vd(d,f)}function i$(d,f,b){b=typeof b=="function"?b:i;var C=b?b(d,f):i;return C===i?vd(d,f,i,b):!!C}function v1(d){if(!di(d))return!1;var f=gn(d);return f==zt||f==Tt||typeof d.message=="string"&&typeof d.name=="string"&&!Ad(d)}function n$(d){return typeof d=="number"&&iw(d)}function Go(d){if(!ri(d))return!1;var f=gn(d);return f==yi||f==H||f==We||f==Me}function C2(d){return typeof d=="number"&&d==vt(d)}function ef(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=G}function ri(d){var f=typeof d;return d!=null&&(f=="object"||f=="function")}function di(d){return d!=null&&typeof d=="object"}var k2=H_?jn(H_):aI;function s$(d,f){return d===f||qg(d,f,c1(f))}function o$(d,f,b){return b=typeof b=="function"?b:i,qg(d,f,c1(f),b)}function r$(d){return A2(d)&&d!=+d}function a$(d){if(UI(d))throw new pt(o);return mw(d)}function l$(d){return d===null}function c$(d){return d==null}function A2(d){return typeof d=="number"||di(d)&&gn(d)==oe}function Ad(d){if(!di(d)||gn(d)!=he)return!1;var f=Mh(d);if(f===null)return!0;var b=Kt.call(f,"constructor")&&f.constructor;return typeof b=="function"&&b instanceof b&&kh.call(b)==oE}var _1=V_?jn(V_):lI;function d$(d){return C2(d)&&d>=-G&&d<=G}var S2=z_?jn(z_):cI;function tf(d){return typeof d=="string"||!bt(d)&&di(d)&&gn(d)==ye}function Wn(d){return typeof d=="symbol"||di(d)&&gn(d)==Ve}var Yl=N_?jn(N_):dI;function u$(d){return d===i}function h$(d){return di(d)&&rn(d)==ze}function f$(d){return di(d)&&gn(d)==Ze}var p$=Wh(Gg),m$=Wh(function(d,f){return d<=f});function x2(d){if(!d)return[];if(En(d))return tf(d)?Vs(d):On(d);if(ud&&d[ud])return KO(d[ud]());var f=rn(d),b=f==W?Dg:f==be?_h:Zl;return b(d)}function Jo(d){if(!d)return d===0?d:0;if(d=ys(d),d===ee||d===-ee){var f=d<0?-1:1;return f*U}return d===d?d:0}function vt(d){var f=Jo(d),b=f%1;return f===f?b?f-b:f:0}function M2(d){return d?Da(vt(d),0,Se):0}function ys(d){if(typeof d=="number")return d;if(Wn(d))return de;if(ri(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=ri(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=q_(d);var b=Y5.test(d);return b||X5.test(d)?EO(d.slice(2),b?2:8):J5.test(d)?de:+d}function T2(d){return ro(d,In(d))}function g$(d){return d?Da(vt(d),-G,G):d===0?d:0}function Bt(d){return d==null?"":Un(d)}var b$=Kl(function(d,f){if(Cd(f)||En(f)){ro(f,Di(f),d);return}for(var b in f)Kt.call(f,b)&&gd(d,b,f[b])}),O2=Kl(function(d,f){ro(f,In(f),d)}),nf=Kl(function(d,f,b,C){ro(f,In(f),d,C)}),y$=Kl(function(d,f,b,C){ro(f,Di(f),d,C)}),v$=qo(Bg);function _$(d,f){var b=ql(d);return f==null?b:aw(b,f)}var w$=At(function(d,f){d=Gt(d);var b=-1,C=f.length,x=C>2?f[2]:i;for(x&&bn(f[0],f[1],x)&&(C=1);++b<C;)for(var $=f[b],B=In($),q=-1,X=B.length;++q<X;){var fe=B[q],pe=d[fe];(pe===i||Ns(pe,jl[fe])&&!Kt.call(d,fe))&&(d[fe]=$[fe])}return d}),C$=At(function(d){return d.push(i,qw),Fn(E2,i,d)});function k$(d,f){return F_(d,Xe(f,3),oo)}function A$(d,f){return F_(d,Xe(f,3),jg)}function S$(d,f){return d==null?d:Fg(d,Xe(f,3),In)}function x$(d,f){return d==null?d:hw(d,Xe(f,3),In)}function M$(d,f){return d&&oo(d,Xe(f,3))}function T$(d,f){return d&&jg(d,Xe(f,3))}function O$(d){return d==null?[]:Hh(d,Di(d))}function E$(d){return d==null?[]:Hh(d,In(d))}function w1(d,f,b){var C=d==null?i:Ra(d,f);return C===i?b:C}function I$(d,f){return d!=null&&Jw(d,f,eI)}function C1(d,f){return d!=null&&Jw(d,f,tI)}var $$=Bw(function(d,f,b){f!=null&&typeof f.toString!="function"&&(f=Ah.call(f)),d[f]=b},A1($n)),L$=Bw(function(d,f,b){f!=null&&typeof f.toString!="function"&&(f=Ah.call(f)),Kt.call(d,f)?d[f].push(b):d[f]=[b]},Xe),P$=At(yd);function Di(d){return En(d)?ow(d):Kg(d)}function In(d){return En(d)?ow(d,!0):uI(d)}function D$(d,f){var b={};return f=Xe(f,3),oo(d,function(C,x,$){Uo(b,f(C,x,$),C)}),b}function R$(d,f){var b={};return f=Xe(f,3),oo(d,function(C,x,$){Uo(b,x,f(C,x,$))}),b}var H$=Kl(function(d,f,b){Vh(d,f,b)}),E2=Kl(function(d,f,b,C){Vh(d,f,b,C)}),V$=qo(function(d,f){var b={};if(d==null)return b;var C=!1;f=si(f,function($){return $=Vr($,d),C||(C=$.length>1),$}),ro(d,a1(d),b),C&&(b=ms(b,h|m|g,$I));for(var x=f.length;x--;)Qg(b,f[x]);return b});function z$(d,f){return I2(d,Qh(Xe(f)))}var N$=qo(function(d,f){return d==null?{}:fI(d,f)});function I2(d,f){if(d==null)return{};var b=si(a1(d),function(C){return[C]});return f=Xe(f),Cw(d,b,function(C,x){return f(C,x[0])})}function B$(d,f,b){f=Vr(f,d);var C=-1,x=f.length;for(x||(x=1,d=i);++C<x;){var $=d==null?i:d[ao(f[C])];$===i&&(C=x,$=b),d=Go($)?$.call(d):$}return d}function F$(d,f,b){return d==null?d:_d(d,f,b)}function j$(d,f,b,C){return C=typeof C=="function"?C:i,d==null?d:_d(d,f,b,C)}var $2=Uw(Di),L2=Uw(In);function U$(d,f,b){var C=bt(d),x=C||Nr(d)||Yl(d);if(f=Xe(f,4),b==null){var $=d&&d.constructor;x?b=C?new $:[]:ri(d)?b=Go($)?ql(Mh(d)):{}:b={}}return(x?hs:oo)(d,function(B,q,X){return f(b,B,q,X)}),b}function W$(d,f){return d==null?!0:Qg(d,f)}function q$(d,f,b){return d==null?d:Mw(d,f,i1(b))}function K$(d,f,b,C){return C=typeof C=="function"?C:i,d==null?d:Mw(d,f,i1(b),C)}function Zl(d){return d==null?[]:Pg(d,Di(d))}function G$(d){return d==null?[]:Pg(d,In(d))}function J$(d,f,b){return b===i&&(b=f,f=i),b!==i&&(b=ys(b),b=b===b?b:0),f!==i&&(f=ys(f),f=f===f?f:0),Da(ys(d),f,b)}function Y$(d,f,b){return f=Jo(f),b===i?(b=f,f=0):b=Jo(b),d=ys(d),iI(d,f,b)}function Z$(d,f,b){if(b&&typeof b!="boolean"&&bn(d,f,b)&&(f=b=i),b===i&&(typeof f=="boolean"?(b=f,f=i):typeof d=="boolean"&&(b=d,d=i)),d===i&&f===i?(d=0,f=1):(d=Jo(d),f===i?(f=d,d=0):f=Jo(f)),d>f){var C=d;d=f,f=C}if(b||d%1||f%1){var x=nw();return on(d+x*(f-d+OO("1e-"+((x+"").length-1))),f)}return Yg(d,f)}var X$=Gl(function(d,f,b){return f=f.toLowerCase(),d+(b?P2(f):f)});function P2(d){return k1(Bt(d).toLowerCase())}function D2(d){return d=Bt(d),d&&d.replace(eO,FO).replace(vO,"")}function Q$(d,f,b){d=Bt(d),f=Un(f);var C=d.length;b=b===i?C:Da(vt(b),0,C);var x=b;return b-=f.length,b>=0&&d.slice(b,x)==f}function eL(d){return d=Bt(d),d&&ld.test(d)?d.replace(ad,jO):d}function tL(d){return d=Bt(d),d&&N5.test(d)?d.replace(yg,"\\$&"):d}var iL=Gl(function(d,f,b){return d+(b?"-":"")+f.toLowerCase()}),nL=Gl(function(d,f,b){return d+(b?" ":"")+f.toLowerCase()}),sL=Vw("toLowerCase");function oL(d,f,b){d=Bt(d),f=vt(f);var C=f?Bl(d):0;if(!f||C>=f)return d;var x=(f-C)/2;return Uh(Ih(x),b)+d+Uh(Eh(x),b)}function rL(d,f,b){d=Bt(d),f=vt(f);var C=f?Bl(d):0;return f&&C<f?d+Uh(f-C,b):d}function aL(d,f,b){d=Bt(d),f=vt(f);var C=f?Bl(d):0;return f&&C<f?Uh(f-C,b)+d:d}function lL(d,f,b){return b||f==null?f=0:f&&(f=+f),mE(Bt(d).replace(vg,""),f||0)}function cL(d,f,b){return(b?bn(d,f,b):f===i)?f=1:f=vt(f),Zg(Bt(d),f)}function dL(){var d=arguments,f=Bt(d[0]);return d.length<3?f:f.replace(d[1],d[2])}var uL=Gl(function(d,f,b){return d+(b?"_":"")+f.toLowerCase()});function hL(d,f,b){return b&&typeof b!="number"&&bn(d,f,b)&&(f=b=i),b=b===i?Se:b>>>0,b?(d=Bt(d),d&&(typeof f=="string"||f!=null&&!_1(f))&&(f=Un(f),!f&&Nl(d))?zr(Vs(d),0,b):d.split(f,b)):[]}var fL=Gl(function(d,f,b){return d+(b?" ":"")+k1(f)});function pL(d,f,b){return d=Bt(d),b=b==null?0:Da(vt(b),0,d.length),f=Un(f),d.slice(b,b+f.length)==f}function mL(d,f,b){var C=T.templateSettings;b&&bn(d,f,b)&&(f=i),d=Bt(d),f=nf({},f,C,Ww);var x=nf({},f.imports,C.imports,Ww),$=Di(x),B=Pg(x,$),q,X,fe=0,pe=f.interpolate||mh,_e="__p += '",$e=Rg((f.escape||mh).source+"|"+pe.source+"|"+(pe===ph?G5:mh).source+"|"+(f.evaluate||mh).source+"|$","g"),je="//# sourceURL="+(Kt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++AO+"]")+`
`;d.replace($e,function(nt,xt,$t,qn,yn,Kn){return $t||($t=qn),_e+=d.slice(fe,Kn).replace(tO,UO),xt&&(q=!0,_e+=`' +
__e(`+xt+`) +
'`),yn&&(X=!0,_e+=`';
`+yn+`;
__p += '`),$t&&(_e+=`' +
((__t = (`+$t+`)) == null ? '' : __t) +
'`),fe=Kn+nt.length,nt}),_e+=`';
`;var it=Kt.call(f,"variable")&&f.variable;if(!it)_e=`with (obj) {
`+_e+`
}
`;else if(q5.test(it))throw new pt(a);_e=(X?_e.replace(St,""):_e).replace(Ui,"$1").replace(Tn,"$1;"),_e="function("+(it||"obj")+`) {
`+(it?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var _t=H2(function(){return Nt($,je+"return "+_e).apply(i,B)});if(_t.source=_e,v1(_t))throw _t;return _t}function gL(d){return Bt(d).toLowerCase()}function bL(d){return Bt(d).toUpperCase()}function yL(d,f,b){if(d=Bt(d),d&&(b||f===i))return q_(d);if(!d||!(f=Un(f)))return d;var C=Vs(d),x=Vs(f),$=K_(C,x),B=G_(C,x)+1;return zr(C,$,B).join("")}function vL(d,f,b){if(d=Bt(d),d&&(b||f===i))return d.slice(0,Y_(d)+1);if(!d||!(f=Un(f)))return d;var C=Vs(d),x=G_(C,Vs(f))+1;return zr(C,0,x).join("")}function _L(d,f,b){if(d=Bt(d),d&&(b||f===i))return d.replace(vg,"");if(!d||!(f=Un(f)))return d;var C=Vs(d),x=K_(C,Vs(f));return zr(C,x).join("")}function wL(d,f){var b=V,C=z;if(ri(f)){var x="separator"in f?f.separator:x;b="length"in f?vt(f.length):b,C="omission"in f?Un(f.omission):C}d=Bt(d);var $=d.length;if(Nl(d)){var B=Vs(d);$=B.length}if(b>=$)return d;var q=b-Bl(C);if(q<1)return C;var X=B?zr(B,0,q).join(""):d.slice(0,q);if(x===i)return X+C;if(B&&(q+=X.length-q),_1(x)){if(d.slice(q).search(x)){var fe,pe=X;for(x.global||(x=Rg(x.source,Bt(p_.exec(x))+"g")),x.lastIndex=0;fe=x.exec(pe);)var _e=fe.index;X=X.slice(0,_e===i?q:_e)}}else if(d.indexOf(Un(x),q)!=q){var $e=X.lastIndexOf(x);$e>-1&&(X=X.slice(0,$e))}return X+C}function CL(d){return d=Bt(d),d&&Bo.test(d)?d.replace(No,ZO):d}var kL=Gl(function(d,f,b){return d+(b?" ":"")+f.toUpperCase()}),k1=Vw("toUpperCase");function R2(d,f,b){return d=Bt(d),f=b?i:f,f===i?qO(d)?eE(d):HO(d):d.match(f)||[]}var H2=At(function(d,f){try{return Fn(d,i,f)}catch(b){return v1(b)?b:new pt(b)}}),AL=qo(function(d,f){return hs(f,function(b){b=ao(b),Uo(d,b,b1(d[b],d))}),d});function SL(d){var f=d==null?0:d.length,b=Xe();return d=f?si(d,function(C){if(typeof C[1]!="function")throw new fs(r);return[b(C[0]),C[1]]}):[],At(function(C){for(var x=-1;++x<f;){var $=d[x];if(Fn($[0],this,C))return Fn($[1],this,C)}})}function xL(d){return ZE(ms(d,h))}function A1(d){return function(){return d}}function ML(d,f){return d==null||d!==d?f:d}var TL=Nw(),OL=Nw(!0);function $n(d){return d}function S1(d){return gw(typeof d=="function"?d:ms(d,h))}function EL(d){return yw(ms(d,h))}function IL(d,f){return vw(d,ms(f,h))}var $L=At(function(d,f){return function(b){return yd(b,d,f)}}),LL=At(function(d,f){return function(b){return yd(d,b,f)}});function x1(d,f,b){var C=Di(f),x=Hh(f,C);b==null&&!(ri(f)&&(x.length||!C.length))&&(b=f,f=d,d=this,x=Hh(f,Di(f)));var $=!(ri(b)&&"chain"in b)||!!b.chain,B=Go(d);return hs(x,function(q){var X=f[q];d[q]=X,B&&(d.prototype[q]=function(){var fe=this.__chain__;if($||fe){var pe=d(this.__wrapped__),_e=pe.__actions__=On(this.__actions__);return _e.push({func:X,args:arguments,thisArg:d}),pe.__chain__=fe,pe}return X.apply(d,Lr([this.value()],arguments))})}),d}function PL(){return Wi._===this&&(Wi._=rE),this}function M1(){}function DL(d){return d=vt(d),At(function(f){return _w(f,d)})}var RL=s1(si),HL=s1(B_),VL=s1(Og);function V2(d){return u1(d)?Eg(ao(d)):pI(d)}function zL(d){return function(f){return d==null?i:Ra(d,f)}}var NL=Fw(),BL=Fw(!0);function T1(){return[]}function O1(){return!1}function FL(){return{}}function jL(){return""}function UL(){return!0}function WL(d,f){if(d=vt(d),d<1||d>G)return[];var b=Se,C=on(d,Se);f=Xe(f),d-=Se;for(var x=Lg(C,f);++b<d;)f(b);return x}function qL(d){return bt(d)?si(d,ao):Wn(d)?[d]:On(s2(Bt(d)))}function KL(d){var f=++sE;return Bt(d)+f}var GL=jh(function(d,f){return d+f},0),JL=o1("ceil"),YL=jh(function(d,f){return d/f},1),ZL=o1("floor");function XL(d){return d&&d.length?Rh(d,$n,Ug):i}function QL(d,f){return d&&d.length?Rh(d,Xe(f,2),Ug):i}function e7(d){return U_(d,$n)}function t7(d,f){return U_(d,Xe(f,2))}function i7(d){return d&&d.length?Rh(d,$n,Gg):i}function n7(d,f){return d&&d.length?Rh(d,Xe(f,2),Gg):i}var s7=jh(function(d,f){return d*f},1),o7=o1("round"),r7=jh(function(d,f){return d-f},0);function a7(d){return d&&d.length?$g(d,$n):0}function l7(d,f){return d&&d.length?$g(d,Xe(f,2)):0}return T.after=E6,T.ary=m2,T.assign=b$,T.assignIn=O2,T.assignInWith=nf,T.assignWith=y$,T.at=v$,T.before=g2,T.bind=b1,T.bindAll=AL,T.bindKey=b2,T.castArray=F6,T.chain=h2,T.chunk=ZI,T.compact=XI,T.concat=QI,T.cond=SL,T.conforms=xL,T.constant=A1,T.countBy=a6,T.create=_$,T.curry=y2,T.curryRight=v2,T.debounce=_2,T.defaults=w$,T.defaultsDeep=C$,T.defer=I6,T.delay=$6,T.difference=e8,T.differenceBy=t8,T.differenceWith=i8,T.drop=n8,T.dropRight=s8,T.dropRightWhile=o8,T.dropWhile=r8,T.fill=a8,T.filter=c6,T.flatMap=h6,T.flatMapDeep=f6,T.flatMapDepth=p6,T.flatten=l2,T.flattenDeep=l8,T.flattenDepth=c8,T.flip=L6,T.flow=TL,T.flowRight=OL,T.fromPairs=d8,T.functions=O$,T.functionsIn=E$,T.groupBy=m6,T.initial=h8,T.intersection=f8,T.intersectionBy=p8,T.intersectionWith=m8,T.invert=$$,T.invertBy=L$,T.invokeMap=b6,T.iteratee=S1,T.keyBy=y6,T.keys=Di,T.keysIn=In,T.map=Yh,T.mapKeys=D$,T.mapValues=R$,T.matches=EL,T.matchesProperty=IL,T.memoize=Xh,T.merge=H$,T.mergeWith=E2,T.method=$L,T.methodOf=LL,T.mixin=x1,T.negate=Qh,T.nthArg=DL,T.omit=V$,T.omitBy=z$,T.once=P6,T.orderBy=v6,T.over=RL,T.overArgs=D6,T.overEvery=HL,T.overSome=VL,T.partial=y1,T.partialRight=w2,T.partition=_6,T.pick=N$,T.pickBy=I2,T.property=V2,T.propertyOf=zL,T.pull=v8,T.pullAll=d2,T.pullAllBy=_8,T.pullAllWith=w8,T.pullAt=C8,T.range=NL,T.rangeRight=BL,T.rearg=R6,T.reject=k6,T.remove=k8,T.rest=H6,T.reverse=m1,T.sampleSize=S6,T.set=F$,T.setWith=j$,T.shuffle=x6,T.slice=A8,T.sortBy=O6,T.sortedUniq=I8,T.sortedUniqBy=$8,T.split=hL,T.spread=V6,T.tail=L8,T.take=P8,T.takeRight=D8,T.takeRightWhile=R8,T.takeWhile=H8,T.tap=X8,T.throttle=z6,T.thru=Jh,T.toArray=x2,T.toPairs=$2,T.toPairsIn=L2,T.toPath=qL,T.toPlainObject=T2,T.transform=U$,T.unary=N6,T.union=V8,T.unionBy=z8,T.unionWith=N8,T.uniq=B8,T.uniqBy=F8,T.uniqWith=j8,T.unset=W$,T.unzip=g1,T.unzipWith=u2,T.update=q$,T.updateWith=K$,T.values=Zl,T.valuesIn=G$,T.without=U8,T.words=R2,T.wrap=B6,T.xor=W8,T.xorBy=q8,T.xorWith=K8,T.zip=G8,T.zipObject=J8,T.zipObjectDeep=Y8,T.zipWith=Z8,T.entries=$2,T.entriesIn=L2,T.extend=O2,T.extendWith=nf,x1(T,T),T.add=GL,T.attempt=H2,T.camelCase=X$,T.capitalize=P2,T.ceil=JL,T.clamp=J$,T.clone=j6,T.cloneDeep=W6,T.cloneDeepWith=q6,T.cloneWith=U6,T.conformsTo=K6,T.deburr=D2,T.defaultTo=ML,T.divide=YL,T.endsWith=Q$,T.eq=Ns,T.escape=eL,T.escapeRegExp=tL,T.every=l6,T.find=d6,T.findIndex=r2,T.findKey=k$,T.findLast=u6,T.findLastIndex=a2,T.findLastKey=A$,T.floor=ZL,T.forEach=f2,T.forEachRight=p2,T.forIn=S$,T.forInRight=x$,T.forOwn=M$,T.forOwnRight=T$,T.get=w1,T.gt=G6,T.gte=J6,T.has=I$,T.hasIn=C1,T.head=c2,T.identity=$n,T.includes=g6,T.indexOf=u8,T.inRange=Y$,T.invoke=P$,T.isArguments=za,T.isArray=bt,T.isArrayBuffer=Y6,T.isArrayLike=En,T.isArrayLikeObject=vi,T.isBoolean=Z6,T.isBuffer=Nr,T.isDate=X6,T.isElement=Q6,T.isEmpty=e$,T.isEqual=t$,T.isEqualWith=i$,T.isError=v1,T.isFinite=n$,T.isFunction=Go,T.isInteger=C2,T.isLength=ef,T.isMap=k2,T.isMatch=s$,T.isMatchWith=o$,T.isNaN=r$,T.isNative=a$,T.isNil=c$,T.isNull=l$,T.isNumber=A2,T.isObject=ri,T.isObjectLike=di,T.isPlainObject=Ad,T.isRegExp=_1,T.isSafeInteger=d$,T.isSet=S2,T.isString=tf,T.isSymbol=Wn,T.isTypedArray=Yl,T.isUndefined=u$,T.isWeakMap=h$,T.isWeakSet=f$,T.join=g8,T.kebabCase=iL,T.last=bs,T.lastIndexOf=b8,T.lowerCase=nL,T.lowerFirst=sL,T.lt=p$,T.lte=m$,T.max=XL,T.maxBy=QL,T.mean=e7,T.meanBy=t7,T.min=i7,T.minBy=n7,T.stubArray=T1,T.stubFalse=O1,T.stubObject=FL,T.stubString=jL,T.stubTrue=UL,T.multiply=s7,T.nth=y8,T.noConflict=PL,T.noop=M1,T.now=Zh,T.pad=oL,T.padEnd=rL,T.padStart=aL,T.parseInt=lL,T.random=Z$,T.reduce=w6,T.reduceRight=C6,T.repeat=cL,T.replace=dL,T.result=B$,T.round=o7,T.runInContext=Y,T.sample=A6,T.size=M6,T.snakeCase=uL,T.some=T6,T.sortedIndex=S8,T.sortedIndexBy=x8,T.sortedIndexOf=M8,T.sortedLastIndex=T8,T.sortedLastIndexBy=O8,T.sortedLastIndexOf=E8,T.startCase=fL,T.startsWith=pL,T.subtract=r7,T.sum=a7,T.sumBy=l7,T.template=mL,T.times=WL,T.toFinite=Jo,T.toInteger=vt,T.toLength=M2,T.toLower=gL,T.toNumber=ys,T.toSafeInteger=g$,T.toString=Bt,T.toUpper=bL,T.trim=yL,T.trimEnd=vL,T.trimStart=_L,T.truncate=wL,T.unescape=CL,T.uniqueId=KL,T.upperCase=kL,T.upperFirst=k1,T.each=f2,T.eachRight=p2,T.first=c2,x1(T,function(){var d={};return oo(T,function(f,b){Kt.call(T.prototype,b)||(d[b]=f)}),d}(),{chain:!1}),T.VERSION=n,hs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){T[d].placeholder=T}),hs(["drop","take"],function(d,f){Ot.prototype[d]=function(b){b=b===i?1:Ii(vt(b),0);var C=this.__filtered__&&!f?new Ot(this):this.clone();return C.__filtered__?C.__takeCount__=on(b,C.__takeCount__):C.__views__.push({size:on(b,Se),type:d+(C.__dir__<0?"Right":"")}),C},Ot.prototype[d+"Right"]=function(b){return this.reverse()[d](b).reverse()}}),hs(["filter","map","takeWhile"],function(d,f){var b=f+1,C=b==ie||b==te;Ot.prototype[d]=function(x){var $=this.clone();return $.__iteratees__.push({iteratee:Xe(x,3),type:b}),$.__filtered__=$.__filtered__||C,$}}),hs(["head","last"],function(d,f){var b="take"+(f?"Right":"");Ot.prototype[d]=function(){return this[b](1).value()[0]}}),hs(["initial","tail"],function(d,f){var b="drop"+(f?"":"Right");Ot.prototype[d]=function(){return this.__filtered__?new Ot(this):this[b](1)}}),Ot.prototype.compact=function(){return this.filter($n)},Ot.prototype.find=function(d){return this.filter(d).head()},Ot.prototype.findLast=function(d){return this.reverse().find(d)},Ot.prototype.invokeMap=At(function(d,f){return typeof d=="function"?new Ot(this):this.map(function(b){return yd(b,d,f)})}),Ot.prototype.reject=function(d){return this.filter(Qh(Xe(d)))},Ot.prototype.slice=function(d,f){d=vt(d);var b=this;return b.__filtered__&&(d>0||f<0)?new Ot(b):(d<0?b=b.takeRight(-d):d&&(b=b.drop(d)),f!==i&&(f=vt(f),b=f<0?b.dropRight(-f):b.take(f-d)),b)},Ot.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Ot.prototype.toArray=function(){return this.take(Se)},oo(Ot.prototype,function(d,f){var b=/^(?:filter|find|map|reject)|While$/.test(f),C=/^(?:head|last)$/.test(f),x=T[C?"take"+(f=="last"?"Right":""):f],$=C||/^find/.test(f);x&&(T.prototype[f]=function(){var B=this.__wrapped__,q=C?[1]:arguments,X=B instanceof Ot,fe=q[0],pe=X||bt(B),_e=function(xt){var $t=x.apply(T,Lr([xt],q));return C&&$e?$t[0]:$t};pe&&b&&typeof fe=="function"&&fe.length!=1&&(X=pe=!1);var $e=this.__chain__,je=!!this.__actions__.length,it=$&&!$e,_t=X&&!je;if(!$&&pe){B=_t?B:new Ot(this);var nt=d.apply(B,q);return nt.__actions__.push({func:Jh,args:[_e],thisArg:i}),new ps(nt,$e)}return it&&_t?d.apply(this,q):(nt=this.thru(_e),it?C?nt.value()[0]:nt.value():nt)})}),hs(["pop","push","shift","sort","splice","unshift"],function(d){var f=wh[d],b=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",C=/^(?:pop|shift)$/.test(d);T.prototype[d]=function(){var x=arguments;if(C&&!this.__chain__){var $=this.value();return f.apply(bt($)?$:[],x)}return this[b](function(B){return f.apply(bt(B)?B:[],x)})}}),oo(Ot.prototype,function(d,f){var b=T[f];if(b){var C=b.name+"";Kt.call(Wl,C)||(Wl[C]=[]),Wl[C].push({name:f,func:b})}}),Wl[Fh(i,A).name]=[{name:"wrapper",func:i}],Ot.prototype.clone=CE,Ot.prototype.reverse=kE,Ot.prototype.value=AE,T.prototype.at=Q8,T.prototype.chain=e6,T.prototype.commit=t6,T.prototype.next=i6,T.prototype.plant=s6,T.prototype.reverse=o6,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=r6,T.prototype.first=T.prototype.head,ud&&(T.prototype[ud]=n6),T},Fl=tE();Ia?((Ia.exports=Fl)._=Fl,Sg._=Fl):Wi._=Fl}).call(fne)}(Hd,Hd.exports)),Hd.exports}var Cl=pne();function Es(e,t,i,n={}){if(!t)return!!i;if(!i)return!!t;if(n.differences){const s=[];return e.forEach(o=>{ky(o,t[o.name],i[o.name])&&s.push(o.name)}),s}else return e.some(s=>ky(s,t[s.name],i[s.name]))}function ky(e,t,i){if(e.type==="relationshipReverse"||(e.type==="relationship"?(t=s(t),i=s(i)):(t=n(t),i=n(i)),Cl.isEqual(t,i)))return!1;return!t&&!i?t===!1&&i!==!1||t!==!1&&i===!1:!(!t&&Array.isArray(i)&&i.length===0);function n(o){if(o!=null&&typeof o=="object"){const r={};for(const[a,l]of Object.entries(o))if(a==="_docId")r._docId=o._docId.replace(/:.*$/,"");else if(a==="_id")r._id=o._id.replace(/:[\w-]+:[\w]+$/,"");else if(a.substring(0,1)==="_")if(Array.isArray(o[a]))r[a]=s(o[a]);else continue;else r[a]=n(l);return r}return o}function s(o){return Array.isArray(o)?o.map(r=>({_id:r._id.replace(/:[\w-]+:[\w]+$/,""),_fields:n(r._fields)})):[]}}var W1={},BC;function mne(){if(BC)return W1;BC=1;function e(t){if(typeof t!="object")return t;var i,n,s=Object.prototype.toString.call(t);if(s==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){n=new t.constructor;for(i in t)t.hasOwnProperty(i)&&n[i]!==t[i]&&(n[i]=e(t[i]))}else{n={};for(i in t)i==="__proto__"?Object.defineProperty(n,i,{value:e(t[i]),configurable:!0,enumerable:!0,writable:!0}):n[i]=e(t[i])}return n}if(s==="[object Array]"){for(i=t.length,n=Array(i);i--;)n[i]=e(t[i]);return n}return s==="[object Set]"?(n=new Set,t.forEach(function(o){n.add(e(o))}),n):s==="[object Map]"?(n=new Map,t.forEach(function(o,r){n.set(e(r),e(o))}),n):s==="[object Date]"?new Date(+t):s==="[object RegExp]"?(n=new RegExp(t.source,t.flags),n.lastIndex=t.lastIndex,n):s==="[object DataView]"?new t.constructor(e(t.buffer)):s==="[object ArrayBuffer]"?t.slice(0):s.slice(-6)==="Array]"?new t.constructor(t):t}return W1.klona=e,W1}var q1,FC;function gne(){if(FC)return q1;FC=1;const{klona:e}=mne(),{createId:t}=B4();q1=i;function i(n){const s={};for(const o of n)o.def!==void 0?s[o.name]=e(o.def):s[o.name]=null,o.type==="area"&&!s[o.name]&&(s[o.name]={metaType:"area",items:[],_id:t()}),o.type==="object"&&(!s[o.name]||Object.keys(s[o.name]).length===0)&&(s[o.name]=i(o.schema));return s}return q1}var bne=gne();const id=Jc(bne),yne={name:"AposArrayEditor",mixins:[Vo,xr],props:{items:{required:!0,type:Array},meta:{type:Object,default:()=>({})},field:{required:!0,type:Object},inputSchema:{type:Array,required:!0},serverError:{type:Object,default:null},docId:{type:String,default:null}},emits:["modal-result"],data(){const e=this.items.map(t=>({...t,_id:t._id||Ut.createId()}));return{currentId:null,currentDoc:{data:{}},modal:{active:!1,type:"overlay",showModal:!1,triggerFocusRefresh:0},modalTitle:{key:"apostrophe:editType",type:this.$t(this.field.label)},titleFieldChoices:null,next:ut(e),original:ut(e),triggerValidation:!1,minError:!1,maxError:!1,cancelDescription:"apostrophe:arrayCancelDescription"}},computed:{moduleOptions(){return window.apos.schema||{}},itemError(){return this.currentDoc&&this.currentDoc.hasErrors},valid(){return!(this.minError||this.maxError||this.itemError)},maxed(){return this.field.max!==void 0&&this.next.length>=this.field.max},schema(){return(this.inputSchema||this.field.schema||[]).filter(e=>apos.schema.components.fields[e.type])},countLabel(){return this.$t("apostrophe:numberAdded",{count:this.next.length})},minLabel(){return this.effectiveMin?this.$t("apostrophe:minUi",{number:this.effectiveMin}):!1},maxLabel(){return typeof this.field.max=="number"?this.$t("apostrophe:maxUi",{number:this.field.max}):!1},effectiveMin(){return this.field.min?this.field.min:this.field.required?1:0},currentDocServerErrors(){let e=null;return(this.serverError&&this.serverError.data&&this.serverError.data.errors||[]).forEach(t=>{const[i,n]=t.path.split(".");i===this.currentId&&(e=e||{},e[n]=t)}),e},currentDocMeta(){var e;return((e=this.meta[this.currentId])==null?void 0:e.aposMeta)||{}},isModified(){if(this.currentId){const e=this.next.findIndex(t=>t._id===this.currentId);if(Es(this.schema,this.next[e],this.currentDoc.data))return!0}if(this.next.length!==this.original.length)return!0;for(let e=0;e<this.next.length;e++)if(this.next[e]._id!==this.original[e]._id||Es(this.schema,this.next[e],this.original[e]))return!0;return!1}},async mounted(){var e,t,i,n;if(this.modal.active=!0,await this.evaluateExternalConditions(),this.next.length&&this.setCurrentDoc(this.next.at(0)._id),(i=(t=(e=this.serverError)==null?void 0:e.data)==null?void 0:t.errors)!=null&&i.length){const s=this.serverError.data.errors[0],[o,r]=((n=s.path)==null?void 0:n.split("."))||[];if(o){await this.select(o);const a=this.$refs.schema;await this.$nextTick(),r&&a.scrollFieldIntoView(r)}}this.titleFieldChoices=await this.getTitleFieldChoices(),this.modal.triggerFocusRefresh++},methods:{setCurrentDoc(e){this.currentId=e,this.currentDoc={hasErrors:!1,data:this.next.find(t=>t._id===e)},this.evaluateConditions(),this.triggerValidation=!1},async select(e){this.currentId!==e&&await this.validate(!0,!1)&&(this.currentDocToCurrentItem(),this.setCurrentDoc(e))},update(e){var t;this.next=e.map(i=>this.next.find(n=>i._id===n._id)),this.currentId&&(this.next.some(i=>i._id===this.currentId)||(this.currentId=((t=this.next.at(0))==null?void 0:t._id)||null,this.currentDoc={data:this.next.at(0)||{}})),this.updateMinMax()},currentDocUpdate(e){this.currentDoc=e,this.evaluateConditions()},async add(){if(await this.validate(!0,!1)){const e=this.newInstance();e._id=Ut.createId(),this.next.push(e),await this.select(e._id),this.updateMinMax(),this.modal.triggerFocusRefresh++}},updateMinMax(){let e=!1,t=!1;this.effectiveMin&&this.next.length<this.effectiveMin&&(e=!0),this.field.max!==void 0&&this.next.length>this.field.max&&(t=!0),this.minError=e,this.maxError=t},async submit(){if(await this.validate(!0,!0)){this.currentDocToCurrentItem();for(const e of this.next)e.metaType="arrayItem",e.scopedArrayName=this.field.scopedArrayName;this.$emit("modal-result",this.next),this.modal.showModal=!1}},currentDocToCurrentItem(){if(!this.currentId)return;const e=this.next.findIndex(t=>t._id===this.currentId);this.next[e]=this.currentDoc.data},getFieldValue(e){return this.currentDoc.data[e]},async validate(e,t){return e&&this.next.length>0&&this.currentId&&(this.triggerValidation=!0),await this.$nextTick(),t&&this.updateMinMax(),t&&(this.minError||this.maxError)||e&&this.currentDoc&&this.currentDoc.hasErrors?(await apos.notify("apostrophe:resolveErrorsFirst",{type:"warning",icon:"alert-circle-icon",dismiss:!0}),!1):!0},newInstance(){return id(this.schema)},label(e){let t;if(this.field.titleField){if(t=Cl.get(e,this.field.titleField),this.titleFieldChoices){const i=this.titleFieldChoices.find(n=>n.value===t);i&&i.label&&(t=i.label)}}else this.schema.find(i=>i.name==="title")&&e.title!==void 0&&(t=e.title);if(t==null||t===""){for(let i=0;i<this.next.length;i++)if(this.next[i]._id===e._id){t=`#${i+1}`;break}}return t},withLabels(e){return e.map(i=>({...i,title:this.label(i)}))},async getTitleFieldChoices(){let e=null;const t=this.schema.find(i=>i.name===this.field.titleField);if(t!=null&&t.choices)if(typeof t.choices=="string"){const i=`${this.moduleOptions.action}/choices`;try{const n=await apos.http.get(i,{qs:{fieldId:t._id}});n&&n.choices&&(e=n.choices)}catch{console.error(this.$t("apostrophe:errorFetchingTitleFieldChoicesByMethod",{name:t.name}))}}else Array.isArray(t.choices)&&(e=t.choices);return e}}},vne={name:"AposArrayEditor",mixins:[yne]},_ne={class:"apos-modal-array-items"},wne={class:"apos-modal-array-items__heading"},Cne={class:"apos-modal-array-items__label"},kne={key:0},Ane={class:"apos-modal-array-item"},Sne={class:"apos-modal-array-item__wrapper"},xne={class:"apos-modal-array-item__pane"},Mne={class:"apos-array-item__body"};function Tne(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposSlatList"),l=O("AposModalRail"),c=O("AposSchema"),u=O("AposModalBody"),h=O("AposModal");return p(),R(h,{class:"apos-array-editor",modal:e.modal,"modal-title":e.modalTitle,onInactive:t[0]||(t[0]=m=>e.modal.active=!1),onShowModal:t[1]||(t[1]=m=>e.modal.showModal=!0),onEsc:e.confirmAndCancel},{secondaryControls:Q(()=>[D(r,{type:"default",label:"apostrophe:cancel",onClick:e.confirmAndCancel},null,8,["onClick"])]),primaryControls:Q(()=>[D(r,{type:"primary",label:"apostrophe:save",disabled:!e.valid,onClick:e.submit},null,8,["disabled","onClick"])]),leftRail:Q(()=>[D(l,null,{default:Q(()=>[k("div",_ne,[k("div",wne,[k("div",Cne,[e.countLabel?(p(),y("span",kne,E(e.countLabel),1)):S("v-if",!0),e.minLabel?(p(),y("span",{key:1,class:ne(e.minError?"apos-modal-array-min-error":"")},E(e.minLabel),3)):S("v-if",!0),e.maxLabel?(p(),y("span",{key:2,class:ne(e.maxError?"apos-modal-array-max-error":"")},E(e.maxLabel),3)):S("v-if",!0)]),D(r,{class:"apos-modal-array-items__add",label:"apostrophe:addItem","icon-only":!0,icon:"plus-icon",modifiers:["tiny","round"],attrs:{"data-apos-focus-priority":!0},disabled:e.maxed||e.itemError,onClick:Je(e.add,["prevent"])},null,8,["disabled","onClick"])]),D(a,{class:"apos-modal-array-items__items",selected:e.currentId,"model-value":e.withLabels(e.next),"onUpdate:modelValue":e.update,onSelect:e.select},null,8,["selected","model-value","onUpdate:modelValue","onSelect"])])]),_:1})]),main:Q(()=>[D(u,null,{bodyMain:Q(()=>[k("div",Ane,[k("div",Sne,[k("div",xne,[k("div",Mne,[Ge(D(c,{ref:"schema",schema:e.schema,"trigger-validation":e.triggerValidation,"following-values":e.followingValues(),"conditional-fields":e.conditionalFields,"model-value":e.currentDoc,meta:e.currentDocMeta,"server-errors":e.currentDocServerErrors,"doc-id":e.docId,"onUpdate:modelValue":e.currentDocUpdate,onValidate:e.triggerValidate},null,8,["schema","trigger-validation","following-values","conditional-fields","model-value","meta","server-errors","doc-id","onUpdate:modelValue","onValidate"]),[[ti,e.currentId]])])])])])]),_:1})]),_:1},8,["modal","modal-title","onEsc"])}const One=I(vne,[["render",Tne],["__scopeId","data-v-c5ac2057"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposArrayEditor.vue"]]),tn={emits:["update:modelValue"],props:{modelValue:{type:Object,required:!0},field:{type:Object,required:!0},meta:{type:Object,default(){return{}}},modifiers:{default:function(){return[]},type:Array},followingValues:{type:Object,required:!1},conditionMet:{type:Boolean,required:!1},triggerValidation:{type:Boolean,default:!1},displayOptions:{type:Object,default(){return{}}},docId:{type:String,required:!1},serverError:{type:Object,required:!1},noBlurEmit:{type:Boolean,default:!1}},data(){return{next:this.modelValue&&this.modelValue.data!==void 0?this.modelValue.data:"",error:!1,uid:Math.random(),focus:!1,fieldReady:!0}},mounted(){this.$el.addEventListener("focusin",this.focusInListener),this.$el.addEventListener("focusout",this.focusOutListener)},unmounted(){this.$el.removeEventListener("focusin",this.focusInListener),this.$el.removeEventListener("focusout",this.focusOutListener)},computed:{options(){return window.apos.schema},iconSize(){return this.modifiers.includes("small")?14:20},tooltip(){let e=!1;return this.field.readOnly&&(e="apostrophe:inputFieldIsDisabled"),e},effectiveError(){return this.error||this.serverError},fieldMeta(){var e;return((e=this.meta)==null?void 0:e[this.field.name])||{}}},watch:{modelValue:{deep:!0,handler(e){this.watchValue()}},next:{deep:!0,handler(e){this.watchNext()}},triggerValidation(e){e&&this.validateAndEmit()},focus(e){!this.noBlurEmit&&!e&&this.validateAndEmit()}},methods:{validateAndEmit(){if(!this.fieldReady)return;const e=this.conditionMet!==!1,t=e?this.validate(this.next):!1;this.$emit("update:modelValue",{data:t?this.next:this.convert(this.next),error:t,ranValidation:e?!0:this.modelValue.ranValidation})},replaceFieldValue(e){this.next=e},watchValue(){this.error=this.modelValue.error,this.next=this.modelValue.data},watchNext(){this.validateAndEmit()},focusInListener(){this.focus=!0},focusOutListener(){this.focus=!1},convert(){return this.next},convertMetaToItems(e=[]){const t=ut(this.fieldMeta),i=this.meta||{},n={};for(const s of Object.keys(i))if(s.startsWith("@")&&!e.some(o=>i[`@${o._id}`])){n[s]=i[s];continue}for(const s of e){const o=i[`@${s._id}`]||{},r=o.aposMeta;t[s._id]={...o,aposMeta:{...r||{},...n}}}return t}}},Ene={name:"AposInputArea",mixins:[tn],props:{generation:{type:Number,required:!1,default(){return null}}},data(){return{next:this.modelValue.data||this.getEmptyValue(),error:!1,uid:Math.random()}},computed:{editorComponent(){return window.apos.area.components.editor},choices(){var i,n;const e=[];let t=this.field.options.widgets||{};if(this.field.options.groups)for(const s of Object.entries(this.field.options.groups))t={...t,...s.widgets};for(const[s,o]of Object.entries(t))e.push({name:s,label:o.addLabel||((i=apos.modules[`${s}-widget`])==null?void 0:i.label),icon:(n=apos.modules[`${s}-widget`])==null?void 0:n.icon});return e},areaMeta(){var t;const e=this.convertMetaToItems(this.next.items);return(t=this.meta)!=null&&t[`@${this.next._id}`]?{...e,...this.meta[`@${this.next._id}`]}:e}},methods:{getEmptyValue(){return{metaType:"area",_id:Ut.createId(),items:[]}},watchValue(){this.error=this.modelValue.error,this.next=this.modelValue.data||this.getEmptyValue()},validate(e){return this.field.required&&!e.items.length?"required":this.field.min&&e.items.length&&e.items.length<this.field.min?"min":this.field.max&&e.items.length&&e.items.length>this.field.max?"max":!1},changed(e){this.next={...this.next,items:e.items}}}},Ine={name:"AposInputArea",mixins:[Ene]};function $ne(e,t,i,n,s,o){const r=O("AposInputWrapper");return p(),R(r,{field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions,modifiers:[...e.modifiers,"full-width"],items:e.next.items,meta:e.areaMeta},{body:Q(()=>[k("div",{class:ne(["apos-input-wrapper",e.next.items.length?null:"apos-is-empty"]),"data-apos-schema-area":""},[S(` We do not pass docId here because it is solely for
          contextual editing as far as the area editor is concerned. -Tom `),(p(),R(tt(e.editorComponent),{id:e.next._id,options:e.field.options,items:e.next.items,meta:e.areaMeta,choices:e.choices,"field-id":e.field._id,field:e.field,"following-values":e.followingValues,generation:e.generation,onChanged:e.changed},null,40,["id","options","items","meta","choices","field-id","field","following-values","generation","onChanged"]))],2)]),_:1},8,["field","error","uid","display-options","modifiers","items","meta"])}const Lne=I(Ine,[["render",$ne],["__scopeId","data-v-a0818e09"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputArea.vue"]]),F4={methods:{computeFollowingValues(e,t=!1){const i={},n={};for(const[s,o]of Object.entries(this.followingValues||{}))n[`<${s}`]=o;if(t)return n;for(const s of this.schema)if(s.following){const o=Array.isArray(s.following)?s.following:[s.following];i[s.name]={};for(const r of o)r.startsWith("<")?i[s.name][r]=n[r]:i[s.name][r]=e[r]}return i}}},j4={data(){return{externalConditionsResults:_a(),conditionalFields:_a()}},methods:{async evaluateExternalConditions(){this.externalConditionsResults=await H4(this.schema,this.docId,this.$t)},getConditionalFields(e){return z4(this.schema,e,this.externalConditionsResults)},evaluateConditions(e={}){this.conditionalFields=this.getConditionalFields(e)}}};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function jC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function $o(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(i),!0).forEach(function(n){Pne(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jC(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Gf(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gf=function(t){return typeof t}:Gf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function Pne(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function wr(){return wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wr.apply(this,arguments)}function Dne(e,t){if(e==null)return{};var i={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(i[s]=e[s]);return i}function Rne(e,t){if(e==null)return{};var i=Dne(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Hne="1.15.6";function br(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Mr=br(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ih=br(/Edge/i),UC=br(/firefox/i),Xd=br(/safari/i)&&!br(/chrome/i)&&!br(/android/i),i0=br(/iP(ad|od|hone)/i),U4=br(/chrome/i)&&br(/android/i),W4={capture:!1,passive:!1};function Lt(e,t,i){e.addEventListener(t,i,!Mr&&W4)}function Et(e,t,i){e.removeEventListener(t,i,!Mr&&W4)}function Ep(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function q4(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Us(e,t,i,n){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&Ep(e,t):Ep(e,t))||n&&e===i)return e;if(e===i)break}while(e=q4(e))}return null}var WC=/\s+/g;function Jn(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(WC," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(WC," ")}}function rt(e,t,i){var n=e&&e.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=i+(typeof i=="string"?"":"px")}}function Sc(e,t){var i="";if(typeof e=="string")i=e;else do{var n=rt(e,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function K4(e,t,i){if(e){var n=e.getElementsByTagName(t),s=0,o=n.length;if(i)for(;s<o;s++)i(n[s],s);return n}return[]}function xo(){var e=document.scrollingElement;return e||document.documentElement}function Si(e,t,i,n,s){if(!(!e.getBoundingClientRect&&e!==window)){var o,r,a,l,c,u,h;if(e!==window&&e.parentNode&&e!==xo()?(o=e.getBoundingClientRect(),r=o.top,a=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(r=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||i)&&e!==window&&(s=s||e.parentNode,!Mr))do if(s&&s.getBoundingClientRect&&(rt(s,"transform")!=="none"||i&&rt(s,"position")!=="static")){var m=s.getBoundingClientRect();r-=m.top+parseInt(rt(s,"border-top-width")),a-=m.left+parseInt(rt(s,"border-left-width")),l=r+o.height,c=a+o.width;break}while(s=s.parentNode);if(n&&e!==window){var g=Sc(s||e),v=g&&g.a,_=g&&g.d;g&&(r/=_,a/=v,h/=v,u/=_,l=r+u,c=a+h)}return{top:r,left:a,bottom:l,right:c,width:h,height:u}}}function qC(e,t,i){for(var n=oa(e,!0),s=Si(e)[t];n;){var o=Si(n)[i],r=void 0;if(r=s>=o,!r)return n;if(n===xo())break;n=oa(n,!1)}return!1}function Pc(e,t,i,n){for(var s=0,o=0,r=e.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==at.ghost&&(n||r[o]!==at.dragged)&&Us(r[o],i.draggable,e,!1)){if(s===t)return r[o];s++}o++}return null}function n0(e,t){for(var i=e.lastElementChild;i&&(i===at.ghost||rt(i,"display")==="none"||t&&!Ep(i,t));)i=i.previousElementSibling;return i||null}function Ss(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==at.clone&&(!t||Ep(e,t))&&i++;return i}function KC(e){var t=0,i=0,n=xo();if(e)do{var s=Sc(e),o=s.a,r=s.d;t+=e.scrollLeft*o,i+=e.scrollTop*r}while(e!==n&&(e=e.parentNode));return[t,i]}function Vne(e,t){for(var i in e)if(e.hasOwnProperty(i)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i)}return-1}function oa(e,t){if(!e||!e.getBoundingClientRect)return xo();var i=e,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=rt(i);if(i.clientWidth<i.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return xo();if(n||t)return i;n=!0}}while(i=i.parentNode);return xo()}function zne(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function K1(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Qd;function G4(e,t){return function(){if(!Qd){var i=arguments,n=this;i.length===1?e.call(n,i[0]):e.apply(n,i),Qd=setTimeout(function(){Qd=void 0},t)}}}function Nne(){clearTimeout(Qd),Qd=void 0}function J4(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function Y4(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function Z4(e,t,i){var n={};return Array.from(e.children).forEach(function(s){var o,r,a,l;if(!(!Us(s,t.draggable,e,!1)||s.animated||s===i)){var c=Si(s);n.left=Math.min((o=n.left)!==null&&o!==void 0?o:1/0,c.left),n.top=Math.min((r=n.top)!==null&&r!==void 0?r:1/0,c.top),n.right=Math.max((a=n.right)!==null&&a!==void 0?a:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Rn="Sortable"+new Date().getTime();function Bne(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(rt(s,"display")==="none"||s===at.ghost)){e.push({target:s,rect:Si(s)});var o=$o({},e[e.length-1].rect);if(s.thisAnimationDuration){var r=Sc(s,!0);r&&(o.top-=r.f,o.left-=r.e)}s.fromRect=o}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(Vne(e,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var o=!1,r=0;e.forEach(function(a){var l=0,c=a.target,u=c.fromRect,h=Si(c),m=c.prevFromRect,g=c.prevToRect,v=a.rect,_=Sc(c,!0);_&&(h.top-=_.f,h.left-=_.e),c.toRect=h,c.thisAnimationDuration&&K1(m,h)&&!K1(u,h)&&(v.top-h.top)/(v.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(l=jne(v,m,g,s.options)),K1(h,u)||(c.prevFromRect=u,c.prevToRect=h,l||(l=s.options.animation),s.animate(c,v,h,l)),l&&(o=!0,r=Math.max(r,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),e=[]},animate:function(n,s,o,r){if(r){rt(n,"transition",""),rt(n,"transform","");var a=Sc(this.el),l=a&&a.a,c=a&&a.d,u=(s.left-o.left)/(l||1),h=(s.top-o.top)/(c||1);n.animatingX=!!u,n.animatingY=!!h,rt(n,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=Fne(n),rt(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),rt(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){rt(n,"transition",""),rt(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}function Fne(e){return e.offsetWidth}function jne(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}var ic=[],G1={initializeByDefault:!0},nh={mount:function(t){for(var i in G1)G1.hasOwnProperty(i)&&!(i in t)&&(t[i]=G1[i]);ic.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),ic.push(t)},pluginEvent:function(t,i,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var o=t+"Global";ic.forEach(function(r){i[r.pluginName]&&(i[r.pluginName][o]&&i[r.pluginName][o]($o({sortable:i},n)),i.options[r.pluginName]&&i[r.pluginName][t]&&i[r.pluginName][t]($o({sortable:i},n)))})},initializePlugins:function(t,i,n,s){ic.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,i,t.options);c.sortable=t,c.options=t.options,t[l]=c,wr(n,c.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var r=this.modifyOption(t,o,t.options[o]);typeof r<"u"&&(t.options[o]=r)}},getEventProperties:function(t,i){var n={};return ic.forEach(function(s){typeof s.eventProperties=="function"&&wr(n,s.eventProperties.call(i[s.pluginName],t))}),n},modifyOption:function(t,i,n){var s;return ic.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[i]=="function"&&(s=o.optionListeners[i].call(t[o.pluginName],n))}),s}};function Une(e){var t=e.sortable,i=e.rootEl,n=e.name,s=e.targetEl,o=e.cloneEl,r=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,h=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||i&&i[Rn],!!t){var _,w=t.options,A="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Mr&&!ih?_=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(n,!0,!0)),_.to=r||i,_.from=a||i,_.item=s||i,_.clone=o,_.oldIndex=l,_.newIndex=c,_.oldDraggableIndex=u,_.newDraggableIndex=h,_.originalEvent=m,_.pullMode=g?g.lastPutMode:void 0;var L=$o($o({},v),nh.getEventProperties(n,t));for(var N in L)_[N]=L[N];i&&i.dispatchEvent(_),w[A]&&w[A].call(t,_)}}var Wne=["evt"],Ln=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,o=Rne(n,Wne);nh.pluginEvent.bind(at)(t,i,$o({dragEl:Oe,parentEl:hi,ghostEl:mt,rootEl:oi,nextEl:Ka,lastDownEl:Jf,cloneEl:ai,cloneHidden:ea,dragStarted:Vd,putSortable:Ki,activeSortable:at.active,originalEvent:s,oldIndex:yc,oldDraggableIndex:eu,newIndex:Xn,newDraggableIndex:Jr,hideGhostForTarget:tx,unhideGhostForTarget:ix,cloneNowHidden:function(){ea=!0},cloneNowShown:function(){ea=!1},dispatchSortableEvent:function(a){_n({sortable:i,name:a,originalEvent:s})}},o))};function _n(e){Une($o({putSortable:Ki,cloneEl:ai,targetEl:Oe,rootEl:oi,oldIndex:yc,oldDraggableIndex:eu,newIndex:Xn,newDraggableIndex:Jr},e))}var Oe,hi,mt,oi,Ka,Jf,ai,ea,yc,Xn,eu,Jr,uf,Ki,fc=!1,Ip=!1,$p=[],ja,Fs,J1,Y1,GC,JC,Vd,nc,tu,iu=!1,hf=!1,Yf,an,Z1=[],Ay=!1,Lp=[],Wm=typeof document<"u",ff=i0,YC=ih||Mr?"cssFloat":"float",qne=Wm&&!U4&&!i0&&"draggable"in document.createElement("div"),X4=function(){if(Wm){if(Mr)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Q4=function(t,i){var n=rt(t),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Pc(t,0,i),r=Pc(t,1,i),a=o&&rt(o),l=r&&rt(r),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Si(o).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Si(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return r&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=s&&n[YC]==="none"||r&&n[YC]==="none"&&c+u>s)?"vertical":"horizontal"},Kne=function(t,i,n){var s=n?t.left:t.top,o=n?t.right:t.bottom,r=n?t.width:t.height,a=n?i.left:i.top,l=n?i.right:i.bottom,c=n?i.width:i.height;return s===a||o===l||s+r/2===a+c/2},Gne=function(t,i){var n;return $p.some(function(s){var o=s[Rn].options.emptyInsertThreshold;if(!(!o||n0(s))){var r=Si(s),a=t>=r.left-o&&t<=r.right+o,l=i>=r.top-o&&i<=r.bottom+o;if(a&&l)return n=s}}),n},ex=function(t){function i(o,r){return function(a,l,c,u){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(r||h))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return i(o(a,l,c,u),r)(a,l,c,u);var m=(r?a:l).options.group.name;return o===!0||typeof o=="string"&&o===m||o.join&&o.indexOf(m)>-1}}var n={},s=t.group;(!s||Gf(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=i(s.pull,!0),n.checkPut=i(s.put),n.revertClone=s.revertClone,t.group=n},tx=function(){!X4&&mt&&rt(mt,"display","none")},ix=function(){!X4&&mt&&rt(mt,"display","")};Wm&&!U4&&document.addEventListener("click",function(e){if(Ip)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ip=!1,!1},!0);var Ua=function(t){if(Oe){t=t.touches?t.touches[0]:t;var i=Gne(t.clientX,t.clientY);if(i){var n={};for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[Rn]._onDragOver(n)}}},Jne=function(t){Oe&&Oe.parentNode[Rn]._isOutsideThisEl(t.target)};function at(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=wr({},t),e[Rn]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Q4(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:at.supportPointer!==!1&&"PointerEvent"in window&&(!Xd||i0),emptyInsertThreshold:5};nh.initializePlugins(this,e,i);for(var n in i)!(n in t)&&(t[n]=i[n]);ex(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:qne,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Lt(e,"pointerdown",this._onTapStart):(Lt(e,"mousedown",this._onTapStart),Lt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Lt(e,"dragover",this),Lt(e,"dragenter",this)),$p.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),wr(this,Bne())}at.prototype={constructor:at,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(nc=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,Oe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i=this,n=this.el,s=this.options,o=s.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=s.filter;if(nse(n),!Oe&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||s.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Xd&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Us(l,s.draggable,n,!1),!(l&&l.animated)&&Jf!==l)){if(yc=Ss(l),eu=Ss(l,s.draggable),typeof u=="function"){if(u.call(this,t,l,this)){_n({sortable:i,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),Ln("filter",i,{evt:t}),o&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=Us(c,h.trim(),n,!1),h)return _n({sortable:i,rootEl:h,name:"filter",targetEl:l,fromEl:n,toEl:n}),Ln("filter",i,{evt:t}),!0}),u)){o&&t.preventDefault();return}s.handle&&!Us(c,s.handle,n,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,i,n){var s=this,o=s.el,r=s.options,a=o.ownerDocument,l;if(n&&!Oe&&n.parentNode===o){var c=Si(n);if(oi=o,Oe=n,hi=Oe.parentNode,Ka=Oe.nextSibling,Jf=n,uf=r.group,at.dragged=Oe,ja={target:Oe,clientX:(i||t).clientX,clientY:(i||t).clientY},GC=ja.clientX-c.left,JC=ja.clientY-c.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,Oe.style["will-change"]="all",l=function(){if(Ln("delayEnded",s,{evt:t}),at.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!UC&&s.nativeDraggable&&(Oe.draggable=!0),s._triggerDragStart(t,i),_n({sortable:s,name:"choose",originalEvent:t}),Jn(Oe,r.chosenClass,!0)},r.ignore.split(",").forEach(function(u){K4(Oe,u.trim(),X1)}),Lt(a,"dragover",Ua),Lt(a,"mousemove",Ua),Lt(a,"touchmove",Ua),r.supportPointer?(Lt(a,"pointerup",s._onDrop),!this.nativeDraggable&&Lt(a,"pointercancel",s._onDrop)):(Lt(a,"mouseup",s._onDrop),Lt(a,"touchend",s._onDrop),Lt(a,"touchcancel",s._onDrop)),UC&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Oe.draggable=!0),Ln("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(ih||Mr))){if(at.eventCanceled){this._onDrop();return}r.supportPointer?(Lt(a,"pointerup",s._disableDelayedDrag),Lt(a,"pointercancel",s._disableDelayedDrag)):(Lt(a,"mouseup",s._disableDelayedDrag),Lt(a,"touchend",s._disableDelayedDrag),Lt(a,"touchcancel",s._disableDelayedDrag)),Lt(a,"mousemove",s._delayedDragTouchMoveHandler),Lt(a,"touchmove",s._delayedDragTouchMoveHandler),r.supportPointer&&Lt(a,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(l,r.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Oe&&X1(Oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Et(t,"mouseup",this._disableDelayedDrag),Et(t,"touchend",this._disableDelayedDrag),Et(t,"touchcancel",this._disableDelayedDrag),Et(t,"pointerup",this._disableDelayedDrag),Et(t,"pointercancel",this._disableDelayedDrag),Et(t,"mousemove",this._delayedDragTouchMoveHandler),Et(t,"touchmove",this._delayedDragTouchMoveHandler),Et(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?Lt(document,"pointermove",this._onTouchMove):i?Lt(document,"touchmove",this._onTouchMove):Lt(document,"mousemove",this._onTouchMove):(Lt(Oe,"dragend",this),Lt(oi,"dragstart",this._onDragStart));try{document.selection?Zf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(fc=!1,oi&&Oe){Ln("dragStarted",this,{evt:i}),this.nativeDraggable&&Lt(document,"dragover",Jne);var n=this.options;!t&&Jn(Oe,n.dragClass,!1),Jn(Oe,n.ghostClass,!0),at.active=this,t&&this._appendGhost(),_n({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Fs){this._lastX=Fs.clientX,this._lastY=Fs.clientY,tx();for(var t=document.elementFromPoint(Fs.clientX,Fs.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Fs.clientX,Fs.clientY),t!==i);)i=t;if(Oe.parentNode[Rn]._isOutsideThisEl(t),i)do{if(i[Rn]){var n=void 0;if(n=i[Rn]._onDragOver({clientX:Fs.clientX,clientY:Fs.clientY,target:t,rootEl:i}),n&&!this.options.dragoverBubble)break}t=i}while(i=q4(i));ix()}},_onTouchMove:function(t){if(ja){var i=this.options,n=i.fallbackTolerance,s=i.fallbackOffset,o=t.touches?t.touches[0]:t,r=mt&&Sc(mt,!0),a=mt&&r&&r.a,l=mt&&r&&r.d,c=ff&&an&&KC(an),u=(o.clientX-ja.clientX+s.x)/(a||1)+(c?c[0]-Z1[0]:0)/(a||1),h=(o.clientY-ja.clientY+s.y)/(l||1)+(c?c[1]-Z1[1]:0)/(l||1);if(!at.active&&!fc){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(mt){r?(r.e+=u-(J1||0),r.f+=h-(Y1||0)):r={a:1,b:0,c:0,d:1,e:u,f:h};var m="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");rt(mt,"webkitTransform",m),rt(mt,"mozTransform",m),rt(mt,"msTransform",m),rt(mt,"transform",m),J1=u,Y1=h,Fs=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!mt){var t=this.options.fallbackOnBody?document.body:oi,i=Si(Oe,!0,ff,!0,t),n=this.options;if(ff){for(an=t;rt(an,"position")==="static"&&rt(an,"transform")==="none"&&an!==document;)an=an.parentNode;an!==document.body&&an!==document.documentElement?(an===document&&(an=xo()),i.top+=an.scrollTop,i.left+=an.scrollLeft):an=xo(),Z1=KC(an)}mt=Oe.cloneNode(!0),Jn(mt,n.ghostClass,!1),Jn(mt,n.fallbackClass,!0),Jn(mt,n.dragClass,!0),rt(mt,"transition",""),rt(mt,"transform",""),rt(mt,"box-sizing","border-box"),rt(mt,"margin",0),rt(mt,"top",i.top),rt(mt,"left",i.left),rt(mt,"width",i.width),rt(mt,"height",i.height),rt(mt,"opacity","0.8"),rt(mt,"position",ff?"absolute":"fixed"),rt(mt,"zIndex","100000"),rt(mt,"pointerEvents","none"),at.ghost=mt,t.appendChild(mt),rt(mt,"transform-origin",GC/parseInt(mt.style.width)*100+"% "+JC/parseInt(mt.style.height)*100+"%")}},_onDragStart:function(t,i){var n=this,s=t.dataTransfer,o=n.options;if(Ln("dragStart",this,{evt:t}),at.eventCanceled){this._onDrop();return}Ln("setupClone",this),at.eventCanceled||(ai=Y4(Oe),ai.removeAttribute("id"),ai.draggable=!1,ai.style["will-change"]="",this._hideClone(),Jn(ai,this.options.chosenClass,!1),at.clone=ai),n.cloneId=Zf(function(){Ln("clone",n),!at.eventCanceled&&(n.options.removeCloneOnHide||oi.insertBefore(ai,Oe),n._hideClone(),_n({sortable:n,name:"clone"}))}),!i&&Jn(Oe,o.dragClass,!0),i?(Ip=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Et(document,"mouseup",n._onDrop),Et(document,"touchend",n._onDrop),Et(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",o.setData&&o.setData.call(n,s,Oe)),Lt(document,"drop",n),rt(Oe,"transform","translateZ(0)")),fc=!0,n._dragStartId=Zf(n._dragStarted.bind(n,i,t)),Lt(document,"selectstart",n),Vd=!0,window.getSelection().removeAllRanges(),Xd&&rt(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,n=t.target,s,o,r,a=this.options,l=a.group,c=at.active,u=uf===l,h=a.sort,m=Ki||c,g,v=this,_=!1;if(Ay)return;function w(G,U){Ln(G,v,$o({evt:t,isOwner:u,axis:g?"vertical":"horizontal",revert:r,dragRect:s,targetRect:o,canSort:h,fromSortable:m,target:n,completed:L,onMove:function(Se,Te){return pf(oi,i,Oe,s,Se,Si(Se),t,Te)},changed:N},U))}function A(){w("dragOverAnimationCapture"),v.captureAnimationState(),v!==m&&m.captureAnimationState()}function L(G){return w("dragOverCompleted",{insertion:G}),G&&(u?c._hideClone():c._showClone(v),v!==m&&(Jn(Oe,Ki?Ki.options.ghostClass:c.options.ghostClass,!1),Jn(Oe,a.ghostClass,!0)),Ki!==v&&v!==at.active?Ki=v:v===at.active&&Ki&&(Ki=null),m===v&&(v._ignoreWhileAnimating=n),v.animateAll(function(){w("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(n===Oe&&!Oe.animated||n===i&&!n.animated)&&(nc=null),!a.dragoverBubble&&!t.rootEl&&n!==document&&(Oe.parentNode[Rn]._isOutsideThisEl(t.target),!G&&Ua(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),_=!0}function N(){Xn=Ss(Oe),Jr=Ss(Oe,a.draggable),_n({sortable:v,name:"change",toEl:i,newIndex:Xn,newDraggableIndex:Jr,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=Us(n,a.draggable,i,!0),w("dragOver"),at.eventCanceled)return _;if(Oe.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||v._ignoreWhileAnimating===n)return L(!1);if(Ip=!1,c&&!a.disabled&&(u?h||(r=hi!==oi):Ki===this||(this.lastPutMode=uf.checkPull(this,c,Oe,t))&&l.checkPut(this,c,Oe,t))){if(g=this._getDirection(t,n)==="vertical",s=Si(Oe),w("dragOverValid"),at.eventCanceled)return _;if(r)return hi=oi,A(),this._hideClone(),w("revert"),at.eventCanceled||(Ka?oi.insertBefore(Oe,Ka):oi.appendChild(Oe)),L(!0);var M=n0(i,a.draggable);if(!M||Qne(t,g,this)&&!M.animated){if(M===Oe)return L(!1);if(M&&i===t.target&&(n=M),n&&(o=Si(n)),pf(oi,i,Oe,s,n,o,t,!!n)!==!1)return A(),M&&M.nextSibling?i.insertBefore(Oe,M.nextSibling):i.appendChild(Oe),hi=i,N(),L(!0)}else if(M&&Xne(t,g,this)){var P=Pc(i,0,a,!0);if(P===Oe)return L(!1);if(n=P,o=Si(n),pf(oi,i,Oe,s,n,o,t,!1)!==!1)return A(),i.insertBefore(Oe,P),hi=i,N(),L(!0)}else if(n.parentNode===i){o=Si(n);var F=0,K,se=Oe.parentNode!==i,j=!Kne(Oe.animated&&Oe.toRect||s,n.animated&&n.toRect||o,g),V=g?"top":"left",z=qC(n,"top","top")||qC(Oe,"top","top"),Z=z?z.scrollTop:void 0;nc!==n&&(K=o[V],iu=!1,hf=!j&&a.invertSwap||se),F=ese(t,n,o,g,j?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,hf,nc===n);var le;if(F!==0){var ie=Ss(Oe);do ie-=F,le=hi.children[ie];while(le&&(rt(le,"display")==="none"||le===mt))}if(F===0||le===n)return L(!1);nc=n,tu=F;var re=n.nextElementSibling,te=!1;te=F===1;var ee=pf(oi,i,Oe,s,n,o,t,te);if(ee!==!1)return(ee===1||ee===-1)&&(te=ee===1),Ay=!0,setTimeout(Zne,30),A(),te&&!re?i.appendChild(Oe):n.parentNode.insertBefore(Oe,te?re:n),z&&J4(z,0,Z-z.scrollTop),hi=Oe.parentNode,K!==void 0&&!hf&&(Yf=Math.abs(K-Si(n)[V])),N(),L(!0)}if(i.contains(Oe))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Et(document,"mousemove",this._onTouchMove),Et(document,"touchmove",this._onTouchMove),Et(document,"pointermove",this._onTouchMove),Et(document,"dragover",Ua),Et(document,"mousemove",Ua),Et(document,"touchmove",Ua)},_offUpEvents:function(){var t=this.el.ownerDocument;Et(t,"mouseup",this._onDrop),Et(t,"touchend",this._onDrop),Et(t,"pointerup",this._onDrop),Et(t,"pointercancel",this._onDrop),Et(t,"touchcancel",this._onDrop),Et(document,"selectstart",this)},_onDrop:function(t){var i=this.el,n=this.options;if(Xn=Ss(Oe),Jr=Ss(Oe,n.draggable),Ln("drop",this,{evt:t}),hi=Oe&&Oe.parentNode,Xn=Ss(Oe),Jr=Ss(Oe,n.draggable),at.eventCanceled){this._nulling();return}fc=!1,hf=!1,iu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Sy(this.cloneId),Sy(this._dragStartId),this.nativeDraggable&&(Et(document,"drop",this),Et(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xd&&rt(document.body,"user-select",""),rt(Oe,"transform",""),t&&(Vd&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),mt&&mt.parentNode&&mt.parentNode.removeChild(mt),(oi===hi||Ki&&Ki.lastPutMode!=="clone")&&ai&&ai.parentNode&&ai.parentNode.removeChild(ai),Oe&&(this.nativeDraggable&&Et(Oe,"dragend",this),X1(Oe),Oe.style["will-change"]="",Vd&&!fc&&Jn(Oe,Ki?Ki.options.ghostClass:this.options.ghostClass,!1),Jn(Oe,this.options.chosenClass,!1),_n({sortable:this,name:"unchoose",toEl:hi,newIndex:null,newDraggableIndex:null,originalEvent:t}),oi!==hi?(Xn>=0&&(_n({rootEl:hi,name:"add",toEl:hi,fromEl:oi,originalEvent:t}),_n({sortable:this,name:"remove",toEl:hi,originalEvent:t}),_n({rootEl:hi,name:"sort",toEl:hi,fromEl:oi,originalEvent:t}),_n({sortable:this,name:"sort",toEl:hi,originalEvent:t})),Ki&&Ki.save()):Xn!==yc&&Xn>=0&&(_n({sortable:this,name:"update",toEl:hi,originalEvent:t}),_n({sortable:this,name:"sort",toEl:hi,originalEvent:t})),at.active&&((Xn==null||Xn===-1)&&(Xn=yc,Jr=eu),_n({sortable:this,name:"end",toEl:hi,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ln("nulling",this),oi=Oe=hi=mt=Ka=ai=Jf=ea=ja=Fs=Vd=Xn=Jr=yc=eu=nc=tu=Ki=uf=at.dragged=at.ghost=at.clone=at.active=null,Lp.forEach(function(t){t.checked=!0}),Lp.length=J1=Y1=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Oe&&(this._onDragOver(t),Yne(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,n=this.el.children,s=0,o=n.length,r=this.options;s<o;s++)i=n[s],Us(i,r.draggable,this.el,!1)&&t.push(i.getAttribute(r.dataIdAttr)||ise(i));return t},sort:function(t,i){var n={},s=this.el;this.toArray().forEach(function(o,r){var a=s.children[r];Us(a,this.options.draggable,s,!1)&&(n[o]=a)},this),i&&this.captureAnimationState(),t.forEach(function(o){n[o]&&(s.removeChild(n[o]),s.appendChild(n[o]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return Us(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var n=this.options;if(i===void 0)return n[t];var s=nh.modifyOption(this,t,i);typeof s<"u"?n[t]=s:n[t]=i,t==="group"&&ex(n)},destroy:function(){Ln("destroy",this);var t=this.el;t[Rn]=null,Et(t,"mousedown",this._onTapStart),Et(t,"touchstart",this._onTapStart),Et(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Et(t,"dragover",this),Et(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),$p.splice($p.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ea){if(Ln("hideClone",this),at.eventCanceled)return;rt(ai,"display","none"),this.options.removeCloneOnHide&&ai.parentNode&&ai.parentNode.removeChild(ai),ea=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ea){if(Ln("showClone",this),at.eventCanceled)return;Oe.parentNode==oi&&!this.options.group.revertClone?oi.insertBefore(ai,Oe):Ka?oi.insertBefore(ai,Ka):oi.appendChild(ai),this.options.group.revertClone&&this.animate(Oe,ai),rt(ai,"display",""),ea=!1}}};function Yne(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function pf(e,t,i,n,s,o,r,a){var l,c=e[Rn],u=c.options.onMove,h;return window.CustomEvent&&!Mr&&!ih?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=s||t,l.relatedRect=o||Si(t),l.willInsertAfter=a,l.originalEvent=r,e.dispatchEvent(l),u&&(h=u.call(c,l,r)),h}function X1(e){e.draggable=!1}function Zne(){Ay=!1}function Xne(e,t,i){var n=Si(Pc(i.el,0,i.options,!0)),s=Z4(i.el,i.options,mt),o=10;return t?e.clientX<s.left-o||e.clientY<n.top&&e.clientX<n.right:e.clientY<s.top-o||e.clientY<n.bottom&&e.clientX<n.left}function Qne(e,t,i){var n=Si(n0(i.el,i.options.draggable)),s=Z4(i.el,i.options,mt),o=10;return t?e.clientX>s.right+o||e.clientY>n.bottom&&e.clientX>n.left:e.clientY>s.bottom+o||e.clientX>n.right&&e.clientY>n.top}function ese(e,t,i,n,s,o,r,a){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,u=n?i.top:i.left,h=n?i.bottom:i.right,m=!1;if(!r){if(a&&Yf<c*s){if(!iu&&(tu===1?l>u+c*o/2:l<h-c*o/2)&&(iu=!0),iu)m=!0;else if(tu===1?l<u+Yf:l>h-Yf)return-tu}else if(l>u+c*(1-s)/2&&l<h-c*(1-s)/2)return tse(t)}return m=m||r,m&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}function tse(e){return Ss(Oe)<Ss(e)?1:-1}function ise(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function nse(e){Lp.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&Lp.push(n)}}function Zf(e){return setTimeout(e,0)}function Sy(e){return clearTimeout(e)}Wm&&Lt(document,"touchmove",function(e){(at.active||fc)&&e.cancelable&&e.preventDefault()});at.utils={on:Lt,off:Et,css:rt,find:K4,is:function(t,i){return!!Us(t,i,t,!1)},extend:zne,throttle:G4,closest:Us,toggleClass:Jn,clone:Y4,index:Ss,nextTick:Zf,cancelNextTick:Sy,detectDirection:Q4,getChild:Pc,expando:Rn};at.get=function(e){return e[Rn]};at.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(at.utils=$o($o({},at.utils),n.utils)),nh.mount(n)})};at.create=function(e,t){return new at(e,t)};at.version=Hne;var Ai=[],zd,xy,My=!1,Q1,eb,Pp,Nd;function sse(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?Lt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Lt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?Lt(document,"touchmove",this._handleFallbackAutoScroll):Lt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?Et(document,"dragover",this._handleAutoScroll):(Et(document,"pointermove",this._handleFallbackAutoScroll),Et(document,"touchmove",this._handleFallbackAutoScroll),Et(document,"mousemove",this._handleFallbackAutoScroll)),ZC(),Xf(),Nne()},nulling:function(){Pp=xy=zd=My=Nd=Q1=eb=null,Ai.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var s=this,o=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(o,r);if(Pp=i,n||this.options.forceAutoScrollFallback||ih||Mr||Xd){tb(i,this.options,a,n);var l=oa(a,!0);My&&(!Nd||o!==Q1||r!==eb)&&(Nd&&ZC(),Nd=setInterval(function(){var c=oa(document.elementFromPoint(o,r),!0);c!==l&&(l=c,Xf()),tb(i,s.options,c,n)},10),Q1=o,eb=r)}else{if(!this.options.bubbleScroll||oa(a,!0)===xo()){Xf();return}tb(i,this.options,oa(a,!1),!1)}}},wr(e,{pluginName:"scroll",initializeByDefault:!0})}function Xf(){Ai.forEach(function(e){clearInterval(e.pid)}),Ai=[]}function ZC(){clearInterval(Nd)}var tb=G4(function(e,t,i,n){if(t.scroll){var s=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,a=t.scrollSpeed,l=xo(),c=!1,u;xy!==i&&(xy=i,Xf(),zd=t.scroll,u=t.scrollFn,zd===!0&&(zd=oa(i,!0)));var h=0,m=zd;do{var g=m,v=Si(g),_=v.top,w=v.bottom,A=v.left,L=v.right,N=v.width,M=v.height,P=void 0,F=void 0,K=g.scrollWidth,se=g.scrollHeight,j=rt(g),V=g.scrollLeft,z=g.scrollTop;g===l?(P=N<K&&(j.overflowX==="auto"||j.overflowX==="scroll"||j.overflowX==="visible"),F=M<se&&(j.overflowY==="auto"||j.overflowY==="scroll"||j.overflowY==="visible")):(P=N<K&&(j.overflowX==="auto"||j.overflowX==="scroll"),F=M<se&&(j.overflowY==="auto"||j.overflowY==="scroll"));var Z=P&&(Math.abs(L-s)<=r&&V+N<K)-(Math.abs(A-s)<=r&&!!V),le=F&&(Math.abs(w-o)<=r&&z+M<se)-(Math.abs(_-o)<=r&&!!z);if(!Ai[h])for(var ie=0;ie<=h;ie++)Ai[ie]||(Ai[ie]={});(Ai[h].vx!=Z||Ai[h].vy!=le||Ai[h].el!==g)&&(Ai[h].el=g,Ai[h].vx=Z,Ai[h].vy=le,clearInterval(Ai[h].pid),(Z!=0||le!=0)&&(c=!0,Ai[h].pid=setInterval((function(){n&&this.layer===0&&at.active._onTouchMove(Pp);var re=Ai[this.layer].vy?Ai[this.layer].vy*a:0,te=Ai[this.layer].vx?Ai[this.layer].vx*a:0;typeof u=="function"&&u.call(at.dragged.parentNode[Rn],te,re,e,Pp,Ai[this.layer].el)!=="continue"||J4(Ai[this.layer].el,te,re)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&m!==l&&(m=oa(m,!1)));My=c}},30),nx=function(t){var i=t.originalEvent,n=t.putSortable,s=t.dragEl,o=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(i){var c=n||o;a();var u=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,h=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(h)&&(r("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function s0(){}s0.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=Pc(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(i,s):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:nx};wr(s0,{pluginName:"revertOnSpill"});function o0(){}o0.prototype={onSpill:function(t){var i=t.dragEl,n=t.putSortable,s=n||this.sortable;s.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),s.animateAll()},drop:nx};wr(o0,{pluginName:"removeOnSpill"});at.mount(new sse);at.mount(o0,s0);const qm=zm({__name:"Sortable",props:{options:{type:Object,default:null,required:!1},list:{type:[Array,Object],default:[],required:!0},itemKey:{type:[String,Function],default:"",required:!0},tag:{type:String,default:"div",required:!1}},emits:["choose","unchoose","start","end","add","update","sort","remove","filter","move","clone","change"],setup(e,{expose:t,emit:i}){const n=e,s=i,o=KP(),r=He(!1),a=He(null),l=He(null),c=st(()=>typeof n.itemKey=="string"?u=>u[n.itemKey]:n.itemKey);return t({containerRef:a,sortable:l,isDragging:r}),ss(a,u=>{u&&(l.value=new at(u,{...n.options,onChoose:h=>s("choose",h),onUnchoose:h=>s("unchoose",h),onStart:h=>{r.value=!0,s("start",h)},onEnd:h=>{setTimeout(()=>{r.value=!1,s("end",h)})},onAdd:h=>s("add",h),onUpdate:h=>s("update",h),onSort:h=>s("sort",h),onRemove:h=>s("remove",h),onFilter:h=>s("filter",h),onMove:(h,m)=>"onMoveCapture"in o?o.onMoveCapture(h,m):s("move",h,m),onClone:h=>s("clone",h),onChange:h=>s("change",h)}))}),ss(()=>n.options,u=>{if(u&&(l!=null&&l.value))for(const h in u)l.value.option(h,u[h])}),ku(()=>{l.value&&(l.value.destroy(),a.value=null,l.value=null)}),(u,h)=>(p(),R(tt(u.$props.tag),{ref_key:"containerRef",ref:a,class:ne(u.$props.class)},{default:Q(()=>[yt(u.$slots,"header"),(p(!0),y(Ce,null,Ie(e.list,(m,g)=>yt(u.$slots,"item",{key:c.value(m),element:m,index:g})),128)),yt(u.$slots,"footer")]),_:3},8,["class"]))}}),ose={name:"AposInputArray",components:{draggable:qm},mixins:[tn,F4,j4],emits:["validate"],props:{generation:{type:Number,required:!1,default:null}},data(){var i,n,s,o;const e=this.getNext(),t=XC(e,this.field,this.field.schema);return{next:e,items:t,isDragging:!1,itemsConditionalFields:Object.fromEntries(t.map(({_id:r})=>[r,_a()])),emptyWhenIcon:((n=(i=this.field)==null?void 0:i.whenEmpty)==null?void 0:n.icon)||"text-box-multiple-icon",emptyWhenLabel:((o=(s=this.field)==null?void 0:s.whenEmpty)==null?void 0:o.label)||"apostrophe:noItemsAdded"}},computed:{isInlineTable(){return this.field.style==="table"&&this.isInline},isInlineStandard(){return this.field.style!=="table"&&this.isInline},isInline(){return!!this.field.inline},shouldResetConditionalFields(){return this.isInline?N4(this.schema):!1},isDraggable(){return!(this.field.draggable===!1||this.field.readOnly||this.next.length<=1)},isAddDisabled(){return this.field.readOnly||this.field.max&&this.items.length>=this.field.max},inlineContextMenu(){return[...this.isDraggable?[{label:this.$t("apostrophe:moveUp"),action:"move-up"},{label:this.$t("apostrophe:moveDown"),action:"move-down"}]:[],...this.field.duplicate!==!1?[{label:this.$t("apostrophe:duplicate"),action:"duplicate"}]:[],{label:this.$t("apostrophe:remove"),action:"remove",modifiers:["danger"]}]},schema(){return this.field.schema},listId(){return`sortableList-${Ut.createId()}`},dragOptions(){return{disabled:!this.isDraggable,ghostClass:"apos-is-ghost",handle:this.isInlineTable?".apos-drag-handle":".apos-input-array-inline-header",dragClass:"apos-is-dragging",forceFallback:!0,fallbackTolerance:5}},itemLabel(){return this.field.itemLabel?{key:"apostrophe:addType",type:this.$t(this.field.itemLabel)}:"apostrophe:addItem"},editLabel(){return{key:"apostrophe:editType",type:this.$t(this.field.label)}},effectiveError(){const e=this.error||this.serverError;return((e==null?void 0:e.name)||e)==="invalid"&&!this.serverError?!1:e},arrayMeta(){return this.convertMetaToItems(this.items)}},watch:{generation(){this.next=this.getNext(),this.items=XC(this.next,this.field,this.schema)},items:{deep:!0,handler(){const e=this.items.filter(t=>t.schemaInput.hasErrors);if(e.length)e.forEach(t=>{t.open||(t.open=!0)});else{const t=this.items.map(i=>({...i.schemaInput.data,_id:i._id,metaType:"arrayItem",scopedArrayName:this.field.scopedArrayName}));this.next=t}this.triggerValidation&&this.validateAndEmit()}},followingValues:{async handler(e){this.shouldResetConditionalFields&&this.setItemsConditionalFields()},deep:!0}},async mounted(){this.isInline&&(await this.evaluateExternalConditions(),this.setItemsConditionalFields())},methods:{toggleAll(e){this.items=this.items.map(t=>({...t,open:e}))},startDragging(e){this.isDragging=!0,this.disengageAll(),this.toggleEngage({target:e.item})},stopDragging(e){this.isDragging=!1,document.getSelection().removeAllRanges(),this.focusElement(e.item.getAttribute("data-id"))},getInlineMenuItems(e){const t=ut(this.inlineContextMenu);return e===0&&t.some(i=>i.action==="move-up")&&(t.find(i=>i.action==="move-up").modifiers=["disabled"]),e+1===this.items.length&&t.some(i=>i.action==="move-down")&&(t.find(i=>i.action==="move-down").modifiers=["disabled"]),t},getTableHeaderClass(e,t){const i=/[^a-zA-Z0-9_-]/g,n=this.$t(e.label).replace(i,"-").toLowerCase();return`${t}--${n}`},toggleEngage(e,t={}){let i=e.target.getAttribute("data-id");if(!i&&!t.exact&&(i=e.target.closest("[data-id]").getAttribute("data-id")),!i)return;const n=this.items.find(o=>o._id===i),s=n.engaged;this.disengageAll(),n.engaged=!s,t.prevent&&e.preventDefault()},disengageAll(){this.items.forEach(e=>{e.engaged=!1})},moveUpdate({oldIndex:e,newIndex:t}){this.items.splice(t,0,this.items.splice(e,1)[0])},getItemData(e){var t;return(t=this.items.find(i=>i._id===e))==null?void 0:t.schemaInput.data},getItemDataWithFollowingValues(e){const t=this.getItemData(e)||{};return{...this.computeFollowingValues(t,!0),...t}},setItemsConditionalFields(e){if(e){this.itemsConditionalFields[e]=this.getConditionalFields(this.getItemDataWithFollowingValues(e));return}for(const t of Object.keys(this.itemsConditionalFields))this.itemsConditionalFields[t]=this.getConditionalFields(this.getItemDataWithFollowingValues(t))},emitValidate(){this.$emit("validate")},validate(e){if(this.items.find(t=>t.schemaInput.hasErrors))return"invalid";if(this.field.required&&!e.length)return"required";if(this.field.min&&e.length<this.field.min)return"min";if(this.field.max&&e.length>this.field.max)return"max";if(e.length&&this.field.fields&&this.field.fields.add){const[t,i]=Object.entries(this.field.fields.add).find(([,n])=>n.unique)||[];if(t){const n=this.next.map(s=>Array.isArray(s[t])?s[t].map(o=>o._id).sort().join("|"):s[t]).filter((s,o,r)=>r.indexOf(s)!==o);if(n.length)return n.forEach(s=>{this.items.forEach(o=>{var r;i.type==="relationship"?(r=o.schemaInput.data[t])==null||r.forEach(a=>{o.schemaInput.fieldState[t].duplicate=s.split("|").find(l=>l===a._id)}):o.schemaInput.fieldState[t].duplicate=o.schemaInput.data[t]===s})}),{name:"duplicate",message:`${this.$t("apostrophe:duplicateError")} ${this.$t(i.label)||t}`}}}return!1},async edit(){const e=await apos.modal.execute("AposArrayEditor",{field:this.field,inputSchema:this.schema,items:this.next,serverError:this.serverError,docId:this.docId,parentFollowingValues:this.followingValues,meta:this.arrayMeta});e&&(this.next=e)},getNext(){return this.modelValue&&Array.isArray(this.modelValue.data)?this.modelValue.data:this.field.def||[]},disableAdd(){return this.field.max&&this.items.length>=this.field.max},remove(e){this.items=this.items.filter(t=>t._id!==e),delete this.itemsConditionalFields[e]},add(){const e=Ut.createId();this.items.push({_id:e,schemaInput:{data:this.newInstance()},open:!0,engaged:!1}),this.setItemsConditionalFields(e),this.focusElement(e)},duplicate(e,t){const i=this.items.find(a=>a._id===e),n=this.field.titleField||null,s=Ut.createId(),o={_id:s,schemaInput:ut(i.schemaInput),open:!1,engaged:!1},r=Cl.get(o.schemaInput.data,n);n&&(o.schemaInput.data[n]=`${this.$t("apostrophe:duplicateOf")} ${r}`),t+1===this.items.length?this.items.push(o):this.items.splice(t+1,0,o),this.focusElement(s)},newInstance(){return id(this.schema)},getLabel(e,t){const i=this.field.titleField||"title",n=this.items.find(s=>s._id===e);return Cl.get(n.schemaInput.data,i)||`Item ${t+1}`},toggleOpenInlineItem(e){if(!e)return;const t=e.target.getAttribute("data-id")?e.target.getAttribute("data-id"):e.target.closest("[data-id]").getAttribute("data-id"),i=this.items.find(n=>n._id===t);i&&(i.open=!i.open)},moveEngaged(e,t,i,n={}){const s=this.items.find(r=>r._id===t),o=this.items.indexOf(s);o+i===this.items.length||o+i<0||s.engaged&&(this.moveUpdate({oldIndex:o,newIndex:o+i}),this.focusElement(t),n.prevent&&e.preventDefault())},focusElement(e){this.$nextTick(()=>{const t=this.$refs.root.$el.querySelector(`[data-id="${e}"]`);t&&t.focus()})},getFollowingValues(e){return this.computeFollowingValues(e.schemaInput.data)},visibleSchema(){if(this.field.style!=="table")return this.schema;const e=this.items.find(t=>t.open)||this.items[this.items.length-1];return this.schema.filter(t=>{var i;return((i=this.itemsConditionalFields[e._id])==null?void 0:i.if[t.name])!==!1})},inlineMenuHandler(e,{index:t,id:i}){switch(e.action){case"move-up":this.moveUpdate({oldIndex:t,newIndex:t-1});break;case"move-down":this.moveUpdate({oldIndex:t,newIndex:t+1});break;case"remove":this.remove(i);break;case"duplicate":this.duplicate(i,t);break}}}};function XC(e,t,i){return e.map(n=>({_id:n._id||Ut.createId(),schemaInput:{data:n||{}},open:!1,engaged:!1}))}const rse={name:"AposInputArray",components:{draggable:qm},mixins:[ose]},ase={class:"apos-input-array-inline-all-controls"},lse={key:0,class:"apos-input-array-inline-empty"},cse={class:"apos-input-array-inline-empty-label"},dse={key:1},use={key:0,class:"apos-input-array-inline-table"},hse={class:"apos-input-array-inline-table-header"},fse={key:0,class:"apos-input-array-inline-table-header-cell"},pse={class:"apos-input-array-inline-table-cell apos-input-array-inline-table-cell--controls apos-input-array-inline-table-cell--controls--menu"},mse=["data-id","aria-pressed","onKeydown"],gse={class:"apos-input-array-inline-header-ui apos-input-array-inline-header-ui--left"},bse={class:"apos-input-array-inline-label"},yse={class:"apos-input-array-inline-header-ui apos-input-array-inline-header-ui--right"},vse={class:"apos-input-array-inline-body"},_se={key:3,class:"apos-input-array"},wse={class:"apos-input-wrapper"};function Cse(e,t,i,n,s,o){const r=O("AposMinMaxCount"),a=O("AposButton"),l=O("AposIndicator"),c=O("AposContextMenu"),u=O("AposSchema"),h=O("draggable"),m=O("AposInputWrapper");return p(),R(m,{ref:"root",field:e.field,error:e.effectiveError,uid:e.uid,items:e.next,"display-options":e.displayOptions,modifiers:[...e.isInlineTable?["full-width"]:[]],meta:e.arrayMeta},_l({additional:Q(()=>[D(r,{field:e.field,"model-value":e.next},null,8,["field","model-value"])]),body:Q(()=>[(e.isInlineStandard||e.isInlineTable)&&!e.items.length?(p(),y("div",lse,[(p(),R(tt(e.emptyWhenIcon),{size:50})),k("label",cse,E(e.$t(e.emptyWhenLabel)),1)])):S("v-if",!0),S(" INLINE TABLE "),e.isInlineTable?(p(),y("div",dse,[e.items.length?(p(),y("table",use,[k("thead",hse,[k("tr",null,[e.isDraggable?(p(),y("th",fse)):S("v-if",!0),(p(!0),y(Ce,null,Ie(e.visibleSchema(),g=>(p(),y("th",{key:g._id,class:ne(["apos-input-array-inline-table-header-cell",e.getTableHeaderClass(g,"apos-input-array-inline-table-header-cell")]),style:Wt(g.columnStyle||{})},E(e.$t(g.label)),7))),128)),t[17]||(t[17]=k("th",{class:"apos-input-array-inline-table-header-cell"},null,-1))])]),D(h,{id:e.listId,"item-key":"_id",role:"list",class:ne({"apos-input-array-inline-array--is-dragging":e.isDragging}),options:e.dragOptions,tag:"tbody",list:e.items,onUpdate:e.moveUpdate,onStart:e.startDragging,onEnd:e.stopDragging},{item:Q(({element:g,index:v})=>{var _;return[(p(),R(u,{key:g._id,modelValue:g.schemaInput,"onUpdate:modelValue":[w=>g.schemaInput=w,w=>e.setItemsConditionalFields(g._id)],"data-id":g._id,tabindex:e.isDraggable?"0":"-1",class:ne(["apos-input-array-inline-table-row",{"apos-input-array-inline-table-row--active":g.open,"apos-input-array-inline-table-row--engaged":g.engaged}]),"data-apos-input-array-inline-item":"",meta:(_=e.arrayMeta[g._id])==null?void 0:_.aposMeta,schema:e.schema,"trigger-validation":e.triggerValidation,generation:e.generation,modifiers:["small","inverted"],"doc-id":e.docId,"following-values":e.getFollowingValues(g),"conditional-fields":e.itemsConditionalFields[g._id],"field-style":"table",onValidate:t[4]||(t[4]=w=>e.emitValidate()),onKeydown:[t[5]||(t[5]=Qe(w=>e.isDraggable?e.toggleEngage(w,{exact:!0,prevent:!0}):{},["space"])),t[6]||(t[6]=Qe(w=>e.isDraggable?e.toggleEngage(w,{exact:!0,prevent:!0}):{},["enter"])),Qe(w=>e.isDraggable?e.moveEngaged(w,g._id,-1,{prevent:!0}):{},["arrow-up"]),Qe(w=>e.isDraggable?e.moveEngaged(w,g._id,1,{prevent:!0}):{},["arrow-down"])]},{before:Q(()=>[e.isDraggable?(p(),y("td",{key:0,class:"apos-input-array-inline-table-cell apos-input-array-inline-table-cell--controls",style:Wt(e.field.columnStyle)},[D(l,{icon:"drag-icon",class:"apos-input-array-inline-table-cell-drag-handle apos-drag-handle",decorative:!1,onKeydown:[Qe(Je(w=>e.toggleEngage(w,g._id),["prevent"]),["space"]),Qe(Je(w=>e.toggleEngage(w,g._id),["prevent"]),["enter"])]},null,8,["onKeydown"])],4)):S("v-if",!0)]),after:Q(()=>[k("td",pse,[e.getInlineMenuItems(v).length>1?(p(),R(c,{key:0,ref:"menu","data-apos-input-array-inline-item-menu":"",class:"",button:{label:"apostrophe:moreOperations",iconOnly:!0,icon:"dots-vertical-icon",type:"subtle",modifiers:["small","no-motion"]},menu:e.getInlineMenuItems(v),"menu-placement":"bottom-end",onKeydown:[t[2]||(t[2]=Qe(w=>w.stopImmediatePropagation(),["space"])),t[3]||(t[3]=Qe(w=>w.stopImmediatePropagation(),["enter"]))],onItemClicked:w=>e.inlineMenuHandler(w,{index:v,id:g._id})},null,8,["menu","onItemClicked"])):(p(),R(a,{key:1,"data-apos-input-array-inline-item-remove":"",label:"apostrophe:removeItem",icon:"close-icon",type:"subtle",modifiers:["inline","no-motion"],"icon-only":!0,onClick:w=>e.remove(g._id)},null,8,["onClick"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","data-id","tabindex","meta","class","schema","trigger-validation","generation","doc-id","following-values","conditional-fields","onKeydown"]))]}),_:1},8,["id","class","options","list","onUpdate","onStart","onEnd"])])):S("v-if",!0)])):e.field.inline?(p(),y(Ce,{key:2},[S(" INLINE STANDARD"),k("div",null,[D(h,{id:e.listId,"item-key":"_id",class:ne(["apos-input-array-inline-standard",{"apos-input-array-inline-array--is-dragging":e.isDragging}]),role:"list",options:e.dragOptions,tag:"div",list:e.items,onUpdate:e.moveUpdate,onStart:e.startDragging,onEnd:e.stopDragging},{item:Q(({element:g,index:v})=>[(p(),y("div",{key:g._id,class:ne(["apos-input-array-inline-item",{"apos-input-array-inline-item--open":g.open,"apos-input-array-inline-item--engaged":g.engaged,"apos-input-array-inline-item--drag-disabled":!e.isDraggable}]),"data-apos-input-array-inline-item":"","data-id":g._id,tabindex:"0","aria-pressed":g.engaged,role:"listitem",onKeydown:[t[16]||(t[16]=Qe(Je(_=>e.isDraggable?e.toggleOpenInlineItem(_):{},["prevent","exact"]),["space"])),Qe(Je(_=>e.isDraggable?e.toggleEngage(_,g._id):{},["prevent","shift"]),["space"]),Qe(Je(_=>e.isDraggable?e.toggleEngage(_,g._id):{},["prevent"]),["enter"]),Qe(Je(_=>e.isDraggable?e.moveEngaged(_,g._id,-1):{},["prevent"]),["arrow-up"]),Qe(Je(_=>e.isDraggable?e.moveEngaged(_,g._id,1):{},["prevent"]),["arrow-down"])]},[k("div",{class:"apos-input-array-inline-header",onDblclick:t[12]||(t[12]=_=>e.toggleOpenInlineItem(_))},[k("div",gse,[e.isDraggable?(p(),R(l,{key:0,icon:"drag-icon",class:"apos-input-array-inline-header-ui-element"})):S("v-if",!0),k("div",bse,E(e.getLabel(g._id,v)),1)]),k("div",yse,[D(a,{class:"apos-input-array-inline-header-ui-element apos-input-array-inline-collapse","icon-size":16,label:"apostrophe:close",tooltip:g.open?"Collapse item":"Expand item",icon:g.open?"arrow-collapse-vertical-icon":"arrow-expand-vertical-icon",type:"subtle",modifiers:["inline","no-motion"],"icon-only":!0,onClick:t[7]||(t[7]=_=>e.toggleOpenInlineItem(_)),onKeydown:[t[8]||(t[8]=Qe(_=>_.stopImmediatePropagation(),["space"])),t[9]||(t[9]=Qe(_=>_.stopImmediatePropagation(),["enter"]))]},null,8,["tooltip","icon"]),D(c,{ref:"menu",class:"apos-input-array-inline-header-ui-element","data-apos-input-array-inline-item-menu":"",button:{label:"apostrophe:moreOperations",iconOnly:!0,icon:"dots-vertical-icon",type:"subtle",modifiers:["small","no-motion"]},menu:e.getInlineMenuItems(v),"menu-placement":"bottom-end",onKeydown:[t[10]||(t[10]=Qe(_=>_.stopImmediatePropagation(),["space"])),t[11]||(t[11]=Qe(_=>_.stopImmediatePropagation(),["enter"]))],onItemClicked:_=>e.inlineMenuHandler(_,{index:v,id:g._id})},null,8,["menu","onItemClicked"])])],32),D(ns,{name:"collapse",duration:400,persisted:""},{default:Q(()=>{var _;return[Ge(k("div",vse,[(p(),R(u,{key:g._id,modelValue:g.schemaInput,"onUpdate:modelValue":[w=>g.schemaInput=w,w=>e.setItemsConditionalFields(g._id)],"data-apos-id":g._id,class:ne(["apos-input-array-inline-schema",g.open?"apos-input-array-inline-item--active":null]),meta:(_=e.arrayMeta[g._id])==null?void 0:_.aposMeta,schema:e.schema,"trigger-validation":e.triggerValidation,generation:e.generation,modifiers:["small","inverted"],"doc-id":e.docId,"following-values":e.getFollowingValues(g),"conditional-fields":e.itemsConditionalFields[g._id],"field-style":e.field.style,onValidate:t[13]||(t[13]=w=>e.emitValidate()),onKeydown:[t[14]||(t[14]=Qe(w=>w.stopImmediatePropagation(),["space"])),t[15]||(t[15]=Qe(w=>w.stopImmediatePropagation(),["enter"]))]},null,8,["modelValue","onUpdate:modelValue","data-apos-id","meta","class","schema","trigger-validation","generation","doc-id","following-values","conditional-fields","field-style"]))],512),[[ti,g.open]])]}),_:2},1024)],42,mse))]),_:1},8,["id","class","options","list","onUpdate","onStart","onEnd"])])],2112)):(p(),y("div",_se,[k("label",wse,[D(a,{label:e.editLabel,disabled:e.field.readOnly,tooltip:e.tooltip,onClick:e.edit},null,8,["label","disabled","tooltip","onClick"])])])),S(" INLINE ADD BUTTON "),e.isInlineStandard||e.isInlineTable?(p(),R(a,{key:4,type:"primary",class:"apos-input-array-inline-add-button",label:e.itemLabel,icon:"plus-icon",disabled:e.isAddDisabled,modifiers:["block"],onClick:e.add},null,8,["label","disabled","onClick"])):S("v-if",!0)]),_:2},[e.isInlineStandard?{name:"meta",fn:Q(()=>[k("div",ase,[D(a,{class:"apos-input-array-inline-all-control apos-input-array-inline-all-control--expand",label:"apostrophe:expandAll",type:"subtle",modifiers:["inline","no-motion"],onClick:t[0]||(t[0]=g=>e.toggleAll(!0))}),D(a,{class:"apos-input-array-inline-all-control apos-input-array-inline-all-control--collapse",label:"apostrophe:collapseAll",type:"subtle",modifiers:["inline","no-motion"],onClick:t[1]||(t[1]=g=>e.toggleAll(!1))})])]),key:"0"}:void 0]),1032,["field","error","uid","items","display-options","modifiers","meta"])}const kse=I(rse,[["render",Cse],["__scopeId","data-v-4d69b262"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputArray.vue"]]),Ase={name:"AposInputAttachment",mixins:[tn],emits:["upload-started","upload-complete"],data(){return{next:this.modelValue&&typeof this.modelValue.data=="object"?this.modelValue.data:this.field.def||null,disabled:!1,uploading:!1}},async mounted(){this.disabled=this.field.readOnly},methods:{updated(e){this.next=e.length>0?e[0]:null},validate(e){return this.field.required&&!e?"required":!1},async uploadMedia(e){if(!this.disabled||!this.limitReached)try{this.disabled=!0,this.uploading=!0,await apos.notify("apostrophe:uploading",{dismiss:!0,icon:"cloud-upload-icon",interpolate:{name:e.name}});const t=new window.FormData;t.append("file",e);const i=await apos.http.post("/api/v1/@apostrophecms/attachment/upload",{body:t});await apos.notify("apostrophe:uploaded",{type:"success",dismiss:!0,icon:"check-all-icon",interpolate:{name:e.name,count:1}}),this.$emit("upload-complete"),this.modelValue.data=i}catch(t){console.error("Error uploading file.",t);const i=t.body&&t.body.message?t.body.message:this.$t("apostrophe:uploadError");await apos.notify(i,{type:"danger",icon:"alert-circle-icon",dismiss:!0,localize:!1})}finally{this.disabled=!1,this.uploading=!1}}}},Sse={name:"AposInputAttachment",mixins:[Ase]},xse={class:"apos-attachment"};function Mse(e,t,i,n,s,o){const r=O("AposFile"),a=O("AposInputWrapper");return p(),R(a,{field:e.field,error:e.effectiveError,uid:e.uid,modifiers:e.modifiers,"display-options":e.displayOptions},{body:Q(()=>[k("div",xse,[D(r,{"allowed-extensions":e.field.accept,uploading:e.uploading,disabled:e.disabled,attachment:e.next,def:e.field.def,onUploadFile:e.uploadMedia,onUpdate:e.updated},null,8,["allowed-extensions","uploading","disabled","attachment","def","onUploadFile","onUpdate"])])]),_:1},8,["field","error","uid","modifiers","display-options"])}const Tse=I(Sse,[["render",Mse],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputAttachment.vue"]]),Ose={name:"AposInputBoolean",mixins:[tn],computed:{classList:function(){return["apos-input-wrapper","apos-boolean",{"apos-boolean--toggle":this.field.toggle}]},trueLabel:function(){return this.field.toggle&&this.field.toggle.true&&typeof this.field.toggle.true=="string"?this.field.toggle.true:!1},falseLabel:function(){return this.field.toggle&&this.field.toggle&&typeof this.field.toggle.false=="string"?this.field.toggle.false:!1}},methods:{setValue(e){this.next=e,this.$refs[(!e).toString()].checked=!1},validate(e){return this.field.required&&!e&&e!==!1?"required":!1}}},Ese={name:"AposInputBoolean",mixins:[Ose]},Ise=["id","checked","disabled"],$se=["for"],Lse=["id","checked","disabled"],Pse=["for"];function Dse(e,t,i,n,s,o){const r=O("circle-icon"),a=O("AposInputWrapper");return p(),R(a,{modifiers:e.modifiers,field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions},{body:Q(()=>[k("div",{class:ne(e.classList)},[k("input",{id:`${e.uid}-true`,ref:"true",class:"apos-sr-only apos-boolean__input apos-boolean__input--true",type:"radio",value:!0,checked:e.modelValue.data===!0,disabled:e.field.readOnly,onChange:t[0]||(t[0]=l=>e.setValue(!0))},null,40,Ise),k("label",{for:`${e.uid}-true`,class:"apos-boolean__label apos-input"},[Ge(D(r,{size:12,class:"apos-boolean__icon",title:""},null,512),[[ti,!e.field.toggle]]),Mt(" "+E(e.trueLabel||e.$t("apostrophe:yes")),1)],8,$se),k("input",{id:`${e.uid}-false`,ref:"false",class:"apos-sr-only apos-boolean__input apos-boolean__input--false",type:"radio",value:!1,checked:e.modelValue.data===!1,disabled:e.field.readOnly,onChange:t[1]||(t[1]=l=>e.setValue(!1))},null,40,Lse),k("label",{for:`${e.uid}-false`,class:"apos-boolean__label apos-input"},[Ge(D(r,{size:12,class:"apos-boolean__icon",title:""},null,512),[[ti,!e.field.toggle]]),Mt(" "+E(e.falseLabel||e.$t("apostrophe:no")),1)],8,Pse)],2)]),_:1},8,["modifiers","field","error","uid","display-options"])}const Rse=I(Ese,[["render",Dse],["__scopeId","data-v-59ebb606"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputBoolean.vue"]]);function wa(e,t,i={}){const n=new Error("debounce:canceled");n.name="debounce.canceled";let s,o=!1,r=!0,a=!1;const l=(u,h,m,g)=>{function v(){if(o)return h(n);if(!r){clearTimeout(s),s=l(u,h,m,g||100);return}r=!1;const _=e.apply(this,m);if(_ instanceof Promise)return _.then(w=>{if(o)return h(n);u(w)}).catch(h).finally(()=>{r=!0});r=!0,u(_)}return setTimeout(v,g)},c=async(...u)=>{const h=new Promise((m,g)=>{if(o)return g(n);if(a){a=!1,s=l(m,g,u,0);return}clearTimeout(s),s=l(m,g,u,t)});try{const m=await h;return i.onSuccess?(await i.onSuccess(m),null):h}catch(m){if(m.name!=="debounce.canceled"||!i.onSuccess)throw m;return null}};return c.cancel=()=>{o=!0,clearTimeout(s),s=null},c.skipDelay=(...u)=>(a=!0,c(...u)),c}class Hse{constructor(){this.queue=[],this.running=!1}hasTasks(){return this.queue.length>0||this.running}count(){return this.queue.length}add(t){return new Promise((i,n)=>{this.queue.push({task:t,resolve:i,reject:n}),this.run()})}async run(){if(this.running)return;const t=this.queue.shift();if(!t)return!1;try{this.running=!0;const i=await t.task();this.running=!1,t.resolve(i)}catch(i){this.running=!1,t.reject(i)}finally{this.run()}return!0}}function sx(){const e=new Hse;return{add:t=>e.add(t),count:()=>e.count(),hasTasks:()=>e.hasTasks()}}const Vse=500,r0={data(){return{choices:[],fieldReady:!1}},async mounted(){this.debouncedUpdateChoices=wa(this.getChoices,Vse,{onSuccess:this.updateChoices}),await this.debouncedUpdateChoices.skipDelay(),this.fieldReady=!0},watch:{followingValues:{deep:!0,handler(){return this.debouncedUpdateChoices&&this.debouncedUpdateChoices()}}},methods:{async getChoices(){if(this.fieldReady=!1,typeof this.field.choices=="string"){const e=this.options.action,t=await apos.http.post(`${e}/choices`,{qs:{fieldId:this.field._id,docId:this.docId},busy:!0,body:{following:{...this.followingValues}}});if(t.choices)return t.choices}else return this.field.choices},updateChoices(e){this.choices=e,this.fieldReady=!0,this.field.type==="select"&&this.prependEmptyChoice(),this.validate(this.next)},prependEmptyChoice(){const e=Object.hasOwn(this.field,"def"),t=this.choices.find(i=>i.value===null);!e&&!t&&this.choices.unshift({label:"",value:null})}}},zse={name:"AposInputCheckboxes",mixins:[tn,r0],beforeMount(){this.modelValue.data=Array.isArray(this.modelValue.data)?this.modelValue.data:[]},methods:{getChoiceId(e,t){return e+t.replace(/\s/g,"")},watchValue(){this.error=this.modelValue.error,this.next=this.modelValue.data||[]},validate(e){return!Array.isArray(this.choices)||!Array.isArray(e)?"malformed":this.field.required&&!e.length?"required":this.field.min&&e!=null&&e.length<this.field.min?this.$t("apostrophe:minUi",{number:this.field.min}):this.field.max&&e!=null&&e.length>this.field.max?this.$t("apostrophe:maxUi",{number:this.field.max}):(Array.isArray(e)&&e.forEach(t=>{if(!this.choices.map(i=>i.value).includes(t))return"invalid"}),!1)},selectItems(e){if(e.value==="__all"){this.modelValue.data=this.choices.length===this.modelValue.data.length?[]:this.choices.map(({value:t})=>t);return}this.modelValue.data.includes(e.value)?this.modelValue.data=this.modelValue.data.filter(t=>t!==e.value):this.modelValue.data.push(e.value)}}},Nse={name:"AposInputCheckboxes",mixins:[zse]};function Bse(e,t,i,n,s,o){const r=O("AposCombo"),a=O("AposCheckbox"),l=O("AposInputWrapper");return p(),R(l,{field:e.field,error:e.effectiveError,uid:e.uid,modifiers:e.modifiers,"display-options":e.displayOptions},{body:Q(()=>[e.field.style==="combo"&&e.choices.length?(p(),R(r,{key:0,choices:e.choices,field:e.field,"model-value":e.modelValue,onSelectItems:e.selectItems},null,8,["choices","field","model-value","onSelectItems"])):(p(!0),y(Ce,{key:1},Ie(e.choices,c=>(p(),R(a,{id:e.getChoiceId(e.uid,c.value),key:c.value,modelValue:e.modelValue.data,"onUpdate:modelValue":t[0]||(t[0]=u=>e.modelValue.data=u),for:e.getChoiceId(e.uid,c.value),choice:c,field:e.field},null,8,["id","modelValue","for","choice","field"]))),128))]),_:1},8,["field","error","uid","modifiers","display-options"])}const Fse=I(Nse,[["render",Bse],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputCheckboxes.vue"]]);var Qf={exports:{}},jse=Qf.exports,QC;function Use(){return QC||(QC=1,function(e,t){(function(i,n){e.exports=n()})(jse,function(){var i=1e3,n=6e4,s=36e5,o="millisecond",r="second",a="minute",l="hour",c="day",u="week",h="month",m="quarter",g="year",v="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ie){var re=["th","st","nd","rd"],te=ie%100;return"["+ie+(re[(te-20)%10]||re[te]||re[0])+"]"}},N=function(ie,re,te){var ee=String(ie);return!ee||ee.length>=re?ie:""+Array(re+1-ee.length).join(te)+ie},M={s:N,z:function(ie){var re=-ie.utcOffset(),te=Math.abs(re),ee=Math.floor(te/60),G=te%60;return(re<=0?"+":"-")+N(ee,2,"0")+":"+N(G,2,"0")},m:function ie(re,te){if(re.date()<te.date())return-ie(te,re);var ee=12*(te.year()-re.year())+(te.month()-re.month()),G=re.clone().add(ee,h),U=te-G<0,de=re.clone().add(ee+(U?-1:1),h);return+(-(ee+(te-G)/(U?G-de:de-G))||0)},a:function(ie){return ie<0?Math.ceil(ie)||0:Math.floor(ie)},p:function(ie){return{M:h,y:g,w:u,d:c,D:v,h:l,m:a,s:r,ms:o,Q:m}[ie]||String(ie||"").toLowerCase().replace(/s$/,"")},u:function(ie){return ie===void 0}},P="en",F={};F[P]=L;var K="$isDayjsObject",se=function(ie){return ie instanceof Z||!(!ie||!ie[K])},j=function ie(re,te,ee){var G;if(!re)return P;if(typeof re=="string"){var U=re.toLowerCase();F[U]&&(G=U),te&&(F[U]=te,G=U);var de=re.split("-");if(!G&&de.length>1)return ie(de[0])}else{var Se=re.name;F[Se]=re,G=Se}return!ee&&G&&(P=G),G||!ee&&P},V=function(ie,re){if(se(ie))return ie.clone();var te=typeof re=="object"?re:{};return te.date=ie,te.args=arguments,new Z(te)},z=M;z.l=j,z.i=se,z.w=function(ie,re){return V(ie,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var Z=function(){function ie(te){this.$L=j(te.locale,null,!0),this.parse(te),this.$x=this.$x||te.x||{},this[K]=!0}var re=ie.prototype;return re.parse=function(te){this.$d=function(ee){var G=ee.date,U=ee.utc;if(G===null)return new Date(NaN);if(z.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var de=G.match(w);if(de){var Se=de[2]-1||0,Te=(de[7]||"0").substring(0,3);return U?new Date(Date.UTC(de[1],Se,de[3]||1,de[4]||0,de[5]||0,de[6]||0,Te)):new Date(de[1],Se,de[3]||1,de[4]||0,de[5]||0,de[6]||0,Te)}}return new Date(G)}(te),this.init()},re.init=function(){var te=this.$d;this.$y=te.getFullYear(),this.$M=te.getMonth(),this.$D=te.getDate(),this.$W=te.getDay(),this.$H=te.getHours(),this.$m=te.getMinutes(),this.$s=te.getSeconds(),this.$ms=te.getMilliseconds()},re.$utils=function(){return z},re.isValid=function(){return this.$d.toString()!==_},re.isSame=function(te,ee){var G=V(te);return this.startOf(ee)<=G&&G<=this.endOf(ee)},re.isAfter=function(te,ee){return V(te)<this.startOf(ee)},re.isBefore=function(te,ee){return this.endOf(ee)<V(te)},re.$g=function(te,ee,G){return z.u(te)?this[ee]:this.set(G,te)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(te,ee){var G=this,U=!!z.u(ee)||ee,de=z.p(te),Se=function(Pt,Tt){var zt=z.w(G.$u?Date.UTC(G.$y,Tt,Pt):new Date(G.$y,Tt,Pt),G);return U?zt:zt.endOf(c)},Te=function(Pt,Tt){return z.w(G.toDate()[Pt].apply(G.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(Tt)),G)},Ne=this.$W,Ue=this.$M,gt=this.$D,Le="set"+(this.$u?"UTC":"");switch(de){case g:return U?Se(1,0):Se(31,11);case h:return U?Se(1,Ue):Se(0,Ue+1);case u:var We=this.$locale().weekStart||0,ht=(Ne<We?Ne+7:Ne)-We;return Se(U?gt-ht:gt+(6-ht),Ue);case c:case v:return Te(Le+"Hours",0);case l:return Te(Le+"Minutes",1);case a:return Te(Le+"Seconds",2);case r:return Te(Le+"Milliseconds",3);default:return this.clone()}},re.endOf=function(te){return this.startOf(te,!1)},re.$set=function(te,ee){var G,U=z.p(te),de="set"+(this.$u?"UTC":""),Se=(G={},G[c]=de+"Date",G[v]=de+"Date",G[h]=de+"Month",G[g]=de+"FullYear",G[l]=de+"Hours",G[a]=de+"Minutes",G[r]=de+"Seconds",G[o]=de+"Milliseconds",G)[U],Te=U===c?this.$D+(ee-this.$W):ee;if(U===h||U===g){var Ne=this.clone().set(v,1);Ne.$d[Se](Te),Ne.init(),this.$d=Ne.set(v,Math.min(this.$D,Ne.daysInMonth())).$d}else Se&&this.$d[Se](Te);return this.init(),this},re.set=function(te,ee){return this.clone().$set(te,ee)},re.get=function(te){return this[z.p(te)]()},re.add=function(te,ee){var G,U=this;te=Number(te);var de=z.p(ee),Se=function(Ue){var gt=V(U);return z.w(gt.date(gt.date()+Math.round(Ue*te)),U)};if(de===h)return this.set(h,this.$M+te);if(de===g)return this.set(g,this.$y+te);if(de===c)return Se(1);if(de===u)return Se(7);var Te=(G={},G[a]=n,G[l]=s,G[r]=i,G)[de]||1,Ne=this.$d.getTime()+te*Te;return z.w(Ne,this)},re.subtract=function(te,ee){return this.add(-1*te,ee)},re.format=function(te){var ee=this,G=this.$locale();if(!this.isValid())return G.invalidDate||_;var U=te||"YYYY-MM-DDTHH:mm:ssZ",de=z.z(this),Se=this.$H,Te=this.$m,Ne=this.$M,Ue=G.weekdays,gt=G.months,Le=G.meridiem,We=function(Tt,zt,yi,H){return Tt&&(Tt[zt]||Tt(ee,U))||yi[zt].slice(0,H)},ht=function(Tt){return z.s(Se%12||12,Tt,"0")},Pt=Le||function(Tt,zt,yi){var H=Tt<12?"AM":"PM";return yi?H.toLowerCase():H};return U.replace(A,function(Tt,zt){return zt||function(yi){switch(yi){case"YY":return String(ee.$y).slice(-2);case"YYYY":return z.s(ee.$y,4,"0");case"M":return Ne+1;case"MM":return z.s(Ne+1,2,"0");case"MMM":return We(G.monthsShort,Ne,gt,3);case"MMMM":return We(gt,Ne);case"D":return ee.$D;case"DD":return z.s(ee.$D,2,"0");case"d":return String(ee.$W);case"dd":return We(G.weekdaysMin,ee.$W,Ue,2);case"ddd":return We(G.weekdaysShort,ee.$W,Ue,3);case"dddd":return Ue[ee.$W];case"H":return String(Se);case"HH":return z.s(Se,2,"0");case"h":return ht(1);case"hh":return ht(2);case"a":return Pt(Se,Te,!0);case"A":return Pt(Se,Te,!1);case"m":return String(Te);case"mm":return z.s(Te,2,"0");case"s":return String(ee.$s);case"ss":return z.s(ee.$s,2,"0");case"SSS":return z.s(ee.$ms,3,"0");case"Z":return de}return null}(Tt)||de.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(te,ee,G){var U,de=this,Se=z.p(ee),Te=V(te),Ne=(Te.utcOffset()-this.utcOffset())*n,Ue=this-Te,gt=function(){return z.m(de,Te)};switch(Se){case g:U=gt()/12;break;case h:U=gt();break;case m:U=gt()/3;break;case u:U=(Ue-Ne)/6048e5;break;case c:U=(Ue-Ne)/864e5;break;case l:U=Ue/s;break;case a:U=Ue/n;break;case r:U=Ue/i;break;default:U=Ue}return G?U:z.a(U)},re.daysInMonth=function(){return this.endOf(h).$D},re.$locale=function(){return F[this.$L]},re.locale=function(te,ee){if(!te)return this.$L;var G=this.clone(),U=j(te,ee,!0);return U&&(G.$L=U),G},re.clone=function(){return z.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},ie}(),le=Z.prototype;return V.prototype=le,[["$ms",o],["$s",r],["$m",a],["$H",l],["$W",c],["$M",h],["$y",g],["$D",v]].forEach(function(ie){le[ie[1]]=function(re){return this.$g(re,ie[0],ie[1])}}),V.extend=function(ie,re){return ie.$i||(ie(re,Z,V),ie.$i=!0),V},V.locale=j,V.isDayjs=se,V.unix=function(ie){return V(1e3*ie)},V.en=F[P],V.Ls=F,V.p={},V})}(Qf)),Qf.exports}var Wse=Use();const fa=Jc(Wse),qse={mixins:[tn],emits:["return"],data(){return{next:this.modelValue&&this.modelValue.data||null,date:"",time:"",disabled:!this.field.required}},mounted(){this.initDateAndTime()},watch:{"field.required"(e){e&&(this.disabled=!1,this.date&&this.setDateAndTime())}},methods:{toggle(){this.disabled=!this.disabled,this.disabled&&(this.next=null)},validate(){if(this.field.required&&!this.next)return"required"},initDateAndTime(){this.next&&(this.date=fa(this.next).format("YYYY-MM-DD"),this.time=fa(this.next).format("HH:mm:ss"),this.disabled=!1)},setDateAndTime(){this.date?(this.next=fa(`${this.date} ${this.time}`.trim()).toISOString(),this.disabled=!1):(this.next=null,this.disabled=!0)}}},Kse={name:"AposInputDateAndTime",mixins:[qse]},Gse={class:"apos-input-wrapper"},Jse={class:"apos-input--label"};function Yse(e,t,i,n,s,o){const r=O("AposToggle"),a=O("AposInputWrapper");return p(),R(a,{modifiers:e.modifiers,field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions},{body:Q(()=>[k("div",Gse,[e.field.required?S("v-if",!0):(p(),R(r,{key:0,modelValue:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=l=>e.disabled=l),class:"apos-toggle",onToggle:e.toggle},null,8,["modelValue","onToggle"])),Ge(k("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>e.date=l),class:ne(["apos-input apos-input--date",{"apos-input--disabled":e.disabled}]),type:"date",onChange:t[2]||(t[2]=(...l)=>e.setDateAndTime&&e.setDateAndTime(...l))},null,34),[[Ds,e.date]]),k("span",Jse,E(e.$t("apostrophe:at")),1),Ge(k("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>e.time=l),class:ne(["apos-input apos-input--time",{"apos-input--disabled":e.disabled}]),type:"time",onChange:t[4]||(t[4]=(...l)=>e.setDateAndTime&&e.setDateAndTime(...l))},null,34),[[Ds,e.time]])])]),_:1},8,["modifiers","field","error","uid","display-options"])}const Zse=I(Kse,[["render",Yse],["__scopeId","data-v-7d75a37a"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputDateAndTime.vue"]]),Xse={name:"AposInputObject",emits:["validate"],mixins:[tn,F4,j4],props:{generation:{type:Number,required:!1,default(){return null}},docId:{type:String,required:!1,default(){return null}}},data(){const e=this.getNext();return{schemaInput:{data:e},next:e}},computed:{followingValuesWithParent(){return this.computeFollowingValues(this.schemaInput.data)},dataWithfollowingValues(){return{...this.computeFollowingValues(this.schemaInput.data,!0),...this.values}},shouldResetConditionalFields(){return N4(this.schema)},schema(){return this.field.schema},values(){return this.schemaInput.data||{}},objectMeta(){const e=ut(this.fieldMeta),t={};for(const i of Object.keys(this.meta))i.startsWith("@")&&(t[i]=this.meta[i]);return e.aposMeta={...this.fieldMeta.aposMeta||{},...t},e},currentDocMeta(){return this.objectMeta.aposMeta||{}},currentDocServerErrors(){var t,i;let e=null;return(((i=(t=this.serverError)==null?void 0:t.data)==null?void 0:i.errors)||[]).forEach(n=>{n.path&&(e=e||{},e[n.path]=n)}),e}},watch:{schemaInput:{deep:!0,handler(){this.schemaInput.hasErrors||(this.next=this.schemaInput.data),this.triggerValidation&&this.validateAndEmit()}},followingValues:{async handler(e){this.shouldResetConditionalFields&&this.evaluateConditions(this.dataWithfollowingValues)},deep:!0},generation(){this.next=this.getNext(),this.schemaInput={data:this.next}}},async created(){await this.evaluateExternalConditions(this.values),this.evaluateConditions(this.dataWithfollowingValues)},methods:{emitValidate(){this.$emit("validate")},validate(e){if(this.schemaInput.hasErrors)return"invalid"},getNext(){var e;return(e=this.modelValue)!=null&&e.data?this.modelValue.data:this.field.def||{}}}},Qse={name:"AposInputObject",mixins:[Xse]},eoe={class:"apos-input-object"},toe={class:"apos-input-wrapper"};function ioe(e,t,i,n,s,o){const r=O("AposSchema"),a=O("AposInputWrapper");return p(),y(Ce,null,[S(` Errors for the entire object field are not interesting,
    let the relevant subfield's error shine on its own `),D(a,{field:e.field,error:null,uid:e.uid,"display-options":e.displayOptions,meta:e.objectMeta},{body:Q(()=>[k("div",eoe,[k("div",toe,[D(r,{ref:"schema",modelValue:e.schemaInput,"onUpdate:modelValue":[t[0]||(t[0]=l=>e.schemaInput=l),t[1]||(t[1]=l=>e.evaluateConditions(e.values))],meta:e.currentDocMeta,schema:e.schema,"trigger-validation":e.triggerValidation,generation:e.generation,"doc-id":e.docId,"conditional-fields":e.conditionalFields,"following-values":e.followingValuesWithParent,"server-errors":e.currentDocServerErrors,onValidate:t[2]||(t[2]=l=>e.emitValidate())},null,8,["modelValue","meta","schema","trigger-validation","generation","doc-id","conditional-fields","following-values","server-errors"])])])]),_:1},8,["field","uid","display-options","meta"])],2112)}const noe=I(Qse,[["render",ioe],["__scopeId","data-v-ddc3a919"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputObject.vue"]]),soe={name:"AposInputPassword",mixins:[tn],emits:["return"],computed:{tabindex(){return this.field.disableFocus?"-1":"0"}},methods:{validate(e){return this.field.required&&!e.length?{message:"required"}:this.field.min&&e.length&&e.length<this.field.min?{message:this.$t("apostrophe:passwordErrorMin",{min:this.field.min})}:this.field.max&&e.length&&e.length>this.field.max?{message:this.$t("apostrophe:passwordErrorMax",{max:this.field.max})}:!1},emitReturn(){this.$emit("return")}}},ooe={name:"AposInputPassword",mixins:[soe],emits:["return"]},roe={class:"apos-input-wrapper"},aoe=["id","placeholder","disabled","required","tabindex","autocomplete"];function loe(e,t,i,n,s,o){const r=O("AposInputWrapper");return p(),R(r,{modifiers:e.modifiers,field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions},{body:Q(()=>[k("div",roe,[Ge(k("input",{id:e.uid,"onUpdate:modelValue":t[0]||(t[0]=a=>e.next=a),type:"password",class:"apos-input apos-input--password",placeholder:e.$t(e.field.placeholder),disabled:e.field.readOnly,required:e.field.required,tabindex:e.tabindex,autocomplete:e.field.autocomplete,onKeydown:t[1]||(t[1]=Qe((...a)=>e.emitReturn&&e.emitReturn(...a),["enter"]))},null,40,aoe),[[Ds,e.next]])])]),_:1},8,["modifiers","field","error","uid","display-options"])}const coe=I(ooe,[["render",loe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputPassword.vue"]]),doe={name:"AposInputRadio",components:{InformationIcon:P4},mixins:[tn,r0],methods:{getChoiceId(e,t){return(e+JSON.stringify(t)).replace(/\s+/g,"")},validate(e){const t=this.choices.some(i=>i.value===e);return this.field.required&&!t&&!e?"required":e&&!t?"invalid":!1},change(e){this.next=this.choices.find(t=>t.value===JSON.parse(e)).value}}},uoe={name:"AposInputRadio",mixins:[doe]},hoe=["for"],foe=["id","value","name","checked","disabled","onChange"],poe={class:"apos-input-indicator","aria-hidden":"true"},moe={class:"apos-choice-label-text"};function goe(e,t,i,n,s,o){const r=O("AposIndicator"),a=O("AposInputWrapper");return p(),R(a,{field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions,modifiers:e.modifiers},{body:Q(()=>[(p(!0),y(Ce,null,Ie(e.choices,({label:l,value:c,tooltip:u})=>(p(),y("label",{key:c,class:ne(["apos-choice-label",{"apos-choice-label--disabled":e.field.readOnly}]),for:e.getChoiceId(e.uid,c)},[k("input",{id:e.getChoiceId(e.uid,c),type:"radio",class:"apos-sr-only apos-input--choice apos-input--radio",value:JSON.stringify(c),name:e.field.name,checked:e.next===c,tabindex:"1",disabled:e.field.readOnly,onChange:h=>e.change(h.target.value)},null,40,foe),k("span",poe,[e.next===c?(p(),R(tt(`${e.next===c?"check-bold-icon":"span"}`),{key:0,size:8})):S("v-if",!0)]),k("span",moe,[Mt(E(e.$t(l))+" ",1),u?(p(),R(r,{key:0,class:"apos-choice-label-info",tooltip:u,"icon-size":14,icon:"information-icon"},null,8,["tooltip"])):S("v-if",!0)])],10,hoe))),128))]),_:1},8,["field","error","uid","display-options","modifiers"])}const boe=I(uoe,[["render",goe],["__scopeId","data-v-95d186bf"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputRadio.vue"]]),yoe={name:"AposInputRange",mixins:[tn],data(){return{next:this.initNext(),unit:this.field.unit||""}},mounted(){this.$refs.range.addEventListener("input",this.updateUI),this.updateUI()},computed:{isMicro(){return this.modifiers.includes("micro")},minLabel(){return this.field.min+this.unit},maxLabel(){return this.field.max+this.unit},valueLabel(){return this.next+this.unit},isSet(){return typeof this.next=="number"&&this.next>=this.field.min}},methods:{initNext(){return this.modelValue&&typeof this.modelValue.data=="number"?this.modelValue.data:this.getDefault()},unset(){this.next=this.getDefault(),this.updateUI()},getDefault(){return typeof this.field.def=="number"?this.field.def:this.field.min-1},updateUI(){const e=this.$refs.range.min,t=this.$refs.range.max,i=this.next<e?e:this.next;this.$refs.range.style.backgroundSize=(i-e)*100/(t-e)+"% 100%"},validate(e){return this.field.required&&!e&&e!==0?"required":!1}}},voe={name:"AposInputRange",mixins:[yoe]},_oe={class:"apos-range__value","aria-hidden":"true"},woe={class:"apos-range__value-input"},Coe={key:0},koe={class:"apos-input-wrapper"},Aoe={class:"apos-range"},Soe=["id","min","max","step","disabled"],xoe={key:0,class:"apos-range__scale"},Moe={class:"apos-sr-only"},Toe={class:"apos-sr-only"};function Ooe(e,t,i,n,s,o){const r=O("AposIndicator"),a=O("AposButton"),l=O("AposInputWrapper"),c=Bn("apos-tooltip");return p(),R(l,{modifiers:e.modifiers,field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions},_l({body:Q(()=>[k("div",koe,[Ge((p(),y("div",Aoe,[Ge(k("input",{id:e.uid,ref:"range","onUpdate:modelValue":t[0]||(t[0]=u=>e.next=u),type:"range",min:e.field.min,max:e.field.max,step:e.field.step,class:"apos-range__input",disabled:e.field.readOnly},null,8,Soe),[[Ds,e.next,void 0,{number:!0}]]),e.isMicro?S("v-if",!0):(p(),y("div",xoe,[k("span",null,[k("span",Moe,E(e.$t("apostrophe:minLabel")),1),Mt(" "+E(e.minLabel),1)]),k("span",null,[k("span",Toe,E(e.$t("apostrophe:maxLabel")),1),Mt(" "+E(e.maxLabel),1)])]))])),[[c,e.tooltip]]),e.isMicro?S("v-if",!0):(p(),y("div",{key:0,class:ne(["apos-range__value",{"apos-is-unset":!e.isSet}]),"aria-hidden":"true"},[Mt(E(e.valueLabel)+" ",1),D(a,{type:"quiet",label:"apostrophe:clear",class:"apos-range__clear",modifiers:["no-motion"],onClick:e.unset},null,8,["onClick"])],2))])]),_:2},[e.isMicro?{name:"info",fn:Q(()=>[k("div",_oe,[e.isSet?(p(),R(r,{key:0,class:"apos-range__clear",icon:"close-icon",onClick:e.unset},null,8,["onClick"])):S("v-if",!0),k("div",woe,[e.isSet?(p(),y("span",Coe,E(e.valueLabel),1)):S("v-if",!0)])])]),key:"0"}:void 0]),1032,["modifiers","field","error","uid","display-options"])}const Eoe=I(voe,[["render",Ooe],["__scopeId","data-v-d6260028"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputRange.vue"]]),Ioe={name:"AposInputRelationship",mixins:[tn],emits:["input"],data(){var n;const e=this.modelValue&&Array.isArray(this.modelValue.data)?ut(this.modelValue.data):ut(this.field.def)||[],t=Object.fromEntries((e||[]).filter(s=>s._fields).map(s=>[s._id,s._fields])),i=this.field.suggestionFields||((n=apos.modules[this.field.withType])==null?void 0:n.relationshipSuggestionFields);return{searchTerm:"",searchList:[],searchFocusIndex:null,searchHint:null,searchSuggestion:null,suggestionFields:i,next:e,subfields:t,disabled:!1,searching:!1,choosing:!1,relationshipSchema:null}},computed:{limitReached(){return this.field.max===this.next.length},pluralLabel(){return apos.modules[this.field.withType].pluralLabel},placeholder(){return this.field.placeholder||{key:"apostrophe:searchDocType",type:this.$t(this.pluralLabel)}},browseLabel(){return{key:"apostrophe:browseDocType",type:this.$t(this.pluralLabel)}},suggestion(){return{disabled:!0,tooltip:!1,icon:!1,classes:["suggestion"],title:this.$t(this.field.suggestionLabel),help:this.$t({key:this.field.suggestionHelp||"apostrophe:relationshipSuggestionHelp",type:this.$t(this.pluralLabel)}),customFields:["help"]}},hint(){return{disabled:!0,tooltip:!1,icon:"binoculars-icon",iconSize:35,classes:["hint"],title:this.$t("apostrophe:relationshipSuggestionNoResults"),help:this.$t({key:this.field.browse?"apostrophe:relationshipSuggestionSearchAndBrowse":"apostrophe:relationshipSuggestionSearch",type:this.$t(this.pluralLabel)}),customFields:["help"]}},chooserComponent(){return apos.modules[this.field.withType].components.managerModal},disableUnpublished(){return apos.modules[this.field.withType].localized},buttonModifiers(){const e=["small"];return this.modifiers.includes("no-search")&&e.push("block"),e},minSize(){const[e={}]=apos.area.widgetOptions;return e.minSize||[]},duplicate(){var e;return(e=this.modelValue)!=null&&e.duplicate?"apos-input--error":null}},watch:{next(e,t){for(const i of t)this.subfields[i._id]=i._fields;for(const i of e)Object.keys(i._fields||{}).length||(i._fields=this.field.schema&&(this.subfields[i._id]?this.subfields[i._id]:this.getDefault()))}},mounted(){this.checkLimit()},methods:{validate(e){return this.checkLimit(),this.field.required&&!e.length?{message:"required"}:this.field.min&&this.field.min>e.length?{message:`minimum of ${this.field.min} required`}:!1},checkLimit(){this.limitReached?this.searchTerm="Limit reached!":this.searchTerm==="Limit reached!"&&(this.searchTerm=""),this.disabled=!!this.limitReached},updateSelected(e){this.next=e},async search(e){const t=apos.modules[this.field.withType].action,i=apos.modules["@apostrophecms/page"].validPageTypes.includes(this.field.withType);this.field.suggestionLimit&&(e.perPage=this.field.suggestionLimit),this.field.suggestionSort&&(e.sort=this.field.suggestionSort),this.field.withType==="@apostrophecms/image"&&apos.bus.$emit("piece-relationship-query",e),i&&(e.type=this.field.withType),this.searching=!0;const n=await apos.http.get(t,{busy:!1,draft:!0,qs:e}),s=a=>!this.next.map(l=>l._id).includes(a._id),o=a=>({...a,disabled:this.disableUnpublished&&!a.lastPublishedAt}),r=(n.results||[]).filter(s).map(o);this.searchSuggestion=e.autocomplete?null:this.suggestion,this.searchHint=!e.autocomplete||!r.length?this.hint:null,this.searchList=[...r].filter(Boolean),this.searching=!1},async input(){if(this.searching)return;const e=this.searchTerm.trim(),t=e.length?{autocomplete:e}:{};await this.search(t),this.searchList.length&&(this.searchFocusIndex=0)},handleFocusOut(){setTimeout(()=>{this.searchList=[]},300),this.searchFocusIndex=null},handleKeydown(e){switch(e.key){case"ArrowDown":if(this.searchFocusIndex+1<this.searchList.length){this.searchFocusIndex++;return}this.searchList.length||this.input();break;case"ArrowUp":if(this.searchFocusIndex-1>=0)return this.searchFocusIndex--;this.searchList.length||this.input();break;case"Enter":this.searchFocusIndex!==null&&this.searchList[this.searchFocusIndex]&&(this.updateSelected([...this.next,this.searchList[this.searchFocusIndex]]),this.handleFocusOut(),this.input());break;case"Escape":this.handleFocusOut(),e.stopPropagation();break}},watchValue(){this.error=this.modelValue.error,this.next=Array.isArray(this.modelValue.data)?this.modelValue.data:[]},async choose(){const e=await apos.modal.execute(this.chooserComponent,{title:this.field.label||this.field.name,moduleName:this.field.withType,chosen:this.next,relationshipField:this.field});e&&this.updateSelected(e)},async editRelationship(e){const t=this.field.editor||"AposRelationshipEditor",i=await apos.modal.execute(t,{schema:this.field.schema,item:e,title:e.title,"model-value":e._fields});i&&(this.next=this.next.map(n=>n._id===e._id?{...e,_fields:i}:n))},getDefault(){return id(this.field.schema)}}},$oe={name:"AposInputRelationship",mixins:[Ioe]},Loe={key:0,class:"apos-field__min-size"},Poe={class:"apos-input-wrapper apos-input-relationship"},Doe={class:"apos-input-relationship__input-wrapper"},Roe=["id","aria-owns","aria-expanded","placeholder","disabled","required"];function Hoe(e,t,i,n,s,o){const r=O("AposMinMaxCount"),a=O("AposButton"),l=O("AposSlatList"),c=O("AposSearchList"),u=O("AposInputWrapper");return p(),R(u,{field:e.field,error:e.effectiveError,uid:e.uid,items:e.next,"display-options":e.displayOptions,modifiers:e.modifiers},{additional:Q(()=>[e.minSize[0]||e.minSize[1]?(p(),y("div",Loe,E(e.$t("apostrophe:minSize",{width:e.minSize[0]||"???",height:e.minSize[1]||"???"})),1)):S("v-if",!0),e.field.max>1?(p(),R(r,{key:1,field:e.field,"model-value":e.next},null,8,["field","model-value"])):S("v-if",!0)]),body:Q(()=>[k("div",Poe,[k("div",Doe,[e.modifiers.includes("no-search")?S("v-if",!0):Ge((p(),y("input",{key:0,id:e.uid,"onUpdate:modelValue":t[0]||(t[0]=h=>e.searchTerm=h),class:"apos-input apos-input--text apos-input--relationship",type:"text",role:"combobox","aria-owns":`apos-relationship-${e.field._id}`,"aria-expanded":!!e.searchList.length,"aria-autocomplete":"both",placeholder:e.$t(e.placeholder),disabled:e.field.readOnly||e.limitReached,required:e.field.required,tabindex:"0",onInput:t[1]||(t[1]=(...h)=>e.input&&e.input(...h)),onFocus:t[2]||(t[2]=(...h)=>e.input&&e.input(...h)),onFocusout:t[3]||(t[3]=(...h)=>e.handleFocusOut&&e.handleFocusOut(...h)),onKeydown:t[4]||(t[4]=(...h)=>e.handleKeydown&&e.handleKeydown(...h))},null,40,Roe)),[[Ds,e.searchTerm]]),e.field.browse!==!1?(p(),R(a,{key:1,class:"apos-input-relationship__button",disabled:e.field.readOnly,label:e.browseLabel,modifiers:e.buttonModifiers,type:"input",attrs:{"data-apos-focus-priority":!0},onClick:e.choose},null,8,["disabled","label","modifiers","onClick"])):S("v-if",!0)]),e.next.length?(p(),R(l,{key:0,class:"apos-input-relationship__items","model-value":e.next,duplicate:e.duplicate,disabled:e.field.readOnly,"relationship-schema":e.field.schema,"editor-label":e.field.editorLabel,"editor-icon":e.field.editorIcon,"onUpdate:modelValue":e.updateSelected,onItemClicked:e.editRelationship},null,8,["model-value","duplicate","disabled","relationship-schema","editor-label","editor-icon","onUpdate:modelValue","onItemClicked"])):S("v-if",!0),D(c,{"aria-id":`apos-relationship-${e.field._id}`,list:e.searchList,"selected-items":e.next,icon:e.field.suggestionIcon,"icon-size":e.field.suggestionIconSize,fields:e.suggestionFields,"focus-index":e.searchFocusIndex,suggestion:e.searchSuggestion,hint:e.searchHint,"disabled-tooltip":"apostrophe:publishBeforeUsingTooltip",onSelect:e.updateSelected},null,8,["aria-id","list","selected-items","icon","icon-size","fields","focus-index","suggestion","hint","onSelect"])])]),_:1},8,["field","error","uid","items","display-options","modifiers"])}const Voe=I($oe,[["render",Hoe],["__scopeId","data-v-9d21294b"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputRelationship.vue"]]),zoe={name:"AposInputSelect",mixins:[tn,r0],props:{icon:{type:String,default:"menu-down-icon"}},data(){return{next:this.modelValue.data==null?null:this.modelValue.data,choices:[]}},computed:{classes(){var e;return[((e=this.modelValue)==null?void 0:e.duplicate)&&"apos-input--error"]}},methods:{validate(e){return this.field.required&&e===null?"required":e&&!this.choices.find(t=>t.value===e)?"invalid":!1},change(e){this.next=this.choices.find(t=>t.value===e).value}}},Noe={name:"AposInputSelect",mixins:[zoe]};function Boe(e,t,i,n,s,o){const r=O("AposSelect"),a=O("AposInputWrapper");return p(),R(a,{field:e.field,error:e.effectiveError,uid:e.uid,modifiers:e.modifiers,"display-options":e.displayOptions},{body:Q(()=>[D(r,{icon:e.icon,choices:e.choices,classes:e.classes,disabled:e.field.readOnly,selected:e.modelValue.data,autocomplete:e.field.autocomplete,onChange:e.change},null,8,["icon","choices","classes","disabled","selected","autocomplete","onChange"])]),_:1},8,["field","error","uid","modifiers","display-options"])}const Foe=I(Noe,[["render",Boe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputSelect.vue"]]);var ib={exports:{}},ek;function joe(){return ek||(ek=1,function(e){var t,i=function(n,s){var o="",r;n==null&&(n=""),typeof n!="string"&&(n.toString?n=n.toString():n=""),s||(s={});var a=s.separator||"-",l,c,u=!0,h;for(l=0;l<n.length;l++){var m=n.charCodeAt(l);if(r=!1,!(s.allow!==void 0&&s.allow.includes(n.charAt(l))))for(var g=0,v=t.length-1;;){if(c=g+v>>1,m>=t[c][0]&&m<=t[c][1]){r=!0;break}if(c===g)break;m<=t[c][0]?v=c-1:g=c+1}r?u||(h=o.length,o+=a):o+=n.charAt(l).toLowerCase(),u=r}return u&&(o=o.substr(0,h)),o.length||(o=s.def==null?"none":s.def),o};e.exports?e.exports=i:window.sluggo=i,t=[[0,47],[58,64],[91,96],[123,169],[171,177],[180,180],[182,184],[187,187],[191,191],[215,215],[247,247],[706,709],[722,735],[741,747],[749,749],[751,879],[885,885],[888,889],[894,894],[896,901],[903,903],[907,907],[909,909],[930,930],[1014,1014],[1154,1161],[1328,1328],[1367,1368],[1370,1376],[1416,1487],[1515,1519],[1523,1567],[1611,1631],[1642,1645],[1648,1648],[1748,1748],[1750,1764],[1767,1773],[1789,1790],[1792,1807],[1809,1809],[1840,1868],[1958,1968],[1970,1983],[2027,2035],[2038,2041],[2043,2047],[2070,2073],[2075,2083],[2085,2087],[2089,2111],[2137,2207],[2227,2307],[2362,2364],[2366,2383],[2385,2391],[2402,2405],[2416,2416],[2433,2436],[2445,2446],[2449,2450],[2473,2473],[2481,2481],[2483,2485],[2490,2492],[2494,2509],[2511,2523],[2526,2526],[2530,2533],[2546,2547],[2554,2564],[2571,2574],[2577,2578],[2601,2601],[2609,2609],[2612,2612],[2615,2615],[2618,2648],[2653,2653],[2655,2661],[2672,2673],[2677,2692],[2702,2702],[2706,2706],[2729,2729],[2737,2737],[2740,2740],[2746,2748],[2750,2767],[2769,2783],[2786,2789],[2800,2820],[2829,2830],[2833,2834],[2857,2857],[2865,2865],[2868,2868],[2874,2876],[2878,2907],[2910,2910],[2914,2917],[2928,2928],[2936,2946],[2948,2948],[2955,2957],[2961,2961],[2966,2968],[2971,2971],[2973,2973],[2976,2978],[2981,2983],[2987,2989],[3002,3023],[3025,3045],[3059,3076],[3085,3085],[3089,3089],[3113,3113],[3130,3132],[3134,3159],[3162,3167],[3170,3173],[3184,3191],[3199,3204],[3213,3213],[3217,3217],[3241,3241],[3252,3252],[3258,3260],[3262,3293],[3295,3295],[3298,3301],[3312,3312],[3315,3332],[3341,3341],[3345,3345],[3387,3388],[3390,3405],[3407,3423],[3426,3429],[3446,3449],[3456,3460],[3479,3481],[3506,3506],[3516,3516],[3518,3519],[3527,3557],[3568,3584],[3633,3633],[3636,3647],[3655,3663],[3674,3712],[3715,3715],[3717,3718],[3721,3721],[3723,3724],[3726,3731],[3736,3736],[3744,3744],[3748,3748],[3750,3750],[3752,3753],[3756,3756],[3761,3761],[3764,3772],[3774,3775],[3781,3781],[3783,3791],[3802,3803],[3808,3839],[3841,3871],[3892,3903],[3912,3912],[3949,3975],[3981,4095],[4139,4158],[4170,4175],[4182,4185],[4190,4192],[4194,4196],[4199,4205],[4209,4212],[4226,4237],[4239,4239],[4250,4255],[4294,4294],[4296,4300],[4302,4303],[4347,4347],[4681,4681],[4686,4687],[4695,4695],[4697,4697],[4702,4703],[4745,4745],[4750,4751],[4785,4785],[4790,4791],[4799,4799],[4801,4801],[4806,4807],[4823,4823],[4881,4881],[4886,4887],[4955,4968],[4989,4991],[5008,5023],[5109,5120],[5741,5742],[5760,5760],[5787,5791],[5867,5869],[5881,5887],[5901,5901],[5906,5919],[5938,5951],[5970,5983],[5997,5997],[6001,6015],[6068,6102],[6104,6107],[6109,6111],[6122,6127],[6138,6159],[6170,6175],[6264,6271],[6313,6313],[6315,6319],[6390,6399],[6431,6469],[6510,6511],[6517,6527],[6572,6592],[6600,6607],[6619,6655],[6679,6687],[6741,6783],[6794,6799],[6810,6822],[6824,6916],[6964,6980],[6988,6991],[7002,7042],[7073,7085],[7142,7167],[7204,7231],[7242,7244],[7294,7400],[7405,7405],[7410,7412],[7415,7423],[7616,7679],[7958,7959],[7966,7967],[8006,8007],[8014,8015],[8024,8024],[8026,8026],[8028,8028],[8030,8030],[8062,8063],[8117,8117],[8125,8125],[8127,8129],[8133,8133],[8141,8143],[8148,8149],[8156,8159],[8173,8177],[8181,8181],[8189,8303],[8306,8307],[8314,8318],[8330,8335],[8349,8449],[8451,8454],[8456,8457],[8468,8468],[8470,8472],[8478,8483],[8485,8485],[8487,8487],[8489,8489],[8494,8494],[8506,8507],[8512,8516],[8522,8525],[8527,8527],[8586,9311],[9372,9449],[9472,10101],[10132,11263],[11311,11311],[11359,11359],[11493,11498],[11503,11505],[11508,11516],[11518,11519],[11558,11558],[11560,11564],[11566,11567],[11624,11630],[11632,11647],[11671,11679],[11687,11687],[11695,11695],[11703,11703],[11711,11711],[11719,11719],[11727,11727],[11735,11735],[11743,11822],[11824,12292],[12296,12320],[12330,12336],[12342,12343],[12349,12352],[12439,12444],[12448,12448],[12539,12539],[12544,12548],[12590,12592],[12687,12689],[12694,12703],[12731,12783],[12800,12831],[12842,12871],[12880,12880],[12896,12927],[12938,12976],[12992,13311],[19894,19967],[40909,40959],[42125,42191],[42238,42239],[42509,42511],[42540,42559],[42607,42622],[42654,42655],[42736,42774],[42784,42785],[42889,42890],[42895,42895],[42926,42927],[42930,42998],[43010,43010],[43014,43014],[43019,43019],[43043,43055],[43062,43071],[43124,43137],[43188,43215],[43226,43249],[43256,43258],[43260,43263],[43302,43311],[43335,43359],[43389,43395],[43443,43470],[43482,43487],[43493,43493],[43519,43519],[43561,43583],[43587,43587],[43596,43599],[43610,43615],[43639,43641],[43643,43645],[43696,43696],[43698,43700],[43703,43704],[43710,43711],[43713,43713],[43715,43738],[43742,43743],[43755,43761],[43765,43776],[43783,43784],[43791,43792],[43799,43807],[43815,43815],[43823,43823],[43867,43867],[43872,43875],[43878,43967],[44003,44015],[44026,44031],[55204,55215],[55239,55242],[55292,63743],[64110,64111],[64218,64255],[64263,64274],[64280,64284],[64286,64286],[64297,64297],[64311,64311],[64317,64317],[64319,64319],[64322,64322],[64325,64325],[64434,64466],[64830,64847],[64912,64913],[64968,65007],[65020,65135],[65141,65141],[65277,65295],[65306,65312],[65339,65344],[65371,65381],[65471,65473],[65480,65481],[65488,65489],[65496,65497],[65501,65535],[65548,65548],[65575,65575],[65595,65595],[65598,65598],[65614,65615],[65630,65663],[65787,65798],[65844,65855],[65913,65929],[65932,66175],[66205,66207],[66257,66272],[66300,66303],[66340,66351],[66379,66383],[66422,66431],[66462,66463],[66500,66503],[66512,66512],[66518,66559],[66718,66719],[66730,66815],[66856,66863],[66916,67071],[67383,67391],[67414,67423],[67432,67583],[67590,67591],[67593,67593],[67638,67638],[67641,67643],[67645,67646],[67670,67671],[67703,67704],[67743,67750],[67760,67839],[67868,67871],[67898,67967],[68024,68029],[68032,68095],[68097,68111],[68116,68116],[68120,68120],[68148,68159],[68168,68191],[68223,68223],[68256,68287],[68296,68296],[68325,68330],[68336,68351],[68406,68415],[68438,68439],[68467,68471],[68498,68520],[68528,68607],[68681,69215],[69247,69634],[69688,69713],[69744,69762],[69808,69839],[69865,69871],[69882,69890],[69927,69941],[69952,69967],[70003,70005],[70007,70018],[70067,70080],[70085,70095],[70107,70112],[70133,70143],[70162,70162],[70188,70319],[70367,70383],[70394,70404],[70413,70414],[70417,70418],[70441,70441],[70449,70449],[70452,70452],[70458,70460],[70462,70492],[70498,70783],[70832,70851],[70854,70854],[70856,70863],[70874,71039],[71087,71167],[71216,71235],[71237,71247],[71258,71295],[71339,71359],[71370,71839],[71923,71934],[71936,72383],[72441,73727],[74649,74751],[74863,77823],[78895,92159],[92729,92735],[92767,92767],[92778,92879],[92910,92927],[92976,92991],[92996,93007],[93018,93018],[93026,93026],[93048,93052],[93072,93951],[94021,94031],[94033,94098],[94112,110591],[110594,113663],[113771,113775],[113789,113791],[113801,113807],[113818,119647],[119666,119807],[119893,119893],[119965,119965],[119968,119969],[119971,119972],[119975,119976],[119981,119981],[119994,119994],[119996,119996],[120004,120004],[120070,120070],[120075,120076],[120085,120085],[120093,120093],[120122,120122],[120127,120127],[120133,120133],[120135,120137],[120145,120145],[120486,120487],[120513,120513],[120539,120539],[120571,120571],[120597,120597],[120629,120629],[120655,120655],[120687,120687],[120713,120713],[120745,120745],[120771,120771],[120780,120781],[120832,124927],[125125,125126],[125136,126463],[126468,126468],[126496,126496],[126499,126499],[126501,126502],[126504,126504],[126515,126515],[126520,126520],[126522,126522],[126524,126529],[126531,126534],[126536,126536],[126538,126538],[126540,126540],[126544,126544],[126547,126547],[126549,126550],[126552,126552],[126554,126554],[126556,126556],[126558,126558],[126560,126560],[126563,126563],[126565,126566],[126571,126571],[126579,126579],[126584,126584],[126589,126589],[126591,126591],[126602,126602],[126620,126624],[126628,126628],[126634,126634],[126652,127231],[127245,131071],[173783,173823],[177973,177983],[178206,194559],[195102,1114112]]}(ib)),ib.exports}var Uoe=joe();const tk=Jc(Uoe),Woe={name:"AposInputSlug",mixins:[tn],emits:["return"],data(){return{conflict:!1,isArchived:null,originalParentSlug:""}},computed:{tabindex(){return this.field.disableFocus?"-1":"0"},type(){return this.field.type?this.field.type:"text"},classes(){return["apos-input","apos-input--text","apos-input--slug"]},wrapperClasses(){return["apos-input-wrapper"].concat(this.localePrefix?["apos-input-wrapper--with-prefix"]:[])},icon(){return this.error?"circle-medium-icon":this.field.icon?this.field.icon:null},prefix(){return this.field.prefix||""},localePrefix(){return this.field.page&&apos.i18n.locales[apos.i18n.locale].prefix}},watch:{followingValues:{handler(e,t){if(this.field.followingIgnore===!0)return;let i=ut(e),n=ut(t);Array.isArray(this.field.followingIgnore)&&(i=Object.fromEntries(Object.entries(e).filter(([l])=>!this.field.followingIgnore.includes(l))),n=Object.fromEntries(Object.entries(t).filter(([l])=>!this.field.followingIgnore.includes(l)))),this.isArchived=e.archived,delete i.archived,delete n.archived;const s=Object.values(n).join(" ").replace(/\//g," "),o=Object.values(i).join(" ").replace(/\//g," ");if(s===o||!this.compatible(s,this.next)||e.archived)return;if(!this.field.page){this.next=this.slugify(o);return}const a=this.getParentSlug(this.next);if(this.originalParentSlug===a){const l=this.slugify(o,{componentOnly:!0});this.next=`${a}/${l}`}}}},async mounted(){this.debouncedCheckConflict=wa(this.requestCheckConflict,250,{onSuccess:this.setConflict}),this.next.length&&await this.debouncedCheckConflict.skipDelay(),this.originalParentSlug=this.getParentSlug(this.next)},onBeforeUnmount(){this.debouncedCheckConflict.cancel()},methods:{getParentSlug(e=""){return e.slice(-1)==="/"?e.substring(0,e.length-1):e.split("/").slice(0,-1).join("/")},async watchNext(){this.next=this.slugify(this.next),this.validateAndEmit(),await this.debouncedCheckConflict()},validate(e){return this.conflict?{name:"conflict",message:"apostrophe:slugInUse"}:this.field.required&&!e.length?"required":this.field.min&&e.length&&e.length<this.field.min?"min":this.field.max&&e.length&&e.length>this.field.max?"max":!1},compatible(e="",t){if(this.field.page){const i=t.match(/[^/]+$/);t=i&&i[0]||""}return e===""&&t===`${this.prefix}`||this.slugify(e)===this.slugify(t)},slugify(e,{componentOnly:t=!1}={}){const i={def:""};this.field.page&&!t&&(i.allow="/");let n=!1;this.focus&&e.length&&tk(e.charAt(e.length-1),i)===""&&(n=!0);let s=tk(e,i);return n&&(s+="-"),this.field.page&&!t&&(!s.charAt(0)!=="/"&&(s=`/${s}`),s=s.replace(/\/+/g,"/")),t||(s=this.setPrefix(s)),s},setPrefix(e){let t=e;const i=new RegExp(`^deduplicate-[a-z0-9]+-${this.prefix}`);if(!t.startsWith(this.prefix)||this.isArchived&&!t.match(i)){let n="";this.isArchived&&(n=t.match(/^deduplicate-[a-z0-9]+-/),t=t.replace(n,"")),this.prefix.startsWith(t)?t=this.prefix:t=t.startsWith(this.prefix)?t:this.prefix+t,t=this.isArchived&&n?`${n}${t}`:t}return t},async requestCheckConflict(){let e;try{if(e=this.next,e.length)return await apos.http.post(`${apos.doc.action}/slug-taken`,{body:{slug:e,_id:this.docId},draft:!0}),e===this.next?!1:null}catch(t){if(t.status===409)return e===this.next?!0:null;throw t}},async setConflict(e){e!==null&&(this.conflict=e,this.validateAndEmit())},passFocus(){this.$refs.input.focus()},emitReturn(){this.$emit("return")}}},qoe={name:"AposInputSlug",mixins:[Woe]},Koe=["id","type","placeholder","disabled","required","tabindex","autocomplete"];function Goe(e,t,i,n,s,o){const r=O("AposInputWrapper"),a=Bn("apos-tooltip");return p(),R(r,{modifiers:e.modifiers,field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions,meta:e.fieldMeta,onReplaceFieldValue:e.replaceFieldValue},{body:Q(()=>[k("div",{class:ne(e.wrapperClasses)},[e.localePrefix?Ge((p(),y("span",{key:0,class:"apos-input__slug-locale-prefix",onClick:t[0]||(t[0]=(...l)=>e.passFocus&&e.passFocus(...l))},[Mt(E(e.localePrefix),1)])),[[a,"apostrophe:cannotChangeSlugPrefix"]]):S("v-if",!0),Ge(k("input",{id:e.uid,ref:"input","onUpdate:modelValue":t[1]||(t[1]=l=>e.next=l),class:ne(e.classes),type:e.type,placeholder:e.$t(e.field.placeholder),disabled:e.field.readOnly,required:e.field.required,tabindex:e.tabindex,autocomplete:e.field.autocomplete,onKeydown:t[2]||(t[2]=Qe((...l)=>e.emitReturn&&e.emitReturn(...l),["enter"]))},null,42,Koe),[[$4,e.next]]),e.icon?(p(),R(tt(e.icon),{key:1,size:e.iconSize,class:"apos-input-icon"},null,8,["size"])):S("v-if",!0)],2)]),_:1},8,["modifiers","field","error","uid","display-options","meta","onReplaceFieldValue"])}const Joe=I(qoe,[["render",Goe],["__scopeId","data-v-dbcd805a"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputSlug.vue"]]),Yoe={name:"AposInputString",mixins:[tn],emits:["return"],props:{rows:{type:Number,default:5}},data(){return{step:void 0,wasPopulated:!1}},computed:{tabindex(){return this.field.disableFocus?"-1":"0"},type(){return this.field.type?this.field.type==="float"||this.field.type==="integer"?"number":this.field.type==="string"&&this.field.textarea?"textarea":this.field.type==="string"||this.field.type==="slug"?"text":this.field.type:"text"},classes(){var e;return["apos-input",`apos-input--${this.type}`,((e=this.modelValue)==null?void 0:e.duplicate)&&"apos-input--error"]},icon(){return this.error?"circle-medium-icon":this.field.icon?this.field.icon:null}},watch:{followingValues:{deep:!0,handler(e,t){if(this.field.followingIgnore===!0)return;let i=t,n=e;Array.isArray(this.field.followingIgnore)&&(i=Object.fromEntries(Object.entries(t).filter(([s])=>!this.field.followingIgnore.includes(s))),n=Object.fromEntries(Object.entries(e).filter(([s])=>!this.field.followingIgnore.includes(s)))),t=Object.values(i).join(" ").trim(),e=Object.values(n).join(" ").trim(),(!this.wasPopulated&&(this.next==null||!this.next.length)||this.next===t)&&(this.next=e)}},next(){this.next&&this.next.length&&(this.wasPopulated=!0)}},mounted(){this.defineStep(),this.wasPopulated=this.next&&this.next.length},methods:{enterEmit(){this.field.enterSubmittable?this.$emit("return",{data:this.next,error:this.validate(this.next)}):this.$emit("return")},validate(e=""){const t=typeof e=="string";if(t&&!e.length)return this.field.required?"required":!1;const i=["integer","float","string","date","password"];return typeof e=="string"&&this.field.pattern&&!new RegExp(this.field.pattern).test(e)?"invalid":this.field.min&&i.includes(this.field.type)&&(!t||e.length)&&this.minMaxComparable(e)<this.field.min?"min":this.field.max&&i.includes(this.field.type)&&(!t||e.length)&&this.minMaxComparable(e)>this.field.max?"max":this.field.type==="email"&&e&&!e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?"invalid":!1},defineStep(){this.type==="number"&&(this.step=this.field.type==="float"?"any":1)},convert(e){return this.field.type==="integer"?e==null||e===""?e:parseInt(e):this.field.type==="float"?e==null||e===""||this.focus&&`${e}`.match(/\.[0]*$/)?e:parseFloat(e):e==null?"":e.toString()},minMaxComparable(e){const t=this.convert(e);return["integer","float","date","range","time"].includes(this.field.type)?t:t.length}}},Zoe={name:"AposInputString",mixins:[Yoe]},Xoe={class:"apos-input-wrapper"},Qoe=["id","rows","placeholder","disabled","required","tabindex","autocomplete"],ere=["id","type","placeholder","disabled","required","tabindex","step","autocomplete"];function tre(e,t,i,n,s,o){const r=O("AposInputWrapper");return p(),R(r,{modifiers:e.modifiers,field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions,meta:e.fieldMeta,onReplaceFieldValue:e.replaceFieldValue},{body:Q(()=>[k("div",Xoe,[e.field.textarea&&e.field.type==="string"?Ge((p(),y("textarea",{key:0,id:e.uid,"onUpdate:modelValue":t[0]||(t[0]=a=>e.next=a),rows:e.rows,class:ne(e.classes),placeholder:e.$t(e.field.placeholder),disabled:e.field.readOnly,required:e.field.required,tabindex:e.tabindex,autocomplete:e.field.autocomplete,onKeydown:t[1]||(t[1]=Qe((...a)=>e.enterEmit&&e.enterEmit(...a),["enter"]))},null,42,Qoe)),[[Ds,e.next]]):Ge((p(),y("input",{key:1,id:e.uid,"onUpdate:modelValue":t[2]||(t[2]=a=>e.next=a),class:ne(e.classes),type:e.type,placeholder:e.$t(e.field.placeholder),disabled:e.field.readOnly||e.field.disabled,required:e.field.required,tabindex:e.tabindex,step:e.step,autocomplete:e.field.autocomplete,onKeydown:t[3]||(t[3]=Qe((...a)=>e.enterEmit&&e.enterEmit(...a),["enter"]))},null,42,ere)),[[$4,e.next]]),e.icon?(p(),R(tt(e.icon),{key:2,size:e.iconSize,class:"apos-input-icon"},null,8,["size"])):S("v-if",!0)])]),_:1},8,["modifiers","field","error","uid","display-options","meta","onReplaceFieldValue"])}const ire=I(Zoe,[["render",tre],["__scopeId","data-v-a2151113"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputString.vue"]]),nre={name:"AposInputWrapper",inject:{originalDoc:{default:()=>({ref:null})}},emits:["replace-field-value"],props:{field:{type:Object,required:!0},meta:{type:Object,default(){return{}}},error:{type:[String,Boolean,Object],default:null},uid:{type:Number,required:!0},modifiers:{type:Array,default(){return[]}},items:{type:Array,default(){return[]}},displayOptions:{type:Object,default(){return{}}}},data(){return{wrapEl:"div",labelEl:"label"}},computed:{label(){const{label:e,publishedLabel:t}=this.field;return this.originalDoc.ref&&this.originalDoc.ref.lastPublishedAt&&t?t:e},classList:function(){const e=["apos-field",`apos-field--${this.field.type}`,`apos-field--${this.field.name}`];return this.field.classes&&e.push(this.field.classes),this.errorClasses&&e.push(this.errorClasses),this.modifiers&&this.modifiers.forEach(t=>{e.push(`apos-field--${t}`)}),e},errorClasses:function(){if(!this.error)return null;let e="unknown";return typeof this.error=="string"?e=this.error:this.error.name&&(e=this.error.name),`apos-field--error apos-field--error-${e}`},errorMessage(){return this.error?typeof this.error=="string"?this.error:this.error.message?this.error.message:"Error":!1},metaComponents(){const e={};for(const t of Object.keys(this.meta)){const[i,n]=t.split(":",2);n&&(e[i]||(e[i]={}),e[i][n]=this.meta[t])}return apos.schema.fieldMetadataComponents.map(({name:t,namespace:i})=>({name:t,namespace:i,data:e[i]||{}}))},hasExtraInfo(){return this.$slots.info}},mounted:function(){(this.field.type==="radio"||this.field.type==="checkbox")&&(this.wrapEl="fieldset",this.labelEl="legend")},methods:{replaceFieldValue(e){this.$emit("replace-field-value",e)}}},sre={name:"AposInputWrapper",mixins:[nre],methods:{getTranslatedErrorMessage(e){return e==="required"?this.$t("apostrophe:required"):e==="invalid"?this.$t("apostrophe:invalid"):this.$t(e)}}},ore={class:"apos-field__info"},rre={class:"apos-field_label-info"},are={key:0,class:"apos-field__required"},lre={key:2,"data-apos-test":"field-help-tooltip",class:"apos-field__help-tooltip"},cre={key:3,class:"apos-field__changed","data-apos-test":"field-changed"},dre={key:0,class:"apos-field__label-extra-info"},ure={"data-apos-test":"field-meta-wrapper",class:"apos-field__label-meta"},hre=["innerHTML"],fre={key:0,class:"apos-field__error","data-apos-test":"field-error"};function pre(e,t,i,n,s,o){const r=O("AposLabel"),a=O("AposIndicator");return p(),y("div",{class:ne(["apos-field__wrapper",{[`apos-field__wrapper--${e.field.type}`]:!0,"apos-field__wrapper--full-width":e.modifiers.includes("full-width")}])},[(p(),R(tt(e.wrapEl),{class:ne(e.classList)},{default:Q(()=>[k("div",ore,[e.field.label?(p(),R(tt(e.labelEl),{key:0,class:ne(["apos-field__label",{"apos-sr-only":e.field.hideLabel,"apos-field__label--meta-left":e.field.meta&&e.field.meta.position==="left"}]),for:e.uid,"data-apos-test-name":e.field.name,"data-apos-test-label":e.field.label,"data-apos-test":"field-label"},{default:Q(()=>[k("span",rre,[Mt(E(e.$t(e.label))+" ",1),e.field.required?(p(),y("span",are," * ")):S("v-if",!0),e.field.tag?(p(),R(r,{key:1,class:"apos-field__tag",label:e.field.tag.value||e.field.tag,modifiers:[`apos-is-${e.field.tag.type||"success"}`,"apos-is-filled"],"data-apos-test":"field-tag"},null,8,["label","modifiers"])):S("v-if",!0),(e.field.help||e.field.htmlHelp)&&e.displayOptions.helpTooltip?(p(),y("span",lre,[D(a,{icon:"help-circle-icon",class:"apos-field__help-tooltip__icon",tooltip:e.$t(e.field.help||e.field.htmlHelp),"icon-size":11,"icon-color":"var(--a-base-4)"},null,8,["tooltip"])])):S("v-if",!0),e.displayOptions.changed?(p(),y("span",cre,[D(r,{label:"apostrophe:changed",class:"apos-field__changed__label",modifiers:["apos-is-warning","apos-is-filled"],tooltip:"apostrophe:fieldHasUnpublishedChanges"})])):S("v-if",!0)]),k("div",null,[e.hasExtraInfo?(p(),y("div",dre,[yt(e.$slots,"info",{},void 0,!0)])):S("v-if",!0),k("span",ure,[yt(e.$slots,"meta",{},()=>[(p(!0),y(Ce,null,Ie(e.metaComponents,({name:l,namespace:c,data:u})=>(p(),R(tt(l),{key:l,field:e.field,items:e.items,namespace:c,meta:u,"meta-raw":e.meta,"data-apos-test-component":l,"data-apos-test-namespace":c,"data-apos-test":"field-meta",onReplaceFieldValue:e.replaceFieldValue},null,40,["field","items","namespace","meta","meta-raw","data-apos-test-component","data-apos-test-namespace","onReplaceFieldValue"]))),128))],!0)])])]),_:3},8,["class","for","data-apos-test-name","data-apos-test-label"])):S("v-if",!0),S(" eslint-disable vue/no-v-html "),(e.field.help||e.field.htmlHelp)&&!e.displayOptions.helpTooltip?(p(),y("p",{key:1,class:"apos-field__help",innerHTML:e.$t(e.field.help||e.field.htmlHelp)},null,8,hre)):S("v-if",!0),yt(e.$slots,"additional",{},void 0,!0)]),yt(e.$slots,"body",{},void 0,!0),e.errorMessage?(p(),y("div",fre,E(o.getTranslatedErrorMessage(e.errorMessage)),1)):S("v-if",!0)]),_:3},8,["class"])),S(" CSS Escape hatch for additional interfaces like relationship managers "),yt(e.$slots,"secondary",{},void 0,!0)],2)}const mre=I(sre,[["render",pre],["__scopeId","data-v-268c96fa"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposInputWrapper.vue"]]),gre={},bre={viewBox:"0 0 959.64 230.39"};function yre(e,t){return p(),y("svg",bre,t[0]||(t[0]=[Ll('<defs><linearGradient id="circle" x1="173.17" y1="86.95" x2="141.86" y2="141.17" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#cc9300"></stop><stop offset=".47" stop-color="#ea433a"></stop><stop offset="1" stop-color="#b327bf"></stop></linearGradient><linearGradient id="square" x1="92.49" y1="41" x2="67.07" y2="110.85" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#cc9300"></stop><stop offset=".26" stop-color="#ea433a"></stop><stop offset=".47" stop-color="#b327bf"></stop><stop offset=".76" stop-color="#66f"></stop><stop offset="1" stop-color="#00bf9a"></stop></linearGradient><linearGradient id="triangle" x1="75.13" y1="190.31" x2="120.2" y2="143.64" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#b327bf"></stop><stop offset=".47" stop-color="#66f"></stop><stop offset="1" stop-color="#00c09a"></stop></linearGradient></defs><path fill="#ffffff" d="M290.25 154.82h-14.78l33.21-92.29h16.09L358 154.82h-14.8l-8.43-24.42h-36zm12.53-36.14h27.94l-13.61-39.39h-.72zM369.18 180.78V85.6h13.16v11.22h1.13a42.54 42.54 0 013.4-5 19.13 19.13 0 016.13-5q3.94-2.15 10.34-2.14a26.87 26.87 0 0114.94 4.24 28.72 28.72 0 0110.34 12.21q3.78 8 3.79 19.2t-3.74 19.22a28.8 28.8 0 01-10.28 12.32 26.55 26.55 0 01-14.92 4.28 21.77 21.77 0 01-10.27-2.11 19.92 19.92 0 01-6.24-5 36.14 36.14 0 01-3.49-5h-.82v36.73zm13.2-60.57q0 10.91 4.69 17.69t13.39 6.78a15.79 15.79 0 0010.11-3.22 19.62 19.62 0 006.15-8.76 35.3 35.3 0 002.08-12.49 34.86 34.86 0 00-2.05-12.32 19.2 19.2 0 00-6.11-8.59 16.1 16.1 0 00-10.18-3.15q-8.83 0-13.46 6.6t-4.62 17.46zM475.65 156.22a31.8 31.8 0 01-17-4.46 30 30 0 01-11.27-12.51 41.48 41.48 0 01-4-18.72 41.89 41.89 0 014-18.84 30 30 0 0111.27-12.53 34.63 34.63 0 0134 0 30.08 30.08 0 0111.24 12.53 41.75 41.75 0 014 18.84 41.35 41.35 0 01-4 18.72 30.09 30.09 0 01-11.24 12.51 31.77 31.77 0 01-17 4.46zm0-11.31a16.09 16.09 0 0010.48-3.34 19.76 19.76 0 006.13-8.9 38.21 38.21 0 000-24.4 19.92 19.92 0 00-6.13-9 18.1 18.1 0 00-21 0 20 20 0 00-6.17 9 37.68 37.68 0 000 24.4 19.83 19.83 0 006.17 8.9 16.17 16.17 0 0010.56 3.34zM571.36 102.5l-12.21 2.16a15.24 15.24 0 00-4.35-6.37q-3.18-2.91-9.48-2.91a17 17 0 00-9.58 2.55 7.49 7.49 0 00-3.81 6.55 6.7 6.7 0 002.55 5.61c1.72 1.4 4.5 2.55 8.31 3.45l11 2.53q18.93 4.37 18.93 18.74a18.11 18.11 0 01-3.59 11.09 23.84 23.84 0 01-10 7.57 37 37 0 01-14.76 2.75q-11.67 0-19-5a21.06 21.06 0 01-9-14.17l13-2q2.43 10.28 14.87 10.28 6.63 0 10.59-2.77t4-6.79q0-6.62-9.78-8.78l-11.72-2.57q-9.74-2.16-14.33-7a17.12 17.12 0 01-4.59-12.21 17.57 17.57 0 013.42-10.75 22.33 22.33 0 019.46-7.19 35.14 35.14 0 0113.84-2.57q11.22 0 17.67 4.87a22.82 22.82 0 018.56 12.93zM618.79 85.6v10.82H604.6v38.08q0 5.85 2.5 7.55a10.16 10.16 0 005.79 1.69 15.76 15.76 0 002.84-.23l1.89-.36 2.43 11.13a24.72 24.72 0 01-3.35.93 28.34 28.34 0 01-5.39.51 23.94 23.94 0 01-9.94-1.89 16.78 16.78 0 01-7.43-6.13 18.08 18.08 0 01-2.82-10.41V96.42H581V85.6h10.14V69h13.46v16.6zM632.65 154.82V85.6h13v11h.72a16.88 16.88 0 016.69-8.81A19.1 19.1 0 01664 84.56c.87 0 1.88 0 3 .09s2 .14 2.7.23v12.89a27.1 27.1 0 00-2.86-.52 30.32 30.32 0 00-4.17-.29 16.62 16.62 0 00-11.85 4.39 14.66 14.66 0 00-4.69 11.2v42.27zM706.38 156.22a31.82 31.82 0 01-17-4.46 30.09 30.09 0 01-11.27-12.51 41.48 41.48 0 01-4-18.72 41.89 41.89 0 014-18.84 30.08 30.08 0 0111.27-12.53 34.63 34.63 0 0134 0 30.08 30.08 0 0111.24 12.53 41.75 41.75 0 014 18.84 41.35 41.35 0 01-4 18.72 30.09 30.09 0 01-11.24 12.51 31.77 31.77 0 01-17 4.46zm0-11.31a16.09 16.09 0 0010.48-3.34 19.76 19.76 0 006.13-8.9 38 38 0 000-24.4 19.92 19.92 0 00-6.13-9 18.1 18.1 0 00-21 0 20 20 0 00-6.17 9 37.68 37.68 0 000 24.4 19.83 19.83 0 006.17 8.9 16.21 16.21 0 0010.56 3.34zM750.86 180.78V85.6H764v11.22h1.13a42.54 42.54 0 013.4-5 19 19 0 016.13-5q3.97-2.12 10.34-2.12a26.87 26.87 0 0115 4.24 28.72 28.72 0 0110.34 12.21q3.8 8 3.79 19.2t-3.74 19.22a28.8 28.8 0 01-10.28 12.32 26.56 26.56 0 01-14.91 4.28 21.78 21.78 0 01-10.28-2.11 20 20 0 01-6.24-5 36.14 36.14 0 01-3.49-5h-.82v36.73zm13.2-60.57q0 10.91 4.69 17.69t13.39 6.78a15.79 15.79 0 0010.11-3.22 19.62 19.62 0 006.15-8.76 35.3 35.3 0 002.08-12.49 34.86 34.86 0 00-2.05-12.32 19.2 19.2 0 00-6.11-8.59 16.1 16.1 0 00-10.18-3.15q-8.83 0-13.46 6.6t-4.62 17.46zM840.12 113.72v41.1h-13.47V62.53h13.29v34.34h.86a19.7 19.7 0 017.43-8.9q5-3.27 13.07-3.27 10.68 0 17.19 6.58t6.51 19.51v44h-13.47v-42.4q0-7.62-3.92-11.83t-10.91-4.19a16.41 16.41 0 00-11.89 4.53q-4.69 4.53-4.69 12.82zM930 156.22a33.6 33.6 0 01-17.58-4.42A29.35 29.35 0 01901 139.39a41.51 41.51 0 01-4-18.73 41.91 41.91 0 014-18.74 29.83 29.83 0 0128-17.22 33 33 0 0114.85 3.49 27.09 27.09 0 0111.4 11.13q4.39 7.65 4.39 20.17v4.78h-49.21q.27 10 5.64 15.41t14 5.41a19.22 19.22 0 0010-2.48 13.85 13.85 0 006-7.39l12.75 2.3a23.37 23.37 0 01-9.92 13.56q-7.64 5.14-18.9 5.14zm-19.47-42h36a18.91 18.91 0 00-4.87-13.22q-4.73-5.21-12.57-5.21a17.59 17.59 0 00-9.53 2.55 18.68 18.68 0 00-6.45 6.71 20.52 20.52 0 00-2.63 9.12z"></path><path d="M154.49 220.39l-44.16 7c-30.12 4.77-41.53 3.36-53.48-.78a62.25 62.25 0 01-29.59-21.5C19.63 195 14.77 184.61 10 154.49l-7-44.16c-4.77-30.12-3.36-41.53.78-53.48a62.25 62.25 0 0121.5-29.59C35.36 19.63 45.78 14.77 75.9 10l44.16-7c30.12-4.77 41.53-3.36 53.48.78a62.18 62.18 0 0129.58 21.5c7.64 10.08 12.5 20.5 17.27 50.62l7 44.16c4.77 30.12 3.36 41.53-.78 53.48a62.18 62.18 0 01-21.5 29.58c-10.11 7.64-20.5 12.5-50.62 17.27z"></path><path d="M162.43 145.1a31.43 31.43 0 10-35.65-26.17 31.28 31.28 0 0035.65 26.17zm-1.57-9.94a21.37 21.37 0 1117.45-24.39 21.2 21.2 0 01-17.45 24.39z" fill="url(#circle)"></path><path d="M61 107.94l46.64-7.38a5 5 0 004.18-5.76l-7.4-46.71a5 5 0 00-5.76-4.19L52 51.29a5 5 0 00-4.18 5.76l7.4 46.71a5 5 0 005.78 4.18zm3.39-10.72l-5.87-36.77 36.7-5.81L101 91.41z" fill="url(#square)"></path><path d="M90.56 124.91l-20.23 56.65a5 5 0 005.53 6.67l56.94-9a5 5 0 003.2-8.05l-36.71-47.65a5 5 0 00-8.73 1.38zM96.94 137l25.91 33.62L82.66 177z" fill="url(#triangle)"></path>',6)]))}const vre=I(gre,[["render",yre],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposLogo.vue"]]),_re={},wre={viewBox:"0 0 230.39 230.39"};function Cre(e,t){return p(),y("svg",wre,t[0]||(t[0]=[Ll('<defs><linearGradient id="circle" x1="173.17" y1="86.95" x2="141.86" y2="141.17" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#cc9300"></stop><stop offset="0.47" stop-color="#ea433a"></stop><stop offset="1" stop-color="#b327bf"></stop></linearGradient><linearGradient id="square" x1="92.49" y1="41" x2="67.07" y2="110.85" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#cc9300"></stop><stop offset="0.26" stop-color="#ea433a"></stop><stop offset="0.47" stop-color="#b327bf"></stop><stop offset="0.76" stop-color="#66f"></stop><stop offset="1" stop-color="#00bf9a"></stop></linearGradient><linearGradient id="triangle" x1="75.13" y1="190.31" x2="120.2" y2="143.64" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#b327bf"></stop><stop offset="0.47" stop-color="#66f"></stop><stop offset="1" stop-color="#00c09a"></stop></linearGradient></defs><path d="M154.49,220.39l-44.16,7c-30.12,4.77-41.53,3.36-53.48-.78a62.25,62.25,0,0,1-29.59-21.5C19.63,195,14.77,184.61,10,154.49L3,110.33C-1.77,80.21-.36,68.8,3.78,56.85a62.25,62.25,0,0,1,21.5-29.59C35.36,19.63,45.78,14.77,75.9,10l44.16-7c30.12-4.77,41.53-3.36,53.48.78a62.18,62.18,0,0,1,29.58,21.5c7.64,10.08,12.5,20.5,17.27,50.62l7,44.16c4.77,30.12,3.36,41.53-.78,53.48a62.18,62.18,0,0,1-21.5,29.58C195,210.76,184.61,215.62,154.49,220.39Z" fill="#000000"></path><path d="M162.43,145.1a31.43,31.43,0,1,0-35.65-26.17A31.28,31.28,0,0,0,162.43,145.1Zm-1.57-9.94a21.37,21.37,0,1,1,17.45-24.39A21.2,21.2,0,0,1,160.86,135.16Z" fill="url(#circle)"></path><path d="M61,107.94l46.64-7.38a5,5,0,0,0,4.18-5.76l-7.4-46.71a5,5,0,0,0-5.76-4.19L52,51.29a5,5,0,0,0-4.18,5.76l7.4,46.71A5,5,0,0,0,61,107.94Zm3.39-10.72L58.52,60.45l36.7-5.81L101,91.41Z" fill="url(#square)"></path><path d="M90.56,124.91,70.33,181.56a5,5,0,0,0,5.53,6.67l56.94-9a5,5,0,0,0,3.2-8.05L99.29,123.53A5,5,0,0,0,90.56,124.91ZM96.94,137l25.91,33.62L82.66,177Z" fill="url(#triangle)"></path>',5)]))}const kre=I(_re,[["render",Cre],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposLogoIcon.vue"]]),Are={},Sre={viewBox:"0 0 141.5 144.5"};function xre(e,t){return p(),y("svg",Sre,t[0]||(t[0]=[Ll('<linearGradient id="circle" gradientUnits="userSpaceOnUse" x1="125.627" y1="71.954" x2="94.317" y2="17.734" gradientTransform="matrix(1 0 0 -1 0 115.192)"><stop offset="0" stop-color="#cc9300"></stop><stop offset=".47" stop-color="#ea433a"></stop><stop offset="1" stop-color="#b327bf"></stop></linearGradient><path d="M114.7 101.3c17.2-2.5 29-18.5 26.5-35.7s-18.5-29-35.7-26.5S76.4 57.6 79 74.8v.3c2.7 17.1 18.6 28.8 35.7 26.2zm-1.6-10c-11.6 2-22.7-5.8-24.7-17.4-2-11.6 5.8-22.7 17.4-24.7s22.7 5.8 24.7 17.4c0 .1 0 .2.1.3 1.9 11.6-5.9 22.5-17.5 24.4z" fill="url(#circle)"></path><linearGradient id="square" gradientUnits="userSpaceOnUse" x1="44.783" y1="118.039" x2="19.355" y2="48.165" gradientTransform="matrix(1 0 0 -1 0 115.192)"><stop offset="0" stop-color="#cc9300"></stop><stop offset=".26" stop-color="#ea433a"></stop><stop offset=".47" stop-color="#b327bf"></stop><stop offset=".76" stop-color="#66f"></stop><stop offset="1" stop-color="#00bf9a"></stop></linearGradient><path d="M13.2 64.1l46.6-7.4c2.7-.4 4.6-3 4.2-5.7v-.1L56.7 4.3c-.4-2.7-3-4.6-5.7-4.2h-.1L4.2 7.5c-2.7.4-4.6 3-4.2 5.7v.1L7.4 60c.5 2.7 3 4.5 5.8 4.1zm3.4-10.7l-5.9-36.8 36.7-5.8 5.8 36.8-36.6 5.8z" fill="url(#square)"></path><linearGradient id="triangle" gradientUnits="userSpaceOnUse" x1="27.361" y1="-31.323" x2="72.461" y2="15.378" gradientTransform="matrix(1 0 0 -1 0 115.192)"><stop offset="0" stop-color="#b327bf"></stop><stop offset=".47" stop-color="#66f"></stop><stop offset="1" stop-color="#00c09a"></stop></linearGradient><path d="M42.8 81.1l-20.2 56.6c-1 2.6.4 5.5 2.9 6.4.8.3 1.7.4 2.6.2l56.9-9c2.7-.4 4.6-2.9 4.2-5.7-.1-.9-.5-1.7-1-2.4L51.5 79.7c-1.7-2.2-4.8-2.7-7-1-.8.6-1.4 1.4-1.7 2.4zm6.4 12.1l25.9 33.6-40.2 6.4 14.3-40z" fill="url(#triangle)"></path>',6)]))}const Mre=I(Are,[["render",xre],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposLogoPadless.vue"]]),Tre={name:"AposSchema",props:{modelValue:{type:Object,required:!0,default(){return{data:{}}}},meta:{type:Object,default(){return{}}},generation:{type:Number,required:!1,default(){return null}},schema:{type:Array,required:!0},fieldStyle:{type:String,required:!1,default:""},currentFields:{type:Array,default(){return null}},followingValues:{type:Object,default(){return{}}},conditionalFields:{type:Object,default(){return _a()}},modifiers:{type:Array,default(){return[]}},fieldModifiers:{type:Object,default:()=>({})},triggerValidation:Boolean,utilityRail:{type:Boolean,default(){return!1}},docId:{type:String,default(){return null}},serverErrors:{type:Object,default(){return null}},displayOptions:{type:Object,default(){return{}}},changed:{type:Array,default(){return[]}}},emits:["update:model-value","reset","validate","update-doc-data"],data(){return{schemaReady:!1,next:{hasErrors:!1,data:{},fieldErrors:{}},fieldState:{},fieldComponentMap:window.apos.schema.components.fields||{}}},computed:{fields(){return this.schema.reduce((e,t)=>{const{requiredIf:i}=this.conditionalFields,n=Object.hasOwn(i,t.name)?i[t.name]:t.required;return{...e,[t.name]:{field:{...t,required:n},value:{data:this.modelValue.data[t.name]},serverError:this.serverErrors&&this.serverErrors[t.name],modifiers:this.computeModifiers(t)}}},{})},hasCompareMeta(){return this.schema.some(e=>{var t;return(t=this.meta[e.name])==null?void 0:t["@apostrophecms/schema:compare"]})},classes(){const e=[];return this.hasCompareMeta&&e.push("apos-schema--compare"),e},compareMetaState(){if(!this.hasCompareMeta)return{};const e={};return this.schema.forEach(t=>{var i;e[t.name]={error:!1,data:(i=this.meta[t.name])==null?void 0:i["@apostrophecms/schema:compare"]}}),e}},watch:{schema(){this.populateDocData()},"modelValue.data._id"(e){(!this.fieldState._id&&e||this.fieldState._id&&e!==this.fieldState._id.data)&&this.populateDocData()},generation(){this.populateDocData()},conditionalFields:{handler(e,t){for(const[i,n]of Object.entries(t))for(const[s,o]of Object.entries(n))if(!(o===e[i][s]||!this.fieldState[s]||!this.fieldState[s].ranValidation)){this.emitValidate();return}}}},created(){this.populateDocData()},methods:{emitValidate(){this.$emit("validate")},getDisplayOptions(e){let t={};return this.displayOptions&&(t={...this.displayOptions}),this.changed&&this.changed.includes(e)&&(t.changed=!0),t},populateDocData(){this.schemaReady=!1;const e={hasErrors:!1,data:{}},t={};this.modelValue.data._id&&(e.data._id=this.modelValue.data._id,t._id={data:this.modelValue.data._id}),this.modelValue.data.archived!==void 0&&(e.data.archived=this.modelValue.data.archived,t.archived={data:this.modelValue.data.archived}),this.schema.forEach(i=>{const n=this.modelValue.data[i.name];t[i.name]={error:!1,data:n===void 0?i.def:n},e.data[i.name]=t[i.name].data}),this.next=e,this.fieldState=t,this.$nextTick(()=>{this.schemaReady=!0,this.$emit("reset")})},updateNextAndEmit(){if(!this.schemaReady)return;const e=this.next.hasErrors,t={...this.next.fieldState},i={...this.fieldState};let n=!1;this.next.hasErrors=!1,this.next.fieldState={...this.fieldState},this.schema.filter(s=>this.displayComponent(s)).forEach(s=>{this.fieldState[s.name].error&&(this.next.hasErrors=!0),this.fieldState[s.name].data!==void 0&&ky(s,this.next.data[s.name],this.fieldState[s.name].data)?(n=!0,this.next.data[s.name]=this.fieldState[s.name].data):this.next.data[s.name]=this.modelValue.data[s.name]}),(e!==this.next.hasErrors||t!==i)&&(n=!0),n&&this.$emit("update:model-value",{...this.next})},displayComponent({name:e,hidden:t=!1}){return!(t===!0||this.currentFields&&!this.currentFields.includes(e)||this.conditionalFields.if[e]===!1)},scrollFieldIntoView(e){var t,i,n;(n=(i=(t=this.$refs[e])==null?void 0:t[0])==null?void 0:i.$el)!=null&&n.scrollIntoView&&this.$refs[e][0].$el.scrollIntoView()},onUpdateDocData(e){this.$emit("update-doc-data",e)},highlight(e){var t;return(t=this.meta[e])==null?void 0:t["@apostrophecms/schema:highlight"]},generateItemUniqueKey(e){var t,i;return`${e.name}:${e._id??""}:${((i=(t=this.modelValue)==null?void 0:t.data)==null?void 0:i._id)??""}`},computeModifiers(e){const t=this.fieldModifiers[e.type]||this.modifiers;return[...new Set(t.concat(e.modifiers||[]))]}}},Ore={name:"AposSchema",mixins:[Tre]};function Ere(e,t,i,n,s,o){return p(),R(tt(e.fieldStyle==="table"?"tr":"div"),{class:ne(["apos-schema",e.classes])},{default:Q(()=>[yt(e.$slots,"before",{},void 0,!0),(p(!0),y(Ce,null,Ie(e.schema,r=>(p(),R(tt(e.fieldStyle==="table"?"td":"div"),{key:e.generateItemUniqueKey(r),"data-apos-field":r.name,style:Wt(e.fieldStyle==="table"&&r.columnStyle||{}),class:ne({"apos-field--hidden":!e.displayComponent(r)})},{default:Q(()=>{var a,l;return[(p(),R(tt(e.fieldComponentMap[r.type]),{ref_for:!0,ref:r.name,modelValue:e.fieldState[r.name],"onUpdate:modelValue":[c=>e.fieldState[r.name]=c,e.updateNextAndEmit],class:ne({"apos-field__wrapper--highlight":e.highlight(r.name)}),"following-values":e.followingValues[r.name],"condition-met":(a=e.conditionalFields)==null?void 0:a.if[r.name],field:e.fields[r.name].field,meta:e.meta,modifiers:e.fields[r.name].modifiers,"display-options":e.getDisplayOptions(r.name),"trigger-validation":e.triggerValidation,"server-error":e.fields[r.name].serverError,"doc-id":e.docId,generation:e.generation,onUpdateDocData:e.onUpdateDocData,onValidate:t[0]||(t[0]=c=>e.emitValidate())},null,40,["modelValue","onUpdate:modelValue","class","following-values","condition-met","field","meta","modifiers","display-options","trigger-validation","server-error","doc-id","generation","onUpdateDocData"])),e.hasCompareMeta?Ge((p(),R(tt(e.fieldComponentMap[r.type]),{key:0,ref_for:!0,ref:r.name,modelValue:e.compareMetaState[r.name],"onUpdate:modelValue":c=>e.compareMetaState[r.name]=c,class:ne({"apos-field__wrapper--highlight":e.highlight(r.name)}),"following-values":e.followingValues[r.name],"condition-met":(l=e.conditionalFields)==null?void 0:l.if[r.name],field:e.fields[r.name].field,meta:e.meta,modifiers:e.fields[r.name].modifiers,"display-options":e.getDisplayOptions(r.name),"trigger-validation":e.triggerValidation,"server-error":e.fields[r.name].serverError,"doc-id":e.docId,generation:e.generation,onUpdateDocData:e.onUpdateDocData,onValidate:t[1]||(t[1]=c=>e.emitValidate())},null,40,["modelValue","onUpdate:modelValue","class","following-values","condition-met","field","meta","modifiers","display-options","trigger-validation","server-error","doc-id","generation","onUpdateDocData"])),[[ti,e.displayComponent(r)]]):S("v-if",!0)]}),_:2},1032,["data-apos-field","style","class"]))),128)),yt(e.$slots,"after",{},void 0,!0)]),_:3},8,["class"])}const Ire=I(Ore,[["render",Ere],["__scopeId","data-v-673a4adc"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposSchema.vue"]]),$re={name:"AposSearchList",props:{list:{type:Array,default(){return[]}},hint:{type:Object,default(){return null}},suggestion:{type:Object,default(){return null}},ariaId:{type:String,default:null},customFields:{type:Array,default(){return[]}},selectedItems:{type:Array,default(){return[]}},disabledTooltip:{type:String,default:null},label:{type:String,default:""},help:{type:[String,Object],default:""},icon:{type:String,default:"text-box-icon"},iconSize:{type:Number,default:20},fields:{type:Array,default(){return["slug"]}},focusIndex:{type:Number,default:null}},emits:["select"],methods:{select(e){const t=this.selectedItems;t.some(i=>i._id===e._id)||this.$emit("select",[...t,e])},getClasses(e,t){const i={"apos-search__item":!0};return e.disabled&&(i["apos-search__item--disabled"]=!0),e.classes&&Array.isArray(e.classes)&&e.classes.forEach(n=>{i[`apos-search__item--${n}`]=!0}),e.attachment&&(i["apos-search__item--attachment"]=!0),t===this.focusIndex&&(i["apos-search__item--is-focused"]=!0),i},getTooltip(e){return e.disabled&&e.tooltip!==!1?this.disabledTooltip:null},getIcon(e){return{icon:e.icon??this.icon,iconSize:e.iconSize||this.iconSize}}}},Lre={name:"AposSearchList",mixins:[$re]},Pre=["id","aria-hidden"],Dre={key:0,class:"apos-search__item__title"},Rre={key:1,class:"apos-search__item__field"},Hre=["onClick"],Vre={key:0,class:"apos-search-image"},zre=["src"],Nre={class:"apos-search__item__title"},Bre={key:1,class:"apos-search__item__title"},Fre={key:2,class:"apos-search__item__field"};function jre(e,t,i,n,s,o){const r=O("AposIndicator"),a=Bn("apos-tooltip");return Ge((p(),y("ul",{id:e.ariaId,"aria-hidden":!e.list.length,role:"listbox",class:"apos-primary-scrollbar apos-search"},[e.suggestion?(p(),y("li",{key:0,class:ne(e.getClasses(e.suggestion))},[e.suggestion.title?(p(),y("div",Dre,E(e.suggestion.title),1)):S("v-if",!0),e.suggestion.help?(p(),y("div",Rre,E(e.suggestion.help),1)):S("v-if",!0)],2)):S("v-if",!0),(p(!0),y(Ce,null,Ie(e.list,(l,c)=>{var u,h;return Ge((p(),y("li",{key:l._id,"aria-selected":"false",class:ne(e.getClasses(l,c)),onClick:m=>e.select(l)},[(h=(u=l==null?void 0:l.attachment)==null?void 0:u._urls)!=null&&h["one-sixth"]?(p(),y("div",Vre,[k("img",{src:l.attachment._urls["one-sixth"]},null,8,zre)])):e.getIcon(l).icon?(p(),R(r,{key:1,icon:e.getIcon(l).icon,"icon-size":e.getIcon(l).iconSize,class:"apos-button__icon","fill-color":"currentColor"},null,8,["icon","icon-size"])):S("v-if",!0),k("div",Nre,E(l.title),1),(p(!0),y(Ce,null,Ie(e.fields,m=>(p(),y("div",{key:m,class:"apos-search__item__field"},E(l[m]),1))),128)),(p(!0),y(Ce,null,Ie(l.customFields,m=>(p(),y("div",{key:m,class:"apos-search__item__field"},E(l[m]),1))),128))],10,Hre)),[[a,e.getTooltip(l)]])}),128)),e.hint?(p(),y("li",{key:1,class:ne(e.getClasses(e.hint))},[e.hint.icon?(p(),R(r,{key:0,icon:e.getIcon(e.hint).icon,"icon-size":e.getIcon(e.hint).iconSize,class:"apos-button__icon","fill-color":"currentColor"},null,8,["icon","icon-size"])):S("v-if",!0),e.hint.title?(p(),y("div",Bre,E(e.hint.title),1)):S("v-if",!0),e.hint.help?(p(),y("div",Fre,E(e.hint.help),1)):S("v-if",!0)],2)):S("v-if",!0)],8,Pre)),[[ti,e.list.length]])}const Ure=I(Lre,[["render",jre],["__scopeId","data-v-b8acde50"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposSearchList.vue"]]),Wre={name:"AposSubform",mixins:[xr],props:{errors:{type:Object,default:null},subform:{type:Object,required:!0},values:{type:Object,required:!0},busy:{type:Boolean,default:!1},expanded:{type:Boolean,default:!0},updateIndicator:{type:Boolean,default:!1},separator:{type:Boolean,default:!1}},emits:["submit","cancel","update-expanded"],data(){return{docFields:{data:{},hasErrors:!1},triggerValidation:!1,triggerHover:!1,scrollTimeout:null}},computed:{schema(){return this.subform.schema??[]},serverError(){return this.error||!!this.serverErrors}},watch:{values(e){this.docFields.data=ut(e)},errors(e){this.serverErrors=e},expanded(e){this.triggerHover=!1,e&&setTimeout(()=>{this.scrollIntoView()},350)}},async mounted(){await this.evaluateExternalConditions(),this.evaluateConditions(),this.docFields.data=ut(this.values)},beforeUnmount(){clearTimeout(this.scrollTimeout)},methods:{scrollIntoView(){this.$el.scrollIntoView()},toggleExpanded(){this.$emit("update-expanded",{name:this.subform.name,value:!this.expanded})},updateDocFields(e){this.docFields=e,this.evaluateConditions()},async submit(){this.triggerValidation=!0,this.$nextTick(async()=>{if(this.docFields.hasErrors){this.triggerValidation=!1;return}this.$emit("submit",{name:this.subform.name,values:this.docFields.data})})},async cancel(){this.$emit("cancel",{name:this.subform.name}),this.toggleExpanded(),this.$nextTick(()=>{this.clearPasswords()})},clearPasswords(){this.subform.schema.filter(e=>e.type==="password").forEach(e=>{this.docFields.data[e.name]=""})}}},qre={name:"AposSubform",mixins:[Wre]},Kre={key:0,class:"apos-subform__schema"},Gre={key:0,class:"apos-subform__schema-label"},Jre={class:"apos-subform__controls"},Yre={key:0,class:"apos-subform__preview"},Zre={class:"apos-subform__preview-grid"},Xre={key:0,class:"apos-subform__preview-update-indicator"},Qre={key:1,class:"apos-subform__preview-edit-indicator"};function eae(e,t,i,n,s,o){const r=O("AposSchema"),a=O("AposButton"),l=O("AposSubformPreview"),c=O("AposIndicator");return p(),y("div",{class:ne(["apos-subform",{"apos-separator":e.separator}])},[S(" Schema "),D(ns,{name:"slide-fade"},{default:Q(()=>[e.expanded?(p(),y("div",Kre,[e.subform.label?(p(),y("span",Gre,E(e.$t(e.subform.label)),1)):S("v-if",!0),D(r,{ref:"schema","data-apos-test":"subformSchema",class:ne({"apos-subform__disabled":e.busy}),"data-apos-test-name":e.subform.name,"trigger-validation":e.triggerValidation,schema:e.schema,"model-value":e.docFields,"following-values":e.followingValues(),"conditional-fields":e.conditionalFields,"server-errors":e.serverErrors,modifiers:["small"],"onUpdate:modelValue":e.updateDocFields,onValidate:e.triggerValidate},null,8,["class","data-apos-test-name","trigger-validation","schema","model-value","following-values","conditional-fields","server-errors","onUpdate:modelValue","onValidate"]),k("div",Jre,[D(a,{"data-apos-test":"subformCancel",disabled:e.busy,type:"subtle",label:"apostrophe:cancel",onClick:e.cancel},null,8,["disabled","onClick"]),D(a,{"data-apos-test":"subformSubmit",disabled:e.busy||e.docFields.hasErrors,type:"primary",label:"apostrophe:save",onClick:e.submit},null,8,["disabled","onClick"])])])):S("v-if",!0)]),_:1}),S(" Preview mode "),e.expanded?S("v-if",!0):(p(),y("div",Yre,[k("div",Zre,[D(l,{subform:e.subform,values:e.values},null,8,["subform","values"]),e.updateIndicator&&!e.triggerHover?(p(),y("span",Xre,E(e.$t("apostrophe:updated")),1)):e.triggerHover?(p(),y("span",Qre,E(e.$t("apostrophe:edit")),1)):(p(),R(c,{key:2,class:"apos-subform__preview-icon",icon:"chevron-down-icon"}))]),k("button",{class:"apos-subform__preview-trigger",onClick:t[0]||(t[0]=(...u)=>e.toggleExpanded&&e.toggleExpanded(...u)),onMouseenter:t[1]||(t[1]=u=>e.triggerHover=!0),onMouseleave:t[2]||(t[2]=u=>e.triggerHover=!1)},null,32)]))],2)}const tae=I(qre,[["render",eae],["__scopeId","data-v-cc641cd9"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/schema/apos/components/AposSubform.vue"]]),sh={computed:{themeClass(){const e=[];return e.push(`apos-theme--primary-${window.apos.ui.theme.primary}`),e}}},iae={name:"TheAposBusy",mixins:[sh],data(){return{busy:!1,busyCount:0}},computed:{classes(){const e=[];return this.busy&&e.push("apos-is-busy"),e.concat(this.themeClass)}},mounted(){apos.bus.$on("busy",e=>{e.active===!1&&this.busyCount>=0&&this.busyCount--,this.busyCount===0&&(this.busy=e.active),e.active===!0&&this.busyCount++})}};function nae(e,t,i,n,s,o){const r=O("AposSpinner");return p(),y("div",{class:ne(["apos-busy",o.classes])},[D(r,{class:"apos-busy__spinner"})],2)}const sae=I(iae,[["render",nae],["__scopeId","data-v-1e32e41e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/busy/apos/components/TheAposBusy.vue"]]),oae={name:"AposInputRole",mixins:[tn],data(){return{next:this.modelValue.data==null?null:this.modelValue.data,choices:[]}},async mounted(){!this.field.required&&!this.field.choices.find(e=>e.value===null)&&this.choices.push({label:"",value:null}),this.choices=this.choices.concat(this.field.choices),this.$nextTick(()=>{this.field.required&&this.next==null&&this.field.choices[0]!=null&&(this.next=this.field.choices[0].value)})},methods:{validate(e){return this.field.required&&!e.length?"required":e&&!this.field.choices.find(t=>t.value===e)?"invalid":!1},change(e){this.next=this.choices.find(t=>t.value===e).value}}};function rae(e,t,i,n,s,o){const r=O("AposSelect"),a=O("AposPermissionGrid"),l=O("AposInputWrapper");return p(),R(l,{field:e.field,error:e.effectiveError,uid:e.uid,modifiers:e.modifiers,"display-options":e.displayOptions},{body:Q(()=>[D(r,{id:e.uid,choices:s.choices,disabled:e.field.readOnly,selected:e.modelValue.data,classes:["apos-input__role"],"wrapper-classes":["apos-input__role"],onChange:o.change},null,8,["id","choices","disabled","selected","onChange"]),D(a,{"api-params":{role:s.next}},null,8,["api-params"])]),_:1},8,["field","error","uid","modifiers","display-options"])}const aae=I(oae,[["render",rae],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/permission/apos/components/AposInputRole.vue"]]),lae={name:"AposPermissionGrid",props:{apiParams:{type:Object,required:!0,validator(e){if(typeof e!="object")return!1;const t="role",i="rolesByType",n="_groups",s=Object.keys(e),[o]=s;return!(s.length>1||![t,i,n].includes(o)||e[t]&&typeof e[t]!="string"||e[i]&&!Array.isArray(e[i])||e[n]&&!Array.isArray(e[n]))}}},data(){return{permissionSets:[]}},watch:{apiParams:{async handler(){this.permissionSets=await this.getPermissionSets()},deep:!0}},async mounted(){this.permissionSets=await this.getPermissionSets()},methods:{getTooltip(e){const t=document.createElement("div");t.setAttribute("class","apos-info");const i=document.createElement("ul"),n=document.createElement("p"),s=document.createElement("p");return n.appendChild(document.createTextNode(this.$t("apostrophe:piecePermissionsIntro"))),s.appendChild(document.createTextNode(this.$t("apostrophe:piecePermissionsPieceTypeList"))),t.appendChild(n),t.appendChild(s),e.forEach(o=>{const r=document.createElement("li");r.appendChild(document.createTextNode(this.$t(o))),i.appendChild(r)}),t.appendChild(i),{content:t.innerHTML,localize:!1}},async getPermissionSets(){const{permissionSets:e}=await apos.http.post(`${apos.permission.action}/grid`,{body:this.apiParams,busy:!0});return e}}},cae={class:"apos-input__role__permission-grid"},dae={class:"apos-input__role__permission-grid__set-name"},uae={class:"apos-input__role__permission-grid__list"},hae={class:"apos-input__role__permission-grid__value"},fae={key:0,class:"apos-sr-only"},pae={key:1,class:"apos-sr-only"},mae={class:"apos-input__role__permission-grid__label"};function gae(e,t,i,n,s,o){const r=O("AposIndicator");return p(),y("div",cae,[(p(!0),y(Ce,null,Ie(s.permissionSets,a=>(p(),y("div",{key:a.name,class:"apos-input__role__permission-grid__set"},[k("h4",dae,[Mt(E(e.$t(a.label))+" ",1),a.includes?(p(),R(r,{key:0,icon:"help-circle-icon",class:"apos-input__role__permission-grid__help",tooltip:o.getTooltip(a.includes),"icon-size":11,"icon-color":"var(--a-base-4)"},null,8,["tooltip"])):S("v-if",!0)]),k("dl",uae,[(p(!0),y(Ce,null,Ie(a.permissions,l=>(p(),y("div",{key:l.name,class:"apos-input__role__permission-grid__row"},[k("dd",hae,[D(r,{icon:l.value?"check-bold-icon":"close-icon","icon-color":l.value?"var(--a-success)":"var(--a-base-5)"},null,8,["icon","icon-color"]),l.value?(p(),y("span",fae,E(e.$t("apostrophe:enabled")),1)):(p(),y("span",pae,E(e.$t("apostrophe:disabled")),1))]),k("dt",mae,E(e.$t(l.label)),1)]))),128))])]))),128))])}const bae=I(lae,[["render",gae],["__scopeId","data-v-826e3cc9"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/permission/apos/components/AposPermissionGrid.vue"]]),yae={name:"TheAposAdminBar",mixins:[sh],props:{items:{type:Array,required:!0}},computed:{menuItems(){return this.items.filter(e=>{var t;return!((t=e.options)!=null&&t.user)})},userItems(){return this.items.filter(e=>{var t;return(t=e.options)==null?void 0:t.user})},moduleOptions(){return window.apos.adminBar},bars(){return this.moduleOptions.bars}},mounted(){this.setSpacer()},methods:{setSpacer(){window.apos.adminBar.height=this.$refs.adminBar.offsetHeight,this.$refs.spacer.style.height=`${this.$refs.adminBar.offsetHeight}px`,apos.bus.$emit("admin-menu-height-changed")},hasLocales(){return Object.keys(window.apos.i18n.locales).length>1}}},vae={ref:"spacer",class:"apos-admin-bar-spacer"},_ae={ref:"adminBar",class:"apos-admin-bar",role:"menubar","aria-label":"Apostrophe Admin Bar"},wae={class:"apos-admin-bar__row"};function Cae(e,t,i,n,s,o){const r=O("AposLogoPadless"),a=O("TheAposAdminBarMenu"),l=O("TheAposAdminBarLocale"),c=O("TheAposAdminBarUser"),u=O("TheAposContextBar");return p(),y("div",{"data-apos-test":"adminBar",class:ne(["apos-admin-bar-wrapper",e.themeClass])},[k("div",vae,null,512),k("nav",_ae,[k("div",wae,[D(r,{class:"apos-admin-bar__logo"}),D(a,{items:o.menuItems},null,8,["items"]),o.hasLocales()?(p(),R(l,{key:0})):S("v-if",!0),D(c,{"data-apos-test":"authenticatedUserMenuTrigger",class:"apos-admin-bar__user",items:o.userItems},null,8,["items"])]),D(u,{onVisibilityChanged:o.setSpacer},null,8,["onVisibilityChanged"]),(p(!0),y(Ce,null,Ie(o.bars,h=>(p(),R(tt(h.componentName),J({ref_for:!0},h.props||{},{key:h.id}),null,16))),128))],512)],2)}const kae=I(yae,[["render",Cae],["__scopeId","data-v-26e0cdfb"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposAdminBar.vue"]]),Aae={name:"TheAposAdminBarLocale",data(){return{search:"",locales:Object.entries(window.apos.i18n.locales).map(([e,t])=>({name:e,label:t.label||e})),localized:{},isOpen:!1}},computed:{locale(){return window.apos.i18n.locale},button(){return{label:{key:apos.i18n.locale,localize:!1},icon:"chevron-down-icon",modifiers:["icon-right","no-motion","uppercase"],type:"quiet"}},action(){var e;return(e=apos.modules[apos.adminBar.context.type])==null?void 0:e.action}},methods:{close(){this.isOpen=!1},async open(){if(apos.adminBar.context){const e=await apos.http.get(`${this.action}/${apos.adminBar.context._id}/locales`,{busy:!0});this.localized=Object.fromEntries(e.results.filter(t=>t.aposLocale.endsWith(":draft")).map(t=>[t.aposLocale.split(":")[0],t]))}this.isOpen=!0},isActive(e){return window.apos.i18n.locale===e.name},isLocalized(e){return!!this.localized[e.name]},async switchLocale(e){const{name:t}=e,i=await apos.http.post(`${apos.i18n.action}/locale`,{body:{contextDocId:apos.adminBar.context&&apos.adminBar.context._id,locale:t,clipboard:localStorage.getItem("aposWidgetClipboard")}});if(this.isLocalized(e))i.redirectTo?window.location.assign(i.redirectTo):window.location.reload();else{const n=apos.i18n.locales[apos.locale];this.$refs.menu.hide(),await apos.confirm({icon:!1,heading:"apostrophe:switchLocalesAndLocalizePage",description:"apostrophe:notInLocale",negativeLabel:"apostrophe:noJustSwitchLocales",affirmativeLabel:"apostrophe:yesLocalizeAndSwitchLocales"},{interpolate:{label:e.label,currentLocale:n.label}})?(this.$refs.menu.hide(),apos.bus.$emit("admin-menu-click",{itemName:"@apostrophecms/i18n:localize",props:{doc:apos.adminBar.context,locale:e}})):window.location.assign(i.redirectTo)}}}};function Sae(e,t,i,n,s,o){const r=O("AposLocalePicker"),a=O("AposContextMenu");return p(),R(a,{ref:"menu",class:"apos-admin-locales",identifier:"localePickerTrigger",button:o.button,unpadded:!0,"center-on-icon":!0,"menu-placement":"bottom-end",onOpen:o.open,onClose:t[0]||(t[0]=l=>s.isOpen=!1)},{default:Q(()=>[D(r,{"current-locale":o.locale,localized:s.localized,"is-open":s.isOpen,onSwitchLocale:o.switchLocale},null,8,["current-locale","localized","is-open","onSwitchLocale"])]),_:1},8,["button","onOpen"])}const xae=I(Aae,[["render",Sae],["__scopeId","data-v-4d1a8ad8"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposAdminBarLocale.vue"]]),Mae={name:"TheAposAdminBarMenu",props:{items:{type:Array,default:function(){return[]}}},data(){return{createMenu:[],menuItems:[],trayItems:[],trayItemState:{}}},computed:{moduleOptions(){return window.apos.adminBar},pageTree(){return this.moduleOptions.pageTree}},async mounted(){const e=ut(this.items);this.menuItems=e.filter(t=>!(t.options&&t.options.contextUtility)).map(t=>(t.items&&t.items.forEach(i=>{i.action=i.action||i.name}),t)),this.trayItems=e.filter(t=>t.options&&t.options.contextUtility),Object.values(apos.modules).forEach(t=>{t.quickCreate&&this.createMenu.push({label:t.label||t.name,name:t.name,action:`${t.name}:editor`})})},methods:{emitEvent(e){apos.bus.$emit("admin-menu-click",e.action);const t=this.trayItems.find(i=>i.name===e.action);t&&t.options.toggle&&(this.trayItemState={...this.trayItemState,[e.action]:!this.trayItemState[e.action]})},trayItemTooltip(e){var t;return e.options.toggle?this.trayItemState[e.name]&&((t=e.options.tooltip)!=null&&t.deactivate)?{content:e.options.tooltip.deactivate,placement:"bottom"}:e.options.tooltip&&e.options.tooltip.activate?{content:e.options.tooltip.activate,placement:"bottom"}:!1:e.options.tooltip}}},Tae={class:"apos-admin-bar__items",role:"menu"},Oae={key:0,class:"apos-admin-bar__item"},Eae={key:1,class:"apos-admin-bar__item"},Iae={key:2,class:"apos-admin-bar__item apos-admin-bar__tray-items"};function $ae(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposContextMenu");return p(),y("ol",Tae,[o.pageTree?(p(),y("li",Oae,[D(r,{type:"subtle",label:"apostrophe:pages",class:"apos-admin-bar__btn",modifiers:["no-motion"],role:"menuitem",onClick:t[0]||(t[0]=l=>o.emitEvent({action:"@apostrophecms/page:manager"}))})])):S("v-if",!0),(p(!0),y(Ce,null,Ie(s.menuItems,l=>(p(),y("li",{key:l.name,class:"apos-admin-bar__item"},[l.items?(p(),R(a,{key:0,class:"apos-admin-bar__sub",menu:l.items,button:{label:l.label,modifiers:["no-motion"],class:"apos-admin-bar__btn",type:"subtle"},role:"menuitem",onItemClicked:o.emitEvent},null,8,["menu","button","onItemClicked"])):(p(),R(tt(l.options&&l.options.component||"AposButton"),{key:1,type:"subtle",label:l.label,modifiers:["no-motion"],class:"apos-admin-bar__btn",role:"menuitem",onClick:c=>o.emitEvent(l)},null,8,["label","onClick"]))]))),128)),s.createMenu.length>0?(p(),y("li",Eae,[D(a,{class:"apos-admin-bar__create",menu:s.createMenu,button:{label:"apostrophe:newItem",iconOnly:!0,icon:"plus-icon",type:"primary",modifiers:["round","no-motion"]},role:"menuitem",onItemClicked:o.emitEvent},null,8,["menu","onItemClicked"])])):S("v-if",!0),s.trayItems.length>0?(p(),y("li",Iae,[(p(!0),y(Ce,null,Ie(s.trayItems,l=>(p(),y(Ce,null,[l.options.component?(p(),R(tt(l.options.component),{key:`${l.name}.component`})):(p(),R(r,{key:`${l.name}.fallback`,type:"subtle",modifiers:["small","no-motion"],tooltip:o.trayItemTooltip(l),class:"apos-admin-bar__context-button",icon:l.options.icon,"icon-only":!0,label:l.label,action:l.action,state:s.trayItemState[l.name]?["active"]:[],onClick:c=>o.emitEvent(l)},null,8,["tooltip","icon","label","action","state","onClick"]))],64))),256))])):S("v-if",!0)])}const Lae=I(Mae,[["render",$ae],["__scopeId","data-v-a7d1d6fd"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposAdminBarMenu.vue"]]),Pae={name:"TheAposAdminBarUser",props:{items:{type:Array,required:!0}},computed:{button(){return{label:{key:this.user.title||"",localize:!1},icon:"chevron-down-icon",modifiers:["icon-right","no-motion"],type:"quiet"}},user(){return window.apos.login.user}},methods:{emitEvent(e){apos.bus.$emit("admin-menu-click",e.action)}}};function Dae(e,t,i,n,s,o){const r=O("AposAvatar"),a=O("AposContextMenu");return p(),R(a,{class:"apos-admin-user",button:o.button,menu:i.items,"center-on-icon":!0,"menu-placement":"bottom-end",onItemClicked:o.emitEvent},{prebutton:Q(()=>[D(r,{class:"apos-admin-user__avatar",user:o.user},null,8,["user"])]),_:1},8,["button","menu","onItemClicked"])}const Rae=I(Pae,[["render",Dae],["__scopeId","data-v-31343100"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposAdminBarUser.vue"]]),oh={computed:{manuallyPublished(){return this.moduleOptions.localized&&!this.moduleOptions.autopublish}},methods:{async publish(e){const t=!!e.lastPublishedAt,i=window.apos.modules[e.type].action;try{return e=await apos.http.post(`${i}/${e._id}/publish`,{body:{},busy:!0}),await apos.notify("apostrophe:changesPublished",{type:"success",dismiss:!0,icon:"check-all-icon",buttons:[{type:"event",label:"apostrophe:undoPublish",name:t?"revert-published-to-previous":"unpublish",data:{action:i,_id:e._id}}]}),apos.bus.$emit("content-changed",{doc:e,action:"publish",localeSwitched:!!this.localeSwitched}),e}catch(n){if(n.name==="invalid"&&n.body&&n.body.data&&n.body.data.unpublishedAncestors){if(await apos.confirm({heading:"apostrophe:unpublishedParent",description:"apostrophe:unpublishedParentDescription"},{interpolate:{unpublishedParents:n.body.data.unpublishedAncestors.map(s=>s.title).join(this.$t("apostrophe:listJoiner"))}}))try{for(const s of n.body.data.unpublishedAncestors)await apos.http.post(`${i}/${s._id}/publish`,{body:{},busy:!0});return this.publish(e)}catch(s){const o=s.name==="forbidden"?"apostrophe:errorWhilePublishingParentPageForbidden":s.message;await apos.alert({heading:this.$t("apostrophe:errorWhilePublishing"),description:o||this.$t("apostrophe:errorWhilePublishingParentPage"),localize:!1})}}else await apos.alert({heading:this.$t("apostrophe:errorWhilePublishing"),description:n.message||this.$t("apostrophe:errorWhilePublishingDocument"),localize:!1});return!1}},async unpublish(e){const t=window.apos.modules[e.type].action;try{return e=await apos.http.post(`${t}/${e._id}/unpublish`,{body:{},busy:!0}),await apos.notify("apostrophe:noLongerPublished",{type:"success",dismiss:!0}),apos.bus.$emit("content-changed",{doc:e,action:"unpublish",localeSwitched:!!this.localeSwitched}),e}catch(i){return await apos.alert({heading:this.$t("apostrophe:error"),description:i.message||this.$t("apostrophe:errorWhileUnpublishing"),localize:!1}),!1}},async submitDraft(e){const t=window.apos.modules[e.type].action;try{const i=await apos.http.post(`${t}/${e._id}/submit`,{busy:!0,body:{},draft:!0}),n={...e,submitted:i};return await apos.notify("apostrophe:submittedForReview",{type:"success",icon:"list-status-icon",dismiss:!0}),apos.bus.$emit("content-changed",{doc:n,action:"submit",localeSwitched:!!this.localeSwitched}),i}catch(i){return await apos.alert({heading:this.$t("apostrophe:errorWhileSubmitting"),description:i.message||this.$t("apostrophe:errorWhileSubmittingDescription"),localize:!1}),!1}},async dismissSubmission(e){const t=window.apos.modules[e.type].action;try{await apos.http.post(`${t}/${e._id}/dismiss-submission`,{body:{},busy:!0}),await apos.notify("apostrophe:dismissedSubmission",{type:"success",dismiss:!0,icon:"close-circle-icon"});const i={...e,submitted:null};apos.bus.$emit("content-changed",{doc:i,action:"dismiss-submission",localeSwitched:!!this.localeSwitched})}catch(i){return await apos.alert({heading:this.$t("apostrophe:errorWhileDismissing"),description:i.message||this.$t("apostrophe:errorWhileDismissingDescription"),localize:!1}),!1}},async discardDraft(e){const t=!!e.lastPublishedAt;try{if(await apos.confirm({heading:t?"apostrophe:discardDraft":"apostrophe:deleteDraft",description:t?"apostrophe:discardDraftDescription":"apostrophe:deleteDraftDescription",affirmativeLabel:t?"apostrophe:discardDraftAffirmativeLabel":"apostrophe:deleteDraftAffirmativeLabel",interpolate:{title:e.title}})){const i=window.apos.modules[e.type].action;if(t){const n=await apos.http.post(`${i}/${e._id}/revert-draft-to-published`,{body:{},busy:!0});return await apos.notify("apostrophe:draftDiscarded",{type:"success",dismiss:!0,icon:"text-box-remove-icon"}),apos.bus.$emit("content-changed",{doc:n,action:"revert-draft-to-published",localeSwitched:!!this.localeSwitched}),{doc:n}}else return await apos.http.delete(`${i}/${e._id}`,{body:{},busy:!0}),await apos.notify("apostrophe:draftDeleted",{type:"success",dismiss:!0}),apos.bus.$emit("content-changed",{doc:e,action:"delete",localeSwitched:!!this.localeSwitched}),{}}}catch(i){await apos.alert({heading:this.$t("apostrophe:error"),description:i.message||this.$t("apostrophe:errorWhileRestoringPrevious"),localize:!1})}}}},Mu={data(){return{locked:!1,lockTimeout:null,lockRefreshing:null,lockApiUrl:null}},async unmounted(){await this.unlock()},methods:{async lock(e){this.lockApiUrl=e;try{return await apos.http.patch(e,{body:{_advisoryLock:{tabId:apos.adminBar.tabId,lock:!0}},draft:!0,busy:!0}),this.markLockedAndScheduleRefresh(),!0}catch(t){if(this.isLockedError(t))if(await apos.confirm({heading:t.body.data.me?"apostrophe:docInUseBySelf":"apostrophe:docInUseByAnother",description:t.body.data.me?"apostrophe:takeControlFromSelf":"apostrophe:takeControlFromOther"},{interpolate:{who:t.body.data.title}}))try{return await apos.http.patch(this.lockApiUrl,{body:{_advisoryLock:{tabId:apos.adminBar.tabId,lock:!0,force:!0}},draft:!0,busy:!0}),this.markLockedAndScheduleRefresh(),!0}catch(i){return await apos.notify(i.message,{type:"danger",localize:!1}),!1}else return!1}},async showLockedError(e){await apos.alert({heading:"apostrophe:multipleEditors",description:e.body.data.me?"apostrophe:youTookControl":"apostrophe:someoneElseTookControl",interpolate:{who:e.body.data.title}})},isLockedError(e){return e&&e.body&&e.body.name==="locked"},addLockToRequest(e){e._advisoryLock={tabId:apos.adminBar.tabId,lock:!0}},async unlock(){if(this.locked){clearTimeout(this.lockTimeout),this.lockRefreshing&&await this.lockRefreshing;try{await apos.http.patch(this.lockApiUrl,{body:{_advisoryLock:{tabId:apos.adminBar.tabId,lock:!1}},draft:!0,busy:!0})}catch{}}},markLockedAndScheduleRefresh(){this.locked=!0,this.lockTimeout=setTimeout(this.refreshLock,1e4)},refreshLock(){this.lockRefreshing=(async()=>{try{await apos.http.patch(this.lockApiUrl,{body:{_advisoryLock:{tabId:apos.adminBar.tabId,lock:!0}},draft:!0}),this.lockTimeout=setTimeout(this.refreshLock,1e4)}catch(e){if(this.isLockedError(e))return await this.showLockedError(e),clearTimeout(this.lockTimeout),this.lockTimeout=null,this.locked=!1,this.lockNotAvailable()}this.lockRefreshing=null})()}}},Hae={name:"TheAposContextBar",mixins:[oh,Mu],emits:["visibility-changed"],data(){const e=apos.http.parseQuery(location.search),t=e.aposMode||"published";if(t==="draft"){const i={...e};delete i.aposMode,history.replaceState(null,"",apos.http.addQueryToUrl(location.href,i))}return{patchesSinceLoaded:[],undone:[],patchesSinceSave:[],editMode:!1,draftMode:t,queryDraftMode:e.aposMode,original:null,saving:!1,editing:!1,editingTimeout:null,retrying:!1,saved:!1,savingTimeout:null,published:null,context:window.apos.adminBar.context?{...window.apos.adminBar.context}:{},contextStack:[],draftIsEditable:!1}},computed:{contextBarActive(){return window.apos.adminBar.contextBar&&(this.canEdit||this.moduleOptions.canLocalize)},canEdit(){return this.context._edit||this.context.aposLocale&&this.context.aposLocale.endsWith(":published")&&this.draftIsEditable},classes(){return this.contextBarActive?{"apos-admin-bar__row":!0,"apos-admin-bar__row--utils":!0}:{}},needToAutosave(){return!!this.patchesSinceSave.length},canPublish(){return this.context._publish||apos.modules[this.context.type].canPublish},readyToPublish(){return this.canPublish?this.context.modified&&!this.needToAutosave&&!this.editing:this.context.submitted?this.context.updatedAt>this.context.submitted.at:this.context.lastPublishedAt?this.context.updatedAt>this.context.lastPublishedAt:!0},moduleOptions(){return window.apos.adminBar},action(){return apos.modules[this.context.type].action},hasCustomUi(){return this.contextStack.length>0},customPublishLabel(){return this.hasCustomUi&&apos.modules[this.context.type].publishLabel||null},canUndo(){return this.patchesSinceLoaded.length>0},canRedo(){return this.undone.length>0},autopublish(){return this.context.autopublish??this.moduleOptions.autopublish},isBreakpointPreviewModeEnabled(){return this.moduleOptions.breakpointPreviewMode.enable||!1},breakpointPreviewModeScreens(){return this.moduleOptions.breakpointPreviewMode.screens||{}},breakpointPreviewModeResizable(){return this.moduleOptions.breakpointPreviewMode.resizable||!1}},watch:{editMode(e){window.apos.adminBar.editMode=e},contextBarActive(){this.$nextTick(()=>{this.$emit("visibility-changed")})}},async mounted(){apos.bus.$on("revert-published-to-previous",this.onRevertPublishedToPrevious),apos.bus.$on("set-context",this.onSetContext),apos.bus.$on("push-context",this.onPushContext),apos.bus.$on("pop-context",this.onPopContext),apos.bus.$on("context-editing",this.onContextEditing),apos.bus.$on("context-edited",this.onContextEdited),apos.bus.$on("content-changed",this.onContentChanged),window.addEventListener("beforeunload",this.onBeforeUnload),window.addEventListener("storage",this.onStorage);let e=sessionStorage.getItem("aposTabId");e||(e=Ut.createId(),sessionStorage.setItem("aposTabId",e)),window.apos.adminBar.tabId=e,window.apos.adminBar.editMode=!1;const t=JSON.parse(sessionStorage.getItem("aposLastBaseContext")||"{}");t.draftMode=this.queryDraftMode||t.draftMode,t.aposDocId===this.context.aposDocId&&(t.draftMode!==this.draftMode&&await this.setContext({mode:t.draftMode}),this.editMode!==t.editMode&&await this.switchEditMode(!0)),await this.updateDraftIsEditable(),this.rememberLastBaseContext(),this.published=await this.getPublished(),apos.util.onReadyAndRefresh(()=>{window.apos.adminBar.scrollPosition&&setTimeout(()=>{window.scroll({left:window.apos.adminBar.scrollPosition.x,top:window.apos.adminBar.scrollPosition.y}),window.apos.adminBar.scrollPosition=null},0)})},methods:{async onSetContext({mode:e,locale:t,doc:i}){await this.setContext({mode:e,locale:t,doc:i,navigate:!0}),apos.bus.$emit("context-changed",{mode:e,locale:t,doc:i})},async onPushContext({doc:e}){!this.draftMode!=="draft"&&await this.switchDraftMode("draft"),this.editMode||await this.switchEditMode(!0),this.contextStack.push({doc:this.context,original:this.original,patchesSinceLoaded:this.patchesSinceLoaded,undone:this.undone}),this.original=ut(e),this.patchesSinceLoaded=[],this.undone=[],await this.setContext({doc:e,mode:"draft",navigate:!1}),await this.refresh()},async onPopContext(){const e=this.contextStack.pop();this.original=e.original,this.patchesSinceLoaded=e.patchesSinceLoaded,this.undone=e.undone,await this.setContext({doc:e.doc}),await this.refresh()},async onContextEditing(e){typeof e=="boolean"?this.editing=e:(this.editing||(this.editing=!0),this.editingTimeout&&clearTimeout(this.editingTimeout),this.editingTimeout=setTimeout(()=>{this.editing=!1},1100))},async onPublish(){if(this.canPublish){const e=await this.publish(this.context);e&&(this.context={...this.context,lastPublishedAt:Date.now(),modified:!1},this.published=e)}else{const e=await this.submitDraft(this.context);e&&(this.context={...this.context,submitted:e})}},onBeforeUnload(e){(this.patchesSinceSave.length||this.saving||this.editing)&&(e.preventDefault(),e.returnValue="")},async save(){for(;this.patchesSinceSave.length;){const e=this.patchesSinceSave;this.retrying=!1,this.saving=!0,this.patchesSinceSave=[];try{this.saved=!1;const t={_patches:e};this.addLockToRequest(t);const i=await apos.http.patch(`${this.action}/${this.context._id}`,{body:t});this.context=i,this.retrying=!1}catch(t){if(this.isLockedError(t))return await this.showLockedError(t),this.lockNotAvailable();this.patchesSinceSave=[...e,...this.patchesSinceSave],await new Promise((i,n)=>{setTimeout(()=>i(),5e3)}),this.retrying=!0}}this.saving=!1,this.saved=!0},async switchDraftMode(e){await this.setContext({mode:e})},async setContext({mode:e,locale:t,doc:i,navigate:n=!1}){if(e=e||this.draftMode,t=t||apos.i18n.locale,i=i||this.context,!!i){if(e===this.draftMode&&t===apos.i18n.locale){if(this.context._id===i._id&&!this.urlDiffers(i._url))return;if(n&&this.urlDiffers(i._url))return await this.unlock(),window.location.assign(i._url);await this.unlock()}try{const s=window.apos.modules[i.type].action,o=await apos.http.get(`${s}/${i._id}`,{busy:!0,qs:{aposMode:e,aposLocale:t}});if(n&&!o._url){await apos.alert({heading:"apostrophe:pageDoesNotExistYet",description:"apostrophe:pageDoesNotExistYetDescription",interpolate:{mode:e,locale:t}});return}window.sessionStorage.setItem("aposStateChange",Date.now()),window.sessionStorage.setItem("aposStateChangeSeen","{}"),e==="published"&&(this.editMode=!1),window.apos.adminBar.context=o,window.apos.adminBar.contextId=o._id,this.context=o,this.published=await this.getPublished(),await this.updateDraftIsEditable(),this.draftMode=e,n?await this.refreshOrReload(o._url)||this.editMode&&(await this.lock(`${this.action}/${this.context._id}`)||this.lockNotAvailable()):(this.editMode&&(await this.lock(`${this.action}/${this.context._id}`)||this.lockNotAvailable()),this.contextStack.length||await this.refresh())}catch(s){s.status===404?await apos.alert({heading:"apostrophe:doesNotExistYet",description:"apostrophe:doesNotExistYetDescription"}):await apos.alert({heading:"apostrophe:error",description:"apostrophe:unableToSwitchModes"})}this.rememberLastBaseContext()}},onContextEdited(e){e=ut(e),this.patchesSinceLoaded.push(e),this.patchesSinceSave.push(e),this.undone=[],this.saving||this.save()},async onContentChanged(e){(e.doc&&e.doc._id===this.context._id||e.docIds&&e.docIds.includes(this.context._id))&&(e.action==="delete"?this.contextStack.length||location.assign(`${window.apos.prefix}/`):this.context=await apos.http.get(`${this.action}/${this.context._id}`,{busy:!0}));const t=this.context?apos.modules[this.context.type]:{contentChangedRefresh:!0};!e.localeSwitched&&t.contentChangedRefresh&&await this.refresh({scrollcheck:e.action==="history"})},async switchEditMode(e){if(this.editMode=e,e&&!await this.lock(`${this.action}/${this.context._id}`)){this.lockNotAvailable();return}this.draftMode!=="draft"?await this.switchDraftMode("draft"):await this.refresh()},async refresh(e={}){const t=document.querySelector("[data-apos-refreshable-body]")||document.querySelector("[data-apos-refreshable]");if(e.scrollcheck&&(window.apos.adminBar.scrollPosition={x:window.scrollX,y:window.scrollY}),!t){apos.bus.$emit("refreshed"),this.rememberLastBaseContext();return}const{action:i}=window.apos.modules[this.context.type];let n;try{n=await apos.http.get(`${i}/${this.context.aposDocId}`,{qs:{aposMode:this.draftMode,project:{_url:1}}})}catch{return}this.urlDiffers(n._url)&&(n._url=n._url+(window.location.search||""),history.replaceState(null,"",n._url));const s={...apos.http.parseQuery(window.location.search),aposRefresh:"1",aposMode:this.draftMode,...this.editMode?{aposEdit:"1"}:{}};if(n._url&&(t.innerHTML=await apos.http.get(n._url,{qs:s,headers:{"Cache-Control":"no-cache"},draft:!0,busy:!0,prefix:!1})),this.editMode&&!this.original){this.original={};const o=Array.from(document.querySelectorAll("[data-apos-area-newly-editable]")).filter(r=>r.getAttribute("data-doc-id")===this.context._id);o.sort((r,a)=>{const l=ik(r),c=ik(a);return l<c?-1:c>l?1:0});for(const r of o){const a=JSON.parse(r.getAttribute("data"));this.original[`@${a._id}`]=a}}apos.bus.$emit("refreshed"),this.rememberLastBaseContext()},async onDismissSubmission(){await this.dismissSubmission(this.context)&&(this.context={...this.context,submitted:null})},async onRevertPublishedToPrevious(e){try{const t=await apos.http.post(`${e.action}/${e._id}/revert-published-to-previous`,{body:{},busy:!0});await apos.notify("apostrophe:restoredPrevious",{type:"success",dismiss:!0}),e._id.replace(/:.*$/,"")===this.context._id.replace(/:.*$/,"")&&(this.context={...this.context,modified:!0,lastPublishedAt:t&&(t.lastPublishedAt||t.updatedAt)})}catch(t){await apos.alert({heading:this.$t("apostrophe:error"),description:t.message||this.$t("apostrophe:errorWhileRestoring"),localize:!1})}},async undo(){this.canUndo&&(this.undone.push(this.patchesSinceLoaded.pop()),await this.refreshAfterHistoryChange("apostrophe:undoFailed"))},async redo(){this.canRedo&&(this.patchesSinceLoaded.push(this.undone.pop()),await this.refreshAfterHistoryChange("apostrophe:redoFailed"))},async refreshAfterHistoryChange(e){this.saving=!0;try{const t=await apos.http.patch(`${this.action}/${this.context._id}`,{body:{_patches:[this.original,...this.patchesSinceLoaded]},busy:!0});this.contextStack.length?apos.bus.$emit("content-changed",{doc:t,action:"history"}):await this.refresh({scrollcheck:!0})}catch(t){console.error(t),apos.notify(e,{type:"error"})}finally{this.saving=!1}},async refreshOrReload(e){return this.urlDiffers(e)?(window.location.assign(e),!0):(await this.refresh(),!1)},urlDiffers(e){if(!e)return!1;const t=e.replace(/^https?:\/\/[^/]+\//,"/"),i=window.location.pathname+window.location.search;return t!==i},lockNotAvailable(){this.contextStack.length?apos.bus.$emit("context-close",this.context):this.switchEditMode(!1)},async updateDraftIsEditable(){if(this.context.aposLocale&&this.context.aposLocale.endsWith("published")&&!this.context._edit)try{const e=await apos.http.get(`${this.action}/${this.context._id}`,{busy:!0,qs:{aposMode:"draft",aposLocale:this.context.aposLocale.split(":")[0]}});this.draftIsEditable=e&&e._edit}catch(e){console.error(e)}},async getPublished(){var i;const e=(i=window.apos.modules)==null?void 0:i[this.context.type];if((e==null?void 0:e.localized)&&!this.autopublish&&this.context.lastPublishedAt){const n=window.apos.modules[this.context.type].action;try{return await apos.http.get(`${n}/${this.context._id}`,{busy:!0,qs:{aposMode:"published"}})}catch(s){console.error(s)}}return null},rememberLastBaseContext(){sessionStorage.setItem("aposLastBaseContext",JSON.stringify({aposDocId:this.context.aposDocId,draftMode:this.draftMode,editMode:this.editMode}))},addContextLabel({label:e}){var t;(t=document.querySelector("[data-apos-context-label]"))==null||t.replaceChildren(document.createTextNode(this.$t(e)))},removeContextLabel(){var e;(e=document.querySelector("[data-apos-context-label]"))==null||e.replaceChildren()}}};function ik(e){let t=0;for(;e;)e=e.parentNode,t++;return t}const Vae={class:"apos-admin-bar__control-group"};function zae(e,t,i,n,s,o){const r=O("TheAposContextUndoRedo"),a=O("TheAposContextBreakpointPreviewMode"),l=O("TheAposSavingIndicator"),c=O("TheAposContextTitle"),u=O("TheAposContextModeAndSettings");return p(),y("div",{class:ne(o.classes)},[o.contextBarActive?(p(),y(Ce,{key:0},[k("div",Vae,[D(r,{"v-if":s.editMode,"can-undo":o.canUndo,"can-redo":o.canRedo,onUndo:o.undo,onRedo:o.redo},null,8,["v-if","can-undo","can-redo","onUndo","onRedo"]),o.isBreakpointPreviewModeEnabled?(p(),R(a,{key:0,screens:o.breakpointPreviewModeScreens,resizable:o.breakpointPreviewModeResizable,onSwitchBreakpointPreviewMode:o.addContextLabel,onResetBreakpointPreviewMode:o.removeContextLabel},null,8,["screens","resizable","onSwitchBreakpointPreviewMode","onResetBreakpointPreviewMode"])):S("v-if",!0),(p(),R(l,{key:"status",retrying:s.retrying,editing:s.editing,saving:s.saving,saved:s.saved},null,8,["retrying","editing","saving","saved"]))]),o.hasCustomUi?S("v-if",!0):(p(),R(c,{key:0,class:"apos-admin-bar__control-group",context:s.context,"draft-mode":s.draftMode,onSwitchDraftMode:o.switchDraftMode},null,8,["context","draft-mode","onSwitchDraftMode"])),D(u,{class:"apos-admin-bar__control-group",context:s.context,published:s.published,"edit-mode":s.editMode,"has-custom-ui":o.hasCustomUi,"can-publish":o.canPublish,"ready-to-publish":o.readyToPublish,"custom-publish-label":o.customPublishLabel,onSwitchEditMode:o.switchEditMode,onPublish:o.onPublish},null,8,["context","published","edit-mode","has-custom-ui","can-publish","ready-to-publish","custom-publish-label","onSwitchEditMode","onPublish"])],64)):S("v-if",!0)],2)}const Nae=I(Hae,[["render",zae],["__scopeId","data-v-5b52cb6e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposContextBar.vue"]]),Bae={name:"TheAposContextBreakpointPreviewMode",props:{screens:{type:Object,validator(e,t){return Object.values(e).every(i=>typeof i.label=="string"&&typeof i.width=="string"&&typeof i.height=="string"&&typeof i.icon=="string")},default:()=>({})},resizable:{type:Boolean,default:!1}},emits:["switch-breakpoint-preview-mode","reset-breakpoint-preview-mode"],data(){return{mode:null,originalBodyBackground:null,shortcuts:this.getShortcuts(),breakpoints:this.getBreakpointItems(),showDropdown:!1,bodyEl:null,refreshableBodyEl:null,observer:new MutationObserver(this.observerCallback)}},computed:{activeScreen(){return this.mode&&this.screens[this.mode]},button(){var t;let e="apos-admin-bar__breakpoint-preview-mode-dropdown-btn";return this.activeScreen||(e+=" apos-admin-bar__breakpoint-preview-mode-dropdown-btn--inactive"),{class:e,label:{key:((t=this.activeScreen)==null?void 0:t.label)||"apostrophe:breakpointPreviewSelect",localize:!0},icon:"chevron-down-icon",secondIcon:this.activeScreen?this.getScreenIcon(this.activeScreen):null,modifiers:["icon-right","no-motion"],type:"outline"}},modifiers(){const e="apos-admin-bar__breakpoint-preview-mode",t=[];return Object.keys(this.shortcuts).length||t.push(`${e}--no-shortcuts`),this.showDropdown||t.push(`${e}--no-dropdown`),t}},mounted(){var t;this.bodyEl=document.querySelector("body"),this.setShowDropdown(),apos.bus.$on("command-menu-admin-bar-toggle-breakpoint-preview-mode",this.toggleBreakpointPreviewMode),this.originalBodyBackground=((t=window.getComputedStyle(document.querySelector("body")))==null?void 0:t.background)||"#fff";const e=this.loadState();e.mode&&this.toggleBreakpointPreviewMode(e)},unmounted(){apos.bus.$off("command-menu-admin-bar-toggle-breakpoint-preview-mode",this.toggleBreakpointPreviewMode)},methods:{observerCallback(e,t){for(const i of e){if(i.type!=="attributes"||i.attributeName.startsWith("data-apos")||i.attributeName==="data-breakpoint-preview-mode")continue;const n=i.target.getAttribute(i.attributeName);this.refreshableBodyEl.setAttribute(i.attributeName,n)}},createFakeBody(e){this.refreshableBodyEl=document.createElement("div"),this.refreshableBodyEl.setAttribute("data-apos-refreshable-body",""),Array.from(e.childNodes).forEach(t=>{this.refreshableBodyEl.append(t)}),Array.from(this.bodyEl.attributes||{}).filter(({name:t})=>!t.startsWith("data-apos")).forEach(({name:t,value:i})=>{this.refreshableBodyEl.setAttribute(t,i)}),e.append(this.refreshableBodyEl)},switchBreakpointPreviewMode({mode:e,label:t,width:i,height:n}){const s=document.querySelector("[data-apos-refreshable]");this.mode||(this.createFakeBody(s),this.observer.observe(this.bodyEl,{attributes:!0})),this.bodyEl.setAttribute("data-breakpoint-preview-mode",e),s.setAttribute("data-resizable",this.resizable),s.setAttribute("data-label",this.$t(t)),s.style.width=i,s.style.height=n,this.mode=e,this.$emit("switch-breakpoint-preview-mode",{mode:e,label:t,width:i,height:n}),this.saveState({mode:e,label:t,width:i,height:n})},toggleBreakpointPreviewMode(e){if(this.mode===e.mode||e.mode===null){this.resetBreakpointPreview();return}this.switchBreakpointPreviewMode(e)},resetBreakpointPreview(){const e=document.querySelector("[data-apos-refreshable]");this.observer.disconnect(),this.refreshableBodyEl&&(Array.from(this.refreshableBodyEl.childNodes).forEach(t=>{(t.nodeType!==Node.TEXT_NODE||t.nodeValue.trim())&&e.append(t)}),this.refreshableBodyEl.remove(),this.refreshableBodyEl=null,this.bodyEl.removeAttribute("data-breakpoint-preview-mode"),e.removeAttribute("data-resizable"),e.removeAttribute("data-label"),e.style.removeProperty("width"),e.style.removeProperty("height"),this.mode=null,this.$emit("reset-breakpoint-preview-mode"),this.saveState({mode:this.mode}))},loadState(){return JSON.parse(sessionStorage.getItem("aposBreakpointPreviewMode")||"{}")},saveState({mode:e=null,label:t=null,width:i=null,height:n=null}={}){this.loadState().mode!==e&&sessionStorage.setItem("aposBreakpointPreviewMode",JSON.stringify({mode:e,label:t,width:i,height:n}))},getShortcuts(){return Object.fromEntries(Object.entries(this.screens).filter(([e,{shortcut:t}])=>t))},getBreakpointItems(){return Object.entries(this.screens).map(([e,t])=>({name:e,action:e,label:t.label,width:t.width,height:t.height,icon:this.getScreenIcon(t)}))},getScreenIcon(e){if(e.icon)return e.icon;const t=parseInt(e.width);return t>1024?"monitor-icon":t>540?"tablet-icon":"cellphone-icon"},selectBreakpoint(e){const{name:t,label:i,width:n,height:s}=this.breakpoints.find(({name:o})=>o===e.action);this.toggleBreakpointPreviewMode({mode:t,label:i,width:n,height:s})},setShowDropdown(){this.showDropdown=Object.values(this.screens).some(({shortcut:e})=>!e)}}},Fae={class:"apos-admin-bar__breakpoint-preview-mode-shortcuts"};function jae(e,t,i,n,s,o){const r=O("AposContextMenu"),a=O("AposButton");return p(),y("div",{"data-apos-test":"breakpointPreviewMode",class:ne(["apos-admin-bar__breakpoint-preview-mode",o.modifiers])},[k("div",Fae,[(p(!0),y(Ce,null,Ie(s.shortcuts,(l,c)=>(p(),R(tt("AposButton"),{key:c,"data-apos-test":`breakpointPreviewMode:${c}`,modifiers:["small","no-motion"],label:l.label,tooltip:e.$t(l.label),title:e.$t(l.label),icon:l.icon,"icon-only":!0,type:"subtle",class:ne(["apos-admin-bar__breakpoint-preview-mode-button",{"apos-is-active":s.mode===c}]),onClick:u=>o.toggleBreakpointPreviewMode({mode:c,label:l.label,width:l.width,height:l.height})},null,8,["data-apos-test","label","tooltip","title","icon","class","onClick"]))),128))]),s.showDropdown?(p(),R(r,{key:0,class:"apos-admin-bar__breakpoint-preview-mode-dropdown",button:o.button,menu:s.breakpoints,"active-item":s.mode,"center-on-icon":!0,"menu-placement":"bottom-end",onItemClicked:o.selectBreakpoint},null,8,["button","menu","active-item","onItemClicked"])):S("v-if",!0),D(ns,{persisted:""},{default:Q(()=>[Ge(D(a,{tooltip:"apostrophe:breakpointPreviewClear","icon-only":!0,icon:"close-icon",modifiers:["small","no-motion"],label:"apostrophe:breakpointPreviewClear",type:"subtle",onClick:t[0]||(t[0]=l=>o.toggleBreakpointPreviewMode({mode:s.mode,...o.activeScreen}))},null,512),[[ti,o.activeScreen]])]),_:1})],2)}const Uae=I(Bae,[["render",jae],["__scopeId","data-v-c2a8444e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposContextBreakpointPreviewMode.vue"]]),Wae={name:"TheAposContextModeAndSettings",props:{customPublishLabel:{type:String,default(){return null}},hasCustomUi:{type:Boolean,required:!0},context:{type:Object,required:!0},published:{type:Object,default(){return null}},editMode:Boolean,readyToPublish:Boolean,canPublish:Boolean},emits:["switch-edit-mode","discard-draft","publish","dismiss-submission"],data(){return{hasBeenPublishedButNotUpdated:!1}},computed:{moduleOptions(){return window.apos.adminBar},contextEditorName(){return this.moduleOptions.contextEditorName},publishLabel(){return this.canPublish?this.context.lastPublishedAt?this.hasBeenPublishedThisPageload&&!this.readyToPublish&&this.hasBeenPublishedButNotUpdated?"apostrophe:published":this.hasBeenPublishedThisPageload&&!this.readyToPublish?"apostrophe:updated":"apostrophe:update":"apostrophe:publish":this.hasBeenPublishedThisPageload&&!this.readyToPublish?"apostrophe:submitted":this.context.lastPublishedAt?"apostrophe:submitUpdate":"apostrophe:submit"},publishTooltip(){return this.canPublish&&this.context.lastPublishedAt&&!this.hasBeenPublishedThisPageload?{content:"apostrophe:updateTooltip",placement:"bottom"}:!1},isAutopublished(){return this.context._aposAutopublish??(window.apos.modules[this.context.type].autopublish||!1)},hasBeenPublishedThisPageload(){return this.context.lastPublishedAt>this.mountedAt||(this.context.submitted&&this.context.submitted.at)>this.mountedAt},canSwitchToEditMode(){return!this.editMode},canSwitchToPreviewMode(){return this.editMode&&!this.hasCustomUi}},mounted(){this.mountedAt=new Date().toISOString(),apos.bus.$on("command-menu-admin-bar-toggle-edit-preview",this.toggleEditPreviewMode),apos.bus.$on("command-menu-admin-bar-publish-draft",this.onPublish)},unmounted(){apos.bus.$off("command-menu-admin-bar-toggle-edit-preview",this.toggleEditPreviewMode),apos.bus.$off("command-menu-admin-bar-publish-draft",this.onPublish)},methods:{toggleEditPreviewMode(){this.canSwitchToEditMode?this.switchEditMode(!0):this.canSwitchToPreviewMode&&this.switchEditMode(!1)},switchEditMode(e){this.$emit("switch-edit-mode",e)},onPublish(){!this.editMode||!this.readyToPublish||(this.context.lastPublishedAt?this.hasBeenPublishedButNotUpdated=!1:this.hasBeenPublishedButNotUpdated=!0,this.$emit("publish"))}}},qae={key:"switchToEditMode",class:"apos-admin-bar__control-set__group"},Kae={key:"switchToPreviewMode",class:"apos-admin-bar__control-set__group"};function Gae(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposDocContextMenu");return p(),R(td,{tag:"div",class:"apos-admin-bar__control-set apos-admin-bar__control-set--mode-and-settings",name:"flip"},{default:Q(()=>[S(`
      TODO: Each div at this level serves as a discrete context menu state
      Modules should be able to provide their own menus here to complete
      tasks specific to them.
      It might also be worth breaking up the core menus into their own vue components to
      further illustrate this concept.
    `),i.editMode?S("v-if",!0):(p(),y("div",qae,[D(r,{class:"apos-admin-bar__context-button",label:"apostrophe:edit",type:"subtle",modifiers:["small","no-motion"],tooltip:{content:"apostrophe:toggleEditMode",placement:"bottom"},onClick:t[0]||(t[0]=l=>o.switchEditMode(!0))})])),i.editMode?(p(),y("div",Kae,[D(a,{doc:i.context,published:i.published,"show-preview":!1},null,8,["doc","published"]),o.canSwitchToPreviewMode&&!o.isAutopublished?(p(),R(r,{key:0,class:"apos-admin-bar__context-button",label:"apostrophe:preview",tooltip:{content:"apostrophe:previewTooltip",placement:"bottom"},type:"subtle",modifiers:["small","no-motion"],onClick:t[1]||(t[1]=l=>o.switchEditMode(!1))})):S("v-if",!0),i.editMode&&!o.isAutopublished?(p(),R(r,{key:1,type:"primary",label:o.publishLabel,tooltip:o.publishTooltip,disabled:!i.readyToPublish,class:"apos-admin-bar__btn apos-admin-bar__context-button",modifiers:["no-motion"],onClick:o.onPublish},null,8,["label","tooltip","disabled","onClick"])):S("v-if",!0)])):S("v-if",!0)]),_:1})}const Jae=I(Wae,[["render",Gae],["__scopeId","data-v-74a3ce53"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposContextModeAndSettings.vue"]]),Yae={name:"TheAposContextTitle",props:{draftMode:{type:String,required:!0},hasCustomUi:Boolean,context:{type:Object,default(){return{}}}},emits:["switch-draft-mode"],computed:{updatedBy(){let e="ApostropheCMS ";if(this.context.updatedBy){const t=this.context.updatedBy;e="",e+=t.title?`${t.title} `:"",e+=t.username?`(${t.username})`:""}return e},draftButton(){return{label:this.draftMode==="draft"?"apostrophe:draft":"apostrophe:published",icon:"chevron-down-icon",modifiers:["icon-right","no-motion"],type:"quiet"}},isUnpublished(){return!this.context.lastPublishedAt},docTooltip(){return{key:"apostrophe:lastUpdatedBy",updatedAt:fa(this.context.updatedAt).format(this.$t("apostrophe:dayjsTitleDateFormat")),updatedBy:this.updatedBy}},draftMenu(){return[{label:"apostrophe:draft",name:"draft",action:"draft",modifiers:this.draftMode==="draft"?["disabled","selected"]:null},{label:"apostrophe:published",name:"published",action:"published",modifiers:this.draftMode==="published"?["disabled","selected"]:null}]},canTogglePublishDraftMode(){return!this.isUnpublished&&!this.hasCustomUi},moduleOptions(){return window.apos.adminBar},isAutopublished(){return this.context._aposAutopublish??(window.apos.modules[this.context.type].autopublish||!1)}},mounted(){apos.bus.$on("command-menu-admin-bar-toggle-publish-draft",this.togglePublishDraftMode)},unmounted(){apos.bus.$off("command-menu-admin-bar-toggle-publish-draft",this.togglePublishDraftMode)},methods:{togglePublishDraftMode(){this.canTogglePublishDraftMode&&this.switchDraftMode({action:this.draftMode==="draft"?"published":"draft"})},switchDraftMode(e){this.$emit("switch-draft-mode",e.action)}}},Zae={key:"title",class:"apos-admin-bar__title"},Xae={class:"apos-admin-bar__title__document-title"},Qae={key:0,class:"apos-admin-bar__title__context"};function ele(e,t,i,n,s,o){const r=O("AposIndicator"),a=O("AposContextMenu"),l=O("AposLabel");return p(),R(td,{tag:"div",class:"apos-admin-bar__control-set apos-admin-bar__control-set--title",name:"flip"},{default:Q(()=>[Ge((p(),y("span",Zae,[D(r,{icon:"information-outline-icon","fill-color":"var(--a-primary)",tooltip:o.docTooltip,class:"apos-admin-bar__title__indicator"},null,8,["tooltip"]),k("span",Xae,E(i.context.title),1),o.isAutopublished?S("v-if",!0):(p(),y("div",Qae,[t[0]||(t[0]=k("span",{class:"apos-admin-bar__title__separator"},"  ",-1)),o.isUnpublished?(p(),R(l,{key:1,label:"apostrophe:draft",tooltip:"apostrophe:notYetPublished",modifiers:["apos-is-warning","apos-is-filled"]})):(p(),R(a,{key:0,class:"apos-admin-bar__title__document",button:o.draftButton,menu:o.draftMenu,disabled:i.hasCustomUi||o.isUnpublished,"center-on-icon":!0,"menu-placement":"bottom-end",onItemClicked:o.switchDraftMode},null,8,["button","menu","disabled","onItemClicked"]))])),(p(!0),y(Ce,null,Ie(o.moduleOptions.contextLabels,({id:c,label:u,tooltip:h="",modifiers:m=[]})=>(p(),R(l,{key:c,class:"apos-admin-bar__title-context-label",label:u,tooltip:h,modifiers:m},null,8,["label","tooltip","modifiers"]))),128))])),[[ti,!0]])]),_:1})}const tle=I(Yae,[["render",ele],["__scopeId","data-v-846f9617"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposContextTitle.vue"]]),ile={name:"TheAposContextUndoRedo",props:{canUndo:Boolean,canRedo:Boolean},emits:["undo","redo"],computed:{undoTooltips(){const e={undo:"apostrophe:undoTooltip",redo:"apostrophe:redoTooltip"};return this.canUndo||(e.undo="apostrophe:undoTooltipNoChanges"),this.canRedo||(e.redo="apostrophe:redoTooltipNoChanges"),e}},mounted(){apos.bus.$on("command-menu-admin-bar-undo",this.undo),apos.bus.$on("command-menu-admin-bar-redo",this.redo)},unmounted(){apos.bus.$off("command-menu-admin-bar-undo",this.undo),apos.bus.$off("command-menu-admin-bar-redo",this.redo)},methods:{undo(){this.canUndo&&this.$emit("undo")},redo(){this.canRedo&&this.$emit("redo")}}},nle={key:"undo"},sle={key:"redo"};function ole(e,t,i,n,s,o){const r=O("AposButton"),a=Bn("apos-tooltip");return p(),R(td,{tag:"div",class:"apos-admin-bar__control-set apos-admin-bar__control-set--context-controls",name:"flip"},{default:Q(()=>[S(" need a tooltip even on a disabled button "),Ge((p(),y("div",nle,[D(r,{disabled:!i.canUndo,type:"subtle",modifiers:["small","no-motion"],label:"apostrophe:undo",class:"apos-admin-bar__context-button",icon:"undo-icon","icon-only":!0,onClick:o.undo},null,8,["disabled","onClick"])])),[[a,o.undoTooltips.undo]]),Ge((p(),y("div",sle,[D(r,{disabled:!i.canRedo,type:"subtle",modifiers:["small","no-motion"],label:"apostrophe:redo",class:"apos-admin-bar__context-button",icon:"redo-icon","icon-only":!0,onClick:o.redo},null,8,["disabled","onClick"])])),[[a,o.undoTooltips.redo]])]),_:1})}const rle=I(ile,[["render",ole],["__scopeId","data-v-520df2cf"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposContextUndoRedo.vue"]]),ale={name:"TheAposSavingIndicator",props:{retrying:Boolean,editing:Boolean,saving:Boolean,saved:Boolean},data(){return{savingStatus:{transitioning:!1,messages:{1:{label:"apostrophe:documentSaved",icon:"database-check-icon",class:"apos-is-success"},2:{label:"apostrophe:savingDocument",component:"AposSpinner"},3:{label:"apostrophe:retryingSaveDocument",component:"AposSpinner",class:"apos-is-warning"}}}}},computed:{savingIndicator(){let e="";const t={};if(this.savingStep){const i=this.savingStatus.messages[this.savingStep];i.component?e=i.component:e="AposIndicator",i.icon&&(t.icon=i.icon,t.iconSize=15),i.class&&(t.class=i.class),e==="AposIndicator"&&(t.tooltip=this.savingStatus.messages[this.savingStep].label)}return{componentName:e,options:t}},savingStep(){let e=null;return this.retrying?e=3:this.saving||this.editing?e=2:this.saved&&(e=1),e},savingLabel(){return this.savingStep?this.savingStatus.messages[this.savingStep].label:""}},watch:{savingStep(e){if(this.$refs.statusLabel){const t=this;apos.util.removeClass(t.$refs.statusLabel,"apos-is-hidden"),this.savingTimeout&&clearTimeout(this.savingTimeout),this.savingTimeout=setTimeout(()=>{t.$refs.statusLabel&&apos.util.addClass(t.$refs.statusLabel,"apos-is-hidden")},5e3)}}}},lle={key:"status",class:"apos-admin-bar__status"},cle={class:"apos-admin-bar__status__inner"};function dle(e,t,i,n,s,o){var r;return p(),y("div",lle,[k("span",cle,[(r=o.savingIndicator)!=null&&r.componentName?(p(),R(tt(o.savingIndicator.componentName),J({key:0},o.savingIndicator.options,{class:"apos-admin-bar__status__icon"}),null,16)):S("v-if",!0),k("div",{ref:"statusLabel",class:"apos-admin-bar__status__label"},E(e.$t(o.savingLabel)),513)])])}const ule=I(ale,[["render",dle],["__scopeId","data-v-16e1b88a"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/admin-bar/apos/components/TheAposSavingIndicator.vue"]]);function mf(e,t,i){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,i),i):(e[t]=i,i)}function nb(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function hle(){return ox().__VUE_DEVTOOLS_GLOBAL_HOOK__}function ox(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const fle=typeof Proxy=="function",ple="devtools-plugin:setup",mle="plugin:settings:set";let sc,Ty;function gle(){var e;return sc!==void 0||(typeof window<"u"&&window.performance?(sc=!0,Ty=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(sc=!0,Ty=globalThis.perf_hooks.performance):sc=!1),sc}function ble(){return gle()?Ty.now():Date.now()}class yle{constructor(t,i){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=i;const n={};if(t.settings)for(const r in t.settings){const a=t.settings[r];n[r]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},n);try{const r=localStorage.getItem(s),a=JSON.parse(r);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(r){try{localStorage.setItem(s,JSON.stringify(r))}catch{}o=r},now(){return ble()}},i&&i.on(mle,(r,a)=>{r===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(r,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(r,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const i of this.onQueue)this.target.on[i.method](...i.args);for(const i of this.targetQueue)i.resolve(await this.target[i.method](...i.args))}}function rx(e,t){const i=e,n=ox(),s=hle(),o=fle&&i.enableEarlyProxy;if(s&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))s.emit(ple,e,t);else{const r=o?new yle(i,s):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:i,setupFn:t,proxy:r}),r&&t(r.proxiedTarget)}}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Oy;const Tu=e=>Oy=e,ax=Symbol("pinia");function kl(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Mo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Mo||(Mo={}));const ll=typeof window<"u",nk=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null};function vle(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function a0(e,t,i){const n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){dx(n.response,t,i)},n.onerror=function(){console.error("could not download file")},n.send()}function lx(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ep(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}}const tp=typeof navigator=="object"?navigator:{userAgent:""},cx=/Macintosh/.test(tp.userAgent)&&/AppleWebKit/.test(tp.userAgent)&&!/Safari/.test(tp.userAgent),dx=ll?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!cx?_le:"msSaveOrOpenBlob"in tp?wle:Cle:()=>{};function _le(e,t="download",i){const n=document.createElement("a");n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?lx(n.href)?a0(e,t,i):(n.target="_blank",ep(n)):ep(n)):(n.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){ep(n)},0))}function wle(e,t="download",i){if(typeof e=="string")if(lx(e))a0(e,t,i);else{const n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){ep(n)})}else navigator.msSaveOrOpenBlob(vle(e,i),t)}function Cle(e,t,i,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return a0(e,t,i);const s=e.type==="application/octet-stream",o=/constructor/i.test(String(nk.HTMLElement))||"safari"in nk,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||s&&o||cx)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw n=null,new Error("Wrong reader.result type");l=r?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=l:location.assign(l),n=null},a.readAsDataURL(e)}else{const a=URL.createObjectURL(e);n?n.location.assign(a):location.href=a,n=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function Hi(e,t){const i=" "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(i,t):t==="error"?console.error(i):t==="warn"?console.warn(i):console.log(i)}function l0(e){return"_a"in e&&"install"in e}function ux(){if(!("clipboard"in navigator))return Hi("Your browser doesn't support the Clipboard API","error"),!0}function hx(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(Hi('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function kle(e){if(!ux())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),Hi("Global state copied to clipboard.")}catch(t){if(hx(t))return;Hi("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function Ale(e){if(!ux())try{fx(e,JSON.parse(await navigator.clipboard.readText())),Hi("Global state pasted from clipboard.")}catch(t){if(hx(t))return;Hi("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function Sle(e){try{dx(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){Hi("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let Qo;function xle(){Qo||(Qo=document.createElement("input"),Qo.type="file",Qo.accept=".json");function e(){return new Promise((t,i)=>{Qo.onchange=async()=>{const n=Qo.files;if(!n)return t(null);const s=n.item(0);return t(s?{text:await s.text(),file:s}:null)},Qo.oncancel=()=>t(null),Qo.onerror=i,Qo.click()})}return e}async function Mle(e){try{const i=await xle()();if(!i)return;const{text:n,file:s}=i;fx(e,JSON.parse(n)),Hi(`Global state imported from "${s.name}".`)}catch(t){Hi("Failed to import the state from JSON. Check the console for more details.","error"),console.error(t)}}function fx(e,t){for(const i in t){const n=e.state.value[i];n?Object.assign(n,t[i]):e.state.value[i]=t[i]}}function js(e){return{_custom:{display:e}}}const px=" Pinia (root)",ip="_root";function Tle(e){return l0(e)?{id:ip,label:px}:{id:e.$id,label:e.$id}}function Ole(e){if(l0(e)){const i=Array.from(e._s.keys()),n=e._s;return{state:i.map(o=>({editable:!0,key:o,value:e.state.value[o]})),getters:i.filter(o=>n.get(o)._getters).map(o=>{const r=n.get(o);return{editable:!1,key:o,value:r._getters.reduce((a,l)=>(a[l]=r[l],a),{})}})}}const t={state:Object.keys(e.$state).map(i=>({editable:!0,key:i,value:e.$state[i]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(i=>({editable:!1,key:i,value:e[i]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(i=>({editable:!0,key:i,value:e[i]}))),t}function Ele(e){return e?Array.isArray(e)?e.reduce((t,i)=>(t.keys.push(i.key),t.operations.push(i.type),t.oldValue[i.key]=i.oldValue,t.newValue[i.key]=i.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:js(e.type),key:js(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function Ile(e){switch(e){case Mo.direct:return"mutation";case Mo.patchFunction:return"$patch";case Mo.patchObject:return"$patch";default:return"unknown"}}let vc=!0;const np=[],Ga="pinia:mutations",dn="pinia",{assign:$le}=Object,Dp=e=>" "+e;function Lle(e,t){rx({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:np,app:e},i=>{typeof i.now!="function"&&Hi("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.addTimelineLayer({id:Ga,label:"Pinia ",color:15064968}),i.addInspector({id:dn,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{kle(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Ale(t),i.sendInspectorTree(dn),i.sendInspectorState(dn)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Sle(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Mle(t),i.sendInspectorTree(dn),i.sendInspectorState(dn)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:n=>{const s=t._s.get(n);s?typeof s.$reset!="function"?Hi(`Cannot reset "${n}" store because it doesn't have a "$reset" method implemented.`,"warn"):(s.$reset(),Hi(`Store "${n}" reset.`)):Hi(`Cannot reset "${n}" store because it wasn't found.`,"warn")}}]}),i.on.inspectComponent((n,s)=>{const o=n.componentInstance&&n.componentInstance.proxy;if(o&&o._pStores){const r=n.componentInstance.proxy._pStores;Object.values(r).forEach(a=>{n.instanceData.state.push({type:Dp(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:lt(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,c)=>(l[c]=a.$state[c],l),{})}),a._getters&&a._getters.length&&n.instanceData.state.push({type:Dp(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,c)=>{try{l[c]=a[c]}catch(u){l[c]=u}return l},{})})})}}),i.on.getInspectorTree(n=>{if(n.app===e&&n.inspectorId===dn){let s=[t];s=s.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?s.filter(o=>"$id"in o?o.$id.toLowerCase().includes(n.filter.toLowerCase()):px.toLowerCase().includes(n.filter.toLowerCase())):s).map(Tle)}}),globalThis.$pinia=t,i.on.getInspectorState(n=>{if(n.app===e&&n.inspectorId===dn){const s=n.nodeId===ip?t:t._s.get(n.nodeId);if(!s)return;s&&(n.nodeId!==ip&&(globalThis.$store=lt(s)),n.state=Ole(s))}}),i.on.editInspectorState((n,s)=>{if(n.app===e&&n.inspectorId===dn){const o=n.nodeId===ip?t:t._s.get(n.nodeId);if(!o)return Hi(`store "${n.nodeId}" not found`,"error");const{path:r}=n;l0(o)?r.unshift("state"):(r.length!==1||!o._customProperties.has(r[0])||r[0]in o.$state)&&r.unshift("$state"),vc=!1,n.set(o,r,n.state.value),vc=!0}}),i.on.editComponentState(n=>{if(n.type.startsWith("")){const s=n.type.replace(/^\s*/,""),o=t._s.get(s);if(!o)return Hi(`store "${s}" not found`,"error");const{path:r}=n;if(r[0]!=="state")return Hi(`Invalid path for store "${s}":
${r}
Only state can be modified.`);r[0]="$state",vc=!1,n.set(o,r,n.state.value),vc=!0}})})}function Ple(e,t){np.includes(Dp(t.$id))||np.push(Dp(t.$id)),rx({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:np,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},i=>{const n=typeof i.now=="function"?i.now.bind(i):Date.now;t.$onAction(({after:r,onError:a,name:l,args:c})=>{const u=mx++;i.addTimelineEvent({layerId:Ga,event:{time:n(),title:" "+l,subtitle:"start",data:{store:js(t.$id),action:js(l),args:c},groupId:u}}),r(h=>{ra=void 0,i.addTimelineEvent({layerId:Ga,event:{time:n(),title:" "+l,subtitle:"end",data:{store:js(t.$id),action:js(l),args:c,result:h},groupId:u}})}),a(h=>{ra=void 0,i.addTimelineEvent({layerId:Ga,event:{time:n(),logType:"error",title:" "+l,subtitle:"end",data:{store:js(t.$id),action:js(l),args:c,error:h},groupId:u}})})},!0),t._customProperties.forEach(r=>{ss(()=>As(t[r]),(a,l)=>{i.notifyComponentUpdate(),i.sendInspectorState(dn),vc&&i.addTimelineEvent({layerId:Ga,event:{time:n(),title:"Change",subtitle:r,data:{newValue:a,oldValue:l},groupId:ra}})},{deep:!0})}),t.$subscribe(({events:r,type:a},l)=>{if(i.notifyComponentUpdate(),i.sendInspectorState(dn),!vc)return;const c={time:n(),title:Ile(a),data:$le({store:js(t.$id)},Ele(r)),groupId:ra};a===Mo.patchFunction?c.subtitle="":a===Mo.patchObject?c.subtitle="":r&&!Array.isArray(r)&&(c.subtitle=r.type),r&&(c.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),i.addTimelineEvent({layerId:Ga,event:c})},{detached:!0,flush:"sync"});const s=t._hotUpdate;t._hotUpdate=ur(r=>{s(r),i.addTimelineEvent({layerId:Ga,event:{time:n(),title:" "+t.$id,subtitle:"HMR update",data:{store:js(t.$id),info:js("HMR update")}}}),i.notifyComponentUpdate(),i.sendInspectorTree(dn),i.sendInspectorState(dn)});const{$dispose:o}=t;t.$dispose=()=>{o(),i.notifyComponentUpdate(),i.sendInspectorTree(dn),i.sendInspectorState(dn),i.getSettings().logStoreChanges&&Hi(`Disposed "${t.$id}" store `)},i.notifyComponentUpdate(),i.sendInspectorTree(dn),i.sendInspectorState(dn),i.getSettings().logStoreChanges&&Hi(`"${t.$id}" store installed `)})}let mx=0,ra;function sk(e,t,i){const n=t.reduce((s,o)=>(s[o]=lt(e)[o],s),{});for(const s in n)e[s]=function(){const o=mx,r=i?new Proxy(e,{get(...l){return ra=o,Reflect.get(...l)},set(...l){return ra=o,Reflect.set(...l)}}):e;ra=o;const a=n[s].apply(r,arguments);return ra=void 0,a}}function Dle({app:e,store:t,options:i}){if(!t.$id.startsWith("__hot:")){if(t._isOptionsAPI=!!i.state,!t._p._testing){sk(t,Object.keys(i.actions),t._isOptionsAPI);const n=t._hotUpdate;lt(t)._hotUpdate=function(s){n.apply(this,arguments),sk(t,Object.keys(s._hmrPayload.actions),!!t._isOptionsAPI)}}Ple(e,t)}}function Rle(){const e=r3(!0),t=e.run(()=>He({}));let i=[],n=[];const s=ur({install(o){Tu(s),s._a=o,o.provide(ax,s),o.config.globalProperties.$pinia=s,ll&&Lle(o,s),n.forEach(r=>i.push(r)),n=[]},use(o){return this._a?i.push(o):n.push(o),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return ll&&typeof Proxy<"u"&&s.use(Dle),s}function gx(e,t){for(const i in t){const n=t[i];if(!(i in e))continue;const s=e[i];kl(s)&&kl(n)&&!Yt(n)&&!So(n)?e[i]=gx(s,n):e[i]=n}return e}const Hle=()=>{};function ok(e,t,i,n=Hle){e.push(t);const s=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),n())};return!i&&a3()&&$7(s),s}function oc(e,...t){e.slice().forEach(i=>{i(...t)})}const Vle=e=>e(),rk=Symbol(),sb=Symbol();function Ey(e,t){e instanceof Map&&t instanceof Map?t.forEach((i,n)=>e.set(n,i)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const n=t[i],s=e[i];kl(s)&&kl(n)&&e.hasOwnProperty(i)&&!Yt(n)&&!So(n)?e[i]=Ey(s,n):e[i]=n}return e}const zle=Symbol("pinia:skipHydration");function Nle(e){return!kl(e)||!e.hasOwnProperty(zle)}const{assign:Cs}=Object;function ak(e){return!!(Yt(e)&&e.effect)}function lk(e,t,i,n){const{state:s,actions:o,getters:r}=t,a=i.state.value[e];let l;function c(){!a&&!n&&(i.state.value[e]=s?s():{});const u=K2(n?He(s?s():{}).value:i.state.value[e]);return Cs(u,o,Object.keys(r||{}).reduce((h,m)=>(m in u&&console.warn(`[]: A getter cannot have the same name as another state property. Rename one of them. Found with "${m}" in store "${e}".`),h[m]=ur(st(()=>{Tu(i);const g=i._s.get(e);return r[m].call(g,g)})),h),{}))}return l=Iy(e,c,t,i,n,!0),l}function Iy(e,t,i={},n,s,o){let r;const a=Cs({actions:{}},i);if(!n._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=V=>{c?g=V:c==!1&&!K._hotUpdating&&(Array.isArray(g)?g.push(V):console.error(" debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let c,u,h=[],m=[],g;const v=n.state.value[e];!o&&!v&&!s&&(n.state.value[e]={});const _=He({});let w;function A(V){let z;c=u=!1,g=[],typeof V=="function"?(V(n.state.value[e]),z={type:Mo.patchFunction,storeId:e,events:g}):(Ey(n.state.value[e],V),z={type:Mo.patchObject,payload:V,storeId:e,events:g});const Z=w=Symbol();Dn().then(()=>{w===Z&&(c=!0)}),u=!0,oc(h,z,n.state.value[e])}const L=o?function(){const{state:z}=i,Z=z?z():{};this.$patch(le=>{Cs(le,Z)})}:()=>{throw new Error(`: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function N(){r.stop(),h=[],m=[],n._s.delete(e)}const M=(V,z="")=>{if(rk in V)return V[sb]=z,V;const Z=function(){Tu(n);const le=Array.from(arguments),ie=[],re=[];function te(U){ie.push(U)}function ee(U){re.push(U)}oc(m,{args:le,name:Z[sb],store:K,after:te,onError:ee});let G;try{G=V.apply(this&&this.$id===e?this:K,le)}catch(U){throw oc(re,U),U}return G instanceof Promise?G.then(U=>(oc(ie,U),U)).catch(U=>(oc(re,U),Promise.reject(U))):(oc(ie,G),G)};return Z[rk]=!0,Z[sb]=z,Z},P=ur({actions:{},getters:{},state:[],hotState:_}),F={_p:n,$id:e,$onAction:ok.bind(null,m),$patch:A,$reset:L,$subscribe(V,z={}){const Z=ok(h,V,z.detached,()=>le()),le=r.run(()=>ss(()=>n.state.value[e],ie=>{(z.flush==="sync"?u:c)&&V({storeId:e,type:Mo.direct,events:g},ie)},Cs({},l,z)));return Z},$dispose:N},K=Rm(Cs({_hmrPayload:P,_customProperties:ur(new Set)},F));n._s.set(e,K);const j=(n._a&&n._a.runWithContext||Vle)(()=>n._e.run(()=>(r=r3()).run(()=>t({action:M}))));for(const V in j){const z=j[V];if(Yt(z)&&!ak(z)||So(z))s?mf(_.value,V,D1(j,V)):o||(v&&Nle(z)&&(Yt(z)?z.value=v[V]:Ey(z,v[V])),n.state.value[e][V]=z),P.state.push(V);else if(typeof z=="function"){const Z=s?z:M(z,V);j[V]=Z,P.actions[V]=z,a.actions[V]=z}else ak(z)&&(P.getters[V]=o?i.getters[V]:z,ll&&(j._getters||(j._getters=ur([]))).push(V))}if(Cs(K,j),Cs(lt(K),j),Object.defineProperty(K,"$state",{get:()=>s?_.value:n.state.value[e],set:V=>{if(s)throw new Error("cannot set hotState");A(z=>{Cs(z,V)})}}),K._hotUpdate=ur(V=>{K._hotUpdating=!0,V._hmrPayload.state.forEach(z=>{if(z in K.$state){const Z=V.$state[z],le=K.$state[z];typeof Z=="object"&&kl(Z)&&kl(le)?gx(Z,le):V.$state[z]=le}mf(K,z,D1(V.$state,z))}),Object.keys(K.$state).forEach(z=>{z in V.$state||nb(K,z)}),c=!1,u=!1,n.state.value[e]=D1(V._hmrPayload,"hotState"),u=!0,Dn().then(()=>{c=!0});for(const z in V._hmrPayload.actions){const Z=V[z];mf(K,z,M(Z,z))}for(const z in V._hmrPayload.getters){const Z=V._hmrPayload.getters[z],le=o?st(()=>(Tu(n),Z.call(K,K))):Z;mf(K,z,le)}Object.keys(K._hmrPayload.getters).forEach(z=>{z in V._hmrPayload.getters||nb(K,z)}),Object.keys(K._hmrPayload.actions).forEach(z=>{z in V._hmrPayload.actions||nb(K,z)}),K._hmrPayload=V._hmrPayload,K._getters=V._getters,K._hotUpdating=!1}),ll){const V={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(z=>{Object.defineProperty(K,z,Cs({value:K[z]},V))})}return n._p.forEach(V=>{if(ll){const z=r.run(()=>V({store:K,app:n._a,pinia:n,options:a}));Object.keys(z||{}).forEach(Z=>K._customProperties.add(Z)),Cs(K,z)}else Cs(K,r.run(()=>V({store:K,app:n._a,pinia:n,options:a})))}),K.$state&&typeof K.$state=="object"&&typeof K.$state.constructor=="function"&&!K.$state.constructor.toString().includes("[native code]")&&console.warn(`[]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${K.$id}".`),v&&o&&i.hydrate&&i.hydrate(K.$state,v),c=!0,u=!0,K}/*! #__NO_SIDE_EFFECTS__ */function bx(e,t,i){let n,s;const o=typeof t=="function";if(typeof e=="string")n=e,s=o?i:t;else if(s=e,n=e.id,typeof n!="string")throw new Error('[]: "defineStore()" must be passed a store id as its first argument.');function r(a,l){const c=n9();if(a=a||(c?gr(ax,null):null),a&&Tu(a),!Oy)throw new Error(`[]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);a=Oy,a._s.has(n)||(o?Iy(n,t,s,a):lk(n,s,a),r._pinia=a);const u=a._s.get(n);if(l){const h="__hot:"+n,m=o?Iy(h,t,s,a,!0):lk(h,Cs({},s),a,!0);l._hotUpdate(m),delete a.state.value[h],a._s.delete(h)}if(ll){const h=ed();if(h&&h.proxy&&!l){const m=h.proxy,g="_pStores"in m?m._pStores:m._pStores={};g[n]=u}}return u}return r.$id=n,r}function yx(e,t){return Array.isArray(t)?t.reduce((i,n)=>(i[n]=function(){return e(this.$pinia)[n]},i),{}):Object.keys(t).reduce((i,n)=>(i[n]=function(){const s=e(this.$pinia),o=t[n];return typeof o=="function"?o.call(this,s):s[o]},i),{})}function vx(e,t){return Array.isArray(t)?t.reduce((i,n)=>(i[n]=function(...s){return e(this.$pinia)[n](...s)},i),{}):Object.keys(t).reduce((i,n)=>(i[n]=function(...s){return e(this.$pinia)[t[n]](...s)},i),{})}const Rp=bx("notification",()=>{const e=He([]),t=He([]),i=He([]),n=He({}),s=st(()=>[...t.value,...e.value].sort((m,g)=>m.updatedAt>g.updatedAt?1:-1));async function o(m,g={}){g.dismiss===!0&&(g.dismiss=5);const v={message:m,interpolate:g.interpolate||{},type:g.type,icon:g.icon,dismiss:g.dismiss,buttons:g.buttons,localize:g.localize};if(!g.clientOnly){const{noteId:w}=await apos.http.post(apos.notification.action,{body:v});return w}const _={_id:Ut.createId(),updatedAt:new Date,...v};return t.value=[...t.value,_],_._id}async function r(m){await apos.http.patch(`${apos.notification.action}/${m}`,{body:{dismissed:!0}}),e.value=e.value.filter(({_id:g})=>m!==g),t.value=t.value.filter(({_id:g})=>m!==g),n.value[m]&&delete n.value[m]}async function a(){try{if(document.visibilityState==="hidden")setTimeout(a,5e3);else{const m=[...e.value,...i.value],g=m.map(({updatedAt:w})=>w).sort().at(-1),v=m.filter(w=>w.updatedAt===g).map(w=>w._id),_=await apos.http.get(apos.notification.action,{...g&&{qs:{modifiedOnOrSince:g,seenIds:v}}});e.value=[...e.value,..._.notifications||[]],i.value=[...i.value,..._.dismissed||[]],_.dismissed.length&&(e.value=e.value.filter(w=>!_.dismissed.some(A=>w._id===A._id))),setTimeout(a,50)}}catch(m){console.error(m),setTimeout(a,5e3)}}function l(m){n.value[m]={processed:0,percent:0,total:1}}function c(m,g,v=null){if(!n.value[m])return;const _=v||n[m].value.total;n.value={...n.value,[m]:{processed:g,total:_,percent:(g/_*100).toFixed(2)}}}async function u(m,g){try{const v=await apos.http.get(g.value.route,{});if(c(m,v.processed,v.total),v.processed<v.total&&!v.ended){setTimeout(()=>u(m,g),500);return}apos.bus.$emit("content-changed",{docIds:g.value.ids||[],action:g.value.action||"batch-update",docTypes:g.value.docTypes})}catch(v){console.error(v),r(m)}}async function h(m){return await apos.http.post(`${apos.notification.action}/${m}/clear-event`,{body:{}})}return{notifications:s,processes:n,startProcess:l,updateProcess:c,notify:o,poll:a,pollJob:u,dismiss:r,clearEvent:h}}),Ble={__name:"AposNotification",props:{notification:{type:Object,required:!0}},emits:["close"],setup(e,{expose:t,emit:i}){t();const n=e,s=gr("i18n"),o=i,r=Rp(),a=n.notification.job&&n.notification.job._id,l=He(a?{route:`${apos.modules["@apostrophecms/job"].action}/${n.notification.job._id}`,action:n.notification.job.action,ids:n.notification.job.ids,docTypes:n.notification.job.docTypes}:null),c=st(()=>r.processes[n.notification._id]||null),u=st(()=>{const _=["apos-notification"];Array.isArray(n.notification.classes)&&n.notification.classes.length&&_.push(...n.notification.classes),n.notification.type&&n.notification.type!=="none"&&_.push(`apos-notification--${n.notification.type}`),l.value&&_.push("apos-notification--progress");const w=document.createElement("div");return w.innerHTML=g(n.notification.message),(w.textContent||w.innerText||"").length>160&&_.push("apos-notification--long"),_.join(" ")}),h=st(()=>n.notification.icon?n.notification.icon:"circle-icon");ls(async()=>{var _;if(n.notification.dismiss&&setTimeout(()=>{o("close",n.notification._id)},1e3*n.notification.dismiss),(a||n.notification.type==="progress")&&r.startProcess(n.notification._id),a&&r.pollJob(n.notification._id,l),(_=n.notification.event)!=null&&_.name)try{await r.clearEvent(n.notification._id)&&apos.bus.$emit(n.notification.event.name,n.notification.event.data)}catch{console.error(s("apostrophe:notificationClearEventError"))}});function m(){o("close",n.notification._id)}function g(_){return n.notification.localize!==!1?s(_,n.notification.interpolate||{}):_}const v={props:n,$t:s,emit:o,store:r,hasJob:a,job:l,process:c,classList:u,iconComponent:h,close:m,localize:g,ref:He,computed:st,inject:gr,onMounted:ls,Close:t0,get useNotificationStore(){return Rp}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},Fle={class:"apos-notification__indicator"},jle={ref:"label",class:"apos-notification__label"},Ule=["data-apos-bus-event"],Wle={key:0,class:"apos-notification__progress"},qle={class:"apos-notification__progress-bar"},Kle=["aria-valuenow","aria-valuemax"],Gle={class:"apos-notification__progress-value"};function Jle(e,t,i,n,s,o){const r=O("AposIndicator");return p(),y("div",{role:"alert",class:ne(n.classList)},[k("span",Fle,[D(r,{icon:n.iconComponent,class:"apos-notification__indicator__icon","icon-size":i.notification.icon?16:12},null,8,["icon","icon-size"])]),k("span",jle,[Mt(E(n.localize(i.notification.message))+" ",1),(p(!0),y(Ce,null,Ie(i.notification.buttons,(a,l)=>(p(),y("button",{key:l,"data-apos-bus-event":JSON.stringify({name:a.name,data:a.data}),onClick:n.close},E(n.localize(a.label)),9,Ule))),128))],512),n.process?(p(),y("div",Wle,[k("div",qle,[k("div",{class:"apos-notification__progress-now",role:"progressbar","aria-valuenow":n.process.processed||0,style:Wt(`width: ${n.process.percent+"%"}`),"aria-valuemin":"0","aria-valuemax":n.process.total},null,12,Kle)]),k("span",Gle,E(Math.floor(n.process.percent)+"%"),1)])):S("v-if",!0),n.process?S("v-if",!0):(p(),y("button",{key:1,class:"apos-notification__button",onClick:n.close},[D(n.Close,{class:"apos-notification__close-icon",title:"Close Notification",size:14})]))],2)}const Yle=I(Ble,[["render",Jle],["__scopeId","data-v-598bbdf8"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/notification/apos/components/AposNotification.vue"]]);function Hp(){return{themeClass:st(()=>{const t=[];return t.push(`apos-theme--primary-${window.apos.ui.theme.primary}`),t})}}const Zle={name:"TheAposNotifications",setup(){const{themeClass:e}=Hp(),t=Rp();return{themeClass:e,store:t}}};function Xle(e,t,i,n,s,o){const r=O("AposNotification");return p(),R(td,{name:"list",tag:"div",class:ne(["apos-notifications",n.themeClass])},{default:Q(()=>[(p(!0),y(Ce,null,Ie(n.store.notifications,a=>(p(),R(r,{key:a._id,notification:a,onClose:n.store.dismiss},null,8,["notification","onClose"]))),128))]),_:1},8,["class"])}const Qle=I(Zle,[["render",Xle],["__scopeId","data-v-ab481599"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/notification/apos/components/TheAposNotifications.vue"]]),c0={props:{contextError:{type:String,default:""},context:{type:Object,default:function(){return{}}}},data(){return{error:"",doc:{data:{},hasErrors:!1}}},computed:{passwordResetEnabled(){return apos.login.passwordResetEnabled}},watch:{contextError(e){!this.contextErrorReceived&&e&&!this.error&&(this.error=e,this.contextErrorReceived=!0)}},mounted(){this.error=this.contextError,this.contextError&&(this.contextErrorReceived=!0)}},ece={mixins:[c0],emits:["set-stage"],data(){return{busy:!1,done:!1,schema:[{name:"email",label:"apostrophe:email",placeholder:"apostrophe:loginEnterEmail",type:"email",required:!0}]}},computed:{disabled(){return this.doc.hasErrors},help(){return this.done?this.$t("apostrophe:loginResetRequestDone",{email:this.doc.data.email}):this.$t("apostrophe:loginResetPasswordRequest")}},created(){this.passwordResetEnabled||this.$emit("set-stage","login")},methods:{async submit(){this.busy||(this.busy=!0,this.error="",await this.requestReset())},async requestReset(){try{await apos.http.post(`${apos.login.action}/reset-request`,{busy:!0,body:{...this.doc.data}}),this.done=!0}catch(e){this.error=e.message||"apostrophe:loginErrorGeneric"}finally{this.busy=!1}}}},tce={name:"AposForgotPasswordForm",mixins:[ece],emits:["set-stage"]},ice={key:0,class:"apos-login-form"},nce={class:"apos-login-form__body","data-apos-test":"pwdResetRequestForm"};function sce(e,t,i,n,s,o){const r=O("TheAposLoginHeader"),a=O("AposButton"),l=O("AposSchema");return e.passwordResetEnabled?(p(),y("div",ice,[D(r,{env:e.context.env,title:e.$t("apostrophe:loginResetPassword"),subtitle:e.context.name,help:e.help,error:e.$t(e.error)},null,8,["env","title","subtitle","help","error"]),k("div",nce,[e.done?(p(),R(a,{key:0,"data-apos-test":"loginBack",busy:e.busy,type:"primary",label:"apostrophe:loginBack",class:"apos-login-form__submit",modifiers:["block"],onClick:t[0]||(t[0]=c=>e.$emit("set-stage","login"))},null,8,["busy"])):(p(),y("form",{key:1,onSubmit:t[2]||(t[2]=Je((...c)=>e.submit&&e.submit(...c),["prevent"]))},[D(l,{modelValue:e.doc,"onUpdate:modelValue":t[1]||(t[1]=c=>e.doc=c),schema:e.schema},null,8,["modelValue","schema"]),D(a,{"data-apos-test":"pwdResetRequestSubmit",busy:e.busy,disabled:e.disabled,type:"primary",label:"apostrophe:loginResetPassword","button-type":"submit",class:"apos-login-form__submit",modifiers:["gradient-on-hover","block"],onClick:e.submit},null,8,["busy","disabled","onClick"])],32))])])):S("v-if",!0)}const oce=I(tce,[["render",sce],["__scopeId","data-v-d136e990"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/login/apos/components/AposForgotPasswordForm.vue"]]),rce={mixins:[c0],emits:["redirect","set-stage"],data(){return{phase:"beforeSubmit",busy:!1,schema:apos.login.schema,requirements:ace(),requirementProps:{},fetchingRequirementProps:!1}},computed:{disabled(){return this.doc.hasErrors||!!this.beforeSubmitRequirements.find(e=>!e.done)},beforeSubmitRequirements(){return this.requirements.filter(e=>e.phase==="beforeSubmit")},uponSubmitRequirements(){return this.requirements.filter(e=>e.phase==="uponSubmit")},activeSoloRequirement(){return this.phase==="afterPasswordVerified"&&this.requirements.find(e=>e.phase==="afterPasswordVerified"&&!e.done)}},watch:{context(e){this.requirementProps=e.requirementProps},async activeSoloRequirement(e){if(this.phase==="afterPasswordVerified"&&(e==null?void 0:e.phase)==="afterPasswordVerified"&&e.propsRequired&&!(e.success||e.error))try{this.fetchingRequirementProps=!0;const t=await apos.http.post(`${apos.login.action}/requirement-props`,{busy:!0,body:{name:e.name,incompleteToken:this.incompleteToken}});this.requirementProps={...this.requirementProps,[e.name]:t}}catch(t){this.error=t.message||"apostrophe:loginErrorGeneric"}finally{this.fetchingRequirementProps=!1}else return null},uponSubmitRequirements:{deep:!0,async handler(e){if(this.phase!=="uponSubmit"||e.some(s=>s.done===null))return;if(e.every(s=>s.done===!0)||this.uponSubmitRequirements.length===0){await this.postSubmit();return}if(e.some(s=>s.done===!1)){for(const s of this.uponSubmitRequirements)s.done=null,s.value=null;this.phase="beforeSubmit",this.busy=!1,this.error=""}}}},created(){this.requirementProps=this.context.requirementProps},methods:{async submit(){this.busy||(this.busy=!0,this.error="",this.uponSubmitRequirements.length?this.uponSubmit():await this.postSubmit())},uponSubmit(){this.phase="uponSubmit"},async postSubmit(){await this.invokeInitialLoginApi()},async invokeInitialLoginApi(){try{const e=await apos.http.post(`${apos.login.action}/login`,{busy:!0,body:{...this.doc.data,requirements:this.getInitialSubmitRequirementsData(),session:!0}});e&&e.incompleteToken?(this.incompleteToken=e.incompleteToken,this.phase="afterPasswordVerified"):this.redirectAfterLogin()}catch(e){this.error=e.message||"An error occurred. Please try again.",this.phase="beforeSubmit"}finally{this.busy=!1}},getInitialSubmitRequirementsData(){return Object.fromEntries(this.requirements.filter(e=>e.phase!=="afterPasswordVerified"||!e.done).map(e=>[e.name,e.value]))},async invokeFinalLoginApi(){try{await apos.http.post(`${apos.login.action}/login`,{busy:!0,body:{...this.doc.data,incompleteToken:this.incompleteToken,requirements:this.getFinalSubmitRequirementsData(),session:!0}}),this.redirectAfterLogin()}catch(e){this.error=e.message||"An error occurred. Please try again.",this.phase="beforeSubmit"}finally{this.busy=!1}},getFinalSubmitRequirementsData(){return Object.fromEntries(this.requirements.filter(e=>e.phase==="afterPasswordVerified").map(e=>[e.name,e.value]))},redirectAfterLogin(){this.$emit("redirect",`${apos.prefix}/`)},async requirementBlock(e){const t=this.requirements.find(i=>i.name===e.name);t.done=!1,t.value=void 0},async requirementDone(e,t){const i=this.requirements.find(n=>n.name===e.name);if(i.phase==="beforeSubmit"||i.phase==="uponSubmit"){i.done=!0,i.value=t;return}i.error=null;try{await apos.http.post(`${apos.login.action}/requirement-verify`,{busy:!0,body:{name:i.name,value:t,incompleteToken:this.incompleteToken}}),i.success=!0}catch(n){i.error=n}this.requirements=[...this.requirements],i.success&&!i.askForConfirmation&&(i.done=!0,this.activeSoloRequirement||await this.invokeFinalLoginApi())},async requirementConfirmed(e){const t=this.requirements.find(i=>i.name===e.name);t.done=!0,this.activeSoloRequirement||await this.invokeFinalLoginApi()},getRequirementProps(e){return this.requirementProps[e]||{}}}};function ace(){const e=Object.entries(apos.login.requirements).map(([t,i])=>({name:t,component:i.component||t,...i,done:null,value:null,success:null,error:null}));return[...e.filter(t=>t.phase==="beforeSubmit"),...e.filter(t=>t.phase==="uponSubmit"),...e.filter(t=>t.phase==="afterPasswordVerified")]}const lce={name:"AposLoginForm",mixins:[rce],emits:["set-stage"]},cce={key:"1",class:"apos-login-form"},dce={class:"apos-login-form__body"},uce={key:"2",class:"apos-login-form"},hce={class:"apos-login-form__body"};function fce(e,t,i,n,s,o){const r=O("TheAposLoginHeader"),a=O("AposSchema"),l=O("AposButton");return e.phase==="beforeSubmit"||e.phase==="uponSubmit"?(p(),y("div",cce,[D(r,{env:e.context.env,title:e.context.name,error:e.$t(e.error)},null,8,["env","title","error"]),k("div",dce,[k("form",{"data-apos-test":"loginForm",onSubmit:t[2]||(t[2]=Je((...c)=>e.submit&&e.submit(...c),["prevent"]))},[D(a,{modelValue:e.doc,"onUpdate:modelValue":t[0]||(t[0]=c=>e.doc=c),schema:e.schema},null,8,["modelValue","schema"]),e.passwordResetEnabled?(p(),y("a",{key:0,href:"#",class:"apos-login-form__link",onClick:t[1]||(t[1]=Je(c=>e.$emit("set-stage","forgotPassword"),["prevent"]))},E(e.$t("apostrophe:loginResetPassword")),1)):S("v-if",!0),(p(!0),y(Ce,null,Ie(e.beforeSubmitRequirements,c=>(p(),R(tt(c.component),J({ref_for:!0},e.getRequirementProps(c.name),{key:c.name,onDone:u=>e.requirementDone(c,u),onBlock:u=>e.requirementBlock(c)}),null,16,["onDone","onBlock"]))),128)),e.phase==="uponSubmit"?(p(!0),y(Ce,{key:1},Ie(e.uponSubmitRequirements,c=>(p(),R(tt(c.component),J({key:c.name},{ref_for:!0},e.getRequirementProps(c.name),{onDone:u=>e.requirementDone(c,u),onBlock:u=>e.requirementBlock(c)}),null,16,["onDone","onBlock"]))),128)):S("v-if",!0),D(l,{"data-apos-test":"loginSubmit",busy:e.busy,disabled:e.disabled,type:"primary",label:"apostrophe:login","button-type":"submit",class:"apos-login-form__submit",modifiers:["gradient-on-hover","block"],onClick:e.submit},null,8,["busy","disabled","onClick"])],32)])])):e.activeSoloRequirement?(p(),y("div",uce,[D(r,{env:e.context.env,title:e.context.name,error:e.$t(e.error),tiny:!0},null,8,["env","title","error"]),k("div",hce,[e.fetchingRequirementProps?S("v-if",!0):(p(),R(tt(e.activeSoloRequirement.component),J({key:0},e.getRequirementProps(e.activeSoloRequirement.name),{success:e.activeSoloRequirement.success,error:e.activeSoloRequirement.error,onDone:t[3]||(t[3]=c=>e.requirementDone(e.activeSoloRequirement,c)),onConfirm:t[4]||(t[4]=c=>e.requirementConfirmed(e.activeSoloRequirement))}),null,16,["success","error"]))])])):S("v-if",!0)}const pce=I(lce,[["render",fce],["__scopeId","data-v-94c9d3f2"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/login/apos/components/AposLoginForm.vue"]]),mce={name:"AposResetPasswordForm",mixins:[c0],props:{data:{type:Object,default:function(){return{}}}},emits:["set-stage"],data(){return{ready:!1,busy:!1,valid:!0,done:!1,contextErrorReceived:!1,schema:[{name:"password",label:"apostrophe:newPassword",type:"password",required:!0}]}},computed:{disabled(){return this.doc.hasErrors},help(){return this.valid?this.done?this.error?"":this.$t("apostrophe:loginResetDone"):this.$t("apostrophe:loginResetInfo",{email:this.data.email}):""}},async created(){if(!this.passwordResetEnabled){this.$emit("set-stage","login");return}this.busy=!0,await this.verify(),this.ready=!0},methods:{async submit(){this.busy||(this.busy=!0,this.error="",await this.reset())},async verify(){try{await apos.http.get(`${apos.login.action}/reset`,{busy:!0,qs:{...this.data}}),this.valid=!0}catch(e){this.valid=!1,this.done=!0,this.error=e.message||"apostrophe:loginErrorGeneric"}finally{this.busy=!1}},async reset(){try{await apos.http.post(`${apos.login.action}/reset`,{busy:!0,body:{...this.data,...this.doc.data}}),this.done=!0}catch(e){this.error=e.message||"apostrophe:loginErrorGeneric"}finally{this.busy=!1}}}},gce={name:"AposResetPasswordForm",mixins:[mce],emits:["set-stage"]},bce={key:0,class:"apos-login-form"},yce={class:"apos-login-form__body"};function vce(e,t,i,n,s,o){const r=O("TheAposLoginHeader"),a=O("AposButton"),l=O("AposSchema");return e.passwordResetEnabled&&e.ready?(p(),y("div",bce,[D(r,{env:e.context.env,title:e.$t("apostrophe:loginResetPassword"),subtitle:e.context.name,help:e.help,error:e.$t(e.error)},null,8,["env","title","subtitle","help","error"]),k("div",yce,[e.done&&e.valid?(p(),R(a,{key:0,"data-apos-test":"loginBack",busy:e.busy,type:"primary",label:"apostrophe:loginBack",class:"apos-login-form__submit",modifiers:["block"],onClick:t[0]||(t[0]=c=>e.$emit("set-stage","login"))},null,8,["busy"])):!e.done&&e.valid?(p(),y("form",{key:1,"data-apos-test":"pwdResetForm",onSubmit:t[2]||(t[2]=Je((...c)=>e.submit&&e.submit(...c),["prevent"]))},[D(l,{modelValue:e.doc,"onUpdate:modelValue":t[1]||(t[1]=c=>e.doc=c),schema:e.schema},null,8,["modelValue","schema"]),D(a,{"data-apos-test":"pwdResetSubmit",busy:e.busy,disabled:e.disabled,type:"primary",label:"apostrophe:save","button-type":"submit",class:"apos-login-form__submit",modifiers:["gradient-on-hover","block"],onClick:e.submit},null,8,["busy","disabled","onClick"])],32)):S("v-if",!0)])])):S("v-if",!0)}const _ce=I(gce,[["render",vce],["__scopeId","data-v-4da43ad4"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/login/apos/components/AposResetPasswordForm.vue"]]),Ed=["login","forgotPassword","resetPassword"],wce={mixins:[sh],data(){return{stage:Ed[0],mounted:!1,beforeCreateFinished:!1,error:"",passwordResetData:{},context:{}}},computed:{loaded(){return this.mounted&&this.beforeCreateFinished},showNav(){return this.stage!==Ed[0]},homeUrl(){return`${apos.prefix}/`}},async beforeCreate(){const e=parseInt(window.sessionStorage.getItem("aposStateChange")),t=JSON.parse(window.sessionStorage.getItem("aposStateChangeSeen")||"{}");if(!t[window.location.href]){const i=Date.parse(document.lastModified);if(e&&i&&i<e){t[window.location.href]=!0,window.sessionStorage.setItem("aposStateChangeSeen",JSON.stringify(t)),location.reload();return}}try{this.context=await apos.http.post(`${apos.login.action}/context`,{busy:!0})}catch(i){this.context={},this.error=i.message||"apostrophe:loginErrorGeneric"}finally{this.beforeCreateFinished=!0}},created(){const e=new URL(document.location),t={email:e.searchParams.get("email"),reset:e.searchParams.get("reset")};t.email&&t.reset&&(this.passwordResetData=t,this.setStage("resetPassword"))},mounted(){this.mounted=!0},methods:{setStage(e){var i;if(!(((i=this[`${e}Enabled`])==null?void 0:i.call(this))??!0)){this.stage=Ed[0];return}if(Ed.includes(e)){this.stage=e;return}this.stage=Ed[0]},forgotPasswordEnabled(){return apos.login.passwordResetEnabled},resetPasswordEnabled(){return apos.login.passwordResetEnabled},onRedirect(e){window.sessionStorage.setItem("aposStateChange",Date.now()),window.sessionStorage.setItem("aposStateChangeSeen","{}"),location.assign(e)}}},Cce={name:"TheAposLogin",mixins:[wce]},kce={key:0,class:"apos-login__nav"},Ace=["href"],Sce={class:"apos-login__wrapper"},xce={class:"apos-login__footer"},Mce={"data-apos-test":"projectVersion",class:"apos-login__project-version"};function Tce(e,t,i,n,s,o){const r=O("AposForgotPasswordForm"),a=O("AposResetPasswordForm"),l=O("AposLoginForm"),c=O("AposLogo");return p(),R(ns,{name:"fade-stage",persisted:""},{default:Q(()=>[Ge(k("div",{class:ne(["apos-login apos-theme-dark",e.themeClass]),"data-apos-test":"loginPage"},[D(ns,{name:"fade-outer"},{default:Q(()=>[e.showNav?(p(),y("div",kce,[k("a",{href:"#",class:"apos-login__link apos-login--arrow-left",onClick:t[0]||(t[0]=Je(u=>e.setStage("login"),["prevent"]))},E(e.$t("apostrophe:loginBack")),1),k("a",{href:e.homeUrl,class:"apos-login__link apos-login--arrow-right"},E(e.$t("apostrophe:loginHome")),9,Ace)])):S("v-if",!0)]),_:1}),k("div",Sce,[D(ns,{name:"fade-body",mode:"out-in"},{default:Q(()=>[e.loaded&&e.stage==="forgotPassword"?(p(),R(r,{key:0,context:e.context,"context-error":e.error,onRedirect:e.onRedirect,onSetStage:e.setStage},null,8,["context","context-error","onRedirect","onSetStage"])):e.loaded&&e.stage==="resetPassword"?(p(),R(a,{key:1,context:e.context,data:e.passwordResetData,"context-error":e.error,onRedirect:e.onRedirect,onSetStage:e.setStage},null,8,["context","data","context-error","onRedirect","onSetStage"])):e.loaded?(p(),R(l,{key:2,context:e.context,"context-error":e.error,onRedirect:e.onRedirect,onSetStage:e.setStage},null,8,["context","context-error","onRedirect","onSetStage"])):S("v-if",!0)]),_:1})]),D(ns,{name:"fade-outer",persisted:""},{default:Q(()=>[Ge(k("div",xce,[D(c,{class:"apos-login__logo"}),k("label",Mce," Version "+E(e.context.version),1)],512),[[ti,e.loaded]])]),_:1})],2),[[ti,e.loaded]])]),_:1})}const Oce=I(Cce,[["render",Tce],["__scopeId","data-v-cc5d0297"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/login/apos/components/TheAposLogin.vue"]]),Ece={props:{env:{type:String,default:""},title:{type:String,default:""},subtitle:{type:String,default:""},help:{type:String,default:""},error:{type:String,default:""},tiny:{type:Boolean,default:!1}}},Ice={class:"apos-login__project-header"},$ce={key:0,class:"apos-login__project apos-login__project-subtitle"},Lce={class:"apos-login__project apos-login__project-name"},Pce={key:0,class:"apos-login--help"},Dce={class:"apos-login--error"};function Rce(e,t,i,n,s,o){return p(),y("div",{class:ne(["apos-login__header",{"apos-login__header--tiny":i.tiny,"apos-login__header--center":!!i.subtitle}])},[k("div",Ice,[k("label",{class:ne(["apos-login__project apos-login__project-env",[`apos-login__project-env--${i.env}`]]),"data-apos-test":"environment"},E(i.env),3),i.subtitle?(p(),y("label",$ce,E(i.subtitle),1)):S("v-if",!0)]),k("label",Lce,E(i.title),1),i.help?(p(),y("label",Pce,E(i.help),1)):S("v-if",!0),k("label",Dce,E(i.error),1)],2)}const Hce=I(Ece,[["render",Rce],["__scopeId","data-v-12dd9335"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/login/apos/components/TheAposLoginHeader.vue"]]),Vce={props:{selectedState:{type:String,required:!0},applyTags:{type:Array,default:()=>[]},filterChoices:{type:Object,default:()=>({})},filterValues:{type:Object,default:()=>({})},filters:{type:Array,default:()=>[]},totalPages:{type:Number,default:1},currentPage:{type:Number,default:1},isRelationship:{type:Boolean,default:!1},labels:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},batchOperations:{type:Array,default:()=>[]},displayedItems:{type:Number,required:!0},checked:{type:Array,default:()=>[]},checkedTypes:{type:Array,default:null},checkedCount:{type:Number,required:!0},moduleName:{type:String,required:!0}},emits:["select-click","filter","search","page-change","batch"],data(){return{searchField:{field:{name:"search",placeholder:{key:"apostrophe:searchDocType",type:this.$t(this.labels.plural)},icon:"magnify-icon",enterSubmittable:!0},status:{},value:{data:""}},activeOperations:[]}},computed:{checkboxIcon(){return this.selectedState==="checked"?"checkbox-marked-icon":this.selectedState==="indeterminate"?"minus-box-icon":"checkbox-blank-icon"},canSelectAll(){return this.displayedItems},canArchive(){return this.checkedCount},hasSearch(){return!this.options.noSearch}},mounted(){this.computeActiveOperations(),apos.bus.$on("command-menu-manager-select-all",this.selectAll),apos.bus.$on("command-menu-manager-archive-selected",this.archiveSelected),apos.bus.$on("command-menu-manager-focus-search",this.focusSearch)},unmounted(){apos.bus.$off("command-menu-manager-select-all",this.selectAll),apos.bus.$off("command-menu-manager-archive-selected",this.archiveSelected),apos.bus.$off("command-menu-manager-focus-search",this.focusSearch)},methods:{selectAll(){this.canSelectAll&&this.$emit("select-click")},archiveSelected(){const[e]=this.activeOperations.filter(t=>t.action==="archive");e&&this.canArchive&&this.confirmOperation(e)},focusSearch(){this.hasSearch&&this.$refs.search.$el.querySelector("input").focus()},computeActiveOperations(){if(this.isRelationship){this.activeOperations=[];return}this.activeOperations=this.batchOperations.map(({operations:e,...t})=>e?{operations:e.filter(i=>this.isOperationActive(i)),...t}:{...t,operations:e}).filter(e=>e.operations&&!e.operations.length?!1:this.isOperationActive(e))},isOperationActive(e){return Object.entries(e.if||{}).every(([t,i])=>Array.isArray(i)?i.includes(this.filterValues[t]):this.filterValues[t]===i)},filter(e,t){this.$emit("filter",e,t.data),this.filterValues[e]!==t&&this.computeActiveOperations()},search(e){this.$emit("search",e.data)},registerPageChange(e){this.$emit("page-change",e)},executeOperation(e){return e.modal?this.modalOperation(e):this.confirmOperation(e)},async beginGroupedOperation(e,t){const i=t.find(n=>n.action===e.action);i.modal?await this.modalOperation(i):await this.confirmOperation(i)},async modalOperation({modal:e,...t}){await apos.modal.execute(e,{checked:this.checked,checkedTypes:this.checkedTypes,moduleName:this.moduleName,...t})},async confirmOperation({modalOptions:e={},action:t,operations:i,label:n,...s}){const{title:o=n,description:r="",confirmationButton:a="apostrophe:affirmativeLabel",form:l}=t&&i?i.find(h=>h.action===t).modalOptions:e,c={count:this.checkedCount,type:this.checkedCount===1?this.$t(this.labels.singular):this.$t(this.labels.plural)};await apos.confirm({heading:this.$t(o,c),description:this.$t(r,c),affirmativeLabel:a,localize:!1,...l&&l})&&this.$emit("batch",{label:n,action:t,...s})}}};function zce(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposContextMenu"),l=O("AposPager"),c=O("AposFilterMenu"),u=O("AposInputString"),h=O("AposModalToolbar");return p(),R(h,{"class-name":"apos-manager-toolbar"},{leftControls:Q(()=>[o.canSelectAll?(p(),R(r,{key:0,ref:"selectAll",label:"apostrophe:select",type:"outline",modifiers:["small"],"text-color":"var(--a-base-1)","icon-only":!0,icon:o.checkboxIcon,"data-apos-test":"selectAll",onClick:o.selectAll},null,8,["icon","onClick"])):S("v-if",!0),(p(!0),y(Ce,null,Ie(s.activeOperations,({action:m,label:g,icon:v,operations:_,...w})=>(p(),y("div",{key:m},[_?(p(),R(a,{key:1,button:{label:g,icon:v,iconOnly:!0,type:"outline"},disabled:!i.checkedCount,menu:_,onItemClicked:A=>o.beginGroupedOperation(A,_)},null,8,["button","disabled","menu","onItemClicked"])):(p(),R(r,{key:0,label:g,action:m,icon:v,disabled:!i.checkedCount,modifiers:["small"],type:"outline",onClick:A=>o.executeOperation({action:m,label:g,...w})},null,8,["label","action","icon","disabled","onClick"]))]))),128))]),rightControls:Q(()=>[!i.options.noPager&&i.totalPages!==0?(p(),R(l,{key:0,"total-pages":i.totalPages,"current-page":i.currentPage,onClick:o.registerPageChange,onChange:o.registerPageChange},null,8,["total-pages","current-page","onClick","onChange"])):S("v-if",!0),i.filters.length?(p(),R(c,{key:1,filters:i.filters,choices:i.filterChoices,values:i.filterValues,onInput:o.filter},null,8,["filters","choices","values","onInput"])):S("v-if",!0),o.hasSearch?(p(),R(u,{key:2,ref:"search",field:s.searchField.field,status:s.searchField.status,"model-value":s.searchField.value,modifiers:["small"],"no-blur-emit":!0,"onUpdate:modelValue":o.search,onReturn:t[0]||(t[0]=m=>o.search(m))},null,8,["field","status","model-value","onUpdate:modelValue"])):S("v-if",!0)]),_:1})}const Nce=I(Vce,[["render",zce],["__scopeId","data-v-803ba06e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposDocsManagerToolbar.vue"]]),Cr=bx("modal",()=>{const e=He([]),t=He(null),i=st(()=>e.value.find(w=>t.value===w.id));function n(w){e.value.push(w)}function s(w){const A=r(w);if(!A)return;A.resolve(A.result),apos.bus.$emit("modal-resolved",A),e.value=e.value.filter(N=>w!==N.id);const L=a(-1);t.value=L.id||null}function o(){var w;return((w=i.value)==null?void 0:w.locale)||apos.i18n.locale}function r(w){return w?e.value.find(A=>w===A.id):e.value}function a(w){const A=e.value.length-1,L=w<0?A+1+w:w>e.value.length?A:w;return e.value[L]||{}}function l(w){const A=e.value.find(N=>w===N.id);return!A||!apos.modal.modals?{}:{...apos.modal.modals.find(N=>N.componentName===A.componentName&&N.props.moduleName===A.props.moduleName)}}async function c(w,A){return new Promise(L=>{var M;const N={id:`modal:${Ut.createId()}`,componentName:w,resolve:L,props:A||{},elementsToFocus:[],focusedElement:null,locale:((M=i.value)==null?void 0:M.locale)||apos.i18n.locale,hasContextLocale:i.value?i.value.hasContextLocale||i.value.locale!==apos.i18n.locale:!1};t.value=N.id,e.value.push(N),apos.bus.$emit("modal-launched",N)})}function u(w,A){e.value=e.value.map(L=>L.id===w?{...L,...A}:L)}function h(w,A){e.value=e.value.map(L=>L.id===w?{...L,result:A}:L)}async function m(w,A={}){return c(apos.modal.components.confirm,{content:w,mode:"confirm",options:A})}async function g(w,A={}){return c(apos.modal.components.confirm,{content:w,mode:"alert",options:A})}async function v(w,A={}){const{items:L,headers:N,...M}=w;return c(apos.modal.components.report,{items:L,headers:N,content:M,options:A})}function _(w,A){if(A.matches("[data-apos-menu]"))return!1;if(!w.isConnected)return!0;if(w.matches("[data-apos-modal]")||(w=w.closest("[data-apos-modal]")||document),A.matches("[data-apos-modal]")||(A=A.closest("[data-apos-modal]")||document),w===document)return!1;if(A===document)return!0;const L=e.value.findIndex(M=>M.modalEl===w),N=e.value.findIndex(M=>M.modalEl===A);if(L===-1)throw new Error("apos.modal.onTopOf: el1 is not in the modal stack");if(N===-1)throw new Error("apos.modal.onTopOf: el2 is not in the modal stack");return L>N}return{stack:e,activeId:t,activeModal:i,getActiveLocale:o,add:n,remove:s,get:r,getAt:a,getProperties:l,execute:c,updateModalData:u,setModalResult:h,confirm:m,alert:g,report:v,onTopOf:_}});function $y(){var h,m;const e=He([]),t=He(null),i=Cr();return{elementsToFocus:e,focusedElement:t,activeModal:i.activeModal,activeModalElementsToFocus:(h=i.activeModal)==null?void 0:h.elementsToFocus,activeModalFocusedElement:(m=i.activeModal)==null?void 0:m.focusedElement,cycleElementsToFocus:n,focusLastModalFocusedElement:r,storeFocusedElement:a,focusElement:l,isElementVisible:c,findPriorityElementOrFirst:u};function n(g,v,_){const w=v||e.value;if(!w.length||!(g.key==="Tab"||g.code==="Tab"))return;let L=w.at(0),N=w.at(-1);const M=s(L,w),P=s(N,w);L=o(L,M),N=o(N,P);const F=_||((K,se)=>{se.focus(),K.preventDefault()});if(g.shiftKey){(document.activeElement===L||M.includes(document.activeElement))&&F(g,N);return}(document.activeElement===N||P.includes(document.activeElement))&&F(g,L)}function s(g,v){return g.getAttribute("type")==="radio"?v.filter(_=>_.getAttribute("type")==="radio"&&_.getAttribute("name")===g.getAttribute("name")):[]}function o(g,v=[]){const _=v.find(w=>w.hasAttribute("checked"));return _||g}function r(){const g=i.activeModal;if(!g)return;const{focusedElement:v,elementsToFocus:_}=g;l(v,u(_))}function a(g){t.value=g.target}function l(...g){for(const v of g){const _=document.activeElement===v;if(!(!v||!c(v))){_||v.focus();return}}}function c(g){return g.offsetParent!==null}function u(g){return g.find(v=>v.hasAttribute("data-apos-focus-priority"))||g[0]}}const Bce={__name:"AposModal",props:{modal:{type:Object,required:!0},modalTitle:{type:[String,Object],default:""},modalData:{type:Object,required:!0}},emits:["inactive","esc","show-modal","no-modal","ready"],setup(e,{expose:t,emit:i}){var ee;t();const{cycleElementsToFocus:n,focusElement:s,focusLastModalFocusedElement:o,storeFocusedElement:r,findPriorityElementOrFirst:a}=$y(),l=e,c=Cr(),u=kp(),h=i,m=He(null),g=He(3),v=He(0),_=He(!0),w=He(((ee=c.activeModal)==null?void 0:ee.locale)||apos.i18n.locale),A=st(()=>l.modal.type!=="slide"?"fade":l.modal.origin==="left"?"slide-right":"slide-left"),L=st(()=>l.modal.trapFocus||l.modal.trapFocus===void 0),N=st(()=>l.modal.triggerFocusRefresh),M=st(()=>Object.keys(apos.i18n.locales).length>1);function P(G){return!!u[G]}const F=st(()=>{const G=["apos-modal"];return G.push(`apos-modal--${l.modal.type}`),l.modal.type==="slide"&&(l.modal.origin?G.push(`apos-modal--origin-${l.modal.origin}`):G.push("apos-modal--origin-right"),G.push("apos-modal--full-height")),l.modal.busy&&G.push("apos-modal--busy"),G.join(" ")}),K=st(()=>{const G=[];return l.modal.width&&G.push(`apos-modal__inner--${l.modal.width}`),G}),se=st(()=>{const G=P("leftRail"),U=P("rightRail");return G&&U?"apos-modal__main--with-rails":G&&!U?"apos-modal__main--with-left-rail":!G&&U?"apos-modal__main--with-right-rail":!1});ss(N,G=>{L.value&&Dn(ie)}),ls(async()=>{await Dn(),L.value?await ie():_.value=!1,c.updateModalData(l.modalData.id,{modalEl:m.value}),window.addEventListener("keydown",j)}),ku(()=>{window.removeEventListener("keydown",j)});function j(G){G.keyCode===27&&re()}function V(G){n(G,l.modalData.elementsToFocus)}async function z(){h("show-modal"),await Dn(),h("ready")}function Z(){c.remove(l.modalData.id),o(),h("no-modal")}function le(G){r(G),c.updateModalData(l.modalData.id,{focusedElement:G.target})}async function ie(){if(m!=null&&m.value){const de=["[tabindex]","[href]","input","select","textarea","button","[data-apos-focus-priority]"].map(G).join(", "),Se=[...m.value.querySelectorAll(de)];c.updateModalData(l.modalData.id,{elementsToFocus:Se});const Te=a(Se);if(!(Te==null?void 0:Te.hasAttribute("data-apos-focus-priority"))&&g.value>v.value){await new Promise(Ue=>setTimeout(Ue,50)),v.value++,await ie();return}_.value=!1,await Dn(),s(l.modalData.focusedElement,Te)}function G(U){return`${U}:not([tabindex="-1"]):not([disabled]):not([type="hidden"]):not([aria-hidden]):not(.apos-sr-only)`}}function re(){var U;((U=c.activeModal)==null?void 0:U.id)===l.modalData.id&&h("esc")}const te={cycleElementsToFocus:n,focusElement:s,focusLastModalFocusedElement:o,storeFocusedElement:r,findPriorityElementOrFirst:a,props:l,store:c,slots:u,emit:h,modalEl:m,findPriorityFocusElementRetryMax:g,currentPriorityFocusElementRetry:v,renderingElements:_,currentLocale:w,transitionType:A,shouldTrapFocus:L,triggerFocusRefresh:N,hasBeenLocalized:M,hasSlot:P,classes:F,innerClasses:K,gridModifier:se,onKeydown:j,onTab:V,onEnter:z,onLeave:Z,captureFocus:le,trapFocus:ie,close:re,ref:He,onMounted:ls,onUnmounted:ku,computed:st,watch:ss,nextTick:Dn,useSlots:kp,get useAposFocus(){return $y},get useModalStore(){return Cr}};return Object.defineProperty(te,"__isScriptSetup",{enumerable:!1,value:!0}),te}},Fce=["aria-labelledby"],jce={key:0,class:"apos-modal__busy"},Uce={class:"apos-modal__busy-text"},Wce={class:"apos-modal__content","data-apos-test":"modal-content"},qce={key:0,class:"apos-modal__header"},Kce={class:"apos-modal__header__main"},Gce={key:0,class:"apos-modal__controls--secondary"},Jce=["id"],Yce={key:0,class:"apos-sr-only"},Zce={key:1,class:"apos-modal__controls--header"},Xce={key:0,class:"apos-modal__locale"},Qce={key:2,class:"apos-modal__controls--primary"},ede={key:0,class:"apos-modal__breadcrumbs"},tde={key:1,class:"apos-modal__footer"},ide={class:"apos-modal__footer__inner"};function nde(e,t,i,n,s,o){const r=O("AposSpinner"),a=O("AposLocale");return p(),R(ns,{name:n.transitionType,duration:250,onEnter:n.onEnter,onLeave:n.onLeave,persisted:""},{default:Q(()=>[Ge(k("section",{ref:"modalEl",class:ne(n.classes),role:"dialog","aria-modal":"true","aria-labelledby":n.props.modalData.id,"data-apos-modal":"",onFocusCapture:n.captureFocus,onEsc:n.close,onKeydown:Qe(n.onTab,["tab"])},[D(ns,{name:n.transitionType},{default:Q(()=>[i.modal.showModal?(p(),y("div",{key:0,class:"apos-modal__overlay",onClick:t[0]||(t[0]=l=>n.emit("esc"))})):S("v-if",!0)]),_:1},8,["name"]),D(ns,{name:n.transitionType,onAfterLeave:t[1]||(t[1]=l=>e.$emit("inactive"))},{default:Q(()=>[i.modal.showModal?(p(),y("div",{key:0,class:ne([n.innerClasses,"apos-modal__inner"]),"data-apos-modal-inner":""},[i.modal.busy?(p(),y("div",jce,[k("p",Uce,E(i.modal.busyTitle),1),D(r,{weight:"heavy",class:"apos-busy__spinner"})])):S("v-if",!0),Ge(k("div",Wce,[i.modal.disableHeader?S("v-if",!0):(p(),y("header",qce,[k("div",Kce,[n.hasSlot("secondaryControls")?(p(),y("div",Gce,[yt(e.$slots,"secondaryControls",{},void 0,!0)])):S("v-if",!0),k("h2",{id:n.props.modalData.id,class:"apos-modal__heading"},[i.modal.a11yTitle?(p(),y("span",Yce,E(e.$t(i.modal.a11yTitle)),1)):S("v-if",!0),Mt(" "+E(e.$t(i.modalTitle)),1)],8,Jce),n.hasBeenLocalized||n.hasSlot("primaryControls")||n.hasSlot("localeDisplay")?(p(),y("div",Zce,[n.hasSlot("localeDisplay")?(p(),y("div",Xce,[yt(e.$slots,"localeDisplay",{},void 0,!0)])):n.hasBeenLocalized?(p(),R(a,{key:1,class:"apos-modal__locale",locale:n.currentLocale},null,8,["locale"])):S("v-if",!0),n.hasSlot("primaryControls")?(p(),y("div",Qce,[yt(e.$slots,"primaryControls",{},void 0,!0)])):S("v-if",!0)])):S("v-if",!0)]),n.hasSlot("breadcrumbs")?(p(),y("div",ede,[yt(e.$slots,"breadcrumbs",{class:"apos-modal__breadcrumbs"},void 0,!0)])):S("v-if",!0)])),k("div",{class:ne(["apos-modal__main",n.gridModifier])},[yt(e.$slots,"leftRail",{},void 0,!0),yt(e.$slots,"main",{},void 0,!0),yt(e.$slots,"rightRail",{},void 0,!0)],2),n.hasSlot("footer")?(p(),y("footer",tde,[k("div",ide,[yt(e.$slots,"footer",{},void 0,!0)])])):S("v-if",!0)],512),[[ti,!n.renderingElements&&!i.modal.busy]])],2)):S("v-if",!0)]),_:3},8,["name"])],42,Fce),[[ti,i.modal.active]])]),_:3},8,["name"])}const sde=I(Bce,[["render",nde],["__scopeId","data-v-ab12369e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModal.vue"]]),ode={name:"AposModalBody",data(){return{headerHeight:0}},async mounted(){this.$refs.bodyHeader&&(await this.$nextTick(),this.headerHeight=this.$refs.bodyHeader.offsetHeight)},methods:{hasSlot(e){return!!this.$slots[e]},getBodyMainRef(){return this.$refs.bodyMain}}},rde={class:"apos-modal__body-inner"},ade={key:0,ref:"bodyHeader",class:"apos-modal__body-header"},lde={ref:"bodyMain",class:"apos-modal__body-main"},cde={key:0,class:"apos-modal__body-footer"};function dde(e,t,i,n,s,o){return p(),y("div",{class:ne(["apos-modal__body",{"apos-modal__body--flex":o.hasSlot("footer")}])},[k("div",rde,[o.hasSlot("bodyHeader")?(p(),y("div",ade,[yt(e.$slots,"bodyHeader",{},void 0,!0)],512)):S("v-if",!0),k("div",lde,[yt(e.$slots,"bodyMain",{},void 0,!0)],512)]),o.hasSlot("footer")?(p(),y("div",cde,[yt(e.$slots,"footer",{},void 0,!0)])):S("v-if",!0)],2)}const ude=I(ode,[["render",dde],["__scopeId","data-v-81923e9a"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalBody.vue"]]),hde={name:"AposModalBreadcrumbs",components:{ChevronRightIcon:L4},props:{label:{default:"apostrophe:modalBreadcrumbsDefaultLabel",type:String},modifier:{default:"",type:String},items:{default(){return[]},type:Array},variant:{type:String,default:null}},emits:["return-to"],computed:{last(){return Object.keys(this.items).length-1},classObj:function(){return{"apos-breadcrumb--dark":this.variant==="dark"}}}},fde={class:"apos-breadcrumb__items"};function pde(e,t,i,n,s,o){const r=O("ChevronRightIcon");return p(),y("nav",{class:ne(["apos-breadcrumb",o.classObj]),"aria-label":"breadcrumb"},[k("ol",fde,[(p(!0),y(Ce,null,Ie(i.items,(a,l)=>(p(),y("li",{key:l,class:ne(`apos-breadcrumb__item ${i.modifier}`)},[(p(),R(tt(a.target?"button":"span"),{"data-apos-target":a.target,type:a.target?"button":null,"aria-label":a.target?{key:"apostrophe:returnToPage",label:e.$t(a.label)}:null,onClick:c=>a.target?e.$emit("return-to",a.target):null},{default:Q(()=>[Mt(E(a.label),1)]),_:2},1032,["data-apos-target","type","aria-label","onClick"])),l!==o.last?(p(),R(r,{key:0,class:"apos-breadcrumb__chevron",size:13})):S("v-if",!0)],2))),128))])],2)}const mde=I(hde,[["render",pde],["__scopeId","data-v-8284cb2e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalBreadcrumbs.vue"]]),gde={props:{mode:{type:String,default:"confirm"},content:{type:Object,required:!0},callbackName:{type:String,default:""},options:{type:Object,default(){return{}}}},emits:["confirm-response","modal-result"],data(){return{modal:{title:"",active:!1,type:"overlay",showModal:!1,disableHeader:!0},formValues:null}},computed:{affirmativeLabel(){return this.mode==="confirm"?this.localize(this.content.affirmativeLabel)||this.$t("Confirm"):this.localize(this.content.affirmativeLabel)||this.$t("OK")},isDisabled(){if(!this.formValues)return!1;let e=!1;return this.content.form.schema&&this.content.form.schema.forEach(t=>{t.required&&!this.formValues.data[t.name]&&(e=!0)}),e}},async mounted(){this.modal.active=!0,this.content.form&&(this.formValues=this.content.form.value)},methods:{close(){this.modal.showModal=!1,this.$emit("modal-result",null)},ready(){this.$refs.confirm.$el.querySelector("button").focus()},confirm(){this.modal.showModal=!1;const e=this.content.form?this.formValues:!0;this.$emit("modal-result",e)},async cancel(){this.modal.showModal=!1,this.$emit("modal-result",!1)},localize(e){return this.options.localize===!1?e:this.$t(e,this.options.interpolate||{})}}},bde=["src"],yde={key:3,class:"apos-confirm__heading"},vde={key:4,class:"apos-confirm__description"},_de={key:6,class:"apos-confirm__schema"},wde={class:"apos-confirm__btns"},Cde={key:7,class:"apos-confirm__note"};function kde(e,t,i,n,s,o){const r=O("AposIndicator"),a=O("AposLogoIcon"),l=O("AposSchema"),c=O("AposButton"),u=O("AposModalBody"),h=O("AposModal");return p(),R(h,J({modal:s.modal,class:["apos-confirm",{"apos-confirm--tiny":i.options.tiny}]},Xc(i.mode!=="alert"?{esc:o.close}:null),{onInactive:t[1]||(t[1]=m=>s.modal.active=!1),onShowModal:t[2]||(t[2]=m=>s.modal.showModal=!0),onReady:o.ready}),{main:Q(()=>[D(u,null,{bodyMain:Q(()=>[i.options.hasCloseButton?(p(),R(r,{key:0,icon:"close-icon",class:"apos-confirm__close-btn","icon-size":20,onClick:o.close},null,8,["onClick"])):S("v-if",!0),i.content.icon?(p(),y("img",{key:1,class:"apos-confirm__custom-logo",src:i.content.icon,alt:""},null,8,bde)):i.content.icon!==!1?(p(),R(a,{key:2,class:"apos-confirm__logo"})):S("v-if",!0),i.content.heading?(p(),y("h2",yde,E(o.localize(i.content.heading)),1)):S("v-if",!0),i.content.description?(p(),y("p",vde,E(o.localize(i.content.description)),1)):S("v-if",!0),i.content.body?(p(),R(tt(i.content.body.component),C7(J({key:5},i.content.body.props)),null,16)):S("v-if",!0),i.content.form?(p(),y("div",_de,[s.formValues?(p(),R(l,{key:0,modelValue:s.formValues,"onUpdate:modelValue":t[0]||(t[0]=m=>s.formValues=m),schema:i.content.form.schema,"trigger-validation":!0},null,8,["modelValue","schema"])):S("v-if",!0)])):S("v-if",!0),k("div",wde,[i.mode!=="alert"?(p(),R(c,{key:0,attrs:{"data-apos-focus-priority":i.mode!=="alert"?!0:null},class:"apos-confirm__btn",label:i.content.negativeLabel||"apostrophe:cancel",onClick:o.cancel},null,8,["attrs","label","onClick"])):S("v-if",!0),D(c,{ref:"confirm",attrs:{"data-apos-focus-priority":i.mode==="alert"?!0:null},class:"apos-confirm__btn",label:o.affirmativeLabel,type:i.content.theme||"primary",disabled:o.isDisabled,onClick:o.confirm},null,8,["attrs","label","type","disabled","onClick"])]),i.content.note?(p(),y("p",Cde,E(o.localize(i.content.note)),1)):S("v-if",!0)]),_:1})]),_:1},16,["modal","class","onReady"])}const Ade=I(gde,[["render",kde],["__scopeId","data-v-2b7563d5"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalConfirm.vue"]]),Sde={name:"AposModalLip",props:{shadow:{type:String,default:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0   0 0 0 0.0812386775 0"},refresh:{type:String,default:"hello"}},watch:{refresh(e){this.padParent()}},mounted(){this.padParent()},methods:{padParent(){this.$parent.$el.style.marginBottom=`${this.$refs.lip.offsetHeight+10}px`}}},xde={ref:"lip",class:"apos-modal-lip"},Mde={class:"apos-modal-lip__shadow"},Tde={width:"406px",height:"56px",viewBox:"0 0 406 56",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ode={id:"shadow-filter-4",x:"-6.2%",y:"-28.9%",width:"112.5%",height:"165.1%",filterUnits:"objectBoundingBox"},Ede=["values"],Ide={class:"apos-modal-lip__content"};function $de(e,t,i,n,s,o){return p(),y(Ce,null,[S(" Disabling since the SVG is mostly not active vue template code. "),k("div",xde,[k("div",Mde,[(p(),y("svg",Tde,[t[6]||(t[6]=k("title",null,"Shadow",-1)),k("defs",null,[t[4]||(t[4]=k("rect",{id:"shadow-path-1",x:"0",y:"0",width:"406",height:"56"},null,-1)),t[5]||(t[5]=k("rect",{id:"shadow-path-3",x:"-13",y:"20",width:"432",height:"83"},null,-1)),k("filter",Ode,[t[0]||(t[0]=k("feMorphology",{radius:"3",operator:"dilate",in:"SourceAlpha",result:"shadowSpreadOuter1"},null,-1)),t[1]||(t[1]=k("feOffset",{dx:"0",dy:"0",in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"},null,-1)),t[2]||(t[2]=k("feGaussianBlur",{stdDeviation:"6.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"},null,-1)),t[3]||(t[3]=k("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"},null,-1)),k("feColorMatrix",{values:i.shadow,type:"matrix",in:"shadowBlurOuter1"},null,8,Ede)])]),t[7]||(t[7]=Ll('<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-6aba3d73><g transform="translate(0.000000, -1.000000)" data-v-6aba3d73><mask id="shadow-mask-2" fill="white" data-v-6aba3d73><use xlink:href="#shadow-path-1" data-v-6aba3d73></use></mask><g id="Mask" data-v-6aba3d73></g><g fill-rule="nonzero" mask="url(#mask-2)" data-v-6aba3d73><use fill="black" fill-opacity="1" filter="url(#shadow-filter-4)" xlink:href="#shadow-path-3" data-v-6aba3d73></use><rect stroke-width="1" stroke-linejoin="square" fill="transparent" fill-rule="evenodd" x="-12.5" y="20.5" width="431" height="82" data-v-6aba3d73></rect></g></g></g>',1))]))]),S(" eslint-enable vue/max-attributes-per-line "),k("div",Ide,[yt(e.$slots,"default",{},()=>[S(" TODO: some default here ")],!0)])],512)],2112)}const Lde=I(Sde,[["render",$de],["__scopeId","data-v-6aba3d73"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalLip.vue"]]),Pde={name:"AposModalRail",props:{type:{type:String,default:"left"}},computed:{}};function Dde(e,t,i,n,s,o){return p(),y("div",{class:ne(["apos-modal__rail",`apos-modal__rail--${i.type}`])},[yt(e.$slots,"default",{},void 0,!0)],2)}const Rde=I(Pde,[["render",Dde],["__scopeId","data-v-6d031130"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalRail.vue"]]),Hde={name:"AposModalReport",props:{headers:{required:!0,type:Array},items:{required:!0,type:Array},content:{type:Object,required:!0},options:{type:Object,default(){return{}}}},emits:["confirm-response","modal-result"],data(){return{modal:{type:"overlay",disableHeader:!0,active:!1,showModal:!1},tableWidth:"750px",currentSort:{column:null,direction:"asc"},sortedItems:[]}},computed:{tableMode(){return this.options.mode??"error"},finalHeaders(){return this.headers.map(e=>({...e,action:e.sortable?"sort":!1,icon:this.currentSort.column===e.name?this.currentSort.direction==="asc"?"arrow-up-icon":"arrow-down-icon":e.icon}))},finalItems(){return this.tableMode==="all"?this.sortedItems:this.sortedItems.filter(e=>e.type===this.tableMode)},finalItemsCount(){return this.finalItems.length},exportHeaders(){return this.headers.filter(e=>["always","export"].includes(e.visibility??"always"))},contentHeadingText(){return this.localize(this.content.heading,{count:this.finalItemsCount,total:this.items.length})},contentDescriptionText(){return this.localize(this.content.description,{count:this.finalItemsCount,total:this.items.length})},contentFooterMessageInfo(){return this.localize(this.content.footerMessageInfo,{count:this.finalItemsCount,total:this.items.length})},contentFooterMessageDanger(){return this.localize(this.content.footerMessageDanger,{count:this.finalItemsCount,total:this.items.length})}},async mounted(){this.modal.active=!0,this.sortedItems=[...this.items]},methods:{sortBy({header:e}){if(e.action!=="sort")return;this.currentSort.column===e.name?this.currentSort.direction=this.currentSort.direction==="asc"?"desc":"asc":(this.currentSort.column=e.name,this.currentSort.direction="asc");const t=[...this.sortedItems];t.sort((i,n)=>{const s=this.$refs.table.getValue(i,e,!1),o=this.$refs.table.getValue(n,e,!1);return s===o?0:this.currentSort.direction==="asc"?s>o?1:-1:s<o?1:-1}),this.sortedItems=t},localize(e,t={}){return e?this.options.localize===!1?e:this.$t(e,{...this.options.interpolate||{},...t}):""},closeModal(){this.modal.showModal=!1,this.$emit("modal-result",!0)},exportJson(){const e=new Blob([this.toJson()],{type:"application/json;charset=utf-8;"}),t=URL.createObjectURL(e);this.download(t,"report.json")},exportCsv(){const e=new Blob([this.toCSV()],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(e);this.download(t,"report.csv")},download(e,t){const i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",t),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(e)},toCSV(){if(this.finalItems.length===0)return"";const e=this.exportHeaders.map(i=>JSON.stringify(this.$t(i.label))),t=this.finalItems.map(i=>this.exportHeaders.map(n=>JSON.stringify(this.$refs.table.getValue(i,n,!1))).join(","));return[e.join(","),...t].join(`
`)},toJson(){if(this.finalItems.length===0)return"[]";const e=[];for(const t of this.finalItems){const i={};for(const n of this.exportHeaders)i[this.$t(n.label)]=this.$refs.table.getValue(t,n,!1);e.push(i)}return JSON.stringify(e,null,2)}}},Vde={class:"apos-report__body"},zde={key:0,class:"apos-report__heading"},Nde={key:1,class:"apos-report__description"},Bde={key:0,class:"apos-primary-scrollbar apos-report__table apos-report__table--bordered"},Fde={class:"apos-report__export"},jde={class:"apos-report__footer"},Ude={key:0,class:"apos-report--footer-info","data-apos-test":"footerError"},Wde={key:1,class:"apos-report--footer-danger","data-apos-test":"footerError"};function qde(e,t,i,n,s,o){const r=O("AposTable"),a=O("AposButton"),l=O("AposModalBody"),c=O("AposModal");return p(),R(c,{class:"apos-report",modal:s.modal,"data-apos-test":"reportModal",onInactive:t[0]||(t[0]=u=>s.modal.active=!1),onShowModal:t[1]||(t[1]=u=>s.modal.showModal=!0)},{main:Q(()=>[D(l,{"data-apos-test":"reportContent"},{bodyMain:Q(()=>[k("div",Vde,[k("div",null,[o.contentHeadingText?(p(),y("h2",zde,E(o.contentHeadingText),1)):S("v-if",!0),o.contentDescriptionText?(p(),y("p",Nde,E(o.contentDescriptionText),1)):S("v-if",!0)]),o.finalItems.length?(p(),y("div",Bde,[D(r,{ref:"table",items:o.finalItems,headers:o.finalHeaders,options:i.options,width:s.tableWidth,onColClick:o.sortBy},null,8,["items","headers","options","width","onColClick"])])):S("v-if",!0),k("div",Fde,[k("span",null,E(e.$t("apostrophe:downloadAs")),1),D(a,{type:"quiet",label:"JSON","data-apos-test":"exportJson",onClick:o.exportJson},null,8,["onClick"]),D(a,{type:"quiet",label:"CSV","data-apos-test":"exportCsv",onClick:o.exportCsv},null,8,["onClick"])]),k("div",jde,[o.contentFooterMessageInfo?(p(),y("span",Ude,E(o.contentFooterMessageInfo),1)):S("v-if",!0),o.contentFooterMessageDanger?(p(),y("span",Wde,E(o.contentFooterMessageDanger),1)):S("v-if",!0),D(a,{type:"primary",label:"apostrophe:close",onClick:o.closeModal},null,8,["onClick"])])])]),_:1})]),_:1},8,["modal"])}const Kde=I(Hde,[["render",qde],["__scopeId","data-v-82b79eb7"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalReport.vue"]]),Gde={name:"LinkVariantIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},Jde=["aria-hidden","aria-label"],Yde=["fill","width","height"],Zde={d:"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z"},Xde={key:0};function Qde(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon link-variant-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",Zde,[i.title?(p(),y("title",Xde,E(i.title),1)):S("v-if",!0)])],8,Yde))],16,Jde)}const eue=I(Gde,[["render",Qde],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/LinkVariant.vue"]]),tue={components:{Close:t0,LinkVariant:eue},props:{doc:{type:Object,required:!0}},data(){return{modal:{active:!1,type:"overlay",showModal:!1,disableHeader:!0},shareUrl:"",disabled:!0}},async mounted(){this.modal.active=!0,await this.checkUrlProp(),await this.getAposShareKey()},methods:{async copy(){await navigator.clipboard.writeText(this.shareUrl)},async toggle(){this.disabled=!this.disabled,await this.setShareUrl()},async setShareUrl(){try{const{aposShareKey:e}=await apos.http.post(`${apos.modules[this.doc.type].action}/${this.doc._id}/share`,{busy:!0,body:{share:!this.disabled},draft:!0});if(this.disabled){setTimeout(()=>{this.shareUrl=""},200);return}if(!e)return this.showError();this.shareUrl=this.generateShareUrl(e)}catch{if(this.disabled){this.shareUrl="";return}await this.showError()}},close(){this.modal.showModal=!1},async checkUrlProp(){this.doc._url||await this.showError()},async getAposShareKey(){try{const{aposShareKey:e}=await apos.http.get(`${apos.modules[this.doc.type].action}/${this.doc._id}`,{});e&&(this.disabled=!1,this.shareUrl=this.generateShareUrl(e))}catch{await this.showError()}},async showError(){await apos.notify("apostrophe:shareDraftError",{type:"danger",icon:"alert-circle-icon",dismiss:!0})},generateShareUrl(e){const i=/^https?:\/\//.test(this.doc._url)?this.doc._url:`${location.origin}${this.doc._url}`,n=new URL(i),s={url:n.href};return apos.bus.$emit("shared-draft-link",s),apos.http.addQueryToUrl(s.url,{...n.search?apos.http.parseQuery(n.search):{},aposShareKey:e,aposShareId:this.doc._id})}}},iue={class:"apos-share-draft__header"},nue={class:"apos-share-draft__heading"},sue={class:"apos-share-draft__content"},oue={class:"apos-share-draft__toggle-wrapper"},rue={class:"apos-share-draft__description"},aue={class:"apos-share-draft__url-block"};function lue(e,t,i,n,s,o){const r=O("Close"),a=O("AposToggle"),l=O("LinkVariant"),c=O("AposModalBody"),u=O("AposModal");return p(),R(u,J({modal:s.modal,class:"apos-share-draft","data-apos-test":"share-draft-modal"},Xc({esc:o.close}),{onInactive:t[4]||(t[4]=h=>s.modal.active=!1),onShowModal:t[5]||(t[5]=h=>s.modal.showModal=!0)}),{main:Q(()=>[D(c,null,{bodyMain:Q(()=>[k("div",iue,[k("h2",nue,E(e.$t("apostrophe:shareDraftHeader")),1),D(r,{class:"apos-share-draft__close",tabindex:"0",title:e.$t("apostrophe:close"),size:18,onClick:Je(o.close,["prevent"])},null,8,["title","onClick"])]),k("div",sue,[k("div",oue,[D(a,{modelValue:s.disabled,"onUpdate:modelValue":t[0]||(t[0]=h=>s.disabled=h),class:"apos-share-draft__toggle","data-apos-focus-priority":"",onToggle:o.toggle},null,8,["modelValue","onToggle"]),k("p",{class:"apos-share-draft__toggle-label",onClick:t[1]||(t[1]=(...h)=>o.toggle&&o.toggle(...h))},E(e.$t("apostrophe:shareDraftEnable")),1)]),k("p",rue,E(e.$t("apostrophe:shareDraftDescription")),1),D(ns,{name:"collapse",duration:200,persisted:""},{default:Q(()=>[Ge(k("div",aue,[Ge(k("input",{"onUpdate:modelValue":t[2]||(t[2]=h=>s.shareUrl=h),type:"text",disabled:"",tabindex:"-1",class:"apos-share-draft__url"},null,512),[[Ds,s.shareUrl]]),k("a",{href:"",class:"apos-share-draft__link-copy",onClick:t[3]||(t[3]=Je((...h)=>o.copy&&o.copy(...h),["prevent"]))},[D(l,{class:"apos-share-draft__link-icon",title:e.$t("apostrophe:shareDraftCopyLink"),size:16},null,8,["title"]),Mt(" "+E(e.$t("apostrophe:shareDraftCopyLink")),1)])],512),[[ti,!s.disabled]])]),_:1})])]),_:1})]),_:1},16,["modal"])}const cue=I(tue,[["render",lue],["__scopeId","data-v-4532b395"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalShareDraft.vue"]]),due={name:"AposModalTabs",props:{tabs:{required:!0,type:Array},current:{type:String,default:""},errors:{type:Object,default(){return{}}}},emits:["select-tab"],computed:{tabErrors(){const e={};for(const t in this.errors){e[t]=[];for(const i in this.errors[t])this.errors[t][i]&&e[t].push(t)}return e}},methods:{generateErrorLabel(e){return e>1?this.$t("apostrophe:modalTabsErrors"):this.$t("apostrophe:modalTabsError")},selectTab:function(e){const i=e.target.id;this.$emit("select-tab",i)}}},uue={class:"apos-modal-tabs"},hue={class:"apos-modal-tabs__tabs"},fue=["id","aria-selected"],pue={key:0,class:"apos-modal-tabs__label apos-modal-tabs__label--error"};function mue(e,t,i,n,s,o){return p(),y("div",uue,[k("ul",hue,[(p(!0),y(Ce,null,Ie(i.tabs,r=>Ge((p(),y("li",{key:r.name,class:"apos-modal-tabs__tab"},[k("button",{id:r.name,class:"apos-modal-tabs__btn","aria-selected":r.name===i.current,onClick:t[0]||(t[0]=(...a)=>o.selectTab&&o.selectTab(...a))},[Mt(E(e.$t(r.label))+" ",1),o.tabErrors[r.name]&&o.tabErrors[r.name].length?(p(),y("span",pue,E(o.tabErrors[r.name].length)+" "+E(o.generateErrorLabel(o.tabErrors[r.name].length)),1)):S("v-if",!0)],8,fue)])),[[ti,r.isVisible!==!1]])),128))])])}const gue=I(due,[["render",mue],["__scopeId","data-v-5dce1485"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalTabs.vue"]]),bue={name:"AposModalTabsBody"},yue={class:"apos-modal-tabs"},vue={class:"apos-modal-tabs__wrapper"},_ue={class:"apos-modal-tabs__pane"};function wue(e,t,i,n,s,o){return p(),y("div",yue,[k("div",vue,[k("div",_ue,[yt(e.$slots,"default",{},void 0,!0)])])])}const Cue=I(bue,[["render",wue],["__scopeId","data-v-f5cd23ca"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalTabsBody.vue"]]),kue={props:{className:{type:String,default:""}},computed:{hasLeftControls(){return!!this.$slots.leftControls},hasRightControls(){return!!this.$slots.rightControls}}},Aue={class:"apos-toolbar__group apos-toolbar__group--left"},Sue={key:0,class:"apos-toolbar__group apos-toolbar__group--right"};function xue(e,t,i,n,s,o){return p(),y("div",{class:ne([i.className,"apos-toolbar"])},[k("div",Aue,[yt(e.$slots,"leftControls",{},void 0,!0)]),o.hasRightControls?(p(),y("div",Sue,[yt(e.$slots,"rightControls",{},void 0,!0)])):S("v-if",!0)],2)}const Mue=I(kue,[["render",xue],["__scopeId","data-v-cdc85a18"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposModalToolbar.vue"]]),Tue={name:"AposWidgetModalTabs",props:{tabs:{required:!0,type:Array},current:{type:String,default:""},errors:{type:Object,default(){return{}}},orientation:{type:String,default:"vertical"}},emits:["select-tab"],data(){const e=[];for(let t=0;t<this.tabs.length;t++){const i={...this.tabs[t]};i.action=i.name,t<5&&e.push(i)}return{visibleTabs:e,moreMenuButton:{icon:"dots-vertical-icon",iconOnly:!0,type:"subtle"}}},computed:{tabErrors(){const e={};for(const t in this.errors){e[t]=[];for(const i in this.errors[t])this.errors[t][i]&&e[t].push(t)}return e},menuTabs(){return this.tabs.map(e=>{const t=[];return e.name===this.current&&(t.push("selected"),(!this.tabErrors[e.name]||!this.tabErrors[e.name].length)&&t.push("primary")),this.tabErrors[e.name]&&this.tabErrors[e.name].length&&t.push("danger"),{...e,action:e.name,modifiers:t}})}},methods:{generateErrorLabel(e){return e>1?this.$t("apostrophe:modalTabsErrors"):this.$t("apostrophe:modalTabsError")},selectTab:function(e){const i=e.target.id;this.$emit("select-tab",i)},moreMenuHandler(e){this.$emit("select-tab",e.action)}}},Oue={class:"apos-modal-tabs__tabs","data-apos-test":"widget-tabs"},Eue=["id","aria-selected"],Iue={key:0,class:"apos-modal-tabs__label apos-modal-tabs__label--error","data-apos-test":"widget-tabs-error"},$ue={key:"placeholder-for-hidden-tabs",class:"apos-modal-tabs__tab apos-modal-tabs__tab--small"};function Lue(e,t,i,n,s,o){const r=O("AposContextMenu");return p(),y("div",{class:ne(["apos-modal-tabs",{"apos-modal-tabs--horizontal":i.orientation==="horizontal"}])},[k("ul",Oue,[(p(!0),y(Ce,null,Ie(s.visibleTabs,a=>Ge((p(),y("li",{key:a.name,class:"apos-modal-tabs__tab","data-apos-test":"widget-tabs-item"},[k("button",{id:a.name,class:"apos-modal-tabs__btn","aria-selected":a.name===i.current,"data-apos-test":"widget-tabs-button",onClick:t[0]||(t[0]=(...l)=>o.selectTab&&o.selectTab(...l))},[Mt(E(e.$t(a.label))+" ",1),o.tabErrors[a.name]&&o.tabErrors[a.name].length?(p(),y("span",Iue,E(o.tabErrors[a.name].length)+""+E(o.generateErrorLabel(o.tabErrors[a.name].length)),1)):S("v-if",!0)],8,Eue)])),[[ti,a.isVisible!==!1]])),128)),o.menuTabs.length?(p(),y("li",$ue)):S("v-if",!0)]),o.menuTabs.length?(p(),R(r,{key:0,menu:o.menuTabs,"menu-placement":"bottom-end",button:s.moreMenuButton,"data-apos-test":"context-menu-tabs",onItemClicked:t[1]||(t[1]=a=>o.moreMenuHandler(a))},null,8,["menu","button"])):S("v-if",!0)],2)}const Pue=I(Tue,[["render",Lue],["__scopeId","data-v-a83f4444"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/AposWidgetModalTabs.vue"]]),Due={name:"TheAposModals",setup(){const{themeClass:e}=Hp(),t=Cr();ls(()=>{apos.bus.$on("admin-menu-click",async n=>{let s;n==="@apostrophecms/global:singleton-editor"?s={...apos.modal.modals.find(o=>o.itemName==="@apostrophecms/global:editor"),props:{docId:apos.modules["@apostrophecms/global"]._id}}:typeof n=="object"?s={...apos.modal.modals.find(o=>o.itemName===n.itemName),...n}:s=apos.modal.modals.find(o=>o.itemName===n),s&&await t.execute(s.componentName,{...s.props,moduleName:s.moduleName||i(s.itemName)})})});function i(n){return n?n.indexOf(":")>-1?n.split(":")[0]:n:null}return{themeClass:e,store:t}}};function Rue(e,t,i,n,s,o){return p(),y("div",{class:ne(n.themeClass)},[(p(!0),y(Ce,null,Ie(n.store.stack,r=>(p(),R(tt(r.componentName),J({ref_for:!0},r.props,{key:r.id,"modal-data":r,onModalResult:a=>n.store.setModalResult(r.id,a)}),null,16,["modal-data","onModalResult"]))),128))],2)}const Hue=I(Due,[["render",Rue],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/modal/apos/components/TheAposModals.vue"]]),d0={methods:{async archive(e){const t=window.apos.modules[e.type],i=e.slug.startsWith("/");try{i&&(e=await apos.http.get(`${t.action}/${e._id}`,{draft:!0,qs:{children:{depth:10}}}));const r=n(e),a=s(e),l=o(e),c=window.apos.modules[e.type].action,u=!!e.lastPublishedAt,h=e.aposDocId===window.apos.adminBar.context.aposDocId,m=i?this.$t("apostrophe:page"):this.$t(t.label)||this.$t("apostrophe:document"),g=[];g.push(this.$t("apostrophe:confirmArchive",{type:m,title:e.title})),a>0&&g.push(this.$t("apostrophe:archivingPageHasChild",{count:a})),l>0&&g.push(this.$t("apostrophe:archivingDraftChildCount",{count:l})),u&&g.push(this.$t("apostrophe:archivingWillUnpublish",{type:this.$t(m)})),l>0&&g.push(this.$t("apostrophe:archivingWillDeleteDraftChildren")),r&&(i?g.push(this.$t("apostrophe:archivingPageWillLoseDraftChanges")):g.push(this.$t("apostrophe:archivingWillLoseDraftChanges")));const v=await apos.confirm({heading:this.$t("apostrophe:archiveType",{type:m}),description:g.join(this.$t("apostrophe:sentenceJoiner")),affirmativeLabel:this.$t("apostrophe:archiveTypeAffirmativeLabel",{type:m}),note:h?this.$t("apostrophe:archiveTypeNote",{type:m}):null,localize:!1,form:a>0?{schema:[{type:"radio",name:"choice",required:!0,choices:[{label:this.$t("apostrophe:archiveOnlyThisPage"),value:"this"},{label:this.$t("apostrophe:archivePageAndSubpages"),value:"all"}]}],value:{data:{}}}:null});if(v){const _={archived:!0};if(i&&(_._targetId="_archive",_._position="lastChild",v.data&&v.data.choice==="this"))for(const w of e._children)await apos.http.patch(`${c}/${w._id}`,{body:{_targetId:e._id,_position:"before"},busy:!1,draft:!0});if(e=await apos.http.patch(`${c}/${e._id}`,{body:_,busy:!0,draft:!0}),await apos.notify("apostrophe:contentArchived",{type:"success",icon:"archive-arrow-down-icon",dismiss:!0}),h){location.assign(`${window.apos.prefix}/`);return}return apos.bus.$emit("content-changed",{doc:e,action:"archive",localeSwitched:!!this.localeSwitched}),!0}}catch(r){await apos.alert({heading:this.$t("apostrophe:error"),description:r.message||this.$t("apostrophe:errorWhileArchiving"),localize:!1})}function n(r){return r.modified?!0:(r._children||[]).find(a=>n(a))}function s(r){if(!i)return 0;let a=0;for(const l of r._children)a++,a+=s(l);return a}function o(r){if(!i)return 0;let a=0;for(const l of r._children)a+=l.lastPublishedAt?0:1,a+=o(l);return a}},async restore(e){const t=apos.modules[e.type],i=e.slug.startsWith("/"),n=window.apos.modules[e.type].action,s=i?"page":t.label||"content";let o=null;try{if(i&&e._children&&e._children.length){const a=e._children.length,l=`You are going to restore the ${s} ${e.title}, which has ${a} child ${s}${e._children.length>1?"s":""}.`;o=await apos.confirm({heading:"apostrophe:restoreType",description:l,affirmativeLabel:"apostrophe:restoreTypeAffirmativeLabel",form:{schema:[{type:"radio",name:"choice",required:!0,choices:[{label:"apostrophe:restoreOnlyThisPage",value:"this"},{label:"apostrophe:restoreThisPageAndSubpages",value:"all"}]}],value:{data:{}}},interpolate:{type:s}})}if(o&&o.data.choice==="this")for(const a of e._children)await apos.http.patch(`${n}/${a._id}`,{body:{_targetId:"_archive",_position:"lastChild",archived:!0},busy:!1,draft:!0});const r={archived:!1,_targetId:i?"_home":null,_position:i?"firstChild":null};return Mu.methods.addLockToRequest(r),e=await apos.http.patch(`${n}/${e._id}`,{body:r,busy:!0,draft:!0}),await apos.notify("apostrophe:contentRestored",{type:"success",icon:"archive-arrow-up-icon",dismiss:!0}),apos.bus.$emit("content-changed",{doc:e,action:"restore",localeSwitched:!!this.localeSwitched}),e}catch(r){Mu.methods.isLockedError(r)?await this.showLockedError(r):await apos.alert({heading:this.$t("apostrophe:error"),description:r.message||this.$t("apostrophe:errorWhileRestoringArchive"),localize:!1})}}}},Vue={name:"AposDocContextMenu",mixins:[oh,d0,Vo],props:{doc:{type:Object,required:!0},current:{type:Object,default(){return null}},published:{type:Object,default(){return null}},showEdit:{type:Boolean,default(){return!0}},showPreview:{type:Boolean,default(){return!0}},showDiscardDraft:{type:Boolean,default(){return!0}},canDeleteDraft:{type:Boolean,default(){return!0}},showCopy:{type:Boolean,default(){return!0}},showArchive:{type:Boolean,default(){return!0}},showRestore:{type:Boolean,default(){return!0}},showDismissSubmission:{type:Boolean,default(){return!1}},disabled:{type:Boolean,default:!1},localeSwitched:{type:Boolean,default:!1},moduleLabels:{type:Object,default:null}},emits:["menu-open","menu-close","close"],data(){return{context:this.doc,customOperations:apos.modules["@apostrophecms/doc"].contextOperations}},computed:{menu(){return[...this.showEdit&&this.context._edit?[{label:this.context.archived?"apostrophe:view":"apostrophe:edit",action:"edit"}]:[],...this.showPreview&&this.canPreview?[{label:"apostrophe:preview",action:"preview"}]:[],...this.showDismissSubmission&&this.canDismissSubmission?[{label:"apostrophe:dismissSubmission",action:"dismissSubmission"}]:[],...this.showCopy&&this.canCopy?[{label:"apostrophe:duplicate",action:"copy"}]:[],...this.canLocalize?[{label:"apostrophe:localize",action:"localize"}]:[],...this.customMenusByContext,...this.showDiscardDraft&&this.canDiscardDraft?[{label:this.context.lastPublishedAt?"apostrophe:discardDraft":"apostrophe:deleteDraft",action:"discardDraft",modifiers:["danger"]}]:[],...this.showArchive&&this.canArchive?[{label:"apostrophe:archive",action:"archive",modifiers:["danger"]}]:[],...this.canUnpublish?[{label:"apostrophe:unpublish",action:"unpublish",modifiers:["danger"]}]:[],...this.showRestore&&this.canRestore?[{label:"apostrophe:restore",action:"restore"}]:[]]},customMenusByContext(){if(!this.canEdit)return[];const e=this.customOperationsByContext.map(t=>({label:t.label,action:t.action,modifiers:t.modifiers||[]}));return e.sort((t,i)=>t.modifiers.length-i.modifiers.length),e},customOperationsByContext(){return this.customOperations.filter(({manuallyPublished:e,hasUrl:t,conditions:i,context:n,if:s,moduleIf:o})=>typeof e=="boolean"&&e!==this.manuallyPublished||typeof t=="boolean"&&t!==this.hasUrl||i&&i.some(l=>!this[l])||(s=s||{},o=o||{},!(Lc(this.doc,s)&&Lc(this.moduleOptions,o)))?!1:n==="update"&&this.isUpdateOperation)},moduleName(){return apos.modules[this.context.type].action===apos.modules["@apostrophecms/page"].action?"@apostrophecms/page":this.context.type},moduleOptions(){return apos.modules[this.moduleName]},isUpdateOperation(){return!!this.context._id},hasUrl(){return!!this.context._url},canPublish(){return this.context._id?this.context._publish:this.moduleOptions.canPublish},canEdit(){return this.context._id?this.context._edit:!0},canDismissSubmission(){return this.canEdit&&this.context.submitted&&(this.canPublish||this.context.submitted.byId===apos.login.user._id)},canDiscardDraft(){return!this.manuallyPublished||!this.context._id||!this.context.lastPublishedAt&&!this.canDeleteDraft&&!this.context._delete||this.context.lastPublishedAt&&(!this.context.modified||!this.context._edit)?!1:!this.context.lastPublishedAt&&!this.moduleOptions.singleton||this.context.lastPublishedAt&&this.isModifiedFromPublished},canLocalize(){return this.moduleOptions.canLocalize&&this.context._id},canArchive(){const e=!!(this.canPublish&&this.context.lastPublishedAt)||!this.manuallyPublished;return this.context._delete&&this.context._id&&!this.moduleOptions.singleton&&!this.context.archived&&!this.context.parked&&e},canUnpublish(){return this.canEdit&&!this.context.parked&&this.moduleOptions.canPublish&&!this.moduleOptions.singleton&&this.context.lastPublishedAt&&this.manuallyPublished},canCopy(){return this.moduleOptions.canCreate&&this.canEdit&&this.moduleOptions.canEdit&&!this.moduleOptions.singleton&&this.context._id},canRestore(){return this.canEdit&&this.context._id&&this.context.archived&&(!this.manuallyPublished&&this.canPublish||this.manuallyPublished)},canPreview(){return this.hasUrl&&!this.context.archived},canShareDraft(){return this.canEdit&&!this.context.archived},manuallyPublished(){return this.moduleOptions.localized&&!this.autopublish},autopublish(){return this.context._aposAutopublish??this.moduleOptions.autopublish},isModified(){return this.current?Es(this.schema,this.context,this.current):!1},isModifiedFromPublished(){return this.context.modified?!0:!this.context.lastPublishedAt||!this.published?!1:Es(this.schema,this.published,this.context)},schema(){let e=(apos.modules[this.context.type].schema||[]).filter(t=>apos.schema.components.fields[t.type]);return e=e.filter(t=>t.name!=="archived"),e}},watch:{doc(){this.context=this.doc}},mounted(){apos.bus.$on("content-changed",this.onContentChanged),apos.bus.$on("command-menu-admin-bar-discard-draft",this.customDiscardDraft)},unmounted(){apos.bus.$off("content-changed",this.onContentChanged),apos.bus.$off("command-menu-admin-bar-discard-draft",this.customDiscardDraft)},methods:{customDiscardDraft(){this.showDiscardDraft&&this.canDiscardDraft&&this.menuHandler({action:"discardDraft"})},async onContentChanged({doc:e,docIds:t}){if(e&&e._id===this.context._id)this.context=e;else if(t&&t.includes(this.context._id))try{this.context=await apos.http.get(`${this.moduleOptions.action}/${this.context._id}`,{busy:!0})}catch(i){i.name!=="notfound"&&console.error(i)}},menuHandler(e){const t=this.customOperations.find(i=>i.action===e.action);if(t){this.customAction(this.context,t);return}this[e.action](this.context)},async edit(e){await apos.modal.execute(e._aposEditorModal||this.moduleOptions.components.editorModal,{moduleName:this.moduleName,docId:e._id,type:e.type})},preview(e){window.open(e._url,"_blank").focus()},async copy(e){if(this.current)if(await this.confirmAndCancel())this.$emit("close",e);else return;await apos.modal.execute(e._aposEditorModal||this.moduleOptions.components.editorModal,{moduleName:this.moduleName,copyOfId:e._id,copyOf:{...this.current||e,_id:e._id},type:e.type})},async customAction(e,t){if(t.replaces){if(!await apos.confirm({heading:"apostrophe:replaceHeadingPrompt",description:this.$t("apostrophe:replaceDescPrompt"),affirmativeLabel:"apostrophe:replace",icon:!1}))return;this.$emit("close",e)}const i={moduleName:t.moduleName||this.moduleName,moduleLabels:this.moduleLabels,doc:e,...n(e),...t.props};if(t.type==="event"){apos.bus.$emit(t.action,i);return}await apos.modal.execute(t.modal,i);function n(s){return Object.fromEntries(Object.entries(t.docProps||{}).map(([o,r])=>[o,s[r]]))}},async localize(e){if(this.current)if(await this.confirmAndCancel())this.$emit("close",e);else return;apos.bus.$emit("admin-menu-click",{itemName:"@apostrophecms/i18n:localize",props:{doc:e}})},close(){this.$emit("close",this.doc)}}},zue={name:"AposDocContextMenu",mixins:[Vue],emits:["menu-open","menu-close","close"]};function Nue(e,t,i,n,s,o){const r=O("AposContextMenu");return p(),R(r,{class:"apos-admin-bar_context-button",menu:e.menu,disabled:e.disabled||e.menu.length===0,"menu-placement":"bottom-end",button:{tooltip:{content:"apostrophe:moreOptions",placement:"bottom"},label:"apostrophe:moreOptions",icon:"dots-vertical-icon",iconOnly:!0,type:"subtle",modifiers:["small","no-motion"]},onItemClicked:e.menuHandler,onOpen:t[0]||(t[0]=a=>e.$emit("menu-open")),onClose:t[1]||(t[1]=a=>e.$emit("menu-close"))},null,8,["menu","disabled","onItemClicked"])}const Bue=I(zue,[["render",Nue],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/doc-type/apos/components/AposDocContextMenu.vue"]]),u0={data(){return{tabKey:Ut.createId(),currentTab:null}},computed:{groups(){const e={};return this.schema.forEach(t=>{this.filterOutParkedFields&&!this.filterOutParkedFields([t.name]).length||(t.group&&!e[t.group.name]?e[t.group.name]={label:t.group.label,fields:[t.name],schema:[t]}:t.group&&(e[t.group.name].fields.push(t.name),e[t.group.name].schema.push(t)))}),e.utility||(e.utility={label:"apostrophe:utility",fields:[],schema:[]}),e},tabs(){var t;const e=[];for(const i in this.groups)if(i!=="utility"){const n=this.groups[i].fields;e.push({name:i,label:this.groups[i].label,fields:n,isVisible:(t=this.conditionalFields)!=null&&t.if?n.some(s=>this.conditionalFields.if[s]!==!1):!0})}return e},firstVisibleTabName(){const{name:e=null}=this.tabs.find(t=>t.isVisible===!0)||this.tabs[0]||{};return e}},watch:{tabs(){(!this.currentTab||!this.tabs.some(e=>e.isVisible===!0&&e.name===this.currentTab))&&(this.currentTab=this.firstVisibleTabName)}},mounted(){this.currentTab=this.firstVisibleTabName},methods:{switchPane(e){this.currentTab=e}}},h0={data:()=>({fieldErrors:{},errorCount:0}),mounted(){this.prepErrors()},computed:{errorTooltip(){return this.errorCount?{key:"apostrophe:errorCount",count:this.errorCount}:null}},methods:{updateFieldErrors(e){this.tabKey=Ut.createId();for(const t in this.groups)this.groups[t].fields.forEach(i=>{e[i]&&(this.fieldErrors[t][i]=e[i].error)});this.updateErrorCount()},updateErrorCount(){let e=0;for(const t in this.fieldErrors)for(const i in this.fieldErrors[t])this.fieldErrors[t][i]&&e++;this.errorCount=e},prepErrors(){this.fieldErrors=Object.keys(this.groups).reduce((e,t)=>({...e,[t]:{}}),{})},focusNextError(){let e;for(const t in this.fieldErrors)for(const i in this.fieldErrors[t])this.fieldErrors[t][i]&&!e&&(e=this.schema.filter(n=>n.name===i)[0],e.group.name!=="utility"&&this.switchPane(e.group.name),this.getAposSchema(e).scrollFieldIntoView(e.name))},getAposSchema(e){return e.group.name==="utility"?this.$refs.utilitySchema:this.$refs[e.group.name][0]}}},Fue={name:"AposDocEditor",mixins:[u0,Vo,xr,oh,Mu,d0,h0],provide(){return{originalDoc:this.originalDoc,liveOriginalDoc:this.docFields}},props:{moduleName:{type:String,required:!0},docId:{type:String,default:null},type:{type:String,default:null},copyOfId:{type:String,default:null},modalData:{type:Object,required:!0}},emits:["modal-result"],data(){return{docType:this.moduleName,docReady:!1,fieldErrors:{},modal:{active:!1,triggerFocusRefresh:0,type:"overlay",showModal:!1,componentType:"editorModal"},triggerValidation:!1,original:null,originalDoc:{ref:null},published:null,readOnly:!1,restoreOnly:!1,saveMenu:null,generation:0,localeSwitched:this.modalData.hasContextLocale,referenceDocId:this.docId,currentId:this.docId}},computed:{getOnePath(){return`${this.moduleAction}/${this.currentId}`},followingUtils(){return this.followingValues("utility")},canEdit(){return this.original&&this.original._id?this.original._edit||this.moduleOptions.canEdit:this.moduleOptions.canEdit},canPublish(){return this.original&&this.original._id?this.original._publish||this.moduleOptions.canPublish:this.moduleOptions.canPublish},canCreate(){return this.original&&!this.original._id&&this.moduleOptions.canCreate},saveDisabled(){return!this.canCreate&&!this.canEdit?!0:this.restoreOnly?!1:this.errorCount?!0:!this.currentId||this.isModified?!1:this.manuallyPublished?this.canPublish?this.published&&!this.isModifiedFromPublished:!this.original||this.published&&!this.isModifiedFromPublished?!0:!!this.original.submitted:!0},moduleOptions(){return window.apos.modules[this.docType]||{}},moduleAction(){return(window.apos.modules[this.moduleName]||{}).action},utilityFields(){let e=[];return this.groups.utility&&this.groups.utility.fields&&(e=this.groups.utility.fields),this.filterOutParkedFields(e)},modalTitle(){return{key:this.currentId?"apostrophe:editType":"apostrophe:newDocType",type:this.$t(this.moduleOptions.label)}},saveLabel(){return this.restoreOnly?"apostrophe:restore":this.manuallyPublished?this.canPublish?this.copyOfId?"apostrophe:publish":this.original&&this.original.lastPublishedAt?"apostrophe:update":"apostrophe:publish":this.copyOfId?"apostrophe:submit":this.original&&this.original.lastPublishedAt?"apostrophe:submitUpdate":"apostrophe:submit":"apostrophe:save"},isModified(){return this.original?Es(this.schema,this.original,this.docFields.data):!1},isModifiedFromPublished(){return this.published?Es(this.schema,this.published,this.docFields.data):!1},savePreferenceName(){return`apos-${this.moduleName}-save-pref`},savePreference(){let e=window.localStorage.getItem(this.savePreferenceName);return typeof e!="string"&&(e=null),e},showLocalePicker(){return Object.keys(window.apos.i18n.locales).length>1&&this.moduleOptions.localized!==!1&&!this.modalData.hasContextLocale}},watch:{"docFields.data.type":{handler(e){this.moduleName==="@apostrophecms/page"&&this.docType!==e&&(this.docType=e,this.prepErrors())}},manuallyPublished(){this.saveMenu=this.computeSaveMenu()},original(e){this.originalDoc.ref=e,this.saveMenu=this.computeSaveMenu()}},async mounted(){this.modal.active=!0,await this.evaluateExternalConditions(),this.saveMenu=this.computeSaveMenu(),this.cancelDescription={key:"apostrophe:discardChangesToDocTypePrompt",type:this.$t(this.moduleOptions.label)},this.docId?await this.instantiateExistingDoc():this.copyOfId?this.instantiateCopiedDoc():(await this.$nextTick(),await this.instantiateNewDoc()),apos.bus.$on("content-changed",this.onContentChanged)},unmounted(){apos.bus.$off("content-changed",this.onContentChanged)},methods:{...vx(Cr,["updateModalData"]),async instantiateExistingDoc(){await this.loadDoc(),this.evaluateConditions();try{this.manuallyPublished&&(this.published=await apos.http.get(this.getOnePath,{busy:!0,qs:{archived:"any",aposMode:"published"}}))}catch(e){e.name!=="notfound"&&(console.error(e),await apos.notify("apostrophe:fetchPublishedVersionFailed",{type:"warning",icon:"alert-circle-icon",dismiss:!0}))}this.modal.triggerFocusRefresh++},async instantiateCopiedDoc(){this.evaluateConditions();const e=await apos.http.get(`${this.moduleOptions.action}/${this.copyOfId}`,{busy:!0});if(delete e.parked,e.title=`Copy of ${e.title}`,e.slug.startsWith("/")){const t=e.slug.match(/\/([^/]+)$/);t?e.slug=`${apos.page.page.slug}/copy-of-${t[1]}`:e.slug="/copy-of-home-page"}else e.slug=e.slug.replace(/([^/]+)$/,"copy-of-$1");delete e._id,delete e._url,this.original=e,e&&e.type!==this.docType&&(this.docType=e.type),this.docFields.data=e,this.prepErrors(),this.docReady=!0,this.modal.triggerFocusRefresh++},async instantiateNewDoc(){this.docReady=!1;const e=await this.getNewInstance();this.original=e,e&&e.type!==this.docType&&(this.docType=e.type),this.docFields.data=e;const t=this.schema.find(i=>i.name==="slug");t&&(this.original.slug=this.original.slug||t.def||t.prefix||""),this.prepErrors(),this.docReady=!0,this.evaluateConditions()},async saveHandler(e,t={}){if(this.triggerValidation=!0,await this.$nextTick(),this.savePreference!==e&&this.setSavePreference(e),this.errorCount)this.triggerValidation=!1,await apos.notify("apostrophe:resolveErrorsBeforeSaving",{type:"warning",icon:"alert-circle-icon",dismiss:!0}),this.focusNextError();else return this[e](t)},async loadDoc(){let e;try{e=await apos.http.get(this.getOnePath,{busy:!0,qs:{archived:"any"},draft:!0}),e.archived?this.restoreOnly=!0:this.restoreOnly=!1;const t=e._edit||this.moduleOptions.canEdit;this.readOnly=t===!1,t&&!await this.lock(this.getOnePath,this.currentId)&&this.lockNotAvailable()}catch{await apos.notify("apostrophe:loadDocFailed",{type:"warning",icon:"alert-circle-icon",dismiss:!0}),await this.confirmAndCancel()}finally{e&&(e.type!==this.docType&&(this.docType=e.type),this.original=ut(e),this.docFields.data=e,this.published&&(this.changed=Es(this.schema,this.original,this.published,{differences:!0})),this.docReady=!0,this.prepErrors())}},async preview(){await this.confirmAndCancel()&&(window.location=this.original._url)},lockNotAvailable(){this.modal.showModal=!1},async onRestore(){await this.restore(this.original),await this.loadDoc()},async onSave({navigate:e=!1,keepOpen:t=!1,andPublish:i=null}={}){return this.canPublish||!this.manuallyPublished?this.save({andPublish:i??this.manuallyPublished,navigate:e,keepOpen:t}):this.save({andPublish:!1,andSubmit:!0,navigate:e,keepOpen:t})},async onSaveAndView(){await this.onSave({navigate:!0})},async onSaveAndNew(){await this.onSave(),this.startNew()},async onSaveDraftAndNew(){await this.onSaveDraft(),this.startNew()},async onSaveDraftAndView(){await this.onSaveDraft({navigate:!0})},async onSaveDraft({navigate:e=!1}={}){await this.save({andPublish:!1,draft:!0,navigate:e})},async save({andPublish:e=!1,navigate:t=!1,andSubmit:i=!1,draft:n=!1,keepOpen:s=!1}){const o=this.getRequestBody({update:!!this.currentId}),r=this.currentId?`${this.moduleAction}/${this.currentId}`:this.moduleAction,a=this.currentId?apos.http.put:apos.http.post;this.currentId&&this.addLockToRequest(o);let l;try{await this.postprocess(),l=await a(r,{busy:!0,body:o,draft:!0}),i?await this.submitDraft(l):e&&await this.publish(l),apos.bus.$emit("content-changed",{doc:l,action:a===apos.http.put?"update":"insert",localeSwitched:this.localeSwitched})}catch(c){this.isLockedError(c)?(await this.showLockedError(c),this.modal.showModal=!1):await this.handleSaveError(c,{fallback:"An error occurred saving the document."});return}return s||(this.$emit("modal-result",l),this.modal.showModal=!1),n?await apos.notify("apostrophe:draftSaved",{type:"success",dismiss:!0,icon:"file-document-icon"}):!e&&this.moduleOptions.autopublish&&await apos.notify("apostrophe:changesPublished",{type:"success",dismiss:!0,icon:"file-document-icon"}),t&&(l._url?window.location=l._url:await apos.notify(e?"apostrophe:documentPublishedNoPreview":"apostrophe:draftSavedNoPreview",{type:"warning",icon:"alert-circle-icon"})),l},async getNewInstance(){try{const e=this.getRequestBody({newInstance:!0});return await apos.http.post(this.moduleAction,{body:e,draft:!0})}catch{await apos.notify("apostrophe:errorCreatingNewContent",{type:"danger",icon:"alert-circle-icon",dismiss:!0}),console.error(`Error while creating new, empty content. Review your configuration for ${this.docType} (including \`type\` options in \`@apostrophecms/page\` if it's a page type).`),this.modal.showModal=!1}},startNew(){this.modal.showModal=!1,apos.bus.$emit("admin-menu-click",{itemName:`${this.moduleName}:editor`})},onUpdateDocFields(e){this.updateDocFields(e),this.generation++},updateDocFields(e){this.updateFieldErrors(e.fieldState),this.docFields.data={...this.docFields.data,...e.data},this.evaluateConditions()},getAposSchema(e){return e.group.name==="utility"?this.$refs.utilitySchema:this.$refs[e.group.name][0]},filterOutParkedFields(e){return e.filter(t=>!(this.original&&this.original.parked||[]).includes(t))},computeSaveMenu(){const e=this.$t(this.moduleOptions?this.moduleOptions.label:"document"),t=!this.currentId,i=this.original&&(this.original._id?this.original._url:this.original._previewable),n=this.moduleOptions.showCreate,s=this.moduleOptions.singleton,o={saveLabel:this.$t(this.saveLabel),typeLabel:e},r=[{label:this.saveLabel,action:"onSave",description:{...o,key:s?"apostrophe:updateSingleton":t?"apostrophe:insertAndReturn":"apostrophe:updateAndReturn"},def:!0}];return i&&r.push({label:{key:"apostrophe:takeActionAndView",saveLabel:this.$t(this.saveLabel)},action:"onSaveAndView",description:{...o,key:t?"apostrophe:insertAndRedirect":"apostrophe:updateAndRedirect"}}),n&&r.push({label:{key:"apostrophe:takeActionAndCreateNew",saveLabel:this.$t(this.saveLabel),typeLabel:e},action:"onSaveAndNew",description:{...o,key:t?"apostrophe:insertAndNew":"apostrophe:updateAndNew"}}),this.manuallyPublished&&r.push({label:"apostrophe:saveDraft",action:"onSaveDraft",description:"apostrophe:saveDraftDescription"}),this.manuallyPublished&&i&&r.push({label:{key:"apostrophe:saveDraftAndPreview",typeLabel:e},action:"onSaveDraftAndView",description:{key:"apostrophe:saveDraftAndPreviewDescription",typeLabel:e}}),this.manuallyPublished&&n&&r.push({label:"apostrophe:saveDraftAndCreateNew",action:"onSaveDraftAndNew",description:{key:"apostrophe:saveDraftAndCreateNewDescription",typeLabel:e}}),r},setSavePreference(e){window.localStorage.setItem(this.savePreferenceName,e)},onContentChanged({doc:e,action:t}){var i;!e||((i=this.original)==null?void 0:i._id)!==e._id||(e.type!==this.docType&&(this.docType=e.type),this.docFields.data=e,this.generation++,(t==="archive"||t==="unpublish"||t==="delete"||t==="revert-draft-to-published")&&(this.modal.showModal=!1))},close(){this.modal.showModal=!1},async switchLocale({locale:e,localized:t,save:i}){if(i){const n=await this.saveHandler("onSave",{keepOpen:!0,andPublish:!1});if(this.errorCount>0)return;!this.referenceDocId&&n&&(this.referenceDocId=n._id)}this.updateModalData(this.modalData.id,{locale:e}),this.localeSwitched=e!==apos.i18n.locale,this.published=null,t?(this.currentId=t._id,await this.instantiateExistingDoc()):(this.currentId="",this.docType=this.moduleName,await this.instantiateNewDoc())},getRequestBody({newInstance:e=!1,update:t=!1}){const i=e?{_newInstance:!0}:this.docFields.data;return t||(this.moduleName==="@apostrophecms/page"&&(i._targetId=this.localeSwitched?"_home":apos.page.page._id.replace(":published",":draft"),i._position="lastChild"),e||(this.copyOfId?i._copyingId=this.copyOfId:this.localeSwitched&&this.referenceDocId&&(i._createId=this.referenceDocId.split(":")[0]))),i},isPriorityButton(e){let t;return this.restoreOnly&&(t="save"),this.saveMenu&&(t="splitSave"),this.saveDisabled&&(t="cancel"),e===t?!0:null}}},jue={key:0,class:"apos-doc-editor__body"},Uue={class:"apos-doc-editor__utility"};function Wue(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposDocLocalePicker"),l=O("AposDocContextMenu"),c=O("AposButtonSplit"),u=O("AposModalTabs"),h=O("AposModalRail"),m=O("AposSchema"),g=O("AposModalBody"),v=O("AposModal");return p(),R(v,{class:"apos-doc-editor",modal:s.modal,"modal-title":o.modalTitle,"modal-data":i.modalData,onInactive:t[1]||(t[1]=_=>s.modal.active=!1),onShowModal:t[2]||(t[2]=_=>s.modal.showModal=!0),onEsc:e.confirmAndCancel},_l({secondaryControls:Q(()=>[D(r,{type:"default",label:"apostrophe:cancel",attrs:{"data-apos-focus-priority":o.isPriorityButton("cancel")},onClick:e.confirmAndCancel},null,8,["attrs","onClick"])]),primaryControls:Q(()=>[s.original?(p(),R(l,{key:0,disabled:e.errorCount>0||s.restoreOnly,doc:s.original,current:e.docFields.data,published:s.published,"show-edit":!1,"can-delete-draft":o.moduleOptions.canDeleteDraft,"locale-switched":s.localeSwitched,onClose:o.close},null,8,["disabled","doc","current","published","can-delete-draft","locale-switched","onClose"])):S("v-if",!0),s.restoreOnly?(p(),R(r,{key:1,type:"primary",label:o.saveLabel,disabled:o.saveDisabled,tooltip:e.errorTooltip,attrs:{"data-apos-focus-priority":o.isPriorityButton("save")},onClick:o.onRestore},null,8,["label","disabled","tooltip","attrs","onClick"])):s.saveMenu?(p(),R(c,{key:2,menu:s.saveMenu,"menu-label":"Select Save Method",disabled:o.saveDisabled,tooltip:e.errorTooltip,selected:o.savePreference,attrs:{"data-apos-focus-priority":o.isPriorityButton("splitSave")},onClick:t[0]||(t[0]=_=>o.saveHandler(_))},null,8,["menu","disabled","tooltip","selected","attrs"])):S("v-if",!0)]),leftRail:Q(()=>[D(h,null,{default:Q(()=>[e.tabs.length?(p(),R(u,{key:e.tabKey,current:e.currentTab,tabs:e.tabs,errors:s.fieldErrors,onSelectTab:e.switchPane},null,8,["current","tabs","errors","onSelectTab"])):S("v-if",!0)]),_:1})]),main:Q(()=>[D(g,null,{bodyMain:Q(()=>[s.docReady?(p(),y("div",jue,[(p(!0),y(Ce,null,Ie(e.tabs,_=>Ge((p(),R(m,{key:_.name,ref_for:!0,ref:_.name,changed:e.changed,schema:e.groups[_.name].schema,"current-fields":e.groups[_.name].fields,"trigger-validation":s.triggerValidation,"utility-rail":!1,"following-values":e.followingValues("other"),"conditional-fields":e.conditionalFields,"doc-id":s.currentId,"model-value":e.docFields,meta:e.docMeta,"server-errors":e.serverErrors,generation:s.generation,"onUpdate:modelValue":o.updateDocFields,onValidate:e.triggerValidate,onUpdateDocData:o.onUpdateDocFields},null,8,["changed","schema","current-fields","trigger-validation","following-values","conditional-fields","doc-id","model-value","meta","server-errors","generation","onUpdate:modelValue","onValidate","onUpdateDocData"])),[[ti,_.name===e.currentTab]])),128))])):S("v-if",!0)]),_:1})]),rightRail:Q(()=>[D(h,{type:"right"},{default:Q(()=>[k("div",Uue,[s.docReady?(p(),R(m,{key:0,ref:"utilitySchema",schema:e.groups.utility.schema,changed:e.changed,"current-fields":e.groups.utility.fields,"trigger-validation":s.triggerValidation,"utility-rail":!0,"following-values":o.followingUtils,"conditional-fields":e.conditionalFields,"doc-id":s.currentId,"model-value":e.docFields,meta:e.docMeta,modifiers:["small","inverted"],"server-errors":e.serverErrors,generation:s.generation,"onUpdate:modelValue":o.updateDocFields,onValidate:e.triggerValidate},null,8,["schema","changed","current-fields","trigger-validation","following-values","conditional-fields","doc-id","model-value","meta","server-errors","generation","onUpdate:modelValue","onValidate"])):S("v-if",!0)])]),_:1})]),_:2},[o.showLocalePicker?{name:"localeDisplay",fn:Q(()=>[D(a,{locale:i.modalData.locale,"doc-id":s.referenceDocId,"module-options":o.moduleOptions,"is-modified":o.isModified,onSwitchLocale:o.switchLocale},null,8,["locale","doc-id","module-options","is-modified","onSwitchLocale"])]),key:"0"}:void 0]),1032,["modal","modal-title","modal-data","onEsc"])}const que=I(Fue,[["render",Wue],["__scopeId","data-v-b9b58122"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/doc-type/apos/components/AposDocEditor.vue"]]),Kue={__name:"AposDocLocalePicker",props:{locale:{type:String,required:!0},docId:{type:String,default:null},moduleOptions:{type:Object,default:()=>({action:"",label:""})},isModified:{type:Boolean,required:!0}},emits:["save-doc","switch-locale"],setup(e,{expose:t,emit:i}){t();const n=i,s=e,o=gr("i18n"),r=apos.modules["@apostrophecms/i18n"].action,a=o("apostrophe:localeSwitcherPermissionToCreate",{docType:s.moduleOptions.label.toLowerCase()}),l=He(null),c=He({}),u=He([]),h=He(!1),m=st(()=>{var N;const A=(N=apos.i18n.locales[s.locale])==null?void 0:N.label;return{label:{key:A?`${A} (${s.locale})`:s.locale,localize:!1},icon:"chevron-down-icon",modifiers:["icon-right","no-motion"],type:"quiet"}});async function g(){if(h.value=!0,!!s.docId)try{const A=await apos.http.get(`${s.moduleOptions.action}/${s.docId}/locales`,{busy:!0});c.value=Object.fromEntries(A.results.filter(L=>L.aposLocale.endsWith(":draft")).map(L=>[L.aposLocale.split(":")[0],L])),await v()}catch(A){console.err(A)}}async function v(){const A=Object.keys(apos.i18n.locales).filter(N=>!c.value[N]),L=await apos.http.get(`${r}/locales-permissions`,{qs:{type:s.moduleOptions.name,locales:A,action:"create",aposMode:"draft"}});u.value=A.filter(N=>!L.includes(N))}async function _(A){if(u.value.includes(A.name)||(l.value.hide(),A.name===s.locale))return;const L=s.isModified?await apos.confirm({heading:"apostrophe:unsavedChanges",description:o("apostrophe:localeSwitcherDiscardChangesPrompt",{docType:s.moduleOptions.label.toLowerCase()}),negativeLabel:"apostrophe:localeSwitcherDiscardChangesNegative",affirmativeLabel:"apostrophe:localeSwitcherDiscardChangesAffirmative",icon:!1},{hasCloseButton:!0,tiny:!0}):!1;L!==null&&n("switch-locale",{locale:A.name,localized:c.value[A.name],save:L})}const w={emit:n,props:s,$t:o,i18nAction:r,forbiddenTooltip:a,menu:l,localized:c,forbidden:u,isOpen:h,button:m,open:g,checkCreatePermission:v,switchLocale:_,ref:He,inject:gr,computed:st};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}},Gue={class:"apos-doc-locales"},Jue={class:"apos-doc-locales__label"};function Yue(e,t,i,n,s,o){const r=O("AposLocalePicker"),a=O("AposContextMenu");return p(),y("div",Gue,[k("span",Jue,E(n.$t("apostrophe:locale"))+": ",1),D(a,{ref:"menu",class:"apos-doc-locales__switcher",identifier:"localePickerTrigger",button:n.button,unpadded:!0,"center-on-icon":!0,"menu-placement":"bottom-end",onOpen:n.open,onClose:t[0]||(t[0]=l=>n.isOpen=!1)},{default:Q(()=>[D(r,{"current-locale":i.locale,localized:n.localized,forbidden:n.forbidden,"forbidden-tooltip":n.forbiddenTooltip,"is-open":n.isOpen,onSwitchLocale:n.switchLocale},null,8,["current-locale","localized","forbidden","forbidden-tooltip","is-open"])]),_:1},8,["button"])])}const Zue=I(Kue,[["render",Yue],["__scopeId","data-v-8698ca71"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/doc-type/apos/components/AposDocLocalePicker.vue"]]),f0={data(){return{icons:{},checked:Array.isArray(this.chosen)?this.chosen.map(e=>e._id):[],checkedDocs:Array.isArray(this.chosen)?ut(this.chosen):[],subfields:Object.fromEntries((this.chosen||[]).filter(e=>e._fields).map(e=>[e._id,e._fields])),selectPending:new Set}},props:{chosen:{type:[Array,Boolean],default:!1},relationshipField:{type:[Object,Boolean],default:!1}},emits:["modal-result","sort"],computed:{relationshipErrors(){return this.relationshipField?this.relationshipField.required&&!this.checked.length||this.relationshipField.min&&this.checked.length<this.relationshipField.min?"min":this.relationshipField.max&&this.checked.length>this.relationshipField.max?"max":!1:!1},sort(e){this.$emit("sort",e)},selectAllChoice(){const e=this.checked.length,t=this.items&&this.items.length||0;return{value:"checked",indeterminate:e>0&&e!==t}},selectAllState(){return this.checked.length&&!this.selectAllChoice.indeterminate?"checked":this.checked.length&&this.selectAllChoice.indeterminate?"indeterminate":"empty"},isModified(){return this.relationshipIsModified()},manuallyPublished(){return this.moduleOptions.localized&&!this.moduleOptions.autopublish}},mounted(){this.docsManagerAddEventHandlers()},unmounted(){this.docsManagerRemoveEventHandlers()},watch:{items:function(e){if(e.length&&this.generateUi(),this.selectPending.size>0){const t=[...this.checked,...this.selectPending];this.checked=[...new Set(t)],this.selectPending=new Set}},checkedDocs(e,t){for(const i of t)this.subfields[i._id]=i._fields;for(const i of e)this.subfields[i._id]&&!Object.keys(i._fields||{}).length&&(i._fields=this.subfields[i._id])},checked(){this.updateCheckedDocs()}},methods:{maxReached(e=this.checked.length){return this.relationshipField.max&&e>=this.relationshipField.max},selectAll(){if(!this.checked.length){const e=[];this.items.forEach(t=>{const i=this.manuallyPublished&&!t.lastPublishedAt;this.relationshipField&&(this.maxReached(e.length)||i)||e.push(t._id)}),this.checked=e;return}this.allPiecesSelection&&(this.allPiecesSelection.isSelected=!1),this.checked=[]},iconSize(e){if(e.icon)return e.icon==="Circle"?8:10},generateUi(){this.generateIcons()},generateIcons(){const e={},t=[],i=["true","false"];this.headers.forEach(n=>{n.cellValue&&n.cellValue.icon&&t.push(n.cellValue.icon),n.columnHeaderIcon&&t.push(n.columnHeaderIcon),i.forEach(s=>{n.cellValue&&n.cellValue[s]&&n.cellValue[s].icon&&t.push(n.cellValue[s].icon)}),Array.from(new Set(t)).forEach(s=>{e[s]=`${s.toLowerCase()}-icon`})}),this.icons=e},saveRelationship(){this.$emit("modal-result",this.checkedDocs),this.modal.showModal=!1},relationshipIsModified(){if(!this.relationshipField)return!1;if(this.chosen.length!==this.checkedDocs.length)return!0;for(let e=0;e<this.chosen.length;e++)if(this.chosen[e]._id!==this.checkedDocs[e]._id||this.relationshipField.schema&&Es(this.relationshipField.schema,this.chosen[e]._fields,this.checkedDocs[e]._fields))return!0},docsManagerAddEventHandlers(){apos.bus.$on("content-changed",this.docsManagerOnContentChanged)},docsManagerRemoveEventHandlers(){apos.bus.$off("content-changed",this.docsManagerOnContentChanged)},docsManagerOnContentChanged({doc:e,select:t,action:i}){t&&((e.type===this.moduleName||e.slug.startsWith("/")&&this.moduleName==="@apostrophecms/page")&&this.selectPending.add(e._id.replace(":published",":draft")),i==="archive"&&(this.checked=this.checked.filter(n=>e._id!==n)))},updateCheckedDocs(){if(this.checkedDocs=this.checkedDocs.filter(e=>this.checked.includes(e._id)),this.checked.forEach(e=>{if(this.checkedDocs.findIndex(t=>t._id===e)===-1){const t=this.items.find(i=>i._id===e);t&&this.checkedDocs.push(t)}}),this.allPiecesSelection){const e=this.checked.length===this.allPiecesSelection.total;this.allPiecesSelection.isSelected=e||this.checked.length&&this.maxReached()}},getDocModuleName(e){return e?e.slug.startsWith("/")?"@apostrophecms/page":e.type:this.moduleName},getContentChangedTypes(e,t){const i="@apostrophecms/submitted-draft";if(e){const n=this.getDocModuleName(e);return[n,i,...n!==e.type?[e.type]:[]]}return t?[...t,i]:[this.moduleName,i]}}},Xue={name:"AposDocsManager",mixins:[f0,Vo,oh],props:{moduleName:{type:String,required:!0},modalData:{type:Object,required:!0}},emits:["archive"],data(){return{modal:{active:!1,triggerFocusRefresh:0,type:"overlay",showModal:!1},headers:[],items:[],lastSelected:null,totalPages:1,currentPage:1,filterValues:{},queryExtras:{viewContext:this.relationshipField?"relationship":"manage"},holdQueries:!1,filterChoices:{},allPiecesSelection:{isSelected:!1,total:0}}},computed:{...yx(Cr,["activeModal"]),moduleOptions(){return window.apos.modules[this.moduleName]},moduleLabels(){return{singular:this.moduleOptions.label,plural:this.moduleOptions.pluralLabel}},saveRelationshipLabel(){return this.relationshipField&&this.relationshipField.max===1?{key:"apostrophe:selectOneLabel",typeLabel:this.$t(this.moduleLabels.singular)}:{key:"apostrophe:selectManyLabel",typeLabel:this.$t(this.moduleLabels.plural)}},modalTitle(){return{key:(this.relationshipField?"choose":"manage")==="choose"?"apostrophe:chooseDocType":"apostrophe:manageDocType",type:this.$t(this.moduleLabels.plural)}},emptyDisplay(){return{title:{key:"apostrophe:noTypeFound",type:this.$t(this.moduleLabels.plural||this.moduleLabels.singular)},message:"",emoji:""}},disableUnpublished(){return this.relationshipField&&apos.modules[this.relationshipField.withType].localized},selectAllChoice(){const e=this.checked.length,t=this.items.some(i=>!this.checked.includes(i._id));return{value:"checked",indeterminate:e&&t}}},created(){this.onSearchDebounced=wa(this.onSearch,500,{onSuccess:this.search}),this.moduleOptions.filters.forEach(t=>{this.filterValues[t.name]=t.def,t.choices||(this.queryExtras.choices=this.queryExtras.choices||[],this.queryExtras.choices.push(t.name))})},async mounted(){this.bindShortcuts(),this.headers=this.computeHeaders(),this.modal.active=!0,await this.managePieces(),await this.manageAllPiecesTotal(),this.modal.triggerFocusRefresh++,apos.bus.$on("content-changed",this.onContentChanged),apos.bus.$on("command-menu-manager-create-new",this.create),apos.bus.$on("command-menu-manager-close",this.confirmAndCancel)},onBeforeUnmount(){this.onSearchDebounced.cancel()},unmounted(){this.destroyShortcuts(),apos.bus.$off("content-changed",this.onContentChanged),apos.bus.$off("command-menu-manager-create-new",this.create),apos.bus.$off("command-menu-manager-close",this.confirmAndCancel)},methods:{async create(){await this.edit(null)},async edit(e){let t=null;typeof e=="object"?t=e:e&&(t=this.items.find(n=>n._id===e));const i=this.getDocModuleName(t);await apos.modal.execute(apos.modules[i].components.editorModal,{moduleName:i,docId:t&&t._id,filterValues:this.filterValues})},async finishSaved(){await this.managePieces()},async request(e){var o;const t={...this.filterValues,...this.queryExtras,...e,withPublished:1},i=(o=this.relationshipField)==null?void 0:o.withType;apos.modules["@apostrophecms/page"].validPageTypes.includes(i)&&(t.type=i);const s=Object.entries(t).reduce((r,[a,l])=>({...r,...l!==void 0&&{[a]:l}}),{});return apos.http.get(this.moduleOptions.action,{qs:s,busy:!0,draft:!0})},async requestPieces(e=1,t={}){const{currentPage:i,pages:n,results:s,choices:o}=await this.request({...t,...this.moduleOptions.managerApiProjection&&{project:this.moduleOptions.managerApiProjection},page:e});return{currentPage:i,pages:n,results:s,choices:o}},async requestAllPiecesTotal(){const{count:e}=await this.request({count:1});return e},async requestData(e=1,t={}){const i=await this.requestPieces(e,t),n=await this.requestAllPiecesTotal();return{...i,total:n}},setPieces(e){this.currentPage=e.currentPage,this.totalPages=e.pages,this.items=e.results,this.filterChoices=e.choices},async managePieces(){if(this.holdQueries)return;this.holdQueries=!0;const{currentPage:e,pages:t,results:i,choices:n}=await this.requestPieces(this.currentPage);this.setPieces({currentPage:e,pages:t,results:i,choices:n}),this.holdQueries=!1},async manageAllPiecesTotal(){const e=await this.requestAllPiecesTotal();this.setAllPiecesSelection({isSelected:!1,total:e})},async selectAllPieces(){const{results:e}=await this.request({project:{_id:1,_url:1,title:1},attachments:!1,perPage:this.allPiecesSelection.total});this.setAllPiecesSelection({isSelected:!0,docs:e})},async updatePage(e){e&&(this.currentPage=e,await this.managePieces())},async onSearch(e){const t={...this.queryExtras};e?t.autocomplete=e:"autocomplete"in this.queryExtras&&(t.autocomplete=void 0);const{total:i,...n}=await this.requestData(1,t);return{pieces:n,total:i}},async search({pieces:e,total:t}){e&&(this.currentPage=1,this.setPieces(e),this.setAllPiecesSelection({isSelected:!1,total:t}))},async filter(e,t){this.filterValues[e]!==t&&(this.filterValues[e]=t,this.currentPage=1,await this.managePieces(),await this.manageAllPiecesTotal(),this.headers=this.computeHeaders(),this.setCheckedDocs([]))},shortcutNew(e){var i;e.keyCode===78&&document.activeElement.tagName!=="INPUT"&&this.$refs.modal.id===((i=this.activeModal)==null?void 0:i.id)&&this.create()},bindShortcuts(){window.addEventListener("keydown",this.shortcutNew)},destroyShortcuts(){window.removeEventListener("keydown",this.shortcutNew)},computeHeaders(){let e=this.moduleOptions.columns||[];return this.filterValues.archived&&(e=e.filter(t=>t.component!=="AposCellLabels")),e},async editRelationship(e){const t=await apos.modal.execute("AposRelationshipEditor",{schema:this.relationshipField.schema,title:e.title,modelValue:e._fields});t&&(this.checkedDocs=this.checkedDocs.map(i=>i._id!==e._id?i:{...i,_fields:t}))},setAllPiecesSelection({isSelected:e,total:t,docs:i}){typeof e=="boolean"&&(this.allPiecesSelection.isSelected=e),typeof t=="number"&&(this.allPiecesSelection.total=t),i&&this.setCheckedDocs(i)},async handleBatchAction({label:e,action:t,requestOptions:i={},messages:n}){if(t)try{await apos.http.post(`${this.moduleOptions.action}/${t}`,{body:{...i,_ids:this.checked,messages:n,type:this.checked.length===1?this.moduleLabels.singular:this.moduleLabels.plural}})}catch(s){apos.notify("apostrophe:errorBatchOperationNoti",{interpolate:{operation:e},type:"danger"}),console.error(s)}},setCheckedDocs(e){var t;this.checkedDocs=e.slice(0,((t=this.relationshipField)==null?void 0:t.max)||e.length),this.checked=this.checkedDocs.map(i=>i._id)},async onContentChanged({doc:e,action:t,docIds:i,docTypes:n}){if(this.getContentChangedTypes(e,n).includes(this.moduleName)&&(i||!e.aposLocale||e.aposLocale.split(":")[0]===this.modalData.locale)&&(await this.managePieces(),await this.manageAllPiecesTotal(),["archive","restore"].includes(t))){const o=i||[e._id];this.checked=this.checked.filter(r=>!o.includes(r))}}}},Que={class:"apos-pieces-manager__relationship__rail"},ehe={class:"apos-pieces-manager__relationship__counts"},the={key:1,class:"apos-pieces-manager__empty"};function ihe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposUtilityOperations"),l=O("AposMinMaxCount"),c=O("AposSlatList"),u=O("AposModalRail"),h=O("AposDocsManagerToolbar"),m=O("AposDocsManagerSelectBox"),g=O("AposDocsManagerDisplay"),v=O("AposEmptyState"),_=O("AposModalBody"),w=O("AposModal");return p(),R(w,{ref:"modal",modal:s.modal,"modal-title":o.modalTitle,"modal-data":i.modalData,onEsc:e.confirmAndCancel,onInactive:t[1]||(t[1]=A=>s.modal.active=!1),onShowModal:t[2]||(t[2]=A=>s.modal.showModal=!0)},_l({secondaryControls:Q(()=>[e.relationshipField?(p(),R(r,{key:0,type:"default",label:"apostrophe:cancel",onClick:e.confirmAndCancel},null,8,["onClick"])):(p(),R(r,{key:1,type:"default",label:"apostrophe:exit",onClick:e.confirmAndCancel},null,8,["onClick"]))]),primaryControls:Q(()=>[D(a,{"module-options":o.moduleOptions,"has-relationship-field":!!e.relationshipField},null,8,["module-options","has-relationship-field"]),e.relationshipField?(p(),R(r,{key:0,type:"primary",label:o.saveRelationshipLabel,disabled:!!e.relationshipErrors,attrs:{"data-apos-focus-priority":1},onClick:e.saveRelationship},null,8,["label","disabled","onClick"])):o.moduleOptions.canCreate&&o.moduleOptions.showCreate?(p(),R(r,{key:1,label:{key:"apostrophe:newDocType",type:e.$t(o.moduleOptions.label)},type:"primary",attrs:{"data-apos-focus-priority":1},onClick:o.create},null,8,["label","onClick"])):S("v-if",!0)]),main:Q(()=>[D(_,null,{bodyHeader:Q(()=>[D(h,{"selected-state":e.selectAllState,"total-pages":s.totalPages,"current-page":s.currentPage,"filter-choices":s.filterChoices,"filter-values":s.filterValues,filters:o.moduleOptions.filters,labels:o.moduleLabels,"displayed-items":s.items.length,"is-relationship":!!e.relationshipField,checked:e.checked,"checked-count":e.checked.length,"batch-operations":o.moduleOptions.batchOperations,"module-name":i.moduleName,options:{disableUnchecked:e.maxReached()},onSelectClick:e.selectAll,onSearch:e.onSearchDebounced,onPageChange:o.updatePage,onFilter:o.filter,onBatch:o.handleBatchAction},null,8,["selected-state","total-pages","current-page","filter-choices","filter-values","filters","labels","displayed-items","is-relationship","checked","checked-count","batch-operations","module-name","options","onSelectClick","onSearch","onPageChange","onFilter","onBatch"]),D(m,{"selected-state":e.selectAllState,"module-labels":o.moduleLabels,"filter-values":s.filterValues,"checked-ids":e.checked,"all-pieces-selection":s.allPiecesSelection,"displayed-items":s.items.length,onSelectAll:o.selectAllPieces,onSetAllPiecesSelection:o.setAllPiecesSelection},null,8,["selected-state","module-labels","filter-values","checked-ids","all-pieces-selection","displayed-items","onSelectAll","onSetAllPiecesSelection"])]),bodyMain:Q(()=>[s.items.length>0?(p(),R(g,{key:0,checked:e.checked,"onUpdate:checked":t[0]||(t[0]=A=>e.checked=A),items:s.items,headers:s.headers,options:{...o.moduleOptions,disableUnchecked:e.maxReached(),disableUnpublished:o.disableUnpublished,manuallyPublished:e.manuallyPublished},onOpen:o.edit},null,8,["checked","items","headers","options","onOpen"])):(p(),y("div",the,[D(v,{"empty-state":o.emptyDisplay},null,8,["empty-state"])]))]),_:1})]),_:2},[e.relationshipField?{name:"leftRail",fn:Q(()=>[D(u,null,{default:Q(()=>{var A;return[k("div",Que,[k("div",ehe,[D(l,{field:e.relationshipField,"model-value":e.checkedDocs},null,8,["field","model-value"])]),D(c,{class:"apos-pieces-manager__relationship__items","model-value":e.checkedDocs,"relationship-schema":(A=e.relationshipField)==null?void 0:A.schema,"onUpdate:modelValue":o.setCheckedDocs,onItemClicked:o.editRelationship},null,8,["model-value","relationship-schema","onUpdate:modelValue","onItemClicked"])])]}),_:1})]),key:"0"}:void 0]),1032,["modal","modal-title","modal-data","onEsc"])}const nhe=I(Xue,[["render",ihe],["__scopeId","data-v-a19fe9cf"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/piece-type/apos/components/AposDocsManager.vue"]]),she={props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},checked:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},emits:["update:checked","open","updated"],data(){const e={_template:{hover:!1}};return this.items.forEach(t=>{e[t._id]=ut(e._template)}),{state:e}},computed:{checkProxy:{get(){return this.checked},set(e){this.$emit("update:checked",e)}},contextMenuOptions(){return this.options}},watch:{items(){this.refreshState()}},methods:{canEdit(e){return e._id?e._edit||this.options.canLocalize:this.options.canEdit||this.options.canLocalize},over(e){this.state[e].hover=!0},out(e){this.state[e].hover=!1},refreshState(){const e=ut(this.state._template),t={};this.items.forEach(i=>{t[i._id]=ut(e)}),t._template=e,this.state=t},getEl(e){return e.action?"button":"span"},emitUpdated(e){this.$emit("updated",e)}}},ohe={class:"apos-table"},rhe={key:"contextMenu",class:"apos-table__header"},ahe=["onMouseover","onMouseout"],lhe={class:"apos-table__cell"},che=["onClick"],dhe={class:"apos-table__cell apos-table__cell--context-menu"};function uhe(e,t,i,n,s,o){const r=O("AposCheckbox"),a=O("AposCellBasic"),l=O("AposCellContextMenu"),c=Bn("apos-tooltip");return p(),y("table",ohe,[k("tbody",null,[k("tr",null,[t[1]||(t[1]=k("th",{class:"apos-table__header"},null,-1)),(p(!0),y(Ce,null,Ie(i.headers,u=>(p(),y("th",{key:u.label,scope:"col",class:ne(["apos-table__header",`apos-table__header--${u.name}`])},[(p(),R(tt(o.getEl(u)),{class:"apos-table__header-label"},{default:Q(()=>[u.labelIcon?(p(),R(tt(e.icons[u.labelIcon]),{key:0,size:e.iconSize(u),class:"apos-table__header-icon"},null,8,["size"])):S("v-if",!0),Mt(" "+E(e.$t(u.label)),1)]),_:2},1024))],2))),128)),k("th",rhe,[(p(),R(tt(o.getEl({})),{class:"apos-table__header-label apos-is-hidden"},{default:Q(()=>[Mt(E(e.$t("apostrophe:moreOperations")),1)]),_:1}))])]),(p(!0),y(Ce,null,Ie(i.items,u=>(p(),y("tr",{key:u._id,class:ne(["apos-table__row",{"apos-is-selected":!1}]),onMouseover:h=>o.over(u._id),onMouseout:h=>o.out(u._id)},[k("td",lhe,[u._id?Ge((p(),R(r,{key:0,modelValue:o.checkProxy,"onUpdate:modelValue":t[0]||(t[0]=h=>o.checkProxy=h),field:{name:u._id,hideLabel:!0,label:e.$t({key:"apostrophe:toggleSelectionOf",title:u.title}),readOnly:i.options.disableUnchecked&&!o.checkProxy.includes(u._id)||i.options.disableUnpublished&&!u.lastPublishedAt},choice:{value:u._id},onUpdated:h=>o.emitUpdated(u._id)},null,8,["modelValue","field","choice","onUpdated"])),[[c,i.options.disableUnpublished&&!u.lastPublishedAt?"apostrophe:publishBeforeUsingTooltip":null]]):S("v-if",!0)]),(p(!0),y(Ce,null,Ie(i.headers,h=>(p(),y("td",{key:h.name,class:ne(["apos-table__cell apos-table__cell--pointer",`apos-table__cell--${h.name}`]),onClick:m=>o.canEdit(u)&&e.$emit("open",u)},[h.component?(p(),R(tt(h.component),{key:0,header:h,item:u._publishedDoc||u,draft:u,published:u._publishedDoc,"manually-published":i.options.manuallyPublished},null,8,["header","item","draft","published","manually-published"])):(p(),R(a,{key:1,header:h,draft:u,published:u._publishedDoc},null,8,["header","draft","published"]))],10,che))),128)),S(" append the context menu "),k("td",dhe,[D(l,{state:s.state[u._id],item:u,draft:u,published:u._publishedDoc,header:{columnHeader:"",property:"contextMenu",component:"AposCellContextMenu"},options:o.contextMenuOptions},null,8,["state","item","draft","published","options"])])],40,ahe))),128))])])}const hhe=I(she,[["render",uhe],["__scopeId","data-v-cb4ce1b4"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/piece-type/apos/components/AposDocsManagerDisplay.vue"]]),fhe={props:{selectedState:{type:String,required:!0},moduleLabels:{type:Object,required:!0},checkedIds:{type:Array,required:!0},allPiecesSelection:{type:Object,required:!0},displayedItems:{type:Number,required:!0}},emits:["select-all","clear-select","set-all-pieces-selection"],computed:{showSelectAll(){return!!(this.allPiecesSelection.isSelected||["checked","indeterminate"].includes(this.selectedState)&&this.allPiecesSelection.total>this.displayedItems)},selectBoxMessage(){const e=this.checkedIds.length,t=e===this.allPiecesSelection.total&&e!==1,i=this.allPiecesSelection.isSelected?t?"apostrophe:selectBoxMessageAllSelected":"apostrophe:selectBoxMessageSelected":e>this.displayedItems?"apostrophe:selectBoxMessage":"apostrophe:selectBoxMessagePage";return this.$t(i,{num:this.checkedIds.length,label:this.getLabel(this.checkedIds.length)})},selectBoxMessageButton(){const e=this.allPiecesSelection.total===1?"apostrophe:selectBoxMessageButton":"apostrophe:selectBoxMessageAllButton";return this.$t(e,{num:this.allPiecesSelection.total,label:this.getLabel(this.allPiecesSelection.total)})}},methods:{getLabel(e){return e===1?this.$t(this.moduleLabels.singular).toLowerCase():this.$t(this.moduleLabels.plural).toLowerCase()},clearSelection(){this.$emit("set-all-pieces-selection",{isSelected:!1,docs:[]})}}},phe={class:"apos-select-box"},mhe={class:"apos-select-box__content"},ghe={class:"apos-select-box__text"};function bhe(e,t,i,n,s,o){const r=O("AposButton");return p(),R(ns,{name:"collapse",duration:300,persisted:""},{default:Q(()=>[Ge(k("div",phe,[k("div",mhe,[k("p",ghe,[Mt(E(o.selectBoxMessage)+" ",1),i.allPiecesSelection.isSelected?(p(),R(r,{key:1,type:"subtle",modifiers:["inline","small","no-motion"],label:"apostrophe:clearSelection",class:"apos-select-box__select-all","text-color":"var(--a-primary)",disabled:!o.showSelectAll,onClick:o.clearSelection},null,8,["disabled","onClick"])):(p(),R(r,{key:0,type:"subtle",modifiers:["inline","small","no-motion"],label:o.selectBoxMessageButton,class:"apos-select-box__select-all","text-color":"var(--a-primary)",disabled:!o.showSelectAll,onClick:t[0]||(t[0]=a=>e.$emit("select-all"))},null,8,["label","disabled"]))])])],512),[[ti,o.showSelectAll]])]),_:1})}const yhe=I(fhe,[["render",bhe],["__scopeId","data-v-1d777845"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/piece-type/apos/components/AposDocsManagerSelectBox.vue"]]),vhe={name:"AposRelationshipEditor",mixins:[Vo,u0,h0],props:{schema:{type:Array,default(){return[]}},modelValue:{type:Object,default(){return null}},title:{type:String,required:!0}},emits:["modal-result"],data(){return{docReady:!1,original:this.modelValue,docFields:{data:{...this.modelValue!=null?this.modelValue:id(this.schema)},hasErrors:!1},modal:{active:!1,type:"overlay",showModal:!0},modalTitle:{key:"apostrophe:editRelationshipFor",title:this.title},triggerValidation:!1}},async mounted(){this.modal.active=!0,this.docReady=!0},methods:{async submit(){this.triggerValidation=!0,this.$nextTick(async()=>{this.errorCount?(this.triggerValidation=!1,await apos.notify("apostrophe:resolveErrorsBeforeSaving",{type:"warning",icon:"alert-circle-icon",dismiss:!0}),this.focusNextError()):(this.$emit("modal-result",this.docFields.data),this.modal.showModal=!1)})},updateDocFields(e){this.updateFieldErrors(e.fieldState),this.docFields.data={...this.docFields.data,...e.data}},isModified(){return Es(this.schema,this.original,this.docFields.data)}}},_he={class:"apos-doc-editor__body"};function whe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposModalTabs"),l=O("AposModalRail"),c=O("AposSchema"),u=O("AposModalTabsBody"),h=O("AposModalBody"),m=O("AposModal");return p(),R(m,{class:"apos-doc-editor",modal:s.modal,"modal-title":s.modalTitle,onInactive:t[0]||(t[0]=g=>s.modal.active=!1),onShowModal:t[1]||(t[1]=g=>s.modal.showModal=!0),onEsc:e.confirmAndCancel},{secondaryControls:Q(()=>[D(r,{type:"default",label:"apostrophe:cancel",onClick:e.confirmAndCancel},null,8,["onClick"])]),primaryControls:Q(()=>[D(r,{type:"primary",label:"apostrophe:save",disabled:!!e.errorCount,tooltip:e.errorTooltip,attrs:{"data-apos-focus-priority":!0},onClick:o.submit},null,8,["disabled","tooltip","onClick"])]),leftRail:Q(()=>[D(l,null,{default:Q(()=>[e.tabs.length?(p(),R(a,{key:e.tabKey,current:e.currentTab,tabs:e.tabs,errors:e.fieldErrors,onSelectTab:e.switchPane},null,8,["current","tabs","errors","onSelectTab"])):S("v-if",!0)]),_:1})]),main:Q(()=>[D(h,null,{bodyMain:Q(()=>[D(u,null,{default:Q(()=>[k("div",_he,[(p(!0),y(Ce,null,Ie(e.tabs,g=>Ge((p(),R(c,{key:g.name,ref_for:!0,ref:g.name,schema:e.groups[g.name].schema,"current-fields":e.groups[g.name].fields,"model-value":s.docFields,"trigger-validation":s.triggerValidation,"onUpdate:modelValue":o.updateDocFields},null,8,["schema","current-fields","model-value","trigger-validation","onUpdate:modelValue"])),[[ti,g.name===e.currentTab]])),128))])]),_:1})]),_:1})]),_:1},8,["modal","modal-title","onEsc"])}const Che=I(vhe,[["render",whe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/piece-type/apos/components/AposRelationshipEditor.vue"]]),khe={props:{moduleOptions:{type:Object,required:!0},hasRelationshipField:{type:Boolean,required:!0}},data(){return{utilityOperations:{button:{label:"apostrophe:moreOperations",iconOnly:!0,icon:"dots-vertical-icon",type:"outline"},menu:[]}}},computed:{moduleLabels(){return{singular:this.moduleOptions.label,plural:this.moduleOptions.pluralLabel}}},async mounted(){this.setUtilityOperations()},methods:{async handleUtilityOperation(e){const t=[...this.utilityOperations.menu,...this.utilityOperations.buttons].find(r=>r.action===e.action);if(!t){console.error("utility operation definition was not found");return}const{modal:i,...n}=t.modalOptions||{},{event:s,...o}=t.eventOptions||{};i?await apos.modal.execute(i,{moduleName:this.moduleOptions.name,moduleAction:this.moduleOptions.action,action:e.action,labels:this.moduleLabels,messages:t.messages,...n}):s?apos.bus.$emit(s,o):console.error("utility operation has no modalOptions.modal or eventOptions.event property")},setUtilityOperations(){const{utilityOperations:e,canPublish:t,canEdit:i,canArchive:n,canCreate:s}=this.moduleOptions,o=(Array.isArray(e)&&e||[]).filter(r=>{let a=!0;return r.relationship!=null&&(this.hasRelationshipField?a=r.relationship:a=!r.relationship),r.canCreate&&(a=a&&s),r.canEdit&&(a=a&&i),r.canArchive&&(a=a&&n),r.canPublish&&(a=a&&t),a});this.utilityOperations.menu=o.filter(r=>!r.button),this.utilityOperations.buttons=o.filter(r=>r.button)}}},Ahe={class:"apos-utility-operations"};function She(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposContextMenu");return p(),y("div",Ahe,[(p(!0),y(Ce,null,Ie(s.utilityOperations.buttons,l=>(p(),R(r,{key:l.action,type:"default","icon-only":l.iconOnly,icon:l.icon||!1,label:l.label,onClick:c=>o.handleUtilityOperation(l.action)},null,8,["icon-only","icon","label","onClick"]))),128)),s.utilityOperations.menu.length?(p(),R(a,{key:0,button:s.utilityOperations.button,menu:s.utilityOperations.menu,onItemClicked:o.handleUtilityOperation},null,8,["button","menu","onItemClicked"])):S("v-if",!0)])}const xhe=I(khe,[["render",She],["__scopeId","data-v-e1825092"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/piece-type/apos/components/AposUtilityOperations.vue"]]),Mhe={name:"AposPagesManager",mixins:[Vo,f0,d0,oh],emits:["archive","search","modal-result"],props:{modalData:{type:Object,required:!0}},data(){return{moduleName:"@apostrophecms/page",modal:{active:!1,triggerFocusRefresh:0,type:"slide",showModal:!1,width:"two-thirds"},headers:[],holdQueries:!1,currentPage:1,totalPages:1,pages:[],pagesFlat:[],updateQueue:sx(),updateQueueIndex:0,options:{columns:[{columnHeader:"apostrophe:pageTitle",property:"title",cellValue:"title"},{name:"labels",component:"AposCellLabels"},{columnHeader:"apostrophe:lastEdited",property:"updatedAt",component:"AposCellLastEdited",cellValue:"updatedAt"},{property:"contextMenu",component:"AposCellContextMenu"}]},queryExtras:{},filterValues:{},filterChoices:{},allPiecesSelection:{isSelected:!1,total:0}}},computed:{isModified(){return this.updateQueueIndex>0&&this.updateQueue.hasTasks()?!0:this.relationshipIsModified()},treeOptions(){return{bulkSelect:!0,draggable:!this.filterValues.archived,ghostUnpublished:!0,max:this.relationshipField.max||null}},moduleOptions(){return apos.page},moduleLabels(){return{singular:this.moduleOptions.label,plural:this.moduleOptions.pluralLabel}},saveRelationshipLabel(){return this.relationshipField&&this.relationshipField.max===1?"apostrophe:selectPage":"apostrophe:selectPages"},items(){return!this.pagesFlat||!this.headers.length?[]:ut(this.pagesFlat)},selectAllChoice(){const e=this.checked.length,t=this.items.length;return e>0&&e!==t?{value:"checked",indeterminate:!0}:{value:"checked"}},canCreate(){const e=this.items.find(t=>t.aposDocId===this.moduleOptions.page.aposDocId);return e?e._create:this.moduleOptions.canCreate},checkedTypes(){const e=this.checkedDocs.map(t=>t.type);return[...new Set(e)]}},created(){this.onSearch=wa(this.search,500),this.moduleOptions.filters.forEach(t=>{this.filterValues[t.name]=t.def,t.choices||(this.queryExtras.choices=this.queryExtras.choices||[],this.queryExtras.choices.push(t.name))})},async mounted(){this.headers=this.computeHeaders(),this.modal.active=!0,await this.getPages(),this.getAllPagesTotal(),this.modal.triggerFocusRefresh++,apos.bus.$on("content-changed",this.onContentChanged),apos.bus.$on("command-menu-manager-create-new",this.create),apos.bus.$on("command-menu-manager-close",this.confirmAndCancel)},unmounted(){apos.bus.$off("content-changed",this.onContentChanged),apos.bus.$off("command-menu-manager-create-new",this.create),apos.bus.$off("command-menu-manager-close",this.confirmAndCancel)},methods:{async create(){const e=await apos.modal.execute(this.moduleOptions.components.editorModal,{moduleName:this.moduleName,filterValues:this.filterValues});e&&(await this.getPages(),this.relationshipField&&(e._fields=e._fields||{},this.checkedDocs.push(e),this.checked.push(e._id)))},onUpdate(e){this.updateQueueIndex++,this.updateQueue.add(()=>this.update(e)).then(()=>{this.updateQueueIndex++}).catch(()=>{this.updateQueueIndex++})},async update(e){var s,o;const t={_targetId:e.endContext,_position:e.endIndex},i=`${this.moduleOptions.action}/${e.changedId}`;let n;try{n=await apos.http.patch(i,{busy:!1,body:t,draft:!0})}catch(r){await apos.notify(r.body.message||this.$t("apostrophe:treeError"),{type:"danger",icon:"alert-circle-icon",dismiss:!0,localize:!1})}if(n.__changed)try{await this.updateTree(n);const r=(s=window.apos.page.page)==null?void 0:s.slug,a=(o=window.apos.page.page)==null?void 0:o.aposDocId,l=this.pagesFlat.find(c=>c.aposDocId===a);l&&l.slug!==r&&location.assign(l._url)}catch(r){await apos.notify(r.body.message||this.$t("apostrophe:treeError"),{type:"danger",icon:"alert-circle-icon",dismiss:!0,localize:!1}),await this.getPages()}else await this.getPages();this.items.some(r=>{var a;return r.aposDocId===((a=window.apos.page.page)==null?void 0:a.aposDocId)&&r.archived})&&location.assign(`${apos.prefix}/`)},async updateTree(e){const{__changed:t,...i}=e,n=t.map(u=>u.slug?{...u,_url:`${window.apos.prefix}${u.slug}`}:u),s=await apos.http.get(`${this.moduleOptions.action}/${i._id.replace(":draft",":published")}`,{busy:!1}),o=n.find(u=>u._id===e._id),r=Object.keys(o).reduce((u,h)=>(u[h]=s[h],u),{});n.push(r);const a=n.reduce((u,h,m)=>(u[h._id]=m,u),{});this.pages.forEach(l);for(const[u,h]of this.pagesFlat.entries())c(h,n,a)&&(this.pagesFlat[u]={...h});this.pages=[...this.pages],this.pagesFlat=[...this.pagesFlat];function l(u){c(u,n,a),u._children&&u._children.forEach(l)}function c(u,h,m){var v;const g=(v=u._publishedDoc)==null?void 0:v._id;return g&&typeof m[g]<"u"&&(Object.assign(u._publishedDoc,h[m[g]]),u._publishedDoc={...u._publishedDoc}),typeof m[u._id]<"u"?(Object.assign(u,h[m[u._id]]),h[m[u._id]].slug&&u._publishedDoc&&(u._publishedDoc.slug=u.slug,u._publishedDoc.path=u.path,u._publishedDoc._url=u._url,u._publishedDoc={...u._publishedDoc}),!0):!1}},async request(e){const t={...this.filterValues,...this.queryExtras,...e,archived:this.relationshipField||!this.filterValues.archived?"0":"any",all:"1",withPublished:1},i=Object.entries(t).reduce((n,[s,o])=>({...n,...o!==void 0&&{[s]:o}}),{});return apos.http.get(this.moduleOptions.action,{qs:i,busy:!0,draft:!0})},async getPages(){if(this.holdQueries){setTimeout(this.getPages,100);return}this.holdQueries=!0;const e=this;try{this.pages=[],this.pagesFlat=[];let i=await this.request({page:this.currentPage});this.filterValues.archived&&(i=i._children.find(n=>n.slug==="/archive"),i=i._children),t(i),!i.length&&i.length!==0&&(i=[i]),this.currentPage=1,this.totalPages=1,this.pages=[...i]}finally{this.holdQueries=!1}function t(i){if(i.length){i.forEach(t);return}e.pagesFlat.push(ut(i)),Array.isArray(i._children)&&i._children.forEach(t)}},getAllPagesTotal(){this.setAllPiecesSelection({isSelected:!1,total:this.items.length})},selectAllPieces(){this.setAllPiecesSelection({isSelected:!0,docs:this.items})},async search(e){if(e)this.queryExtras.autocomplete=e;else if("autocomplete"in this.queryExtras)delete this.queryExtras.autocomplete;else return;this.currentPage=1,await this.getPages()},async filter(e,t){this.filterValues[e]!==t&&(this.filterValues[e]=t,this.currentPage=1,await this.getPages(),this.getAllPagesTotal(),this.headers=this.computeHeaders(),this.setCheckedDocs([]))},computeHeaders(){let e=this.options.columns||[];return this.filterValues.archived&&(e=e.filter(t=>t.component!=="AposCellLabels")),e},async editRelationship(e){const t=await apos.modal.execute("AposRelationshipEditor",{schema:this.relationshipField.schema,title:e.title,modelValue:e._fields});t&&(this.checkedDocs=this.checkedDocs.map(i=>i._id!==e._id?i:{...i,_fields:t}))},setAllPiecesSelection({isSelected:e,total:t,docs:i}){typeof e=="boolean"&&(this.allPiecesSelection.isSelected=e),typeof t=="number"&&(this.allPiecesSelection.total=t),i&&this.setCheckedDocs(i)},async handleBatchAction({label:e,action:t,requestOptions:i={},messages:n}){if(t)try{await apos.http.post(`${this.moduleOptions.action}/${t}`,{body:{...i,_ids:this.checked,messages:n,type:this.checked.length===1?this.moduleLabels.singular:this.moduleLabels.plural}}),t==="archive"&&(await this.getPages(),this.getAllPagesTotal(),this.checked=[])}catch(s){apos.notify("apostrophe:errorBatchOperationNoti",{interpolate:{operation:e},type:"danger"}),console.error(s)}},setCheckedDocs(e){var t;this.checkedDocs=e.slice(0,((t=this.relationshipField)==null?void 0:t.max)||e.length),this.checked=this.checkedDocs.map(i=>i._id)},async onContentChanged({doc:e,action:t,docIds:i,docTypes:n}){this.getContentChangedTypes(e,n).includes(this.moduleName)&&(i||!e.aposLocale||e.aposLocale.split(":")[0]===this.modalData.locale)&&(await this.getPages(),this.getAllPagesTotal(),t==="archive"&&(this.checked=this.checked.filter(o=>e._id!==o)))}}},The={name:"AposPagesManager",mixins:[Mhe],emits:["archive","search","modal-result"]},Ohe={class:"apos-pages-manager__relationship__rail"},Ehe={class:"apos-pages-manager__relationship__counts"};function Ihe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposUtilityOperations"),l=O("AposMinMaxCount"),c=O("AposSlatList"),u=O("AposModalRail"),h=O("AposDocsManagerToolbar"),m=O("AposDocsManagerSelectBox"),g=O("AposTree"),v=O("AposModalBody"),_=O("AposModal");return p(),R(_,{modal:e.modal,"modal-data":e.modalData,"modal-title":"apostrophe:managePages",onEsc:e.confirmAndCancel,onInactive:t[2]||(t[2]=w=>e.modal.active=!1),onShowModal:t[3]||(t[3]=w=>e.modal.showModal=!0)},_l({secondaryControls:Q(()=>[e.relationshipField?(p(),R(r,{key:0,type:"default",label:"apostrophe:cancel",onClick:e.confirmAndCancel},null,8,["onClick"])):(p(),R(r,{key:1,type:"default",label:"apostrophe:exit",onClick:e.confirmAndCancel},null,8,["onClick"]))]),primaryControls:Q(()=>[D(a,{"module-options":e.moduleOptions,"has-relationship-field":!!e.relationshipField},null,8,["module-options","has-relationship-field"]),e.relationshipField?(p(),R(r,{key:0,type:"primary",label:e.saveRelationshipLabel,disabled:!!e.relationshipErrors,attrs:{"data-apos-focus-priority":!0},onClick:e.saveRelationship},null,8,["label","disabled","onClick"])):e.canCreate?(p(),R(r,{key:1,type:"primary",label:"apostrophe:newPage",attrs:{"data-apos-focus-priority":!0},onClick:t[0]||(t[0]=w=>e.create())})):S("v-if",!0)]),main:Q(()=>[D(v,null,_l({bodyMain:Q(()=>[D(g,{checked:e.checked,"onUpdate:checked":t[1]||(t[1]=w=>e.checked=w),items:e.pages,headers:e.headers,icons:e.icons,options:e.treeOptions,"module-options":e.moduleOptions,onUpdate:e.onUpdate},null,8,["checked","items","headers","icons","options","module-options","onUpdate"])]),_:2},[e.relationshipField?void 0:{name:"bodyHeader",fn:Q(()=>[D(h,{"selected-state":e.selectAllState,"total-pages":e.totalPages,"current-page":e.currentPage,"filter-choices":e.filterChoices,"filter-values":e.filterValues,filters:e.moduleOptions.filters,labels:e.moduleLabels,"displayed-items":e.items.length,"is-relationship":!!e.relationshipField,checked:e.checked,"checked-types":e.checkedTypes,"checked-count":e.checked.length,"batch-operations":e.moduleOptions.batchOperations,"module-name":e.moduleName,options:{disableUnchecked:e.maxReached(),noPager:!0,noSearch:!0},onSelectClick:e.selectAll,onSearch:e.onSearch,onFilter:e.filter,onBatch:e.handleBatchAction},null,8,["selected-state","total-pages","current-page","filter-choices","filter-values","filters","labels","displayed-items","is-relationship","checked","checked-types","checked-count","batch-operations","module-name","options","onSelectClick","onSearch","onFilter","onBatch"]),D(m,{"selected-state":e.selectAllState,"module-labels":e.moduleLabels,"filter-values":e.filterValues,"checked-ids":e.checked,"all-pieces-selection":e.allPiecesSelection,"displayed-items":e.items.length,onSelectAll:e.selectAllPieces,onSetAllPiecesSelection:e.setAllPiecesSelection},null,8,["selected-state","module-labels","filter-values","checked-ids","all-pieces-selection","displayed-items","onSelectAll","onSetAllPiecesSelection"])]),key:"0"}]),1024)]),_:2},[e.relationshipField?{name:"leftRail",fn:Q(()=>[D(u,null,{default:Q(()=>{var w;return[k("div",Ohe,[k("div",Ehe,[D(l,{field:e.relationshipField,"model-value":e.checkedDocs},null,8,["field","model-value"])]),D(c,{class:"apos-pages-manager__relationship__items","model-value":e.checkedDocs,"relationship-schema":(w=e.relationshipField)==null?void 0:w.schema,"onUpdate:modelValue":e.setCheckedDocs,onItemClicked:e.editRelationship},null,8,["model-value","relationship-schema","onUpdate:modelValue","onItemClicked"])])]}),_:1})]),key:"0"}:void 0]),1032,["modal","modal-data","onEsc"])}const $he=I(The,[["render",Ihe],["__scopeId","data-v-00e96c05"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/page/apos/components/AposPagesManager.vue"]]),Lhe={name:"AposAreaContextualMenu",props:{buttonOptions:{type:Object,required:!0},contextMenuOptions:{type:Object,required:!0},index:{type:Number,default:0},options:{type:Object,required:!0},maxReached:{type:Boolean},disabled:{type:Boolean,default:!1},widgetOptions:{type:Object,default:function(){return{}}},menuId:{type:String,default(){return`areaMenu-${Ut.createId()}`}},open:{type:Boolean}},emits:["add"],data(){return{active:0,groupIsFocused:!1,inContext:!0,buttonOpen:!1}},computed:{moduleOptions(){return window.apos.area},isDisabled(){let e=this.disabled;return this.maxReached&&(e=!0),e},extendedContextMenuOptions(){const e=["unpadded"];return this.groupedMenus||e.push("tb-padded"),{menuPlacement:"bottom",menuOffset:15,...this.contextMenuOptions,modifiers:e}},groupedMenus(){let e=!1;return this.contextMenuOptions.menu.forEach(t=>{t.items&&(e=!0)}),e},myMenu(){let e=0;if(this.open&&e++,this.buttonOpen&&e++,e===0)return[];const t=apos.area.widgetClipboard.get(),i=[...this.contextMenuOptions.menu];if(t){const n=t,s=i.find(o=>o.name===n.type);s&&i.unshift({type:"clipboard",...s,label:{key:"apostrophe:pasteWidget",widget:this.$t(s.label)},clipboard:n})}return this.groupedMenus?this.composeGroups(i):i}},mounted(){this.inContext=!apos.util.closest(this.$el,"[data-apos-schema-area]")},methods:{async add(e){this.$refs.contextMenu.hide(),this.$emit("add",{...e,index:this.index})},groupFocused(){this.groupIsFocused=!0},groupBlurred(){this.groupIsFocused=!1},composeGroups(e){const t={label:"apostrophe:ungroupedWidgets",items:[]},i=[];return e.forEach(n=>{n.items?i.push(n):t.items.push(n)}),t.items.length&&i.push(t),i},toggleGroup(e){this.active!==e?this.active=e:this.active=null},switchGroup(e,t){let i;t>0&&(i=e<this.$refs.groupButton.length-1?e+1:0),t<0&&(i=e===0?this.$refs.groupButton.length-1:e-1),t===0&&(i=0),t||(i=this.$refs.groupButton.length-1),this.$nextTick(()=>{this.$refs.groupButton[i].focus()})},switchItem(e,t){this.$refs[e]&&this.$refs[e][0].querySelector("button").focus()}}},Phe={class:"apos-area-menu__wrapper"},Dhe={key:0,class:"apos-area-menu__group"},Rhe=["id","for","aria-controls","onClick","onKeydown"],Hhe={class:"apos-area-menu__group-list",role:"region"},Vhe=["id","aria-labelledby","aria-expanded"];function zhe(e,t,i,n,s,o){const r=O("chevron-up-icon"),a=O("AposAreaMenuItem"),l=O("AposContextMenu");return p(),y("div",{class:ne(["apos-area-menu",{"apos-is-focused":s.groupIsFocused}])},[D(l,J(o.extendedContextMenuOptions,{ref:"contextMenu",disabled:o.isDisabled,button:i.buttonOptions,"popover-modifiers":s.inContext?["z-index-in-context"]:[],"menu-id":i.menuId,onOpen:t[2]||(t[2]=c=>s.buttonOpen=!0),onClose:t[3]||(t[3]=c=>s.buttonOpen=!1)}),{default:Q(()=>[k("ul",Phe,[(p(!0),y(Ce,null,Ie(o.myMenu,(c,u)=>(p(),y("li",{key:c.type?`${c.type}_${c.label}`:c.label,ref_for:!0,ref:`item-${u}`,class:ne(["apos-area-menu__item",{"apos-has-group":c.items}])},[c.items?(p(),y("dl",Dhe,[k("dt",null,[c.items?(p(),y("button",{key:0,id:`${i.menuId}-trigger-${u}`,ref_for:!0,ref:"groupButton",for:c.label,class:"apos-area-menu__group-label",tabindex:"0","aria-controls":`${i.menuId}-group-${u}`,onFocus:t[0]||(t[0]=(...h)=>o.groupFocused&&o.groupFocused(...h)),onBlur:t[1]||(t[1]=(...h)=>o.groupBlurred&&o.groupBlurred(...h)),onClick:h=>o.toggleGroup(u),onKeydown:[Qe(Je(h=>o.toggleGroup(u),["prevent"]),["space"]),Qe(Je(h=>o.toggleGroup(u),["prevent"]),["enter"]),Qe(Je(h=>o.switchGroup(u,1),["prevent"]),["arrow-down"]),Qe(Je(h=>o.switchGroup(u,-1),["prevent"]),["arrow-up"]),Qe(Je(h=>o.switchGroup(u,0),["prevent"]),["home"]),Qe(Je(h=>o.switchGroup(u,null),["prevent"]),["end"])]},[k("span",null,E(c.label),1),D(r,{class:ne(["apos-area-menu__group-chevron",{"apos-is-active":u===s.active}]),size:13},null,8,["class"])],40,Rhe)):S("v-if",!0)]),k("dd",Hhe,[k("ul",{id:`${i.menuId}-group-${u}`,class:ne(["apos-area-menu__items apos-area-menu__items--accordion",{"apos-is-active":s.active===u}]),"aria-labelledby":`${i.menuId}-trigger-${u}`,"aria-expanded":s.active===u?"true":"false"},[(p(!0),y(Ce,null,Ie(c.items,(h,m)=>(p(),y("li",{key:h.name,ref_for:!0,ref:`child-${i.index}-${m}`,class:"apos-area-menu__item"},[D(a,{item:h,tabbable:u===s.active,onClick:g=>o.add(h),onUp:g=>o.switchItem(`child-${u}-${m-1}`,-1),onDown:g=>o.switchItem(`child-${u}-${m+1}`,1)},null,8,["item","tabbable","onClick","onUp","onDown"])]))),128))],10,Vhe)])])):(p(),R(a,{key:1,item:c,onClick:h=>o.add(c),onUp:h=>o.switchItem(`item-${u-1}`,-1),onDown:h=>o.switchItem(`item-${u+1}`,1)},null,8,["item","onClick","onUp","onDown"]))],2))),128))])]),_:1},16,["disabled","button","popover-modifiers","menu-id"])],2)}const Nhe=I(Lhe,[["render",zhe],["__scopeId","data-v-02b40468"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/area/apos/components/AposAreaContextualMenu.vue"]]),Bhe={name:"AposAreaEditor",mixins:[sh],props:{docId:{type:String,default:null},docType:{type:String,default:null},id:{type:String,required:!0},field:{type:Object,default(){return{}}},fieldId:{type:String,required:!0},options:{type:Object,default(){return{}}},items:{type:Array,default(){return[]}},meta:{type:Object,default(){return{}}},followingValues:{type:Object,default(){return{}}},choices:{type:Array,required:!0},renderings:{type:Object,default(){return{}}},generation:{type:Number,required:!1,default(){return null}}},emits:["changed"],data(){return{addWidgetEditor:null,addWidgetOptions:null,addWidgetType:null,areaId:Ut.createId(),next:this.getValidItems(),hoveredWidget:null,hoveredNonForeignWidget:null,focusedWidget:null,contextMenuOptions:{menu:this.choices},edited:{},widgets:{}}},computed:{isEmptySingleton(){return this.next.length===0&&this.options.widgets&&Object.keys(this.options.widgets).length===1&&(this.options.max||this.field.max)&&(this.options.max===1||this.field.max===1)},icon(){let e=null;return this.isEmptySingleton&&this.contextMenuOptions.menu[0]&&this.contextMenuOptions.menu[0].icon&&(e=this.contextMenuOptions.menu[0].icon),e},moduleOptions(){return window.apos.area},types(){return Object.keys(this.widgets)},maxReached(){return this.options.max&&this.next.length>=this.options.max},foreign(){return!!(this.docId&&window.apos.adminBar.contextId!==this.docId)}},watch:{next(){this.docId||this.$emit("changed",{items:this.next}),apos.bus.$emit("area-updated",{_id:this.id,items:this.next})},generation(){this.next=this.getValidItems()}},created(){if(this.options.groups)for(const e of Object.keys(this.options.groups))this.widgets={...this.options.groups[e].widgets,...this.widgets}},mounted(){this.bindEventListeners()},beforeUnmount(){this.unbindEventListeners()},methods:{bindEventListeners(){apos.bus.$on("area-updated",this.areaUpdatedHandler),apos.bus.$on("widget-hover",this.updateWidgetHovered),apos.bus.$on("widget-focus",this.updateWidgetFocused),window.addEventListener("keydown",this.focusParentEvent)},unbindEventListeners(){apos.bus.$off("area-updated",this.areaUpdatedHandler),apos.bus.$off("widget-hover",this.updateWidgetHovered),apos.bus.$off("widget-focus",this.updateWidgetFocused),window.removeEventListener("keydown",this.focusParentEvent)},areaUpdatedHandler(e){for(const t of this.next)if(this.patchSubobject(t,e))break},focusParentEvent(e){e.metaKey&&e.keyCode===8&&apos.bus.$emit("widget-focus-parent",this.focusedWidget)},updateWidgetHovered({_id:e,nonForeignId:t}){this.hoveredWidget=e,this.hoveredNonForeignWidget=t},updateWidgetFocused(e){this.focusedWidget=e,window.apos.focusedWidget=e},async up(e){this.docId===window.apos.adminBar.contextId&&apos.bus.$emit("context-edited",{$move:{[`@${this.id}.items`]:{$item:this.next[e]._id,$before:this.next[e-1]._id}}}),this.next=[...this.next.slice(0,e-1),this.next[e],this.next[e-1],...this.next.slice(e+1)]},async down(e){this.docId===window.apos.adminBar.contextId&&apos.bus.$emit("context-edited",{$move:{[`@${this.id}.items`]:{$item:this.next[e]._id,$after:this.next[e+1]._id}}}),this.next=[...this.next.slice(0,e),this.next[e+1],this.next[e],...this.next.slice(e+2)]},async remove(e,{autosave:t=!0}={}){t&&this.docId===window.apos.adminBar.contextId&&apos.bus.$emit("context-edited",{$pullAllById:{[`@${this.id}.items`]:[this.next[e]._id]}}),this.next=[...this.next.slice(0,e),...this.next.slice(e+1)]},async cut(e){apos.area.widgetClipboard.set(this.next[e]),await this.remove(e),apos.notify("Widget cut to clipboard",{type:"success",icon:"content-cut-icon",dismiss:!0})},async copy(e){apos.area.widgetClipboard.set(this.next[e]),apos.notify("Widget copied to clipboard",{type:"success",icon:"content-copy-icon",dismiss:!0})},async edit(e){var i;if(this.foreign)try{const n=await apos.http.get(`${window.apos.doc.action}/${this.docId}`,{busy:!0});if(n._url){const s=window.apos.adminBar.context.title;await apos.confirm({heading:this.$t("apostrophe:leavePageHeading",{oldTitle:s,newTitle:n.title}),description:this.$t("apostrophe:leavePageDescription",{oldTitle:s}),localize:!1})&&location.assign(n._url)}else apos.bus.$emit("admin-menu-click",{itemName:`${n.type}:editor`,props:{docId:n._id}});return}catch(n){if(n.status===404){apos.notify("apostrophe:notFound",{type:"error"});return}else throw n}const t=this.next[e];if(!this.widgetIsContextual(t.type)){const n=this.widgetEditorComponent(t.type);apos.area.activeEditor=this,apos.bus.$on("apos-refreshing",ck);const s=this.widgetPreview(t.type,e,!1),o=await apos.modal.execute(n,{modelValue:t,options:this.widgetOptionsByType(t.type),type:t.type,docId:this.docId,parentFollowingValues:this.followingValues,areaFieldId:this.fieldId,meta:(i=this.meta[t._id])==null?void 0:i.aposMeta,preview:s});if(apos.area.activeEditor=null,apos.bus.$off("apos-refreshing",ck),o)return this.update(o)}},clone(e){const t=ut(this.next[e]);delete t._id,this.regenerateIds(apos.modules[apos.area.widgetManagers[t.type]].schema,t),this.insert({widget:t,index:e})},regenerateIds(e,t){t._id=Ut.createId();for(const i of e)if(i.type==="array")for(const n of t[i.name]||[])this.regenerateIds(i.schema,n);else if(i.type==="object")this.regenerateIds(i.schema,t[i.name]||{});else if(i.type==="area"&&t[i.name]){t[i.name]._id=Ut.createId();for(const n of t[i.name].items||[]){const s=apos.modules[apos.area.widgetManagers[n.type]].schema;this.regenerateIds(s,n)}}},async update(e,{autosave:t=!0,reverting:i=!1}={}){i||(e.aposPlaceholder=!1),e.metaType||(e.metaType="widget"),t&&this.docId===window.apos.adminBar.contextId&&apos.bus.$emit("context-edited",{[`@${e._id}`]:e}),this.next=this.next.map(n=>n._id===e._id?e:n),this.edited[e._id]=!0},async add({index:e,name:t,clipboard:i}){if(i)return apos.area.widgetClipboard.set(null),this.regenerateIds(apos.modules[apos.area.widgetManagers[i.type]].schema,i),this.insert({widget:i,index:e});if(this.widgetIsContextual(t))return this.insert({widget:{type:t,...this.contextualWidgetDefaultData(t),aposPlaceholder:this.widgetHasPlaceholder(t)},index:e});if(this.widgetHasInitialModal(t)){const n=this.widgetEditorComponent(t);apos.area.activeEditor=this;const s=this.widgetPreview(t,e,!0),o=await apos.modal.execute(n,{modelValue:null,options:this.widgetOptionsByType(t),type:t,docId:this.docId,areaFieldId:this.fieldId,parentFollowingValues:this.followingValues,preview:s});if(apos.area.activeEditor=null,o)return this.insert({widget:o,index:e})}else{const n=this.newWidget(t);return this.insert({widget:{...n,aposPlaceholder:this.widgetHasPlaceholder(t)},index:e})}},widgetOptionsByType(e){var t;if(this.options.widgets)return this.options.widgets[e];if(this.options.expanded){for(const i of Object.values(this.options.groups||{}))if((t=i==null?void 0:i.widgets)!=null&&t[e])return i.widgets[e]}return null},contextualWidgetDefaultData(e){return this.moduleOptions.contextualWidgetDefaultData[e]},async insert({index:e,widget:t,autosave:i=!0}={}){if(t._id||(t._id=Ut.createId()),t.metaType||(t.metaType="widget"),i&&this.docId===window.apos.adminBar.contextId){const n={$each:[t]};e<this.next.length&&(n.$before=this.next[e]._id),apos.bus.$emit("context-edited",{$push:{[`@${this.id}.items`]:n}})}this.next=[...this.next.slice(0,e),t,...this.next.slice(e)],this.widgetIsContextual(t.type)&&this.edit(e)},widgetIsContextual(e){return this.moduleOptions.widgetIsContextual[e]},widgetHasPlaceholder(e){return this.moduleOptions.widgetHasPlaceholder[e]},widgetHasInitialModal(e){return this.moduleOptions.widgetHasInitialModal[e]},widgetEditorComponent(e){return this.moduleOptions.components.widgetEditors[e]},widgetPreview(e,t,i){return this.moduleOptions.widgetPreview[e]?{area:this,index:t,create:i}:null},patchSubobject(e,t){let i;for(const[n,s]of Object.entries(e))if(n.charAt(0)!=="_"&&s&&typeof s=="object"){if(s._id===t._id)return e[n]=t,!0;if(i=this.patchSubobject(s,t),i)return i}},rendering(e){return this.edited[e._id]?null:this.renderings[e._id]},getValidItems(){return this.items.filter(e=>(window.apos.modules[`${e.type}-widget`]||console.warn(`The widget type ${e.type} exists in the content but is not configured.`),window.apos.modules[`${e.type}-widget`]))},newWidget(e){const t=apos.modules[apos.area.widgetManagers[e]].schema;return{...id(t),type:e}}}};function ck(e){e.refresh=!1}const Fhe=["data-apos-area"],jhe={key:0,class:"apos-empty-area"},Uhe={class:"apos-areas-widgets-list"};function Whe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposAreaMenu"),l=O("AposAreaWidget");return p(),y("div",{"data-apos-area":s.areaId,class:ne(["apos-area",e.themeClass])},[s.next.length===0&&!o.foreign?(p(),y("div",jhe,[o.isEmptySingleton?(p(),R(r,{key:0,label:{key:"apostrophe:addWidgetType",label:e.$t(s.contextMenuOptions.menu[0].label)},disabled:i.field&&i.field.readOnly,"disable-focus":!1,type:"primary",icon:o.icon,onClick:t[0]||(t[0]=c=>o.add({index:0,name:s.contextMenuOptions.menu[0].name}))},null,8,["label","disabled","icon"])):(p(),R(a,{key:1,"context-menu-options":s.contextMenuOptions,empty:!0,index:0,options:i.options,"max-reached":o.maxReached,disabled:i.field&&i.field.readOnly,"widget-options":i.options.widgets,tabbable:!0,open:!1,onAdd:o.add},null,8,["context-menu-options","options","max-reached","disabled","widget-options","onAdd"]))])):S("v-if",!0),k("div",Uhe,[(p(!0),y(Ce,null,Ie(s.next,(c,u)=>(p(),R(l,{key:c._id,"area-id":s.areaId,widget:c,meta:i.meta[c._id],generation:i.generation,i:u,options:i.options,next:s.next,"following-values":i.followingValues,"doc-id":i.docId,"context-menu-options":s.contextMenuOptions,"field-id":i.fieldId,field:i.field,disabled:i.field&&i.field.readOnly,"widget-hovered":s.hoveredWidget,"non-foreign-widget-hovered":s.hoveredNonForeignWidget,"widget-focused":s.focusedWidget,"max-reached":o.maxReached,rendering:o.rendering(c),onUp:o.up,onDown:o.down,onRemove:o.remove,onCut:o.cut,onCopy:o.copy,onEdit:o.edit,onClone:o.clone,onUpdate:o.update,onAdd:o.add},null,8,["area-id","widget","meta","generation","i","options","next","following-values","doc-id","context-menu-options","field-id","field","disabled","widget-hovered","non-foreign-widget-hovered","widget-focused","max-reached","rendering","onUp","onDown","onRemove","onCut","onCopy","onEdit","onClone","onUpdate","onAdd"]))),128))])],10,Fhe)}const qhe=I(Bhe,[["render",Whe],["__scopeId","data-v-67c5652e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/area/apos/components/AposAreaEditor.vue"]]),Khe={name:"AposAreaExpandedMenu",props:{options:{type:Object,required:!0},index:{type:Number,default:0}},emits:["expanded-menu-close","modal-result"],data(){return{modal:{active:!1,type:"slide",origin:"left",showModal:!1,width:"one-third"},groups:[]}},async mounted(){if(this.modal.active=!0,this.options.groups)for(const t of Object.keys(this.options.groups)){this.isValidColumn(t.columns)||console.warn(`apos.expanded-menu: The specified number of columns for the group ${t.label} is not between the allowed range of 1-4.`);const i=this.createGroup(this.options.groups[t]);this.groups.push(i)}else if(this.options.widgets){this.isValidColumn(this.options.columns)||console.warn("apos.expanded-menu: The specified number of columns for the area is not between the allowed range of 1-4.");const t=this.createGroup(this.options);this.groups.push(t)}else console.warn("apos.expanded-menu: No groups or widgets defined. Please, either add a groups or widgets property to your area configuration.");const e=this.getClipboard();this.groups=e?[e].concat(this.groups):this.groups},methods:{isValidColumn(e){return e?+e>1&&+e<4:!0},getClipboard(){const e=apos.area.widgetClipboard.get();if(!e)return null;const i=this.groups.flatMap(s=>Object.values(s.widgets)).find(s=>s.name===e.type);return i?{label:this.$t("apostrophe:areaExpandedMenuClipboard"),widgets:[{type:"clipboard",...i,label:{key:"apostrophe:pasteWidget",widget:this.$t(i.label)},clipboard:e}],columns:1}:null},createGroup(e){const t={columns:+e.columns||3,widgets:[]};e.label&&(t.label=e.label);for(const i of Object.keys(e.widgets)){const n=`${i}-widget`,s=apos.modules[n];s?t.widgets.push(s):console.warn(`${n} is not available in this project, please verify its configuration`)}return t},getIcon(e){return e.previewIcon||e.icon},hasIcon(e){return!!(e.previewIcon||e.icon)},getTitle(e){return this.getIcon(e).replaceAll("-"," ")},close(){this.modal.showModal=!1},async add(e){const t={...e,index:this.index};this.$emit("modal-result",t),this.modal.showModal=!1}}},Ghe={key:0,class:"apos-widget-group__label"},Jhe=["data-apos-focus-priority","onClick"],Yhe={class:"apos-widget__preview"},Zhe=["src","alt"],Xhe={class:"apos-widget__label"},Qhe={key:0,class:"apos-widget__help"};function efe(e,t,i,n,s,o){const r=O("plus-icon"),a=O("AposModalBody"),l=O("AposModal");return p(),R(l,{class:"apos-area-menu--expanded",modal:s.modal,"modal-title":"apostrophe:addContent",onInactive:t[0]||(t[0]=c=>s.modal.active=!1),onShowModal:t[1]||(t[1]=c=>s.modal.showModal=!0),onEsc:o.close},{main:Q(()=>[D(a,null,{bodyMain:Q(()=>[(p(!0),y(Ce,null,Ie(s.groups,(c,u)=>(p(),y("div",{key:u,class:"apos-widget-group"},[c.label?(p(),y("h2",Ghe,E(e.$t(c.label)),1)):S("v-if",!0),k("div",{class:ne([`apos-widget-group--${c.columns}-column${c.columns>1?"s":""}`])},[(p(!0),y(Ce,null,Ie(c.widgets,(h,m)=>(p(),y("button",{key:m,"data-apos-focus-priority":m===0?!0:null,class:"apos-widget",onClick:g=>o.add(h)},[k("div",Yhe,[D(r,{size:20,class:"apos-icon--add"}),h.previewUrl?(p(),y("img",{key:0,src:h.previewUrl,alt:`${h.name} preview`,class:"apos-widget__preview-image"},null,8,Zhe)):o.hasIcon(h)?(p(),R(tt(o.getIcon(h)),{key:1,title:o.getTitle(h),size:25,class:"apos-widget__preview--icon"},null,8,["title"])):S("v-if",!0)]),k("p",Xhe,E(e.$t(h.label)),1),h.description?(p(),y("p",Qhe,E(e.$t(h.description)),1)):S("v-if",!0)],8,Jhe))),128))],2)]))),128))]),_:1})]),_:1},8,["modal","onEsc"])}const tfe=I(Khe,[["render",efe],["__scopeId","data-v-9051afaa"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/area/apos/components/AposAreaExpandedMenu.vue"]]),ife={name:"AposAreaMenu",props:{disabled:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},contextMenuOptions:{type:Object,required:!0},index:{type:Number,default:0},options:{type:Object,required:!0},maxReached:{type:Boolean},widgetOptions:{type:Object,default:function(){return{}}},tabbable:{type:Boolean,default:!1},menuId:{type:String,default:null},open:{type:Boolean}},emits:["add"],computed:{buttonOptions(){return{label:"apostrophe:addContent",icon:"plus-icon",type:"primary",modifiers:this.empty?[]:["round","tiny"],iconSize:this.empty?20:11,disableFocus:!this.tabbable}},isDisabled(){let e=this.disabled;return this.maxReached&&(e=!0),e}},methods:{async openExpandedMenu(e){const t=await apos.modal.execute("AposAreaExpandedMenu",{field:this.field,options:this.options,index:e});t&&this.$emit("add",t)}}};function nfe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposAreaContextualMenu");return i.options.expanded?(p(),R(r,J({key:0},o.buttonOptions,{disabled:o.isDisabled,role:"button",onClick:t[0]||(t[0]=l=>o.openExpandedMenu(i.index))}),null,16,["disabled"])):(p(),R(a,{key:1,"button-options":o.buttonOptions,"context-menu-options":i.contextMenuOptions,empty:!0,index:i.index,"widget-options":i.options.widgets,options:i.options,"max-reached":i.maxReached,disabled:o.isDisabled,"menu-id":i.menuId,open:i.open,onAdd:t[1]||(t[1]=l=>{e.$emit("add",l)})},null,8,["button-options","context-menu-options","index","widget-options","options","max-reached","disabled","menu-id","open"]))}const sfe=I(ife,[["render",nfe],["__scopeId","data-v-2d15ea16"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/area/apos/components/AposAreaMenu.vue"]]),ofe={props:{item:{required:!0,type:Object},tabbable:{type:Boolean,default:!0}},emits:["click","up","down"],computed:{tabindex(){return this.tabbable?0:-1}},methods:{click(){this.$emit("click")}}},rfe=["data-action","tabindex"],afe={key:0,class:"apos-area-menu__item-sublabel"},lfe={class:"apos-area-menu__item-content"};function cfe(e,t,i,n,s,o){return p(),y("button",{class:ne(["apos-area-menu__button",{"apos-area-menu__button--separated":i.item.type}]),"data-action":i.item.name,tabindex:String(o.tabindex),onClick:t[0]||(t[0]=(...r)=>o.click&&o.click(...r)),onKeydown:[t[1]||(t[1]=Qe(Je(r=>e.$emit("down"),["prevent"]),["arrow-down"])),t[2]||(t[2]=Qe(Je(r=>e.$emit("up"),["prevent"]),["arrow-up"]))]},[i.item.type==="clipboard"?(p(),y("div",afe," Clipboard ")):S("v-if",!0),k("div",lfe,[i.item.icon?(p(),R(tt(i.item.icon),{key:0,size:15,class:"apos-area-menu__item-icon"})):S("v-if",!0),Mt(" "+E(e.$t(i.item.label)),1)])],42,rfe)}const dfe=I(ofe,[["render",cfe],["__scopeId","data-v-ecaf0cd3"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/area/apos/components/AposAreaMenuItem.vue"]]),ufe={name:"AposIndicator",props:{icon:{type:String,required:!0},iconSize:{type:Number,default:15},tooltip:{type:[String,Object,Boolean],default:!1},title:{type:[String,Boolean],default:!1},iconColor:{type:String,default:"currentColor"},decorative:{type:Boolean,default:!0}},emits:["icon"],mounted(){this.$emit("icon",this.$refs.icon)}},hfe=["aria-hidden","tabindex"];function ffe(e,t,i,n,s,o){const r=Bn("apos-tooltip");return Ge((p(),y("span",{ref:"icon",class:"apos-indicator","aria-hidden":i.decorative,tabindex:i.decorative?"-1":"0"},[(p(),R(tt(i.icon),{size:i.iconSize,title:i.title?i.title:"",class:"apos-indicator__icon","fill-color":i.iconColor},null,8,["size","title","fill-color"]))],8,hfe)),[[r,i.tooltip]])}const _x=I(ufe,[["render",ffe],["__scopeId","data-v-a91b83c0"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposIndicator.vue"]]),pfe={name:"AposAreaWidget",components:{AposIndicator:_x},props:{widgetHovered:{type:String,default:null},nonForeignWidgetHovered:{type:String,default:null},widgetFocused:{type:String,default:null},docId:{type:String,required:!1,default(){return null}},i:{type:Number,required:!0},options:{type:Object,default(){return{}}},widget:{type:Object,default(){return{}}},meta:{type:Object,default(){return{}}},followingValues:{type:Object,default(){return{}}},next:{type:Array,required:!0},fieldId:{type:String,required:!0},contextMenuOptions:{type:Object,required:!0},maxReached:{type:Boolean},rendering:{type:Object,default(){return null}},disabled:{type:Boolean,default:!1},generation:{type:Number,required:!1,default(){return null}}},emits:["clone","up","down","remove","edit","cut","copy","update","add","changed"],data(){return{mounted:!1,isSuppressed:!1,menuOpen:null,classes:{show:"apos-is-visible",open:"apos-is-open",focus:"apos-is-focused",highlight:"apos-is-highlighted",adjust:"apos-is-ui-adjusted"},breadcrumbs:{$lastEl:null,list:[]},widgets:this.options.widgets||{}}},computed:{followingValuesWithParent(){return Object.entries(this.followingValues||{}).reduce((e,[t,i])=>(e[`<${t}`]=i,e),{})},bottomContextMenuOptions(){return{...this.contextMenuOptions,menuPlacement:"top"}},widgetIcon(){var t;const e=((t=this.contextMenuOptions.menu.filter(i=>i.name===this.widget.type)[0])==null?void 0:t.icon)||"shape-icon";return this.foreign?"earth-icon":e},widgetLabel(){const e=`${this.widget.type}-widget`,t=window.apos.modules[e];return t||console.warn(`No ${e} module found for widget type ${this.widget.type}`),t.label},widgetOptions(){return this.widgets[this.widget.type]},isContextual(){return this.moduleOptions.widgetIsContextual[this.widget.type]},moduleOptions(){return window.apos.area},isFocused(){return this.isSuppressed?!1:(this.widgetFocused===this.widget._id&&document.addEventListener("click",this.unfocus),this.widgetFocused===this.widget._id)},isHovered(){return this.widgetHovered===this.widget._id},isHighlighted(){const e=this.getParent();return e&&e.dataset.areaWidget===this.widgetFocused},nonForeignHovered(){return this.nonForeignWidgetHovered===this.widget._id},controlsClasses(){return{[this.classes.show]:this.isFocused}},containerClasses(){const e={[this.classes.highlight]:this.isHighlighted||this.isHovered,[this.classes.focus]:this.isFocused};return this.mounted&&(e[this.classes.adjust]=this.adjustUi()),e},labelsClasses(){return{[this.classes.show]:this.isHovered||this.isFocused}},addClasses(){return{[this.classes.show]:this.isHovered||this.isFocused,[`${this.classes.open}--menu-${this.menuOpen}`]:!!this.menuOpen}},foreign(){return!!(this.docId&&window.apos.adminBar.contextId!==this.docId)}},watch:{isFocused(e){e?this.$refs.wrapper.addEventListener("keydown",this.handleKeyboardUnfocus):(this.menuOpen=null,this.$refs.wrapper.removeEventListener("keydown",this.handleKeyboardUnfocus))}},created(){if(this.options.groups)for(const e of Object.keys(this.options.groups))this.widgets={...this.options.groups[e].widgets,...this.widgets}},mounted(){this.mounted=!0,apos.bus.$on("widget-focus-parent",this.focusParent),apos.bus.$on("context-menu-toggled",this.getFocusForMenu),this.breadcrumbs.$lastEl=this.$el,this.getBreadcrumbs(),this.widgetFocused&&apos.bus.$emit("widget-focus",this.widget._id)},unmounted(){apos.bus.$off("widget-focus-parent",this.focusParent)},methods:{getFocusForMenu({menuId:e,isOpen:t}){if((e===`${this.widget._id}-widget-menu-top`||e===`${this.widget._id}-widget-menu-bottom`)&&t){const i=e.split("-")[e.split("-").length-1];this.menuOpen=i,this.getFocus(null,this.widget._id)}else this.menuOpen=null},adjustUi(){const{height:e}=this.$refs.label.getBoundingClientRect(),{top:t}=this.$refs.widget.getBoundingClientRect(),i=window.apos.modules["@apostrophecms/admin-bar"].height;return t+window.scrollY-e<i},attachKeyboardFocusHandler(){var e;(e=this.$refs.wrapper)==null||e.addEventListener("keydown",this.handleKeyboardFocus)},removeKeyboardFocusHandler(){var e;(e=this.$refs.wrapper)==null||e.removeEventListener("keydown",this.handleKeyboardFocus)},focusParent(){if(this.isFocused){const e=this.getParent();e&&apos.bus.$emit("widget-focus",e.dataset.areaWidget)}},getFocus(e,t){e&&e.stopPropagation(),this.isSuppressed=!1,apos.bus.$emit("widget-focus",t)},mouseover(e){e&&e.stopPropagation();const t=this.foreign&&this.$el.closest('[data-apos-widget-foreign="0"]'),i=t&&t.getAttribute("data-apos-widget-id");apos.bus.$emit("widget-hover",{_id:this.widget._id,nonForeignId:this.foreign?i:null})},mouseleave(){this.isHovered&&apos.bus.$emit("widget-hover",{_id:null,nonForeignId:null})},unfocus(e){this.$el.contains(e.target)||(this.isSuppressed=!0,document.removeEventListener("click",this.unfocus),apos.bus.$emit("widget-focus",null))},handleKeyboardFocus(e){(e.key==="Enter"||e.code==="Space")&&(e.preventDefault(),this.getFocus(e,this.widget._id),this.$refs.wrapper.removeEventListener("keydown",this.handleKeyboardFocus))},handleKeyboardUnfocus(e){e.key==="Escape"&&(this.getFocus(e,null),document.activeElement.blur(),this.$refs.wrapper.focus())},getParent(){return this.mounted&&this.$el.parentNode?apos.util.closest(this.$el.parentNode,"[data-area-widget]"):!1},getBreadcrumbs(){if(this.breadcrumbs.$lastEl){const e=apos.util.closest(this.breadcrumbs.$lastEl.parentNode,"[data-area-widget]");e?(this.breadcrumbs.list.unshift({id:e.dataset.areaWidget,label:e.dataset.areaLabel}),this.breadcrumbs.$lastEl=e,this.getBreadcrumbs()):this.breadcrumbs.$lastEl=null}},widgetComponent(e){return this.moduleOptions.components.widgets[e]},widgetEditorComponent(e){return this.moduleOptions.components.widgetEditors[e]}}},mfe=["data-area-widget","data-area-label","data-apos-widget-foreign","data-apos-widget-id"],gfe={class:"apos-area-widget__breadcrumbs"},bfe={class:"apos-area-widget__breadcrumb apos-area-widget__breadcrumb--widget-icon"},yfe=["data-apos-widget-breadcrumb"],vfe={class:"apos-area-widget__breadcrumb","data-apos-widget-breadcrumb":"0"};function _fe(e,t,i,n,s,o){const r=O("AposIndicator"),a=O("AposButton"),l=O("AposAreaMenu"),c=O("AposWidgetControls");return p(),y("div",{ref:"widget",class:ne(["apos-area-widget-wrapper",{"apos-area-widget-wrapper--foreign":o.foreign}]),"data-area-widget":i.widget._id,"data-area-label":o.widgetLabel,"data-apos-widget-foreign":o.foreign?1:0,"data-apos-widget-id":i.widget._id},[k("div",{ref:"wrapper",class:ne(["apos-area-widget-inner",o.containerClasses]),tabindex:"0",onMouseover:t[14]||(t[14]=u=>o.mouseover(u)),onMouseleave:t[15]||(t[15]=(...u)=>o.mouseleave&&o.mouseleave(...u)),onClick:t[16]||(t[16]=u=>{o.getFocus(u,i.widget._id)}),onFocus:t[17]||(t[17]=(...u)=>o.attachKeyboardFocusHandler&&o.attachKeyboardFocusHandler(...u)),onBlur:t[18]||(t[18]=(...u)=>o.removeKeyboardFocusHandler&&o.removeKeyboardFocusHandler(...u))},[k("div",{ref:"label",class:ne(["apos-area-widget-controls apos-area-widget__label",o.labelsClasses])},[k("ol",gfe,[k("li",bfe,[D(r,{icon:o.widgetIcon,"icon-size":13},null,8,["icon"])]),(p(!0),y(Ce,null,Ie(s.breadcrumbs.list,(u,h)=>(p(),y("li",{key:u.id,class:"apos-area-widget__breadcrumb","data-apos-widget-breadcrumb":s.breadcrumbs.list.length-h},[D(a,{type:"quiet",label:u.label,icon:"chevron-right-icon","icon-size":9,modifiers:["icon-right","no-motion"],"disable-focus":!(o.isHovered||o.isFocused),onClick:m=>o.getFocus(m,u.id)},null,8,["label","disable-focus","onClick"])],8,yfe))),128)),k("li",vfe,[D(a,{type:"quiet",label:o.foreign?{key:"apostrophe:editWidgetType",label:e.$t(o.widgetLabel)}:o.widgetLabel,tooltip:!o.isContextual&&"apostrophe:editWidgetForeignTooltip","icon-size":11,modifiers:["no-motion"],"disable-focus":!(o.isHovered||o.isFocused),onClick:t[0]||(t[0]=u=>o.foreign?e.$emit("edit",i.i):null),onDblclick:t[1]||(t[1]=u=>!o.foreign&&!o.isContextual?e.$emit("edit",i.i):null)},null,8,["label","tooltip","disable-focus"])])])],2),k("div",{class:ne(["apos-area-widget-controls apos-area-widget-controls--add--top apos-area-widget-controls--add",o.addClasses])},[o.foreign?S("v-if",!0):(p(),R(l,{key:0,"max-reached":i.maxReached,"context-menu-options":i.contextMenuOptions,index:i.i,"widget-options":s.widgets,options:i.options,disabled:i.disabled,tabbable:o.isHovered||o.isFocused,"menu-id":`${i.widget._id}-widget-menu-top`,class:ne({[s.classes.open]:s.menuOpen==="top"}),open:s.menuOpen==="top",onAdd:t[2]||(t[2]=u=>{e.$emit("add",u)})},null,8,["max-reached","context-menu-options","index","widget-options","options","disabled","tabbable","menu-id","class","open"]))],2),k("div",{class:ne(["apos-area-widget-guard",{"apos-is-disabled":o.isFocused}])},null,2),k("div",{class:ne(["apos-area-widget-controls apos-area-widget-controls--modify",o.controlsClasses])},[o.foreign?S("v-if",!0):(p(),R(c,{key:0,first:i.i===0,last:i.i===i.next.length-1,options:{contextual:o.isContextual},disabled:i.disabled,"max-reached":i.maxReached,tabbable:o.isFocused,"model-value":i.widget,onUp:t[3]||(t[3]=u=>{e.$emit("up",i.i)}),onRemove:t[4]||(t[4]=u=>{e.$emit("remove",i.i)}),onEdit:t[5]||(t[5]=u=>{e.$emit("edit",i.i)}),onCut:t[6]||(t[6]=u=>{e.$emit("cut",i.i)}),onCopy:t[7]||(t[7]=u=>{e.$emit("copy",i.i)}),onClone:t[8]||(t[8]=u=>{e.$emit("clone",i.i)}),onDown:t[9]||(t[9]=u=>{e.$emit("down",i.i)}),onUpdate:t[10]||(t[10]=u=>e.$emit("update",u))},null,8,["first","last","options","disabled","max-reached","tabbable","model-value"]))],2),S(" Still used for contextual editing components "),o.isContextual&&!o.foreign?(p(),R(tt(o.widgetEditorComponent(i.widget.type)),{key:i.generation,options:o.widgetOptions,type:i.widget.type,"model-value":i.widget,meta:i.meta,"doc-id":i.docId,focused:o.isFocused,onUpdate:t[11]||(t[11]=u=>e.$emit("update",u))},null,40,["options","type","model-value","meta","doc-id","focused"])):(p(),R(tt(o.widgetComponent(i.widget.type)),{id:i.widget._id,key:`${i.generation}-preview`,options:o.widgetOptions,type:i.widget.type,"area-field-id":i.fieldId,"following-values":o.followingValuesWithParent,"model-value":i.widget,value:i.widget,meta:i.meta,foreign:o.foreign,"doc-id":i.docId,rendering:i.rendering,onEdit:t[12]||(t[12]=u=>{e.$emit("edit",i.i)})},null,40,["id","options","type","area-field-id","following-values","model-value","value","meta","foreign","doc-id","rendering"])),k("div",{class:ne(["apos-area-widget-controls apos-area-widget-controls--add apos-area-widget-controls--add--bottom",o.addClasses])},[o.foreign?S("v-if",!0):(p(),R(l,{key:0,"max-reached":i.maxReached,"context-menu-options":o.bottomContextMenuOptions,index:i.i+1,"widget-options":s.widgets,options:i.options,disabled:i.disabled,tabbable:o.isHovered||o.isFocused,"menu-id":`${i.widget._id}-widget-menu-bottom`,class:ne({[s.classes.open]:s.menuOpen==="bottom"}),open:s.menuOpen==="bottom",onAdd:t[13]||(t[13]=u=>e.$emit("add",u))},null,8,["max-reached","context-menu-options","index","widget-options","options","disabled","tabbable","menu-id","class","open"]))],2)],34)],10,mfe)}const wfe=I(pfe,[["render",_fe],["__scopeId","data-v-a20c74df"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/area/apos/components/AposAreaWidget.vue"]]),Cfe={props:{modelValue:{type:Object,required:!0},first:{type:Boolean,required:!0},last:{type:Boolean,required:!0},options:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1},maxReached:{type:Boolean,default:!1},tabbable:{type:Boolean,default:!1}},emits:["remove","edit","cut","copy","clone","up","down","update"],computed:{widgetDefaultControl(){return{iconOnly:!0,icon:"plus-icon",type:"group",modifiers:["small","inline"],role:"menuitem",class:"apos-area-modify-controls__button",iconSize:16,disableFocus:!this.tabbable}},widgetPrimaryControls(){const e=[];return e.push({...this.widgetDefaultControl,label:"apostrophe:nudgeUp",icon:"arrow-up-icon",disabled:this.first||this.disabled,tooltip:{content:this.first||this.disabled?null:"apostrophe:nudgeUp",placement:"left"},action:"up"}),e.push({...this.widgetDefaultControl,label:"apostrophe:nudgeDown",icon:"arrow-down-icon",disabled:this.last||this.disabled,tooltip:{content:this.last||this.disabled?null:"apostrophe:nudgeDown",placement:"left"},action:"down"}),this.options.contextual||e.push({...this.widgetDefaultControl,label:"apostrophe:edit",icon:"pencil-icon",disabled:this.disabled,tooltip:{content:"apostrophe:editWidget",placement:"left"},action:"edit"}),e.push(...this.widgetPrimaryOperations.map(t=>({...this.widgetDefaultControl,...t,disabled:this.disabled,tooltip:{content:t.label,placement:"left"}}))),e},widgetSecondaryControls(){const e=[];return e.push({label:"apostrophe:cut",icon:"content-cut-icon",action:"cut"}),e.push({label:"apostrophe:copy",icon:"content-copy-icon",action:"copy"}),e.push({label:"apostrophe:duplicate",icon:"content-duplicate-icon",action:"clone",modifiers:[...this.disabled||this.maxReached?["disabled"]:[]]}),this.widgetSecondaryOperations.length&&e.push({separator:!0}),e.push(...this.widgetSecondaryOperations),e},widgetRemoveControl(){return{...this.widgetDefaultControl,label:"apostrophe:remove",icon:"trash-can-outline-icon",disabled:this.disabled,tooltip:{content:"apostrophe:delete",placement:"left"},action:"remove"}},widgetPrimaryOperations(){return this.getOperations({secondaryLevel:!1})},widgetSecondaryOperations(){return this.getOperations({secondaryLevel:!0})}},methods:{getOperations({secondaryLevel:e}){const t=apos.modules[apos.area.widgetManagers[this.modelValue.type]],{widgetOperations:i=[]}=t||{};return i.filter(n=>n.if&&!Lc(this.modelValue,n.if)?!1:e?n.secondaryLevel:!n.secondaryLevel).map(n=>({action:n.action||n.name,...n}))},async handleClick({action:e,modal:t}){var i;if(e&&this.$emit(e),t){const n=await apos.modal.execute(t,{widget:this.modelValue,widgetSchema:(i=apos.modules[apos.area.widgetManagers[this.modelValue.type]])==null?void 0:i.schema});n&&this.$emit("update",n)}}}},kfe={class:"apos-area-modify-controls"};function Afe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposContextMenu"),l=O("AposButtonGroup");return p(),y("div",kfe,[D(l,{modifiers:["vertical"]},{default:Q(()=>[(p(!0),y(Ce,null,Ie(o.widgetPrimaryControls,c=>(p(),R(r,J({key:c.action},{ref_for:!0},c,{onClick:u=>o.handleClick(c)}),null,16,["onClick"]))),128)),D(a,{class:"apos-admin-bar_context-button",menu:o.widgetSecondaryControls,disabled:i.disabled||o.widgetSecondaryControls.length===0,"menu-placement":"left",identifier:"secondary-controls","has-tip":!1,button:{label:"apostrophe:moreOptions",icon:"dots-horizontal-icon",iconOnly:!0,type:"subtle",modifiers:["small","no-motion"]},onItemClicked:o.handleClick},null,8,["menu","disabled","onItemClicked"]),D(r,J(o.widgetRemoveControl,{onClick:t[0]||(t[0]=c=>o.handleClick({action:"remove"}))}),null,16)]),_:1})])}const Sfe=I(Cfe,[["render",Afe],["__scopeId","data-v-a51fae71"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/area/apos/components/AposWidgetControls.vue"]]),xfe={props:{docId:String,type:String,areaFieldId:String,modelValue:Object,mode:{type:String,default:"draft"},meta:{type:Object,default(){return{}}},areaField:Object,followingValues:Object,options:Object,rendering:{type:Object,default(){return null}}},watch:{modelValue:{handler(){this.renderContent()}}},data(){return{rendered:"..."}},mounted(){this.renderContent()},computed:{moduleOptions(){return apos.modules[apos.area.widgetManagers[this.type]]}},methods:{async renderContent(){apos.bus.$emit("widget-rendering");const{aposLivePreview:e,...t}=this.modelValue,i={_docId:this.docId,widget:t,areaFieldId:this.areaFieldId,type:this.type,livePreview:e};try{if(this.rendering&&Cl.isEqual(this.rendering.parameters,i))this.rendered=this.rendering.html;else{const n=await apos.http.post(`${apos.area.action}/render-widget?aposEdit=1&aposMode=${this.mode}`,{busy:!e,body:i});n!=="aposLivePreviewSchemaNotYetValid"&&(this.rendered=n)}setTimeout(function(){apos.bus.$emit("widget-rendered",{edit:!e})},0)}catch(n){this.rendered="<p>Unable to render this widget.</p>",console.error("Unable to render widget. Possibly the schema has been changed and the existing widget does not pass validation.",n)}},getClasses(){const{placeholderClass:e}=this.moduleOptions;return e?{[e]:this.modelValue.aposPlaceholder===!0}:{}}}},Mfe={name:"AposWidget",mixins:[xfe]},Tfe=["innerHTML"];function Ofe(e,t,i,n,s,o){return p(),y("div",{class:ne(e.getClasses()),innerHTML:e.rendered},null,10,Tfe)}const Efe=I(Mfe,[["render",Ofe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/widget-type/apos/components/AposWidget.vue"]]),Ife={name:"AposWidgetEditor",mixins:[Vo,xr,h0,u0],props:{type:{required:!0,type:String},breadcrumbs:{type:Array,default:function(){return[]}},options:{required:!0,type:Object},modelValue:{required:!1,type:Object,default(){return{}}},meta:{type:Object,default(){return{}}},focused:{type:Boolean,default:!1},parentFollowingValues:{type:Object,default:null},preview:{required:!1,type:Object,default:null},areaFieldId:{type:String,default:null}},emits:["modal-result"],data(){var t;const e=window.apos.modules[apos.area.widgetManagers[this.type]];return{id:this.modelValue&&this.modelValue._id,original:null,docFields:{data:{},hasErrors:!1},fieldErrors:{},modal:{active:!1,type:"slide",width:e.width,origin:$fe((t=this.preview)==null?void 0:t.area,e),showModal:!1},triggerValidation:!1,lastPreview:null}},computed:{moduleOptions(){return window.apos.modules[apos.area.widgetManagers[this.type]]},typeLabel(){return this.moduleOptions.label},editLabel(){return this.moduleOptions.editLabel?this.moduleOptions.editLabel:{key:"apostrophe:editType",type:this.$t(this.typeLabel)}},saveLabel(){return this.moduleOptions.saveLabel?this.moduleOptions.saveLabel:{key:"apostrophe:saveType",type:this.$t(this.typeLabel)}},schema(){return(this.moduleOptions.schema||[]).filter(e=>apos.schema.components.fields[e.type])},isModified(){return Es(this.schema,this.original,this.docFields.data)}},async mounted(){this.modal.active=!0,await this.evaluateExternalConditions(),this.evaluateConditions(),apos.area.widgetOptions=[ut(this.options),...apos.area.widgetOptions]},unmounted(){var e,t;(t=(e=this.areaDebounceUpdate).cancel)==null||t.call(e),apos.area.widgetOptions=apos.area.widgetOptions.slice(1)},created(){const e=this.getDefault();this.modelValue?(this.original=ut(this.modelValue),this.docFields.data={...e,...this.modelValue}):(this.original=ut(e),this.docFields.data=e),this.id||(this.newId=Ut.createId()),this.areaDebounceUpdate=this.preview?wa(t=>{var i;return this.lastPreview=t,(i=this.preview)==null?void 0:i.area.update(this.getPreviewWidgetObject(),{autosave:!1}).catch(n=>{n.name!=="debounce.canceled"&&console.error("Error updating preview",n)})},250):()=>{},this.initPreview()},methods:{updateDocFields(e){this.updateFieldErrors(e.fieldState),this.docFields.data={...this.docFields.data,...e.data},this.evaluateConditions(),this.updatePreview()},initPreview(){this.preview&&(this.preview.create?this.preview.area.insert({index:this.preview.index,widget:this.getPreviewWidgetObject(),autosave:!1}):this.previewSnapshot=this.getWidgetObject())},updatePreview(){if(!this.preview)return;const e=Date.now();!this.lastPreview||e-this.lastPreview>250?this.areaDebounceUpdate.skipDelay(e):this.areaDebounceUpdate(e)},removePreview(){this.preview&&(this.preview.create?this.preview.area.remove(this.getPreviewWidgetIndex(),{autosave:!1}):this.saving||this.preview.area.update(this.previewSnapshot,{autosave:!1,reverting:!0}))},async save(){this.triggerValidation=!0,this.$nextTick(async()=>{const e=this.getWidgetObject();if(this.errorCount>0){this.triggerValidation=!1,await apos.notify("apostrophe:resolveErrorsBeforeSaving",{type:"warning",icon:"alert-circle-icon",dismiss:!0}),this.focusNextError();return}else try{await this.serverValidate()}catch(t){this.triggerValidation=!1,await this.handleSaveError(t,{fallback:"A validation error occurred while saving the widget."});return}try{await this.postprocess()}catch(t){await this.handleSaveError(t,{fallback:"An error occurred saving the widget."});return}this.saving=!0,this.$emit("modal-result",e),this.modal.showModal=!1})},async serverValidate(){await apos.http.post(`${apos.area.action}/validate-widget`,{busy:!0,qs:{aposEdit:"1",aposMode:"draft"},body:{widget:this.docFields.data,areaFieldId:this.areaFieldId,type:this.type}})},getWidgetObject(e={}){const t=ut(this.docFields.data);return t._id=this.id||this.newId,t.type=this.type,{...t,...e}},getPreviewWidgetObject(){return this.previewWidgetId||(this.preview.create?this.previewWidgetId=Ut.createId():this.previewWidgetId=this.id),{...this.getWidgetObject({_id:this.previewWidgetId}),aposLivePreview:!0}},getPreviewWidgetIndex(){return this.preview.area.next.findIndex(e=>e._id===this.previewWidgetId)},getDefault(){return id(this.schema)},getAposSchema(e){return this.$refs[e.group.name][0]}}};function $fe(e,{isExplicitOrigin:t,origin:i}){if(!e||t)return i;const n=e.$el.getBoundingClientRect();return(n.right-n.left)/2+n.left>=window.innerWidth*.55?"left":"right"}const Lfe={class:"apos-widget-editor__body"};function Pfe(e,t,i,n,s,o){const r=O("AposModalBreadcrumbs"),a=O("AposWidgetModalTabs"),l=O("AposSchema"),c=O("AposModalBody"),u=O("AposButton"),h=O("AposModal");return p(),R(h,{class:"apos-widget-editor",modal:s.modal,"modal-title":o.editLabel,onInactive:t[0]||(t[0]=m=>s.modal.active=!1),onShowModal:t[1]||(t[1]=m=>s.modal.showModal=!0),onEsc:e.confirmAndCancel,onNoModal:o.removePreview},{breadcrumbs:Q(()=>[i.breadcrumbs&&i.breadcrumbs.length?(p(),R(r,{key:0,items:i.breadcrumbs},null,8,["items"])):S("v-if",!0),e.tabs.length&&e.tabs[0].name!=="ungrouped"?(p(),R(a,{key:e.tabKey,current:e.currentTab,tabs:e.tabs,orientation:"horizontal",errors:s.fieldErrors,onSelectTab:e.switchPane},null,8,["current","tabs","errors","onSelectTab"])):S("v-if",!0)]),main:Q(()=>[D(c,null,{bodyMain:Q(()=>[k("div",Lfe,[(p(!0),y(Ce,null,Ie(e.tabs,m=>Ge((p(),R(l,{key:m.name,ref_for:!0,ref:m.name,"data-apos-test":`schema:${m.name}`,"trigger-validation":s.triggerValidation,"current-fields":e.groups[m.name].fields,schema:e.groups[m.name].schema,"model-value":s.docFields,meta:i.meta,"following-values":e.followingValues(),"conditional-fields":e.conditionalFields,"onUpdate:modelValue":o.updateDocFields,onValidate:e.triggerValidate},null,8,["data-apos-test","trigger-validation","current-fields","schema","model-value","meta","following-values","conditional-fields","onUpdate:modelValue","onValidate"])),[[ti,m.name===e.currentTab]])),128))])]),_:1})]),footer:Q(()=>[D(u,{type:"default",label:"apostrophe:cancel",onClick:e.confirmAndCancel},null,8,["onClick"]),D(u,{type:"primary",label:o.saveLabel,disabled:e.errorCount>0,onClick:o.save},null,8,["label","disabled","onClick"])]),_:1},8,["modal","modal-title","onEsc","onNoModal"])}const Dfe=I(Ife,[["render",Pfe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/widget-type/apos/components/AposWidgetEditor.vue"]]),Rfe={name:"AposImageControlDialog",mixins:[xr],props:{editor:{type:Object,required:!0},hasSelection:{type:Boolean,default:!1}},emits:["before-commands","close"],data(){var n,s;const e=ut(apos.modules["@apostrophecms/rich-text-widget"]),t=((n=e.linkSchema.find(o=>o.name==="linkTo"))==null?void 0:n.choices)||[],i=e.linkSchema.filter(o=>!o.extensions||o.extensions.includes("Image")).map(o=>{var r;return o.htmlAttribute&&(o.htmlTag="a",o.if={$or:t.map(a=>({linkTo:a.value})).concat(((r=o.if)==null?void 0:r.$or)||[])}),o});return t.unshift({label:this.$t("apostrophe:none"),value:"none"}),{moduleOptions:e,generation:1,triggerValidation:!1,docFields:{data:{}},formModifiers:["micro"],originalSchema:[{name:"_image",type:"relationship",label:apos.image.label,withType:"@apostrophecms/image",required:!0,max:1,browse:!0},...e.imageStyles?[{name:"style",label:this.$t("apostrophe:style"),type:"select",choices:e.imageStyles,def:(s=e.imageStyles)==null?void 0:s[0].value,required:!0}]:[],{name:"caption",label:this.$t("apostrophe:caption"),type:"string",def:""},...i]}},computed:{attributes(){return this.editor.getAttributes("image")},lastSelectionTime(){return this.editor.view.input.lastSelectionTime},schema(){return this.originalSchema},schemaHtmlAttributes(){return this.schema.filter(e=>!!e.htmlAttribute)}},watch:{"attributes.imageId":{handler(e,t){e!==t&&this.close()}},lastSelectionTime(e,t){e!==t&&(this.populateFields(),this.evaluateConditions())}},async mounted(){this.populateFields(),await this.evaluateExternalConditions(),this.evaluateConditions(),window.addEventListener("keydown",this.keyboardHandler)},beforeUnmount(){window.removeEventListener("keydown",this.keyboardHandler)},methods:{close(){this.$emit("close")},save(){this.triggerValidation=!0,this.$nextTick(()=>{var i;if(this.docFields.hasErrors)return;const e=(i=this.docFields.data[`_${this.docFields.data.linkTo}`])==null?void 0:i[0];e&&this.docFields.data.linkTo!=="_url"&&(this.docFields.data.href=`#apostrophe-permalink-${e.aposDocId}`);const t=this.docFields.data._image[0];this.docFields.data.imageId=t&&t.aposDocId,this.docFields.data.alt=t&&t.alt,this.$emit("before-commands"),this.editor.commands.setImage(this.getTipTapAttributes()),this.close()})},getTipTapAttributes(){var n,s,o,r,a;const e=(n=this.docFields.data._image)==null?void 0:n[0],t={imageId:this.docFields.data.imageId,caption:this.docFields.data.caption,style:this.docFields.data.style,...this.schemaHtmlAttributes.reduce((l,c)=>{const u=this.docFields.data[c.name];return c.type==="checkboxes"&&!(u!=null&&u[0])?l:c.type==="boolean"?(l[c.htmlAttribute]=u===!0?"":null,l):(l[c.htmlAttribute]=Array.isArray(u)?u[0]:u,l)},{})};e&&(t.alt=e.alt);const i=this.schemaHtmlAttributes.find(l=>l.htmlAttribute==="rel");if((s=this.docFields.data.target)!=null&&s.includes("_blank")&&this.docFields.data.linkTo==="_url"){let l="noopener noreferrer";i&&(l+=` ${this.docFields.data[i.htmlAttribute]||""}`),l=new Set(l.trim().split(" ").filter(Boolean)),t.rel=[...l].join(" ")}else t.rel=i&&this.docFields.data[i.htmlAttribute]||null;switch(this.docFields.data.linkTo){case"none":{t.href=null,t.title=null,this.schemaHtmlAttributes.forEach(l=>{l.htmlAttribute&&l.htmlTag==="a"&&(t[l.htmlAttribute]=null)});break}case"_url":{t.href=this.docFields.data.href,t.title=this.docFields.data.hrefTitle||this.docFields.data.caption,t.target=((o=this.docFields.data.target)==null?void 0:o[0])||null;break}default:{const l=(r=this.docFields.data[`_${this.docFields.data.linkTo}`])==null?void 0:r[0];t.title=this.docFields.data.title||(l==null?void 0:l.title),t.target=((a=this.docFields.data.target)==null?void 0:a[0])||null,l&&(t.href=`#apostrophe-permalink-${l.aposDocId}`)}}return t},keyboardHandler(e){var t;e.key==="Escape"&&this.close(),e.key==="Enter"&&(((t=this.docFields.data._image)!=null&&t.length||e.metaKey)&&(this.save(),this.close()),e.preventDefault())},async populateFields(){var e,t,i;try{const n=this.attributes;this.docFields.data={},this.schema.forEach(a=>{if(a.htmlAttribute&&a.type==="checkboxes"){this.docFields.data[a.name]=n[a.htmlAttribute]?[n[a.htmlAttribute]]:[];return}if(a.htmlAttribute&&a.type==="boolean"){this.docFields.data[a.name]=n[a.htmlAttribute]===null?null:n[a.htmlAttribute]==="";return}if(a.htmlAttribute){this.docFields.data[a.name]=n[a.htmlAttribute]||"";return}this.docFields.data[a.name]=n[a.name]||""});const s=(t=(e=this.moduleOptions.imageStyles)==null?void 0:e[0])==null?void 0:t.value;if(s&&!this.docFields.data.style&&(this.docFields.data.style=s),n.imageId)try{const a=await apos.http.get(`/api/v1/@apostrophecms/image/${n.imageId}`,{busy:!0});this.docFields.data._image=[a]}catch(a){if(a.status===404)this.docFields._image=[];else throw a}const o=(i=n.href)==null?void 0:i.match(/^#apostrophe-permalink-(.*)$/);let r;if(!o)this.docFields.data.linkTo=n.href?"_url":"none";else try{r=await apos.http.get(`/api/v1/@apostrophecms/doc/${o[1]}`,{busy:!0,draft:!0}),this.docFields.data.linkTo=r.slug.startsWith("/")?"@apostrophecms/any-page-type":r.type,this.docFields.data[`_${this.docFields.data.linkTo}`]=[r]}catch(a){if(a.status===404)this.docFields.data[`_${this.docFields.data.linkTo}`]=[];else throw a}switch(this.docFields.data.linkTo){case"none":{this.docFields.data.title="",this.docFields.data.hrefTitle="",this.docFields.data.href="";break}case"_url":{this.docFields.data.hrefTitle=n.title,this.docFields.data.title="";break}default:this.docFields.data.title=r!=null&&r.title&&n.title===(r==null?void 0:r.title)?"":n.title,this.docFields.data.hrefTitle="",this.docFields.data.href=""}}finally{this.generation++,this.evaluateConditions()}}}},Hfe={class:"apos-image-control__footer"};function Vfe(e,t,i,n,s,o){const r=O("AposSchema"),a=O("AposButton");return p(),y("div",{class:ne(["apos-popover apos-image-control__dialog",{"apos-has-selection":i.hasSelection}])},[(p(),R(r,{key:o.lastSelectionTime,modelValue:s.docFields,"onUpdate:modelValue":[t[0]||(t[0]=l=>s.docFields=l),t[1]||(t[1]=l=>e.evaluateConditions())],schema:o.schema,"trigger-validation":s.triggerValidation,modifiers:s.formModifiers,generation:s.generation,"following-values":e.followingValues(),"conditional-fields":e.conditionalFields},null,8,["modelValue","schema","trigger-validation","modifiers","generation","following-values","conditional-fields"])),k("footer",Hfe,[D(a,{type:"default",label:"apostrophe:cancel",modifiers:["small"],onClick:o.close},null,8,["onClick"]),D(a,{type:"primary",label:"apostrophe:save",modifiers:["small"],disabled:s.docFields.hasErrors,onClick:o.save},null,8,["disabled","onClick"])])],2)}const zfe=I(Rfe,[["render",Vfe],["__scopeId","data-v-c2d14487"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposImageControlDialog.vue"]]);function Gi(e){this.content=e}Gi.prototype={constructor:Gi,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,i){var n=i&&i!=e?this.remove(i):this,s=n.find(e),o=n.content.slice();return s==-1?o.push(i||e,t):(o[s+1]=t,i&&(o[s]=i)),new Gi(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var i=this.content.slice();return i.splice(t,2),new Gi(i)},addToStart:function(e,t){return new Gi([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var i=this.remove(e).content.slice();return i.push(e,t),new Gi(i)},addBefore:function(e,t,i){var n=this.remove(t),s=n.content.slice(),o=n.find(e);return s.splice(o==-1?s.length:o,0,t,i),new Gi(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Gi.from(e),e.size?new Gi(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Gi.from(e),e.size?new Gi(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Gi.from(e);for(var i=0;i<e.content.length;i+=2)t=t.remove(e.content[i]);return t},toObject:function(){var e={};return this.forEach(function(t,i){e[t]=i}),e},get size(){return this.content.length>>1}};Gi.from=function(e){if(e instanceof Gi)return e;var t=[];if(e)for(var i in e)t.push(i,e[i]);return new Gi(t)};function wx(e,t,i){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:i;let s=e.child(n),o=t.child(n);if(s==o){i+=s.nodeSize;continue}if(!s.sameMarkup(o))return i;if(s.isText&&s.text!=o.text){for(let r=0;s.text[r]==o.text[r];r++)i++;return i}if(s.content.size||o.content.size){let r=wx(s.content,o.content,i+1);if(r!=null)return r}i+=s.nodeSize}}function Cx(e,t,i,n){for(let s=e.childCount,o=t.childCount;;){if(s==0||o==0)return s==o?null:{a:i,b:n};let r=e.child(--s),a=t.child(--o),l=r.nodeSize;if(r==a){i-=l,n-=l;continue}if(!r.sameMarkup(a))return{a:i,b:n};if(r.isText&&r.text!=a.text){let c=0,u=Math.min(r.text.length,a.text.length);for(;c<u&&r.text[r.text.length-c-1]==a.text[a.text.length-c-1];)c++,i--,n--;return{a:i,b:n}}if(r.content.size||a.content.size){let c=Cx(r.content,a.content,i-1,n-1);if(c)return c}i-=l,n-=l}}class me{constructor(t,i){if(this.content=t,this.size=i||0,i==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,i,n,s=0,o){for(let r=0,a=0;a<i;r++){let l=this.content[r],c=a+l.nodeSize;if(c>t&&n(l,s+a,o||null,r)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,i-u),n,s+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,i,n,s){let o="",r=!0;return this.nodesBetween(t,i,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,i-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(r?r=!1:o+=n),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let i=this.lastChild,n=t.firstChild,s=this.content.slice(),o=0;for(i.isText&&i.sameMarkup(n)&&(s[s.length-1]=i.withText(i.text+n.text),o=1);o<t.content.length;o++)s.push(t.content[o]);return new me(s,this.size+t.size)}cut(t,i=this.size){if(t==0&&i==this.size)return this;let n=[],s=0;if(i>t)for(let o=0,r=0;r<i;o++){let a=this.content[o],l=r+a.nodeSize;l>t&&((r<t||l>i)&&(a.isText?a=a.cut(Math.max(0,t-r),Math.min(a.text.length,i-r)):a=a.cut(Math.max(0,t-r-1),Math.min(a.content.size,i-r-1))),n.push(a),s+=a.nodeSize),r=l}return new me(n,s)}cutByIndex(t,i){return t==i?me.empty:t==0&&i==this.content.length?this:new me(this.content.slice(t,i))}replaceChild(t,i){let n=this.content[t];if(n==i)return this;let s=this.content.slice(),o=this.size+i.nodeSize-n.nodeSize;return s[t]=i,new me(s,o)}addToStart(t){return new me([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new me(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let i=0;i<this.content.length;i++)if(!this.content[i].eq(t.content[i]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let i=this.content[t];if(!i)throw new RangeError("Index "+t+" out of range for "+this);return i}maybeChild(t){return this.content[t]||null}forEach(t){for(let i=0,n=0;i<this.content.length;i++){let s=this.content[i];t(s,n,i),n+=s.nodeSize}}findDiffStart(t,i=0){return wx(this,t,i)}findDiffEnd(t,i=this.size,n=t.size){return Cx(this,t,i,n)}findIndex(t,i=-1){if(t==0)return gf(0,t);if(t==this.size)return gf(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,s=0;;n++){let o=this.child(n),r=s+o.nodeSize;if(r>=t)return r==t||i>0?gf(n+1,r):gf(n,s);s=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,i){if(!i)return me.empty;if(!Array.isArray(i))throw new RangeError("Invalid input for Fragment.fromJSON");return new me(i.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return me.empty;let i,n=0;for(let s=0;s<t.length;s++){let o=t[s];n+=o.nodeSize,s&&o.isText&&t[s-1].sameMarkup(o)?(i||(i=t.slice(0,s)),i[i.length-1]=o.withText(i[i.length-1].text+o.text)):i&&i.push(o)}return new me(i||t,n)}static from(t){if(!t)return me.empty;if(t instanceof me)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new me([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}me.empty=new me([],0);const ob={index:0,offset:0};function gf(e,t){return ob.index=e,ob.offset=t,ob}function Vp(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let i=Array.isArray(e);if(Array.isArray(t)!=i)return!1;if(i){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Vp(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!Vp(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let Jt=class Ly{constructor(t,i){this.type=t,this.attrs=i}addToSet(t){let i,n=!1;for(let s=0;s<t.length;s++){let o=t[s];if(this.eq(o))return t;if(this.type.excludes(o.type))i||(i=t.slice(0,s));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(i||(i=t.slice(0,s)),i.push(this),n=!0),i&&i.push(o)}}return i||(i=t.slice()),n||i.push(this),i}removeFromSet(t){for(let i=0;i<t.length;i++)if(this.eq(t[i]))return t.slice(0,i).concat(t.slice(i+1));return t}isInSet(t){for(let i=0;i<t.length;i++)if(this.eq(t[i]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Vp(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let i in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,i){if(!i)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[i.type];if(!n)throw new RangeError(`There is no mark type ${i.type} in this schema`);let s=n.create(i.attrs);return n.checkAttrs(s.attrs),s}static sameSet(t,i){if(t==i)return!0;if(t.length!=i.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(i[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Ly.none;if(t instanceof Ly)return[t];let i=t.slice();return i.sort((n,s)=>n.type.rank-s.type.rank),i}};Jt.none=[];class zp extends Error{}class Ee{constructor(t,i,n){this.content=t,this.openStart=i,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,i){let n=Ax(this.content,t+this.openStart,i);return n&&new Ee(n,this.openStart,this.openEnd)}removeBetween(t,i){return new Ee(kx(this.content,t+this.openStart,i+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,i){if(!i)return Ee.empty;let n=i.openStart||0,s=i.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ee(me.fromJSON(t,i.content),n,s)}static maxOpen(t,i=!0){let n=0,s=0;for(let o=t.firstChild;o&&!o.isLeaf&&(i||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(i||!o.type.spec.isolating);o=o.lastChild)s++;return new Ee(t,n,s)}}Ee.empty=new Ee(me.empty,0,0);function kx(e,t,i){let{index:n,offset:s}=e.findIndex(t),o=e.maybeChild(n),{index:r,offset:a}=e.findIndex(i);if(s==t||o.isText){if(a!=i&&!e.child(r).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(i))}if(n!=r)throw new RangeError("Removing non-flat range");return e.replaceChild(n,o.copy(kx(o.content,t-s-1,i-s-1)))}function Ax(e,t,i,n){let{index:s,offset:o}=e.findIndex(t),r=e.maybeChild(s);if(o==t||r.isText)return e.cut(0,t).append(i).append(e.cut(t));let a=Ax(r.content,t-o-1,i);return a&&e.replaceChild(s,r.copy(a))}function Nfe(e,t,i){if(i.openStart>e.depth)throw new zp("Inserted content deeper than insertion position");if(e.depth-i.openStart!=t.depth-i.openEnd)throw new zp("Inconsistent open depths");return Sx(e,t,i,0)}function Sx(e,t,i,n){let s=e.index(n),o=e.node(n);if(s==t.index(n)&&n<e.depth-i.openStart){let r=Sx(e,t,i,n+1);return o.copy(o.content.replaceChild(s,r))}else if(i.content.size)if(!i.openStart&&!i.openEnd&&e.depth==n&&t.depth==n){let r=e.parent,a=r.content;return dl(r,a.cut(0,e.parentOffset).append(i.content).append(a.cut(t.parentOffset)))}else{let{start:r,end:a}=Bfe(i,e);return dl(o,Mx(e,r,a,t,n))}else return dl(o,Np(e,t,n))}function xx(e,t){if(!t.type.compatibleContent(e.type))throw new zp("Cannot join "+t.type.name+" onto "+e.type.name)}function Py(e,t,i){let n=e.node(i);return xx(n,t.node(i)),n}function cl(e,t){let i=t.length-1;i>=0&&e.isText&&e.sameMarkup(t[i])?t[i]=e.withText(t[i].text+e.text):t.push(e)}function nu(e,t,i,n){let s=(t||e).node(i),o=0,r=t?t.index(i):s.childCount;e&&(o=e.index(i),e.depth>i?o++:e.textOffset&&(cl(e.nodeAfter,n),o++));for(let a=o;a<r;a++)cl(s.child(a),n);t&&t.depth==i&&t.textOffset&&cl(t.nodeBefore,n)}function dl(e,t){return e.type.checkContent(t),e.copy(t)}function Mx(e,t,i,n,s){let o=e.depth>s&&Py(e,t,s+1),r=n.depth>s&&Py(i,n,s+1),a=[];return nu(null,e,s,a),o&&r&&t.index(s)==i.index(s)?(xx(o,r),cl(dl(o,Mx(e,t,i,n,s+1)),a)):(o&&cl(dl(o,Np(e,t,s+1)),a),nu(t,i,s,a),r&&cl(dl(r,Np(i,n,s+1)),a)),nu(n,null,s,a),new me(a)}function Np(e,t,i){let n=[];if(nu(null,e,i,n),e.depth>i){let s=Py(e,t,i+1);cl(dl(s,Np(e,t,i+1)),n)}return nu(t,null,i,n),new me(n)}function Bfe(e,t){let i=t.depth-e.openStart,s=t.node(i).copy(e.content);for(let o=i-1;o>=0;o--)s=t.node(o).copy(me.from(s));return{start:s.resolveNoCache(e.openStart+i),end:s.resolveNoCache(s.content.size-e.openEnd-i)}}class Ou{constructor(t,i,n){this.pos=t,this.path=i,this.parentOffset=n,this.depth=i.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,i=this.index(this.depth);if(i==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=t.child(i);return n?t.child(i).cut(n):s}get nodeBefore(){let t=this.index(this.depth),i=this.pos-this.path[this.path.length-1];return i?this.parent.child(t).cut(0,i):t==0?null:this.parent.child(t-1)}posAtIndex(t,i){i=this.resolveDepth(i);let n=this.path[i*3],s=i==0?0:this.path[i*3-1]+1;for(let o=0;o<t;o++)s+=n.child(o).nodeSize;return s}marks(){let t=this.parent,i=this.index();if(t.content.size==0)return Jt.none;if(this.textOffset)return t.child(i).marks;let n=t.maybeChild(i-1),s=t.maybeChild(i);if(!n){let a=n;n=s,s=a}let o=n.marks;for(var r=0;r<o.length;r++)o[r].type.spec.inclusive===!1&&(!s||!o[r].isInSet(s.marks))&&(o=o[r--].removeFromSet(o));return o}marksAcross(t){let i=this.parent.maybeChild(this.index());if(!i||!i.isInline)return null;let n=i.marks,s=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!s||!n[o].isInSet(s.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let i=this.depth;i>0;i--)if(this.start(i)<=t&&this.end(i)>=t)return i;return 0}blockRange(t=this,i){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!i||i(this.node(n))))return new Bp(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let i=1;i<=this.depth;i++)t+=(t?"/":"")+this.node(i).type.name+"_"+this.index(i-1);return t+":"+this.parentOffset}static resolve(t,i){if(!(i>=0&&i<=t.content.size))throw new RangeError("Position "+i+" out of range");let n=[],s=0,o=i;for(let r=t;;){let{index:a,offset:l}=r.content.findIndex(o),c=o-l;if(n.push(r,a,s+l),!c||(r=r.child(a),r.isText))break;o=c-1,s+=l+1}return new Ou(i,n,o)}static resolveCached(t,i){let n=dk.get(t);if(n)for(let o=0;o<n.elts.length;o++){let r=n.elts[o];if(r.pos==i)return r}else dk.set(t,n=new Ffe);let s=n.elts[n.i]=Ou.resolve(t,i);return n.i=(n.i+1)%jfe,s}}class Ffe{constructor(){this.elts=[],this.i=0}}const jfe=12,dk=new WeakMap;class Bp{constructor(t,i,n){this.$from=t,this.$to=i,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ufe=Object.create(null);let pa=class Dy{constructor(t,i,n,s=Jt.none){this.type=t,this.attrs=i,this.marks=s,this.content=n||me.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,i,n,s=0){this.content.nodesBetween(t,i,n,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,i,n,s){return this.content.textBetween(t,i,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,i,n){return this.type==t&&Vp(this.attrs,i||t.defaultAttrs||Ufe)&&Jt.sameSet(this.marks,n||Jt.none)}copy(t=null){return t==this.content?this:new Dy(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Dy(this.type,this.attrs,this.content,t)}cut(t,i=this.content.size){return t==0&&i==this.content.size?this:this.copy(this.content.cut(t,i))}slice(t,i=this.content.size,n=!1){if(t==i)return Ee.empty;let s=this.resolve(t),o=this.resolve(i),r=n?0:s.sharedDepth(i),a=s.start(r),c=s.node(r).content.cut(s.pos-a,o.pos-a);return new Ee(c,s.depth-r,o.depth-r)}replace(t,i,n){return Nfe(this.resolve(t),this.resolve(i),n)}nodeAt(t){for(let i=this;;){let{index:n,offset:s}=i.content.findIndex(t);if(i=i.maybeChild(n),!i)return null;if(s==t||i.isText)return i;t-=s+1}}childAfter(t){let{index:i,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(i),index:i,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:i,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(i),index:i,offset:n};let s=this.content.child(i-1);return{node:s,index:i-1,offset:n-s.nodeSize}}resolve(t){return Ou.resolveCached(this,t)}resolveNoCache(t){return Ou.resolve(this,t)}rangeHasMark(t,i,n){let s=!1;return i>t&&this.nodesBetween(t,i,o=>(n.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Tx(this.marks,t)}contentMatchAt(t){let i=this.type.contentMatch.matchFragment(this.content,0,t);if(!i)throw new Error("Called contentMatchAt on a node with invalid content");return i}canReplace(t,i,n=me.empty,s=0,o=n.childCount){let r=this.contentMatchAt(t).matchFragment(n,s,o),a=r&&r.matchFragment(this.content,i);if(!a||!a.validEnd)return!1;for(let l=s;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,i,n,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(t).matchType(n),r=o&&o.matchFragment(this.content,i);return r?r.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Jt.none;for(let i=0;i<this.marks.length;i++){let n=this.marks[i];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!Jt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(i=>i.type.name)}`);this.content.forEach(i=>i.check())}toJSON(){let t={type:this.type.name};for(let i in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(i=>i.toJSON())),t}static fromJSON(t,i){if(!i)throw new RangeError("Invalid input for Node.fromJSON");let n;if(i.marks){if(!Array.isArray(i.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=i.marks.map(t.markFromJSON)}if(i.type=="text"){if(typeof i.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(i.text,n)}let s=me.fromJSON(t,i.content),o=t.nodeType(i.type).create(i.attrs,s,n);return o.type.checkAttrs(o.attrs),o}};pa.prototype.text=void 0;class Fp extends pa{constructor(t,i,n,s){if(super(t,i,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Tx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,i){return this.text.slice(t,i)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Fp(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Fp(this.type,this.attrs,t,this.marks)}cut(t=0,i=this.text.length){return t==0&&i==this.text.length?this:this.withText(this.text.slice(t,i))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Tx(e,t){for(let i=e.length-1;i>=0;i--)t=e[i].type.name+"("+t+")";return t}class Al{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,i){let n=new Wfe(t,i);if(n.next==null)return Al.empty;let s=Ox(n);n.next&&n.err("Unexpected trailing text");let o=Xfe(Zfe(s));return Qfe(o,n),o}matchType(t){for(let i=0;i<this.next.length;i++)if(this.next[i].type==t)return this.next[i].next;return null}matchFragment(t,i=0,n=t.childCount){let s=this;for(let o=i;s&&o<n;o++)s=s.matchType(t.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:i}=this.next[t];if(!(i.isText||i.hasRequiredAttrs()))return i}return null}compatible(t){for(let i=0;i<this.next.length;i++)for(let n=0;n<t.next.length;n++)if(this.next[i].type==t.next[n].type)return!0;return!1}fillBefore(t,i=!1,n=0){let s=[this];function o(r,a){let l=r.matchFragment(t,n);if(l&&(!i||l.validEnd))return me.from(a.map(c=>c.createAndFill()));for(let c=0;c<r.next.length;c++){let{type:u,next:h}=r.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let m=o(h,a.concat(u));if(m)return m}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let i=this.computeWrapping(t);return this.wrapCache.push(t,i),i}computeWrapping(t){let i=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),o=s.match;if(o.matchType(t)){let r=[];for(let a=s;a.type;a=a.via)r.push(a.type);return r.reverse()}for(let r=0;r<o.next.length;r++){let{type:a,next:l}=o.next[r];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in i)&&(!s.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:s}),i[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function i(n){t.push(n);for(let s=0;s<n.next.length;s++)t.indexOf(n.next[s].next)==-1&&i(n.next[s].next)}return i(this),t.map((n,s)=>{let o=s+(n.validEnd?"*":" ")+" ";for(let r=0;r<n.next.length;r++)o+=(r?", ":"")+n.next[r].type.name+"->"+t.indexOf(n.next[r].next);return o}).join(`
`)}}Al.empty=new Al(!0);class Wfe{constructor(t,i){this.string=t,this.nodeTypes=i,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Ox(e){let t=[];do t.push(qfe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function qfe(e){let t=[];do t.push(Kfe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Kfe(e){let t=Yfe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Gfe(e,t);else break;return t}function uk(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Gfe(e,t){let i=uk(e),n=i;return e.eat(",")&&(e.next!="}"?n=uk(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:i,max:n,expr:t}}function Jfe(e,t){let i=e.nodeTypes,n=i[t];if(n)return[n];let s=[];for(let o in i){let r=i[o];r.isInGroup(t)&&s.push(r)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function Yfe(e){if(e.eat("(")){let t=Ox(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Jfe(e,e.next).map(i=>(e.inline==null?e.inline=i.isInline:e.inline!=i.isInline&&e.err("Mixing inline and block content"),{type:"name",value:i}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Zfe(e){let t=[[]];return s(o(e,0),i()),t;function i(){return t.push([])-1}function n(r,a,l){let c={term:l,to:a};return t[r].push(c),c}function s(r,a){r.forEach(l=>l.to=a)}function o(r,a){if(r.type=="choice")return r.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(r.type=="seq")for(let l=0;;l++){let c=o(r.exprs[l],a);if(l==r.exprs.length-1)return c;s(c,a=i())}else if(r.type=="star"){let l=i();return n(a,l),s(o(r.expr,l),l),[n(l)]}else if(r.type=="plus"){let l=i();return s(o(r.expr,a),l),s(o(r.expr,l),l),[n(l)]}else{if(r.type=="opt")return[n(a)].concat(o(r.expr,a));if(r.type=="range"){let l=a;for(let c=0;c<r.min;c++){let u=i();s(o(r.expr,l),u),l=u}if(r.max==-1)s(o(r.expr,l),l);else for(let c=r.min;c<r.max;c++){let u=i();n(l,u),s(o(r.expr,l),u),l=u}return[n(l)]}else{if(r.type=="name")return[n(a,void 0,r.value)];throw new Error("Unknown expr type")}}}}function Ex(e,t){return t-e}function hk(e,t){let i=[];return n(t),i.sort(Ex);function n(s){let o=e[s];if(o.length==1&&!o[0].term)return n(o[0].to);i.push(s);for(let r=0;r<o.length;r++){let{term:a,to:l}=o[r];!a&&i.indexOf(l)==-1&&n(l)}}}function Xfe(e){let t=Object.create(null);return i(hk(e,0));function i(n){let s=[];n.forEach(r=>{e[r].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);hk(e,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[n.join(",")]=new Al(n.indexOf(e.length-1)>-1);for(let r=0;r<s.length;r++){let a=s[r][1].sort(Ex);o.next.push({type:s[r][0],next:t[a.join(",")]||i(a)})}return o}}function Qfe(e,t){for(let i=0,n=[e];i<n.length;i++){let s=n[i],o=!s.validEnd,r=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];r.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&t.err("Only non-generatable nodes ("+r.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ix(e){let t=Object.create(null);for(let i in e){let n=e[i];if(!n.hasDefault)return null;t[i]=n.default}return t}function $x(e,t){let i=Object.create(null);for(let n in e){let s=t&&t[n];if(s===void 0){let o=e[n];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+n)}i[n]=s}return i}function Lx(e,t,i,n){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${i} of type ${s}`);for(let s in e){let o=e[s];o.validate&&o.validate(t[s])}}function Px(e,t){let i=Object.create(null);if(t)for(let n in t)i[n]=new tpe(e,n,t[n]);return i}let fk=class Dx{constructor(t,i,n){this.name=t,this.schema=i,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Px(t,n.attrs),this.defaultAttrs=Ix(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Al.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:$x(this.attrs,t)}create(t=null,i,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new pa(this,this.computeAttrs(t),me.from(i),Jt.setFrom(n))}createChecked(t=null,i,n){return i=me.from(i),this.checkContent(i),new pa(this,this.computeAttrs(t),i,Jt.setFrom(n))}createAndFill(t=null,i,n){if(t=this.computeAttrs(t),i=me.from(i),i.size){let r=this.contentMatch.fillBefore(i);if(!r)return null;i=r.append(i)}let s=this.contentMatch.matchFragment(i),o=s&&s.fillBefore(me.empty,!0);return o?new pa(this,t,i.append(o),Jt.setFrom(n)):null}validContent(t){let i=this.contentMatch.matchFragment(t);if(!i||!i.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Lx(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let i=0;i<t.length;i++)if(!this.allowsMarkType(t[i].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let i;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?i&&i.push(t[n]):i||(i=t.slice(0,n));return i?i.length?i:Jt.none:t}static compile(t,i){let n=Object.create(null);t.forEach((o,r)=>n[o]=new Dx(o,i,r));let s=i.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function epe(e,t,i){let n=i.split("|");return s=>{let o=s===null?"null":typeof s;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${o}`)}}class tpe{constructor(t,i,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?epe(t,i,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Km{constructor(t,i,n,s){this.name=t,this.rank=i,this.schema=n,this.spec=s,this.attrs=Px(t,s.attrs),this.excluded=null;let o=Ix(this.attrs);this.instance=o?new Jt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Jt(this,$x(this.attrs,t))}static compile(t,i){let n=Object.create(null),s=0;return t.forEach((o,r)=>n[o]=new Km(o,s++,i,r)),n}removeFromSet(t){for(var i=0;i<t.length;i++)t[i].type==this&&(t=t.slice(0,i).concat(t.slice(i+1)),i--);return t}isInSet(t){for(let i=0;i<t.length;i++)if(t[i].type==this)return t[i]}checkAttrs(t){Lx(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Rx{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let i=this.spec={};for(let s in t)i[s]=t[s];i.nodes=Gi.from(t.nodes),i.marks=Gi.from(t.marks||{}),this.nodes=fk.compile(this.spec.nodes,this),this.marks=Km.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],r=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=n[r]||(n[r]=Al.parse(r,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?pk(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],r=o.spec.excludes;o.excluded=r==null?[o]:r==""?[]:pk(this,r.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,i=null,n,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof fk){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(i,n,s)}text(t,i){let n=this.nodes.text;return new Fp(n,n.defaultAttrs,t,Jt.setFrom(i))}mark(t,i){return typeof t=="string"&&(t=this.marks[t]),t.create(i)}nodeFromJSON(t){return pa.fromJSON(this,t)}markFromJSON(t){return Jt.fromJSON(this,t)}nodeType(t){let i=this.nodes[t];if(!i)throw new RangeError("Unknown node type: "+t);return i}}function pk(e,t){let i=[];for(let n=0;n<t.length;n++){let s=t[n],o=e.marks[s],r=o;if(o)i.push(o);else for(let a in e.marks){let l=e.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&i.push(r=l)}if(!r)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return i}function ipe(e){return e.tag!=null}function npe(e){return e.style!=null}class ma{constructor(t,i){this.schema=t,this.rules=i,this.tags=[],this.styles=[];let n=this.matchedStyles=[];i.forEach(s=>{if(ipe(s))this.tags.push(s);else if(npe(s)){let o=/[^=]*/.exec(s.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=t.nodes[s.node];return o.contentMatch.matchType(o)})}parse(t,i={}){let n=new gk(this,i,!1);return n.addAll(t,Jt.none,i.from,i.to),n.finish()}parseSlice(t,i={}){let n=new gk(this,i,!0);return n.addAll(t,Jt.none,i.from,i.to),Ee.maxOpen(n.finish())}matchTag(t,i,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(rpe(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||i.matchesContext(o.context))){if(o.getAttrs){let r=o.getAttrs(t);if(r===!1)continue;o.attrs=r||void 0}return o}}}matchStyle(t,i,n,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let r=this.styles[o],a=r.style;if(!(a.indexOf(t)!=0||r.context&&!n.matchesContext(r.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=i))){if(r.getAttrs){let l=r.getAttrs(i);if(l===!1)continue;r.attrs=l||void 0}return r}}}static schemaRules(t){let i=[];function n(s){let o=s.priority==null?50:s.priority,r=0;for(;r<i.length;r++){let a=i[r];if((a.priority==null?50:a.priority)<o)break}i.splice(r,0,s)}for(let s in t.marks){let o=t.marks[s].spec.parseDOM;o&&o.forEach(r=>{n(r=bk(r)),r.mark||r.ignore||r.clearMark||(r.mark=s)})}for(let s in t.nodes){let o=t.nodes[s].spec.parseDOM;o&&o.forEach(r=>{n(r=bk(r)),r.node||r.ignore||r.mark||(r.node=s)})}return i}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new ma(t,ma.schemaRules(t)))}}const Hx={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},spe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Vx={ol:!0,ul:!0},Eu=1,Ry=2,su=4;function mk(e,t,i){return t!=null?(t?Eu:0)|(t==="full"?Ry:0):e&&e.whitespace=="pre"?Eu|Ry:i&~su}class bf{constructor(t,i,n,s,o,r){this.type=t,this.attrs=i,this.marks=n,this.solid=s,this.options=r,this.content=[],this.activeMarks=Jt.none,this.match=o||(r&su?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let i=this.type.contentMatch.fillBefore(me.from(t));if(i)this.match=this.type.contentMatch.matchFragment(i);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(t.type))?(this.match=n,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Eu)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let i=me.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(me.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Hx.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class gk{constructor(t,i,n){this.parser=t,this.options=i,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=i.topNode,o,r=mk(null,i.preserveWhitespace,0)|(n?su:0);s?o=new bf(s.type,s.attrs,Jt.none,!0,i.topMatch||s.type.contentMatch,r):n?o=new bf(null,null,Jt.none,!0,null,r):o=new bf(t.schema.topNodeType,null,Jt.none,!0,null,r),this.nodes=[o],this.find=i.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,i){t.nodeType==3?this.addTextNode(t,i):t.nodeType==1&&this.addElement(t,i)}addTextNode(t,i){let n=t.nodeValue,s=this.top,o=s.options&Ry?"full":this.localPreserveWS||(s.options&Eu)>0;if(o==="full"||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)o!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let r=s.content[s.content.length-1],a=t.previousSibling;(!r||a&&a.nodeName=="BR"||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),i),this.findInText(t)}else this.findInside(t)}addElement(t,i,n){let s=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let r=t.nodeName.toLowerCase(),a;Vx.hasOwnProperty(r)&&this.parser.normalizeLists&&ope(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,n));e:if(l?l.ignore:spe.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t,i);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(Hx.hasOwnProperty(r))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,i);break e}let h=l&&l.skip?i:this.readStyles(t,i);h&&this.addAll(t,h),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(t,i);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=s}leafFallback(t,i){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),i)}ignoreFallback(t,i){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),i)}readStyles(t,i){let n=t.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],r=n.getPropertyValue(o);if(r)for(let a=void 0;;){let l=this.parser.matchStyle(o,r,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?i=i.filter(c=>!l.clearMark(c)):i=i.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return i}addElementByRule(t,i,n,s){let o,r;if(i.node)if(r=this.parser.schema.nodes[i.node],r.isLeaf)this.insertNode(r.create(i.attrs),n)||this.leafFallback(t,n);else{let l=this.enter(r,i.attrs||null,n,i.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[i.mark];n=n.concat(l.create(i.attrs))}let a=this.top;if(r&&r.isLeaf)this.findInside(t);else if(s)this.addElement(t,n,s);else if(i.getContent)this.findInside(t),i.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=t;typeof i.contentElement=="string"?l=t.querySelector(i.contentElement):typeof i.contentElement=="function"?l=i.contentElement(t):i.contentElement&&(l=i.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,i,n,s){let o=n||0;for(let r=n?t.childNodes[n]:t.firstChild,a=s==null?null:t.childNodes[s];r!=a;r=r.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(r,i);this.findAtPoint(t,o)}findPlace(t,i){let n,s;for(let o=this.open;o>=0;o--){let r=this.nodes[o],a=r.findWrapping(t);if(a&&(!n||n.length>a.length)&&(n=a,s=r,!a.length)||r.solid)break}if(!n)return null;this.sync(s);for(let o=0;o<n.length;o++)i=this.enterInner(n[o],null,i,!1);return i}insertNode(t,i){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(i=this.enterInner(s,null,i))}let n=this.findPlace(t,i);if(n){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let o=Jt.none;for(let r of n.concat(t.marks))(s.type?s.type.allowsMarkType(r.type):yk(r.type,t.type))&&(o=r.addToSet(o));return s.content.push(t.mark(o)),!0}return!1}enter(t,i,n,s){let o=this.findPlace(t.create(i),n);return o&&(o=this.enterInner(t,i,n,!0,s)),o}enterInner(t,i,n,s=!1,o){this.closeExtra();let r=this.top;r.match=r.match&&r.match.matchType(t);let a=mk(t,o,r.options);r.options&su&&r.content.length==0&&(a|=su);let l=Jt.none;return n=n.filter(c=>(r.type?r.type.allowsMarkType(c.type):yk(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new bf(t,i,l,s,null,a)),this.open++,n}closeExtra(t=!1){let i=this.nodes.length-1;if(i>this.open){for(;i>this.open;i--)this.nodes[i-1].content.push(this.nodes[i].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let i=this.open;i>=0;i--){if(this.nodes[i]==t)return this.open=i,!0;this.localPreserveWS&&(this.nodes[i].options|=Eu)}return!1}get currentPos(){this.closeExtra();let t=0;for(let i=this.open;i>=0;i--){let n=this.nodes[i].content;for(let s=n.length-1;s>=0;s--)t+=n[s].nodeSize;i&&t++}return t}findAtPoint(t,i){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==i&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&(this.find[i].pos=this.currentPos)}findAround(t,i,n){if(t!=i&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&i.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&(this.find[i].pos=this.currentPos-(t.nodeValue.length-this.find[i].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let i=t.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(s?0:1),r=(a,l)=>{for(;a>=0;a--){let c=i[a];if(c==""){if(a==i.length-1||a==0)continue;for(;l>=o;l--)if(r(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return r(i.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let i=t.depth;i>=0;i--){let n=t.node(i).contentMatchAt(t.indexAfter(i)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let i in this.parser.schema.nodes){let n=this.parser.schema.nodes[i];if(n.isTextblock&&n.defaultAttrs)return n}}}function ope(e){for(let t=e.firstChild,i=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&Vx.hasOwnProperty(n)&&i?(i.appendChild(t),t=i):n=="li"?i=t:n&&(i=null)}}function rpe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function bk(e){let t={};for(let i in e)t[i]=e[i];return t}function yk(e,t){let i=t.schema.nodes;for(let n in i){let s=i[n];if(!s.allowsMarkType(e))continue;let o=[],r=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||o.indexOf(u)<0&&r(u))return!0}};if(r(s.contentMatch))return!0}}class Pl{constructor(t,i){this.nodes=t,this.marks=i}serializeFragment(t,i={},n){n||(n=rb(i).createDocumentFragment());let s=n,o=[];return t.forEach(r=>{if(o.length||r.marks.length){let a=0,l=0;for(;a<o.length&&l<r.marks.length;){let c=r.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)s=o.pop()[1];for(;l<r.marks.length;){let c=r.marks[l++],u=this.serializeMark(c,r.isInline,i);u&&(o.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(r,i))}),n}serializeNodeInner(t,i){let{dom:n,contentDOM:s}=sp(rb(i),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,i,s)}return n}serializeNode(t,i={}){let n=this.serializeNodeInner(t,i);for(let s=t.marks.length-1;s>=0;s--){let o=this.serializeMark(t.marks[s],t.isInline,i);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,i,n={}){let s=this.marks[t.type.name];return s&&sp(rb(n),s(t,i),null,t.attrs)}static renderSpec(t,i,n=null,s){return sp(t,i,n,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Pl(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let i=vk(t.nodes);return i.text||(i.text=n=>n.text),i}static marksFromSchema(t){return vk(t.marks)}}function vk(e){let t={};for(let i in e){let n=e[i].spec.toDOM;n&&(t[i]=n)}return t}function rb(e){return e.document||window.document}const _k=new WeakMap;function ape(e){let t=_k.get(e);return t===void 0&&_k.set(e,t=lpe(e)),t}function lpe(e){let t=null;function i(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let s=0;s<n.length;s++)i(n[s]);else for(let s in n)i(n[s])}return i(e),t}function sp(e,t,i,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=ape(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let r=s.indexOf(" ");r>0&&(i=s.slice(0,r),s=s.slice(r+1));let a,l=i?e.createElementNS(i,s):e.createElement(s),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let h in c)if(c[h]!=null){let m=h.indexOf(" ");m>0?l.setAttributeNS(h.slice(0,m),h.slice(m+1),c[h]):l.setAttribute(h,c[h])}}for(let h=u;h<t.length;h++){let m=t[h];if(m===0){if(h<t.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:v}=sp(e,m,i,n);if(l.appendChild(g),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}const zx=65535,Nx=Math.pow(2,16);function cpe(e,t){return e+t*Nx}function wk(e){return e&zx}function dpe(e){return(e-(e&zx))/Nx}const Bx=1,Fx=2,op=4,jx=8;class Hy{constructor(t,i,n){this.pos=t,this.delInfo=i,this.recover=n}get deleted(){return(this.delInfo&jx)>0}get deletedBefore(){return(this.delInfo&(Bx|op))>0}get deletedAfter(){return(this.delInfo&(Fx|op))>0}get deletedAcross(){return(this.delInfo&op)>0}}class Qn{constructor(t,i=!1){if(this.ranges=t,this.inverted=i,!t.length&&Qn.empty)return Qn.empty}recover(t){let i=0,n=wk(t);if(!this.inverted)for(let s=0;s<n;s++)i+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+i+dpe(t)}mapResult(t,i=1){return this._map(t,i,!1)}map(t,i=1){return this._map(t,i,!0)}_map(t,i,n){let s=0,o=this.inverted?2:1,r=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>t)break;let c=this.ranges[a+o],u=this.ranges[a+r],h=l+c;if(t<=h){let m=c?t==l?-1:t==h?1:i:i,g=l+s+(m<0?0:u);if(n)return g;let v=t==(i<0?l:h)?null:cpe(a/3,t-l),_=t==l?Fx:t==h?Bx:op;return(i<0?t!=l:t!=h)&&(_|=jx),new Hy(g,_,v)}s+=u-c}return n?t+s:new Hy(t+s,0,null)}touches(t,i){let n=0,s=wk(i),o=this.inverted?2:1,r=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[a+o],u=l+c;if(t<=u&&a==s*3)return!0;n+=this.ranges[a+r]-c}return!1}forEach(t){let i=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let r=this.ranges[s],a=r-(this.inverted?o:0),l=r+(this.inverted?0:o),c=this.ranges[s+i],u=this.ranges[s+n];t(a,a+c,l,l+u),o+=u-c}}invert(){return new Qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Qn.empty:new Qn(t<0?[0,-t,0]:[0,0,t])}}Qn.empty=new Qn([]);class xc{constructor(t=[],i,n=0,s=t.length){this.maps=t,this.mirror=i,this.from=n,this.to=s}slice(t=0,i=this.maps.length){return new xc(this.maps,this.mirror,t,i)}copy(){return new xc(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,i){this.to=this.maps.push(t),i!=null&&this.setMirror(this.maps.length-1,i)}appendMapping(t){for(let i=0,n=this.maps.length;i<t.maps.length;i++){let s=t.getMirror(i);this.appendMap(t.maps[i],s!=null&&s<i?n+s:void 0)}}getMirror(t){if(this.mirror){for(let i=0;i<this.mirror.length;i++)if(this.mirror[i]==t)return this.mirror[i+(i%2?-1:1)]}}setMirror(t,i){this.mirror||(this.mirror=[]),this.mirror.push(t,i)}appendMappingInverted(t){for(let i=t.maps.length-1,n=this.maps.length+t.maps.length;i>=0;i--){let s=t.getMirror(i);this.appendMap(t.maps[i].invert(),s!=null&&s>i?n-s-1:void 0)}}invert(){let t=new xc;return t.appendMappingInverted(this),t}map(t,i=1){if(this.mirror)return this._map(t,i,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,i);return t}mapResult(t,i=1){return this._map(t,i,!1)}_map(t,i,n){let s=0;for(let o=this.from;o<this.to;o++){let r=this.maps[o],a=r.mapResult(t,i);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,t=a.pos}return n?t:new Hy(t,s,null)}}const ab=Object.create(null);class mn{getMap(){return Qn.empty}merge(t){return null}static fromJSON(t,i){if(!i||!i.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=ab[i.stepType];if(!n)throw new RangeError(`No step type ${i.stepType} defined`);return n.fromJSON(t,i)}static jsonID(t,i){if(t in ab)throw new RangeError("Duplicate use of step JSON ID "+t);return ab[t]=i,i.prototype.jsonID=t,i}}class Ti{constructor(t,i){this.doc=t,this.failed=i}static ok(t){return new Ti(t,null)}static fail(t){return new Ti(null,t)}static fromReplace(t,i,n,s){try{return Ti.ok(t.replace(i,n,s))}catch(o){if(o instanceof zp)return Ti.fail(o.message);throw o}}}function p0(e,t,i){let n=[];for(let s=0;s<e.childCount;s++){let o=e.child(s);o.content.size&&(o=o.copy(p0(o.content,t,o))),o.isInline&&(o=t(o,i,s)),n.push(o)}return me.fromArray(n)}class aa extends mn{constructor(t,i,n){super(),this.from=t,this.to=i,this.mark=n}apply(t){let i=t.slice(this.from,this.to),n=t.resolve(this.from),s=n.node(n.sharedDepth(this.to)),o=new Ee(p0(i.content,(r,a)=>!r.isAtom||!a.type.allowsMarkType(this.mark.type)?r:r.mark(this.mark.addToSet(r.marks)),s),i.openStart,i.openEnd);return Ti.fromReplace(t,this.from,this.to,o)}invert(){return new Ao(this.from,this.to,this.mark)}map(t){let i=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return i.deleted&&n.deleted||i.pos>=n.pos?null:new aa(i.pos,n.pos,this.mark)}merge(t){return t instanceof aa&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new aa(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new aa(i.from,i.to,t.markFromJSON(i.mark))}}mn.jsonID("addMark",aa);class Ao extends mn{constructor(t,i,n){super(),this.from=t,this.to=i,this.mark=n}apply(t){let i=t.slice(this.from,this.to),n=new Ee(p0(i.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),i.openStart,i.openEnd);return Ti.fromReplace(t,this.from,this.to,n)}invert(){return new aa(this.from,this.to,this.mark)}map(t){let i=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return i.deleted&&n.deleted||i.pos>=n.pos?null:new Ao(i.pos,n.pos,this.mark)}merge(t){return t instanceof Ao&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ao(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ao(i.from,i.to,t.markFromJSON(i.mark))}}mn.jsonID("removeMark",Ao);class la extends mn{constructor(t,i){super(),this.pos=t,this.mark=i}apply(t){let i=t.nodeAt(this.pos);if(!i)return Ti.fail("No node at mark step's position");let n=i.type.create(i.attrs,null,this.mark.addToSet(i.marks));return Ti.fromReplace(t,this.pos,this.pos+1,new Ee(me.from(n),0,i.isLeaf?0:1))}invert(t){let i=t.nodeAt(this.pos);if(i){let n=this.mark.addToSet(i.marks);if(n.length==i.marks.length){for(let s=0;s<i.marks.length;s++)if(!i.marks[s].isInSet(n))return new la(this.pos,i.marks[s]);return new la(this.pos,this.mark)}}return new Dc(this.pos,this.mark)}map(t){let i=t.mapResult(this.pos,1);return i.deletedAfter?null:new la(i.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,i){if(typeof i.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new la(i.pos,t.markFromJSON(i.mark))}}mn.jsonID("addNodeMark",la);class Dc extends mn{constructor(t,i){super(),this.pos=t,this.mark=i}apply(t){let i=t.nodeAt(this.pos);if(!i)return Ti.fail("No node at mark step's position");let n=i.type.create(i.attrs,null,this.mark.removeFromSet(i.marks));return Ti.fromReplace(t,this.pos,this.pos+1,new Ee(me.from(n),0,i.isLeaf?0:1))}invert(t){let i=t.nodeAt(this.pos);return!i||!this.mark.isInSet(i.marks)?this:new la(this.pos,this.mark)}map(t){let i=t.mapResult(this.pos,1);return i.deletedAfter?null:new Dc(i.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,i){if(typeof i.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Dc(i.pos,t.markFromJSON(i.mark))}}mn.jsonID("removeNodeMark",Dc);class zi extends mn{constructor(t,i,n,s=!1){super(),this.from=t,this.to=i,this.slice=n,this.structure=s}apply(t){return this.structure&&Vy(t,this.from,this.to)?Ti.fail("Structure replace would overwrite content"):Ti.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Qn([this.from,this.to-this.from,this.slice.size])}invert(t){return new zi(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let i=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return i.deletedAcross&&n.deletedAcross?null:new zi(i.pos,Math.max(i.pos,n.pos),this.slice)}merge(t){if(!(t instanceof zi)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let i=this.slice.size+t.slice.size==0?Ee.empty:new Ee(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new zi(this.from,this.to+(t.to-t.from),i,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let i=this.slice.size+t.slice.size==0?Ee.empty:new Ee(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new zi(t.from,this.to,i,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zi(i.from,i.to,Ee.fromJSON(t,i.slice),!!i.structure)}}mn.jsonID("replace",zi);class Ni extends mn{constructor(t,i,n,s,o,r,a=!1){super(),this.from=t,this.to=i,this.gapFrom=n,this.gapTo=s,this.slice=o,this.insert=r,this.structure=a}apply(t){if(this.structure&&(Vy(t,this.from,this.gapFrom)||Vy(t,this.gapTo,this.to)))return Ti.fail("Structure gap-replace would overwrite content");let i=t.slice(this.gapFrom,this.gapTo);if(i.openStart||i.openEnd)return Ti.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,i.content);return n?Ti.fromReplace(t,this.from,this.to,n):Ti.fail("Content does not fit in gap")}getMap(){return new Qn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let i=this.gapTo-this.gapFrom;return new Ni(this.from,this.from+this.slice.size+i,this.from+this.insert,this.from+this.insert+i,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let i=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),s=this.from==this.gapFrom?i.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return i.deletedAcross&&n.deletedAcross||s<i.pos||o>n.pos?null:new Ni(i.pos,n.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,i){if(typeof i.from!="number"||typeof i.to!="number"||typeof i.gapFrom!="number"||typeof i.gapTo!="number"||typeof i.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ni(i.from,i.to,i.gapFrom,i.gapTo,Ee.fromJSON(t,i.slice),i.insert,!!i.structure)}}mn.jsonID("replaceAround",Ni);function Vy(e,t,i){let n=e.resolve(t),s=i-t,o=n.depth;for(;s>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,s--;if(s>0){let r=n.node(o).maybeChild(n.indexAfter(o));for(;s>0;){if(!r||r.isLeaf)return!0;r=r.firstChild,s--}}return!1}function upe(e,t,i,n){let s=[],o=[],r,a;e.doc.nodesBetween(t,i,(l,c,u)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&u.type.allowsMarkType(n.type)){let m=Math.max(c,t),g=Math.min(c+l.nodeSize,i),v=n.addToSet(h);for(let _=0;_<h.length;_++)h[_].isInSet(v)||(r&&r.to==m&&r.mark.eq(h[_])?r.to=g:s.push(r=new Ao(m,g,h[_])));a&&a.to==m?a.to=g:o.push(a=new aa(m,g,n))}}),s.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function hpe(e,t,i,n){let s=[],o=0;e.doc.nodesBetween(t,i,(r,a)=>{if(!r.isInline)return;o++;let l=null;if(n instanceof Km){let c=r.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(r.marks)&&(l=[n]):l=r.marks;if(l&&l.length){let c=Math.min(a+r.nodeSize,i);for(let u=0;u<l.length;u++){let h=l[u],m;for(let g=0;g<s.length;g++){let v=s[g];v.step==o-1&&h.eq(s[g].style)&&(m=v)}m?(m.to=c,m.step=o):s.push({style:h,from:Math.max(a,t),to:c,step:o})}}}),s.forEach(r=>e.step(new Ao(r.from,r.to,r.style)))}function m0(e,t,i,n=i.contentMatch,s=!0){let o=e.doc.nodeAt(t),r=[],a=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,h=n.matchType(c.type);if(!h)r.push(new zi(a,u,Ee.empty));else{n=h;for(let m=0;m<c.marks.length;m++)i.allowsMarkType(c.marks[m].type)||e.step(new Ao(a,u,c.marks[m]));if(s&&c.isText&&i.whitespace!="pre"){let m,g=/\r?\n|\r/g,v;for(;m=g.exec(c.text);)v||(v=new Ee(me.from(i.schema.text(" ",i.allowedMarks(c.marks))),0,0)),r.push(new zi(a+m.index,a+m.index+m[0].length,v))}}a=u}if(!n.validEnd){let l=n.fillBefore(me.empty,!0);e.replace(a,a,new Ee(l,0,0))}for(let l=r.length-1;l>=0;l--)e.step(r[l])}function fpe(e,t,i){return(t==0||e.canReplace(t,e.childCount))&&(i==e.childCount||e.canReplace(0,i))}function nd(e){let i=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let s=e.$from.node(n),o=e.$from.index(n),r=e.$to.indexAfter(n);if(n<e.depth&&s.canReplace(o,r,i))return n;if(n==0||s.type.spec.isolating||!fpe(s,o,r))break}return null}function ppe(e,t,i){let{$from:n,$to:s,depth:o}=t,r=n.before(o+1),a=s.after(o+1),l=r,c=a,u=me.empty,h=0;for(let v=o,_=!1;v>i;v--)_||n.index(v)>0?(_=!0,u=me.from(n.node(v).copy(u)),h++):l--;let m=me.empty,g=0;for(let v=o,_=!1;v>i;v--)_||s.after(v+1)<s.end(v)?(_=!0,m=me.from(s.node(v).copy(m)),g++):c++;e.step(new Ni(l,c,r,a,new Ee(u.append(m),h,g),u.size-h,!0))}function g0(e,t,i=null,n=e){let s=mpe(e,t),o=s&&gpe(n,t);return o?s.map(Ck).concat({type:t,attrs:i}).concat(o.map(Ck)):null}function Ck(e){return{type:e,attrs:null}}function mpe(e,t){let{parent:i,startIndex:n,endIndex:s}=e,o=i.contentMatchAt(n).findWrapping(t);if(!o)return null;let r=o.length?o[0]:t;return i.canReplaceWith(n,s,r)?o:null}function gpe(e,t){let{parent:i,startIndex:n,endIndex:s}=e,o=i.child(n),r=t.contentMatch.findWrapping(o.type);if(!r)return null;let l=(r.length?r[r.length-1]:t).contentMatch;for(let c=n;l&&c<s;c++)l=l.matchType(i.child(c).type);return!l||!l.validEnd?null:r}function bpe(e,t,i){let n=me.empty;for(let r=i.length-1;r>=0;r--){if(n.size){let a=i[r].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=me.from(i[r].type.create(i[r].attrs,n))}let s=t.start,o=t.end;e.step(new Ni(s,o,s,o,new Ee(n,0,0),i.length,!0))}function ype(e,t,i,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,i,(r,a)=>{let l=typeof s=="function"?s(r):s;if(r.isTextblock&&!r.hasMarkup(n,l)&&vpe(e.doc,e.mapping.slice(o).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let g=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);g&&!v?c=!1:!g&&v&&(c=!0)}c===!1&&Wx(e,r,a,o),m0(e,e.mapping.slice(o).map(a,1),n,void 0,c===null);let u=e.mapping.slice(o),h=u.map(a,1),m=u.map(a+r.nodeSize,1);return e.step(new Ni(h,m,h+1,m-1,new Ee(me.from(n.create(l,null,r.marks)),0,0),1,!0)),c===!0&&Ux(e,r,a,o),!1}})}function Ux(e,t,i,n){t.forEach((s,o)=>{if(s.isText){let r,a=/\r?\n|\r/g;for(;r=a.exec(s.text);){let l=e.mapping.slice(n).map(i+1+o+r.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function Wx(e,t,i,n){t.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let r=e.mapping.slice(n).map(i+1+o);e.replaceWith(r,r+1,t.type.schema.text(`
`))}})}function vpe(e,t,i){let n=e.resolve(t),s=n.index();return n.parent.canReplaceWith(s,s+1,i)}function _pe(e,t,i,n,s){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");i||(i=o.type);let r=i.create(n,null,s||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,r);if(!i.validContent(o.content))throw new RangeError("Invalid content for node type "+i.name);e.step(new Ni(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Ee(me.from(r),0,0),1,!0))}function yr(e,t,i=1,n){let s=e.resolve(t),o=s.depth-i,r=n&&n[n.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!r.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=i-2;c>o;c--,u--){let h=s.node(c),m=s.index(c);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(m,h.childCount),v=n&&n[u+1];v&&(g=g.replaceChild(0,v.type.create(v.attrs)));let _=n&&n[u]||h;if(!h.canReplace(m+1,h.childCount)||!_.type.validContent(g))return!1}let a=s.indexAfter(o),l=n&&n[0];return s.node(o).canReplaceWith(a,a,l?l.type:s.node(o+1).type)}function wpe(e,t,i=1,n){let s=e.doc.resolve(t),o=me.empty,r=me.empty;for(let a=s.depth,l=s.depth-i,c=i-1;a>l;a--,c--){o=me.from(s.node(a).copy(o));let u=n&&n[c];r=me.from(u?u.type.create(u.attrs,r):s.node(a).copy(r))}e.step(new zi(t,t,new Ee(o.append(r),i,i),!0))}function xa(e,t){let i=e.resolve(t),n=i.index();return qx(i.nodeBefore,i.nodeAfter)&&i.parent.canReplace(n,n+1)}function Cpe(e,t){t.content.size||e.type.compatibleContent(t.type);let i=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let s=0;s<t.childCount;s++){let o=t.child(s),r=o.type==n?e.type.schema.nodes.text:o.type;if(i=i.matchType(r),!i||!e.type.allowsMarks(o.marks))return!1}return i.validEnd}function qx(e,t){return!!(e&&t&&!e.isLeaf&&Cpe(e,t))}function Gm(e,t,i=-1){let n=e.resolve(t);for(let s=n.depth;;s--){let o,r,a=n.index(s);if(s==n.depth?(o=n.nodeBefore,r=n.nodeAfter):i>0?(o=n.node(s+1),a++,r=n.node(s).maybeChild(a)):(o=n.node(s).maybeChild(a-1),r=n.node(s+1)),o&&!o.isTextblock&&qx(o,r)&&n.node(s).canReplace(a,a+1))return t;if(s==0)break;t=i<0?n.before(s):n.after(s)}}function kpe(e,t,i){let n=null,{linebreakReplacement:s}=e.doc.type.schema,o=e.doc.resolve(t-i),r=o.node().type;if(s&&r.inlineContent){let u=r.whitespace=="pre",h=!!r.contentMatch.matchType(s);u&&!h?n=!1:!u&&h&&(n=!0)}let a=e.steps.length;if(n===!1){let u=e.doc.resolve(t+i);Wx(e,u.node(),u.before(),a)}r.inlineContent&&m0(e,t+i-1,r,o.node().contentMatchAt(o.index()),n==null);let l=e.mapping.slice(a),c=l.map(t-i);if(e.step(new zi(c,l.map(t+i,-1),Ee.empty,!0)),n===!0){let u=e.doc.resolve(c);Ux(e,u.node(),u.before(),e.steps.length)}return e}function Ape(e,t,i){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),i))return t;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let o=n.index(s);if(n.node(s).canReplaceWith(o,o,i))return n.before(s+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let o=n.indexAfter(s);if(n.node(s).canReplaceWith(o,o,i))return n.after(s+1);if(o<n.node(s).childCount)return null}return null}function Kx(e,t,i){let n=e.resolve(t);if(!i.content.size)return t;let s=i.content;for(let o=0;o<i.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(i.openStart==0&&i.size?2:1);o++)for(let r=n.depth;r>=0;r--){let a=r==n.depth?0:n.pos<=(n.start(r+1)+n.end(r+1))/2?-1:1,l=n.index(r)+(a>0?1:0),c=n.node(r),u=!1;if(o==1)u=c.canReplace(l,l,s);else{let h=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=h&&c.canReplaceWith(l,l,h[0])}if(u)return a==0?n.pos:a<0?n.before(r+1):n.after(r+1)}return null}function Jm(e,t,i=t,n=Ee.empty){if(t==i&&!n.size)return null;let s=e.resolve(t),o=e.resolve(i);return Gx(s,o,n)?new zi(t,i,n):new Spe(s,o,n).fit()}function Gx(e,t,i){return!i.openStart&&!i.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),i.content)}class Spe{constructor(t,i,n){this.$from=t,this.$to=i,this.unplaced=n,this.frontier=[],this.placed=me.empty;for(let s=0;s<=t.depth;s++){let o=t.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=me.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),i=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(t<0?this.$to:n.doc.resolve(t));if(!s)return null;let o=this.placed,r=n.depth,a=s.depth;for(;r&&a&&o.childCount==1;)o=o.firstChild.content,r--,a--;let l=new Ee(o,r,a);return t>-1?new Ni(n.pos,t,this.$to.pos,this.$to.end(),l,i):l.size||n.pos!=this.$to.pos?new zi(n.pos,s.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let i=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<t;n++){let o=i.firstChild;if(i.childCount>1&&(s=0),o.type.spec.isolating&&s<=n){t=n;break}i=o.content}for(let i=1;i<=2;i++)for(let n=i==1?t:this.unplaced.openStart;n>=0;n--){let s,o=null;n?(o=lb(this.unplaced.content,n-1).firstChild,s=o.content):s=this.unplaced.content;let r=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,h=null;if(i==1&&(r?c.matchType(r.type)||(h=c.fillBefore(me.from(r),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:a,parent:o,inject:h};if(i==2&&r&&(u=c.findWrapping(r.type)))return{sliceDepth:n,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:i,openEnd:n}=this.unplaced,s=lb(t,i);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Ee(t,i+1,Math.max(n,s.size+i>=t.size-n?i+1:0)),!0)}dropNode(){let{content:t,openStart:i,openEnd:n}=this.unplaced,s=lb(t,i);if(s.childCount<=1&&i>0){let o=t.size-i<=i+s.size;this.unplaced=new Ee(Bd(t,i-1,1),i-1,o?i-1:n)}else this.unplaced=new Ee(Bd(t,i,1),i,n)}placeNodes({sliceDepth:t,frontierDepth:i,parent:n,inject:s,wrap:o}){for(;this.depth>i;)this.closeFrontierNode();if(o)for(let _=0;_<o.length;_++)this.openFrontierNode(o[_]);let r=this.unplaced,a=n?n.content:r.content,l=r.openStart-t,c=0,u=[],{match:h,type:m}=this.frontier[i];if(s){for(let _=0;_<s.childCount;_++)u.push(s.child(_));h=h.matchFragment(s)}let g=a.size+t-(r.content.size-r.openEnd);for(;c<a.childCount;){let _=a.child(c),w=h.matchType(_.type);if(!w)break;c++,(c>1||l==0||_.content.size)&&(h=w,u.push(Jx(_.mark(m.allowedMarks(_.marks)),c==1?l:0,c==a.childCount?g:-1)))}let v=c==a.childCount;v||(g=-1),this.placed=Fd(this.placed,i,me.from(u)),this.frontier[i].match=h,v&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let _=0,w=a;_<g;_++){let A=w.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),w=A.content}this.unplaced=v?t==0?Ee.empty:new Ee(Bd(r.content,t-1,1),t-1,g<0?r.openEnd:t-1):new Ee(Bd(r.content,t,c),r.openStart,r.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],i;if(!t.type.isTextblock||!cb(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(i=this.findCloseLevel(this.$to))&&i.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(t){e:for(let i=Math.min(this.depth,t.depth);i>=0;i--){let{match:n,type:s}=this.frontier[i],o=i<t.depth&&t.end(i+1)==t.pos+(t.depth-(i+1)),r=cb(t,i,s,n,o);if(r){for(let a=i-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=cb(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:i,fit:r,move:o?t.doc.resolve(t.after(i+1)):t}}}}close(t){let i=this.findCloseLevel(t);if(!i)return null;for(;this.depth>i.depth;)this.closeFrontierNode();i.fit.childCount&&(this.placed=Fd(this.placed,i.depth,i.fit)),t=i.move;for(let n=i.depth+1;n<=t.depth;n++){let s=t.node(n),o=s.type.contentMatch.fillBefore(s.content,!0,t.index(n));this.openFrontierNode(s.type,s.attrs,o)}return t}openFrontierNode(t,i=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Fd(this.placed,this.depth,me.from(t.create(i,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let i=this.frontier.pop().match.fillBefore(me.empty,!0);i.childCount&&(this.placed=Fd(this.placed,this.frontier.length,i))}}function Bd(e,t,i){return t==0?e.cutByIndex(i,e.childCount):e.replaceChild(0,e.firstChild.copy(Bd(e.firstChild.content,t-1,i)))}function Fd(e,t,i){return t==0?e.append(i):e.replaceChild(e.childCount-1,e.lastChild.copy(Fd(e.lastChild.content,t-1,i)))}function lb(e,t){for(let i=0;i<t;i++)e=e.firstChild.content;return e}function Jx(e,t,i){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,Jx(n.firstChild,t-1,n.childCount==1?i-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),i<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(me.empty,!0)))),e.copy(n)}function cb(e,t,i,n,s){let o=e.node(t),r=s?e.indexAfter(t):e.index(t);if(r==o.childCount&&!i.compatibleContent(o.type))return null;let a=n.fillBefore(o.content,!0,r);return a&&!xpe(i,o.content,r)?a:null}function xpe(e,t,i){for(let n=i;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function Mpe(e){return e.spec.defining||e.spec.definingForContent}function Tpe(e,t,i,n){if(!n.size)return e.deleteRange(t,i);let s=e.doc.resolve(t),o=e.doc.resolve(i);if(Gx(s,o,n))return e.step(new zi(t,i,n));let r=Zx(s,e.doc.resolve(i));r[r.length-1]==0&&r.pop();let a=-(s.depth+1);r.unshift(a);for(let m=s.depth,g=s.pos-1;m>0;m--,g--){let v=s.node(m).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;r.indexOf(m)>-1?a=m:s.before(m)==g&&r.splice(1,0,-m)}let l=r.indexOf(a),c=[],u=n.openStart;for(let m=n.content,g=0;;g++){let v=m.firstChild;if(c.push(v),g==n.openStart)break;m=v.content}for(let m=u-1;m>=0;m--){let g=c[m],v=Mpe(g.type);if(v&&!g.sameMarkup(s.node(Math.abs(a)-1)))u=m;else if(v||!g.type.isTextblock)break}for(let m=n.openStart;m>=0;m--){let g=(m+u+1)%(n.openStart+1),v=c[g];if(v)for(let _=0;_<r.length;_++){let w=r[(_+l)%r.length],A=!0;w<0&&(A=!1,w=-w);let L=s.node(w-1),N=s.index(w-1);if(L.canReplaceWith(N,N,v.type,v.marks))return e.replace(s.before(w),A?o.after(w):i,new Ee(Yx(n.content,0,n.openStart,g),g,n.openEnd))}}let h=e.steps.length;for(let m=r.length-1;m>=0&&(e.replace(t,i,n),!(e.steps.length>h));m--){let g=r[m];g<0||(t=s.before(g),i=o.after(g))}}function Yx(e,t,i,n,s){if(t<i){let o=e.firstChild;e=e.replaceChild(0,o.copy(Yx(o.content,t+1,i,n,o)))}if(t>n){let o=s.contentMatchAt(0),r=o.fillBefore(e).append(e);e=r.append(o.matchFragment(r).fillBefore(me.empty,!0))}return e}function Ope(e,t,i,n){if(!n.isInline&&t==i&&e.doc.resolve(t).parent.content.size){let s=Ape(e.doc,t,n.type);s!=null&&(t=i=s)}e.replaceRange(t,i,new Ee(me.from(n),0,0))}function Epe(e,t,i){let n=e.doc.resolve(t),s=e.doc.resolve(i),o=Zx(n,s);for(let r=0;r<o.length;r++){let a=o[r],l=r==o.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return e.delete(n.start(a),s.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),s.indexAfter(a-1))))return e.delete(n.before(a),s.after(a))}for(let r=1;r<=n.depth&&r<=s.depth;r++)if(t-n.start(r)==n.depth-r&&i>n.end(r)&&s.end(r)-i!=s.depth-r&&n.start(r-1)==s.start(r-1)&&n.node(r-1).canReplace(n.index(r-1),s.index(r-1)))return e.delete(n.before(r),i);e.delete(t,i)}function Zx(e,t){let i=[],n=Math.min(e.depth,t.depth);for(let s=n;s>=0;s--){let o=e.start(s);if(o<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(o==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==o-1)&&i.push(s)}return i}class Mc extends mn{constructor(t,i,n){super(),this.pos=t,this.attr=i,this.value=n}apply(t){let i=t.nodeAt(this.pos);if(!i)return Ti.fail("No node at attribute step's position");let n=Object.create(null);for(let o in i.attrs)n[o]=i.attrs[o];n[this.attr]=this.value;let s=i.type.create(n,null,i.marks);return Ti.fromReplace(t,this.pos,this.pos+1,new Ee(me.from(s),0,i.isLeaf?0:1))}getMap(){return Qn.empty}invert(t){return new Mc(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let i=t.mapResult(this.pos,1);return i.deletedAfter?null:new Mc(i.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,i){if(typeof i.pos!="number"||typeof i.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Mc(i.pos,i.attr,i.value)}}mn.jsonID("attr",Mc);class Iu extends mn{constructor(t,i){super(),this.attr=t,this.value=i}apply(t){let i=Object.create(null);for(let s in t.attrs)i[s]=t.attrs[s];i[this.attr]=this.value;let n=t.type.create(i,t.content,t.marks);return Ti.ok(n)}getMap(){return Qn.empty}invert(t){return new Iu(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,i){if(typeof i.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Iu(i.attr,i.value)}}mn.jsonID("docAttr",Iu);let Rc=class extends Error{};Rc=function e(t){let i=Error.call(this,t);return i.__proto__=e.prototype,i};Rc.prototype=Object.create(Error.prototype);Rc.prototype.constructor=Rc;Rc.prototype.name="TransformError";class b0{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new xc}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let i=this.maybeStep(t);if(i.failed)throw new Rc(i.failed);return this}maybeStep(t){let i=t.apply(this.doc);return i.failed||this.addStep(t,i.doc),i}get docChanged(){return this.steps.length>0}addStep(t,i){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=i}replace(t,i=t,n=Ee.empty){let s=Jm(this.doc,t,i,n);return s&&this.step(s),this}replaceWith(t,i,n){return this.replace(t,i,new Ee(me.from(n),0,0))}delete(t,i){return this.replace(t,i,Ee.empty)}insert(t,i){return this.replaceWith(t,t,i)}replaceRange(t,i,n){return Tpe(this,t,i,n),this}replaceRangeWith(t,i,n){return Ope(this,t,i,n),this}deleteRange(t,i){return Epe(this,t,i),this}lift(t,i){return ppe(this,t,i),this}join(t,i=1){return kpe(this,t,i),this}wrap(t,i){return bpe(this,t,i),this}setBlockType(t,i=t,n,s=null){return ype(this,t,i,n,s),this}setNodeMarkup(t,i,n=null,s){return _pe(this,t,i,n,s),this}setNodeAttribute(t,i,n){return this.step(new Mc(t,i,n)),this}setDocAttribute(t,i){return this.step(new Iu(t,i)),this}addNodeMark(t,i){return this.step(new la(t,i)),this}removeNodeMark(t,i){if(!(i instanceof Jt)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(i=i.isInSet(n.marks),!i)return this}return this.step(new Dc(t,i)),this}split(t,i=1,n){return wpe(this,t,i,n),this}addMark(t,i,n){return upe(this,t,i,n),this}removeMark(t,i,n){return hpe(this,t,i,n),this}clearIncompatible(t,i,n){return m0(this,t,i,n),this}}const db=Object.create(null);class ot{constructor(t,i,n){this.$anchor=t,this.$head=i,this.ranges=n||[new Xx(t.min(i),t.max(i))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let i=0;i<t.length;i++)if(t[i].$from.pos!=t[i].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,i=Ee.empty){let n=i.content.lastChild,s=null;for(let a=0;a<i.openEnd;a++)s=n,n=n.lastChild;let o=t.steps.length,r=this.ranges;for(let a=0;a<r.length;a++){let{$from:l,$to:c}=r[a],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),a?Ee.empty:i),a==0&&Sk(t,o,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,i){let n=t.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:r,$to:a}=s[o],l=t.mapping.slice(n),c=l.map(r.pos),u=l.map(a.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,i),Sk(t,n,i.isInline?-1:1))}}static findFrom(t,i,n=!1){let s=t.parent.inlineContent?new Ye(t):pc(t.node(0),t.parent,t.pos,t.index(),i,n);if(s)return s;for(let o=t.depth-1;o>=0;o--){let r=i<0?pc(t.node(0),t.node(o),t.before(o+1),t.index(o),i,n):pc(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,i,n);if(r)return r}return null}static near(t,i=1){return this.findFrom(t,i)||this.findFrom(t,-i)||new rs(t.node(0))}static atStart(t){return pc(t,t,0,0,1)||new rs(t)}static atEnd(t){return pc(t,t,t.content.size,t.childCount,-1)||new rs(t)}static fromJSON(t,i){if(!i||!i.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=db[i.type];if(!n)throw new RangeError(`No selection type ${i.type} defined`);return n.fromJSON(t,i)}static jsonID(t,i){if(t in db)throw new RangeError("Duplicate use of selection JSON ID "+t);return db[t]=i,i.prototype.jsonID=t,i}getBookmark(){return Ye.between(this.$anchor,this.$head).getBookmark()}}ot.prototype.visible=!0;class Xx{constructor(t,i){this.$from=t,this.$to=i}}let kk=!1;function Ak(e){!kk&&!e.parent.inlineContent&&(kk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ye extends ot{constructor(t,i=t){Ak(t),Ak(i),super(t,i)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,i){let n=t.resolve(i.map(this.head));if(!n.parent.inlineContent)return ot.near(n);let s=t.resolve(i.map(this.anchor));return new Ye(s.parent.inlineContent?s:n,n)}replace(t,i=Ee.empty){if(super.replace(t,i),i==Ee.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof Ye&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Ym(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,i){if(typeof i.anchor!="number"||typeof i.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ye(t.resolve(i.anchor),t.resolve(i.head))}static create(t,i,n=i){let s=t.resolve(i);return new this(s,n==i?s:t.resolve(n))}static between(t,i,n){let s=t.pos-i.pos;if((!n||s)&&(n=s>=0?1:-1),!i.parent.inlineContent){let o=ot.findFrom(i,n,!0)||ot.findFrom(i,-n,!0);if(o)i=o.$head;else return ot.near(i,n)}return t.parent.inlineContent||(s==0?t=i:(t=(ot.findFrom(t,-n,!0)||ot.findFrom(t,n,!0)).$anchor,t.pos<i.pos!=s<0&&(t=i))),new Ye(t,i)}}ot.jsonID("text",Ye);class Ym{constructor(t,i){this.anchor=t,this.head=i}map(t){return new Ym(t.map(this.anchor),t.map(this.head))}resolve(t){return Ye.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ke extends ot{constructor(t){let i=t.nodeAfter,n=t.node(0).resolve(t.pos+i.nodeSize);super(t,n),this.node=i}map(t,i){let{deleted:n,pos:s}=i.mapResult(this.anchor),o=t.resolve(s);return n?ot.near(o):new Ke(o)}content(){return new Ee(me.from(this.node),0,0)}eq(t){return t instanceof Ke&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new y0(this.anchor)}static fromJSON(t,i){if(typeof i.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ke(t.resolve(i.anchor))}static create(t,i){return new Ke(t.resolve(i))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ke.prototype.visible=!1;ot.jsonID("node",Ke);class y0{constructor(t){this.anchor=t}map(t){let{deleted:i,pos:n}=t.mapResult(this.anchor);return i?new Ym(n,n):new y0(n)}resolve(t){let i=t.resolve(this.anchor),n=i.nodeAfter;return n&&Ke.isSelectable(n)?new Ke(i):ot.near(i)}}class rs extends ot{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,i=Ee.empty){if(i==Ee.empty){t.delete(0,t.doc.content.size);let n=ot.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,i)}toJSON(){return{type:"all"}}static fromJSON(t){return new rs(t)}map(t){return new rs(t)}eq(t){return t instanceof rs}getBookmark(){return Ipe}}ot.jsonID("all",rs);const Ipe={map(){return this},resolve(e){return new rs(e)}};function pc(e,t,i,n,s,o=!1){if(t.inlineContent)return Ye.create(e,i);for(let r=n-(s>0?0:1);s>0?r<t.childCount:r>=0;r+=s){let a=t.child(r);if(a.isAtom){if(!o&&Ke.isSelectable(a))return Ke.create(e,i-(s<0?a.nodeSize:0))}else{let l=pc(e,a,i+s,s<0?a.childCount:0,s,o);if(l)return l}i+=a.nodeSize*s}return null}function Sk(e,t,i){let n=e.steps.length-1;if(n<t)return;let s=e.steps[n];if(!(s instanceof zi||s instanceof Ni))return;let o=e.mapping.maps[n],r;o.forEach((a,l,c,u)=>{r==null&&(r=u)}),e.setSelection(ot.near(e.doc.resolve(r),i))}const xk=1,yf=2,Mk=4;class $pe extends b0{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|xk)&~yf,this.storedMarks=null,this}get selectionSet(){return(this.updated&xk)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=yf,this}ensureMarks(t){return Jt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&yf)>0}addStep(t,i){super.addStep(t,i),this.updated=this.updated&~yf,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,i=!0){let n=this.selection;return i&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Jt.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,i,n){let s=this.doc.type.schema;if(i==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(n==null&&(n=i),n=n??i,!t)return this.deleteRange(i,n);let o=this.storedMarks;if(!o){let r=this.doc.resolve(i);o=n==i?r.marks():r.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(i,n,s.text(t,o)),this.selection.empty||this.setSelection(ot.near(this.selection.$to)),this}}setMeta(t,i){return this.meta[typeof t=="string"?t:t.key]=i,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Mk,this}get scrolledIntoView(){return(this.updated&Mk)>0}}function Tk(e,t){return!t||!e?e:e.bind(t)}class jd{constructor(t,i,n){this.name=t,this.init=Tk(i.init,n),this.apply=Tk(i.apply,n)}}const Lpe=[new jd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new jd("selection",{init(e,t){return e.selection||ot.atStart(t.doc)},apply(e){return e.selection}}),new jd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,i,n){return n.selection.$cursor?e.storedMarks:null}}),new jd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class ub{constructor(t,i){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Lpe.slice(),i&&i.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new jd(n.key,n.spec.state,n))})}}class _c{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,i=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=i){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let i=[t],n=this.applyInner(t),s=null;for(;;){let o=!1;for(let r=0;r<this.config.plugins.length;r++){let a=this.config.plugins[r];if(a.spec.appendTransaction){let l=s?s[r].n:0,c=s?s[r].state:this,u=l<i.length&&a.spec.appendTransaction.call(a,l?i.slice(l):i,c,n);if(u&&n.filterTransaction(u,r)){if(u.setMeta("appendedTransaction",t),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<r?{state:n,n:i.length}:{state:this,n:0})}i.push(u),n=n.applyInner(u),o=!0}s&&(s[r]={state:n,n:i.length})}}if(!o)return{state:n,transactions:i}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let i=new _c(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let o=n[s];i[o.name]=o.apply(t,this[o.name],this,i)}return i}get tr(){return new $pe(this)}static create(t){let i=new ub(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new _c(i);for(let s=0;s<i.fields.length;s++)n[i.fields[s].name]=i.fields[s].init(t,n);return n}reconfigure(t){let i=new ub(this.schema,t.plugins),n=i.fields,s=new _c(i);for(let o=0;o<n.length;o++){let r=n[o].name;s[r]=this.hasOwnProperty(r)?this[r]:n[o].init(t,s)}return s}toJSON(t){let i={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(i.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[n],o=s.spec.state;o&&o.toJSON&&(i[n]=o.toJSON.call(s,this[s.key]))}return i}static fromJSON(t,i,n){if(!i)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new ub(t.schema,t.plugins),o=new _c(s);return s.fields.forEach(r=>{if(r.name=="doc")o.doc=pa.fromJSON(t.schema,i.doc);else if(r.name=="selection")o.selection=ot.fromJSON(o.doc,i.selection);else if(r.name=="storedMarks")i.storedMarks&&(o.storedMarks=i.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==r.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(i,a)){o[r.name]=c.fromJSON.call(l,t,i[a],o);return}}o[r.name]=r.init(t,o)}}),o}}function Qx(e,t,i){for(let n in e){let s=e[n];s instanceof Function?s=s.bind(t):n=="handleDOMEvents"&&(s=Qx(s,t,{})),i[n]=s}return i}class bi{constructor(t){this.spec=t,this.props={},t.props&&Qx(t.props,this,this.props),this.key=t.key?t.key.key:eM("plugin")}getState(t){return t[this.key]}}const hb=Object.create(null);function eM(e){return e in hb?e+"$"+ ++hb[e]:(hb[e]=0,e+"$")}class Pi{constructor(t="key"){this.key=eM(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Yi=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},$u=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let zy=null;const ar=function(e,t,i){let n=zy||(zy=document.createRange());return n.setEnd(e,i??e.nodeValue.length),n.setStart(e,t||0),n},Ppe=function(){zy=null},Sl=function(e,t,i,n){return i&&(Ok(e,t,i,n,-1)||Ok(e,t,i,n,1))},Dpe=/^(img|br|input|textarea|hr)$/i;function Ok(e,t,i,n,s){for(;;){if(e==i&&t==n)return!0;if(t==(s<0?0:Ms(e))){let o=e.parentNode;if(!o||o.nodeType!=1||rh(e)||Dpe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Yi(e)+(s<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(s<0?-1:0)],e.contentEditable=="false")return!1;t=s<0?Ms(e):0}else return!1}}function Ms(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Rpe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ms(e)}else if(e.parentNode&&!rh(e))t=Yi(e),e=e.parentNode;else return null}}function Hpe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!rh(e))t=Yi(e)+1,e=e.parentNode;else return null}}function Vpe(e,t,i){for(let n=t==0,s=t==Ms(e);n||s;){if(e==i)return!0;let o=Yi(e);if(e=e.parentNode,!e)return!1;n=n&&o==0,s=s&&o==Ms(e)}}function rh(e){let t;for(let i=e;i&&!(t=i.pmViewDesc);i=i.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Zm=function(e){return e.focusNode&&Sl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Za(e,t){let i=document.createEvent("Event");return i.initEvent("keydown",!0,!0),i.keyCode=e,i.key=i.code=t,i}function zpe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Npe(e,t,i){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,i);if(n)return{node:n.offsetNode,offset:Math.min(Ms(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,i);if(n)return{node:n.startContainer,offset:Math.min(Ms(n.startContainer),n.startOffset)}}}const Lo=typeof navigator<"u"?navigator:null,Ek=typeof document<"u"?document:null,Ma=Lo&&Lo.userAgent||"",Ny=/Edge\/(\d+)/.exec(Ma),tM=/MSIE \d/.exec(Ma),By=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ma),Hn=!!(tM||By||Ny),ga=tM?document.documentMode:By?+By[1]:Ny?+Ny[1]:0,eo=!Hn&&/gecko\/(\d+)/i.test(Ma);eo&&+(/Firefox\/(\d+)/.exec(Ma)||[0,0])[1];const Fy=!Hn&&/Chrome\/(\d+)/.exec(Ma),hn=!!Fy,iM=Fy?+Fy[1]:0,An=!Hn&&!!Lo&&/Apple Computer/.test(Lo.vendor),Hc=An&&(/Mobile\/\w+/.test(Ma)||!!Lo&&Lo.maxTouchPoints>2),xs=Hc||(Lo?/Mac/.test(Lo.platform):!1),Bpe=Lo?/Win/.test(Lo.platform):!1,hr=/Android \d/.test(Ma),ah=!!Ek&&"webkitFontSmoothing"in Ek.documentElement.style,Fpe=ah?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function jpe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function er(e,t){return typeof e=="number"?e:e[t]}function Upe(e){let t=e.getBoundingClientRect(),i=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*i,top:t.top,bottom:t.top+e.clientHeight*n}}function Ik(e,t,i){let n=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let r=i||e.dom;r;r=$u(r)){if(r.nodeType!=1)continue;let a=r,l=a==o.body,c=l?jpe(o):Upe(a),u=0,h=0;if(t.top<c.top+er(n,"top")?h=-(c.top-t.top+er(s,"top")):t.bottom>c.bottom-er(n,"bottom")&&(h=t.bottom-t.top>c.bottom-c.top?t.top+er(s,"top")-c.top:t.bottom-c.bottom+er(s,"bottom")),t.left<c.left+er(n,"left")?u=-(c.left-t.left+er(s,"left")):t.right>c.right-er(n,"right")&&(u=t.right-c.right+er(s,"right")),u||h)if(l)o.defaultView.scrollBy(u,h);else{let m=a.scrollLeft,g=a.scrollTop;h&&(a.scrollTop+=h),u&&(a.scrollLeft+=u);let v=a.scrollLeft-m,_=a.scrollTop-g;t={left:t.left-v,top:t.top-_,right:t.right-v,bottom:t.bottom-_}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(r).position))break}}function Wpe(e){let t=e.dom.getBoundingClientRect(),i=Math.max(0,t.top),n,s;for(let o=(t.left+t.right)/2,r=i+1;r<Math.min(innerHeight,t.bottom);r+=5){let a=e.root.elementFromPoint(o,r);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=i-20){n=a,s=l.top;break}}return{refDOM:n,refTop:s,stack:nM(e.dom)}}function nM(e){let t=[],i=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=i);n=$u(n));return t}function qpe({refDOM:e,refTop:t,stack:i}){let n=e?e.getBoundingClientRect().top:0;sM(i,n==0?0:n-t)}function sM(e,t){for(let i=0;i<e.length;i++){let{dom:n,top:s,left:o}=e[i];n.scrollTop!=s+t&&(n.scrollTop=s+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}let rc=null;function Kpe(e){if(e.setActive)return e.setActive();if(rc)return e.focus(rc);let t=nM(e);e.focus(rc==null?{get preventScroll(){return rc={preventScroll:!0},!0}}:void 0),rc||(rc=!1,sM(t,0))}function oM(e,t){let i,n=2e8,s,o=0,r=t.top,a=t.top,l,c;for(let u=e.firstChild,h=0;u;u=u.nextSibling,h++){let m;if(u.nodeType==1)m=u.getClientRects();else if(u.nodeType==3)m=ar(u).getClientRects();else continue;for(let g=0;g<m.length;g++){let v=m[g];if(v.top<=r&&v.bottom>=a){r=Math.max(v.bottom,r),a=Math.min(v.top,a);let _=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(_<n){i=u,n=_,s=_&&i.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,u.nodeType==1&&_&&(o=h+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!l&&v.left<=t.left&&v.right>=t.left&&(l=u,c={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!i&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=h+1)}}return!i&&l&&(i=l,s=c,n=0),i&&i.nodeType==3?Gpe(i,s):!i||n&&i.nodeType==1?{node:e,offset:o}:oM(i,s)}function Gpe(e,t){let i=e.nodeValue.length,n=document.createRange();for(let s=0;s<i;s++){n.setEnd(e,s+1),n.setStart(e,s);let o=Ur(n,1);if(o.top!=o.bottom&&v0(t,o))return{node:e,offset:s+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function v0(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Jpe(e,t){let i=e.parentNode;return i&&/^li$/i.test(i.nodeName)&&t.left<e.getBoundingClientRect().left?i:e}function Ype(e,t,i){let{node:n,offset:s}=oM(t,i),o=-1;if(n.nodeType==1&&!n.firstChild){let r=n.getBoundingClientRect();o=r.left!=r.right&&i.left>(r.left+r.right)/2?1:-1}return e.docView.posFromDOM(n,s,o)}function Zpe(e,t,i,n){let s=-1;for(let o=t,r=!1;o!=e.dom;){let a=e.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!r&&l.left>n.left||l.top>n.top?s=a.posBefore:(!r&&l.right<n.left||l.bottom<n.top)&&(s=a.posAfter),r=!0),!a.contentDOM&&s<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,i,-1)}function rM(e,t,i){let n=e.childNodes.length;if(n&&i.top<i.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-i.top)/(i.bottom-i.top))-2)),o=s;;){let r=e.childNodes[o];if(r.nodeType==1){let a=r.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(v0(t,c))return rM(r,t,c)}}if((o=(o+1)%n)==s)break}return e}function Xpe(e,t){let i=e.dom.ownerDocument,n,s=0,o=Npe(i,t.left,t.top);o&&({node:n,offset:s}=o);let r=(e.root.elementFromPoint?e.root:i).elementFromPoint(t.left,t.top),a;if(!r||!e.dom.contains(r.nodeType!=1?r.parentNode:r)){let c=e.dom.getBoundingClientRect();if(!v0(t,c)||(r=rM(e.dom,t,c),!r))return null}if(An)for(let c=r;n&&c;c=$u(c))c.draggable&&(n=void 0);if(r=Jpe(r,t),n){if(eo&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let u=n.childNodes[s],h;u.nodeName=="IMG"&&(h=u.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&s++}let c;ah&&s&&n.nodeType==1&&(c=n.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&s--,n==e.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(a=Zpe(e,n,s,t))}a==null&&(a=Ype(e,r,t));let l=e.docView.nearestDesc(r,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function $k(e){return e.top<e.bottom||e.left<e.right}function Ur(e,t){let i=e.getClientRects();if(i.length){let n=i[t<0?0:i.length-1];if($k(n))return n}return Array.prototype.find.call(i,$k)||e.getBoundingClientRect()}const Qpe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function aM(e,t,i){let{node:n,offset:s,atom:o}=e.docView.domFromPos(t,i<0?-1:1),r=ah||eo;if(n.nodeType==3)if(r&&(Qpe.test(n.nodeValue)||(i<0?!s:s==n.nodeValue.length))){let l=Ur(ar(n,s,s),i);if(eo&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let c=Ur(ar(n,s-1,s-1),-1);if(c.top==l.top){let u=Ur(ar(n,s,s+1),-1);if(u.top!=l.top)return Id(u,u.left<c.left)}}return l}else{let l=s,c=s,u=i<0?1:-1;return i<0&&!s?(c++,u=-1):i>=0&&s==n.nodeValue.length?(l--,u=1):i<0?l--:c++,Id(Ur(ar(n,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&s&&(i<0||s==Ms(n))){let l=n.childNodes[s-1];if(l.nodeType==1)return fb(l.getBoundingClientRect(),!1)}if(o==null&&s<Ms(n)){let l=n.childNodes[s];if(l.nodeType==1)return fb(l.getBoundingClientRect(),!0)}return fb(n.getBoundingClientRect(),i>=0)}if(o==null&&s&&(i<0||s==Ms(n))){let l=n.childNodes[s-1],c=l.nodeType==3?ar(l,Ms(l)-(r?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Id(Ur(c,1),!1)}if(o==null&&s<Ms(n)){let l=n.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ar(l,0,r?0:1):l.nodeType==1?l:null:null;if(c)return Id(Ur(c,-1),!0)}return Id(Ur(n.nodeType==3?ar(n):n,-i),i>=0)}function Id(e,t){if(e.width==0)return e;let i=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:i,right:i}}function fb(e,t){if(e.height==0)return e;let i=t?e.top:e.bottom;return{top:i,bottom:i,left:e.left,right:e.right}}function lM(e,t,i){let n=e.state,s=e.root.activeElement;n!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return i()}finally{n!=t&&e.updateState(n),s!=e.dom&&s&&s.focus()}}function eme(e,t,i){let n=t.selection,s=i=="up"?n.$from:n.$to;return lM(e,t,()=>{let{node:o}=e.docView.domFromPos(s.pos,i=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let r=aM(e,s.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ar(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(i=="up"?r.top-u.top>(u.bottom-r.top)*2:u.bottom-r.bottom>(r.bottom-u.top)*2))return!1}}return!0})}const tme=/[\u0590-\u08ac]/;function ime(e,t,i){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,o=!s,r=s==n.parent.content.size,a=e.domSelection();return a?!tme.test(n.parent.textContent)||!a.modify?i=="left"||i=="backward"?o:r:lM(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:h}=e.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",i,"character");let g=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:v,focusOffset:_}=e.domSelectionRange(),w=v&&!g.contains(v.nodeType==1?v:v.parentNode)||l==v&&c==_;try{a.collapse(u,h),l&&(l!=u||c!=h)&&a.extend&&a.extend(l,c)}catch{}return m!=null&&(a.caretBidiLevel=m),w}):n.pos==n.start()||n.pos==n.end()}let Lk=null,Pk=null,Dk=!1;function nme(e,t,i){return Lk==t&&Pk==i?Dk:(Lk=t,Pk=i,Dk=i=="up"||i=="down"?eme(e,t,i):ime(e,t,i))}const Is=0,Rk=1,Qa=2,Po=3;class lh{constructor(t,i,n,s){this.parent=t,this.children=i,this.dom=n,this.contentDOM=s,this.dirty=Is,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,i,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let i=0;i<this.children.length;i++)t+=this.children[i].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let i=0,n=this.posAtStart;;i++){let s=this.children[i];if(s==t)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,i,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let o,r;if(t==this.contentDOM)o=t.childNodes[i-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((r=o.pmViewDesc)&&r.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(r)+r.size:this.posAtStart}else{let o,r;if(t==this.contentDOM)o=t.childNodes[i];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((r=o.pmViewDesc)&&r.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(r):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=i>Yi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(i==0)for(let o=t;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&i==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,i=!1){for(let n=!0,s=t;s;s=s.parentNode){let o=this.getDesc(s),r;if(o&&(!i||o.node))if(n&&(r=o.nodeDOM)&&!(r.nodeType==1?r.contains(t.nodeType==1?t:t.parentNode):r==t))n=!1;else return o}}getDesc(t){let i=t.pmViewDesc;for(let n=i;n;n=n.parent)if(n==this)return i}posFromDOM(t,i,n){for(let s=t;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(t,i,n)}return-1}descAt(t){for(let i=0,n=0;i<this.children.length;i++){let s=this.children[i],o=n+s.size;if(n==t&&o!=n){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(t<o)return s.descAt(t-n-s.border);n=o}}domFromPos(t,i){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,s=0;for(let o=0;n<this.children.length;n++){let r=this.children[n],a=o+r.size;if(a>t||r instanceof dM){s=t-o;break}o=a}if(s)return this.children[n].domFromPos(s-this.children[n].border,i);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof cM&&o.side>=0;n--);if(i<=0){let o,r=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,r=!1);return o&&i&&r&&!o.border&&!o.domAtom?o.domFromPos(o.size,i):{node:this.contentDOM,offset:o?Yi(o.dom)+1:0}}else{let o,r=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,r=!1);return o&&r&&!o.border&&!o.domAtom?o.domFromPos(0,i):{node:this.contentDOM,offset:o?Yi(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,i,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:i,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let r=n,a=0;;a++){let l=this.children[a],c=r+l.size;if(s==-1&&t<=c){let u=r+l.border;if(t>=u&&i<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,i,u);t=r;for(let h=a;h>0;h--){let m=this.children[h-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){s=Yi(m.dom)+1;break}t-=m.size}s==-1&&(s=0)}if(s>-1&&(c>i||a==this.children.length-1)){i=c;for(let u=a+1;u<this.children.length;u++){let h=this.children[u];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=Yi(h.dom);break}i+=h.size}o==-1&&(o=this.contentDOM.childNodes.length);break}r=c}return{node:this.contentDOM,from:t,to:i,fromOffset:s,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let i=this.children[t<0?0:this.children.length-1];return i.size==0||i.emptyChildAt(t)}domAfterPos(t){let{node:i,offset:n}=this.domFromPos(t,0);if(i.nodeType!=1||n==i.childNodes.length)throw new RangeError("No node after pos "+t);return i.childNodes[n]}setSelection(t,i,n,s=!1){let o=Math.min(t,i),r=Math.max(t,i);for(let g=0,v=0;g<this.children.length;g++){let _=this.children[g],w=v+_.size;if(o>v&&r<w)return _.setSelection(t-v-_.border,i-v-_.border,n,s);v=w}let a=this.domFromPos(t,t?-1:1),l=i==t?a:this.domFromPos(i,i?-1:1),c=n.root.getSelection(),u=n.domSelectionRange(),h=!1;if((eo||An)&&t==i){let{node:g,offset:v}=a;if(g.nodeType==3){if(h=!!(v&&g.nodeValue[v-1]==`
`),h&&v==g.nodeValue.length)for(let _=g,w;_;_=_.parentNode){if(w=_.nextSibling){w.nodeName=="BR"&&(a=l={node:w.parentNode,offset:Yi(w)+1});break}let A=_.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let _=g.childNodes[v-1];h=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(eo&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let g=u.focusNode.childNodes[u.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||h&&An)&&Sl(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Sl(l.node,l.offset,u.focusNode,u.focusOffset))return;let m=!1;if((c.extend||t==i)&&!h){c.collapse(a.node,a.offset);try{t!=i&&c.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(t>i){let v=a;a=l,l=v}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,i){for(let n=0,s=0;s<this.children.length;s++){let o=this.children[s],r=n+o.size;if(n==r?t<=r&&i>=n:t<r&&i>n){let a=n+o.border,l=r-o.border;if(t>=a&&i<=l){this.dirty=t==n||i==r?Qa:Rk,t==a&&i==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Po:o.markDirty(t-a,i-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Qa:Po}n=r}this.dirty=Qa}markParentsDirty(){let t=1;for(let i=this.parent;i;i=i.parent,t++){let n=t==1?Qa:Rk;i.dirty<n&&(i.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class cM extends lh{constructor(t,i,n,s){let o,r=i.type.toDOM;if(typeof r=="function"&&(r=r(n,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!i.type.spec.raw){if(r.nodeType!=1){let a=document.createElement("span");a.appendChild(r),r=a}r.contentEditable="false",r.classList.add("ProseMirror-widget")}super(t,[],r,null),this.widget=i,this.widget=i,o=this}matchesWidget(t){return this.dirty==Is&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let i=this.widget.spec.stopEvent;return i?i(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class sme extends lh{constructor(t,i,n,s){super(t,[],i,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(t,i){return t!=this.textDOM?this.posAtStart+(i?this.size:0):this.posAtStart+i}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class xl extends lh{constructor(t,i,n,s,o){super(t,[],n,s),this.mark=i,this.spec=o}static create(t,i,n,s){let o=s.nodeViews[i.type.name],r=o&&o(i,s,n);return(!r||!r.dom)&&(r=Pl.renderSpec(document,i.type.spec.toDOM(i,n),null,i.attrs)),new xl(t,i,r.dom,r.contentDOM||r.dom,r)}parseRule(){return this.dirty&Po||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Po&&this.mark.eq(t)}markDirty(t,i){if(super.markDirty(t,i),this.dirty!=Is){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Is}}slice(t,i,n){let s=xl.create(this.parent,this.mark,!0,n),o=this.children,r=this.size;i<r&&(o=Uy(o,i,r,n)),t>0&&(o=Uy(o,0,t,n));for(let a=0;a<o.length;a++)o[a].parent=s;return s.children=o,s}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ba extends lh{constructor(t,i,n,s,o,r,a,l,c){super(t,[],o,r),this.node=i,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=a}static create(t,i,n,s,o,r){let a=o.nodeViews[i.type.name],l,c=a&&a(i,o,()=>{if(!l)return r;if(l.parent)return l.parent.posBeforeChild(l)},n,s),u=c&&c.dom,h=c&&c.contentDOM;if(i.isText){if(!u)u=document.createTextNode(i.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:h}=Pl.renderSpec(document,i.type.spec.toDOM(i),null,i.attrs));!h&&!i.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),i.type.spec.draggable&&(u.draggable=!0));let m=u;return u=fM(u,n,i),c?l=new ome(t,i,n,s,u,h||null,m,c,o,r+1):i.isText?new Xm(t,i,n,s,u,m,o):new ba(t,i,n,s,u,h||null,m,o,r+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let i=this.children.length-1;i>=0;i--){let n=this.children[i];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>me.empty)}return t}matchesNode(t,i,n){return this.dirty==Is&&t.eq(this.node)&&jp(i,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,i){let n=this.node.inlineContent,s=i,o=t.composing?this.localCompositionInfo(t,i):null,r=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new ame(this,r&&r.node,t);dme(this.node,this.innerDeco,(c,u,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!h&&l.syncToMarks(u==this.node.childCount?Jt.none:this.node.child(u).marks,n,t),l.placeWidget(c,t,s)},(c,u,h,m)=>{l.syncToMarks(c.marks,n,t);let g;l.findNodeMatch(c,u,h,m)||a&&t.state.selection.from>s&&t.state.selection.to<s+c.nodeSize&&(g=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,h,g,t)||l.updateNextNode(c,u,h,t,m,s)||l.addNode(c,u,h,t,s),s+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Qa)&&(r&&this.protectLocalComposition(t,r),uM(this.contentDOM,this.children,t),Hc&&ume(this.dom))}localCompositionInfo(t,i){let{from:n,to:s}=t.state.selection;if(!(t.state.selection instanceof Ye)||n<i||s>i+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let r=o.nodeValue,a=hme(this.node.content,r,n-i,s-i);return a<0?null:{node:o,pos:a,text:r}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:i,pos:n,text:s}){if(this.getDesc(i))return;let o=i;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let r=new sme(this,o,i,s);t.input.compositionNodes.push(r),this.children=Uy(this.children,n,n+s.length,t,r)}update(t,i,n,s){return this.dirty==Po||!t.sameMarkup(this.node)?!1:(this.updateInner(t,i,n,s),!0)}updateInner(t,i,n,s){this.updateOuterDeco(i),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Is}updateOuterDeco(t){if(jp(t,this.outerDeco))return;let i=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=hM(this.dom,this.nodeDOM,jy(this.outerDeco,this.node,i),jy(t,this.node,i)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Hk(e,t,i,n,s){fM(n,t,e);let o=new ba(void 0,e,t,i,n,n,n,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class Xm extends ba{constructor(t,i,n,s,o,r,a){super(t,i,n,s,o,null,r,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,i,n,s){return this.dirty==Po||this.dirty!=Is&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(i),(this.dirty!=Is||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=Is,!0)}inParent(){let t=this.parent.contentDOM;for(let i=this.nodeDOM;i;i=i.parentNode)if(i==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,i,n){return t==this.nodeDOM?this.posAtStart+Math.min(i,this.node.text.length):super.localPosFromDOM(t,i,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,i,n){let s=this.node.cut(t,i),o=document.createTextNode(s.text);return new Xm(this.parent,s,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,i){super.markDirty(t,i),this.dom!=this.nodeDOM&&(t==0||i==this.nodeDOM.nodeValue.length)&&(this.dirty=Po)}get domAtom(){return!1}isText(t){return this.node.text==t}}class dM extends lh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Is&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class ome extends ba{constructor(t,i,n,s,o,r,a,l,c,u){super(t,i,n,s,o,r,a,c,u),this.spec=l}update(t,i,n,s){if(this.dirty==Po)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,i,n);return o&&this.updateInner(t,i,n,s),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,i,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,i,n,s){this.spec.setSelection?this.spec.setSelection(t,i,n.root):super.setSelection(t,i,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function uM(e,t,i){let n=e.firstChild,s=!1;for(let o=0;o<t.length;o++){let r=t[o],a=r.dom;if(a.parentNode==e){for(;a!=n;)n=Vk(n),s=!0;n=n.nextSibling}else s=!0,e.insertBefore(a,n);if(r instanceof xl){let l=n?n.previousSibling:e.lastChild;uM(r.contentDOM,r.children,i),n=l?l.nextSibling:e.firstChild}}for(;n;)n=Vk(n),s=!0;s&&i.trackWrites==e&&(i.trackWrites=null)}const ou=function(e){e&&(this.nodeName=e)};ou.prototype=Object.create(null);const el=[new ou];function jy(e,t,i){if(e.length==0)return el;let n=i?el[0]:new ou,s=[n];for(let o=0;o<e.length;o++){let r=e[o].type.attrs;if(r){r.nodeName&&s.push(n=new ou(r.nodeName));for(let a in r){let l=r[a];l!=null&&(i&&s.length==1&&s.push(n=new ou(t.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return s}function hM(e,t,i,n){if(i==el&&n==el)return t;let s=t;for(let o=0;o<n.length;o++){let r=n[o],a=i[o];if(o){let l;a&&a.nodeName==r.nodeName&&s!=e&&(l=s.parentNode)&&l.nodeName.toLowerCase()==r.nodeName||(l=document.createElement(r.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=el[0]),s=l}rme(s,a||el[0],r)}return s}function rme(e,t,i){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in i)&&e.removeAttribute(n);for(let n in i)n!="class"&&n!="style"&&n!="nodeName"&&i[n]!=t[n]&&e.setAttribute(n,i[n]);if(t.class!=i.class){let n=t.class?t.class.split(" ").filter(Boolean):[],s=i.class?i.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)s.indexOf(n[o])==-1&&e.classList.remove(n[o]);for(let o=0;o<s.length;o++)n.indexOf(s[o])==-1&&e.classList.add(s[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=i.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(t.style);)e.style.removeProperty(s[1])}i.style&&(e.style.cssText+=i.style)}}function fM(e,t,i){return hM(e,e,el,jy(t,i,e.nodeType!=1))}function jp(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].type.eq(t[i].type))return!1;return!0}function Vk(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class ame{constructor(t,i,n){this.lock=i,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=lme(t.node.content,t)}destroyBetween(t,i){if(t!=i){for(let n=t;n<i;n++)this.top.children[n].destroy();this.top.children.splice(t,i-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,i,n){let s=0,o=this.stack.length>>1,r=Math.min(o,t.length);for(;s<r&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=Is,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=xl.create(this.top,t[o],i,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,i,n,s){let o=-1,r;if(s>=this.preMatch.index&&(r=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&r.matchesNode(t,i,n))o=this.top.children.indexOf(r,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,i,n)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,i,n,s,o){let r=this.top.children[s];return r.dirty==Po&&r.dom==r.contentDOM&&(r.dirty=Qa),r.update(t,i,n,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let i=t.parentNode;if(!i)return-1;if(i==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}t=i}}updateNextNode(t,i,n,s,o,r){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ba){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,h,m=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Po&&jp(i,l.outerDeco));if(!m&&l.update(t,i,n,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!m&&(h=this.recreateWrapper(l,t,i,n,s,r)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Qa,h.updateChildren(s,r+1),h.dirty=Is),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,i,n,s,o,r){if(t.dirty||i.isAtom||!t.children.length||!t.node.content.eq(i.content)||!jp(n,t.outerDeco)||!s.eq(t.innerDeco))return null;let a=ba.create(this.top,i,n,s,o,r);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,i,n,s,o){let r=ba.create(this.top,t,i,n,s,o);r.contentDOM&&r.updateChildren(s,o+1),this.top.children.splice(this.index++,0,r),this.changed=!0}placeWidget(t,i,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new cM(this.top,t,i,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],i=this.top;for(;t instanceof xl;)i=t,t=i.children[i.children.length-1];(!t||!(t instanceof Xm)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((An||hn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",i),this.addHackNode("BR",this.top))}addHackNode(t,i){if(i==this.top&&this.index<i.children.length&&i.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new dM(this.top,[],n,null);i!=this.top?i.children.push(s):i.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function lme(e,t){let i=t,n=i.children.length,s=e.childCount,o=new Map,r=[];e:for(;s>0;){let a;for(;;)if(n){let c=i.children[n-1];if(c instanceof xl)i=c,n=c.children.length;else{a=c,n--;break}}else{if(i==t)break e;n=i.parent.children.indexOf(i),i=i.parent}let l=a.node;if(l){if(l!=e.child(s-1))break;--s,o.set(a,s),r.push(a)}}return{index:s,matched:o,matches:r.reverse()}}function cme(e,t){return e.type.side-t.type.side}function dme(e,t,i,n){let s=t.locals(e),o=0;if(s.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);n(u,s,t.forChild(o,u),c),o+=u.nodeSize}return}let r=0,a=[],l=null;for(let c=0;;){let u,h;for(;r<s.length&&s[r].to==o;){let w=s[r++];w.widget&&(u?(h||(h=[u])).push(w):u=w)}if(u)if(h){h.sort(cme);for(let w=0;w<h.length;w++)i(h[w],c,!!l)}else i(u,c,!!l);let m,g;if(l)g=-1,m=l,l=null;else if(c<e.childCount)g=c,m=e.child(c++);else break;for(let w=0;w<a.length;w++)a[w].to<=o&&a.splice(w--,1);for(;r<s.length&&s[r].from<=o&&s[r].to>o;)a.push(s[r++]);let v=o+m.nodeSize;if(m.isText){let w=v;r<s.length&&s[r].from<w&&(w=s[r].from);for(let A=0;A<a.length;A++)a[A].to<w&&(w=a[A].to);w<v&&(l=m.cut(w-o),m=m.cut(0,w-o),v=w,g=-1)}else for(;r<s.length&&s[r].to<v;)r++;let _=m.isInline&&!m.isLeaf?a.filter(w=>!w.inline):a.slice();n(m,_,t.forChild(o,m),g),o=v}}function ume(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function hme(e,t,i,n){for(let s=0,o=0;s<e.childCount&&o<=n;){let r=e.child(s++),a=o;if(o+=r.nodeSize,!r.isText)continue;let l=r.text;for(;s<e.childCount;){let c=e.child(s++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=i){if(o>=n&&l.slice(n-t.length-a,n-a)==t)return n-t.length;let c=a<n?l.lastIndexOf(t,n-a-1):-1;if(c>=0&&c+t.length+a>=i)return a+c;if(i==n&&l.length>=n+t.length-a&&l.slice(n-a,n-a+t.length)==t)return n}}return-1}function Uy(e,t,i,n,s){let o=[];for(let r=0,a=0;r<e.length;r++){let l=e[r],c=a,u=a+=l.size;c>=i||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,n)),s&&(o.push(s),s=void 0),u>i&&o.push(l.slice(i-c,l.size,n)))}return o}function _0(e,t=null){let i=e.domSelectionRange(),n=e.state.doc;if(!i.focusNode)return null;let s=e.docView.nearestDesc(i.focusNode),o=s&&s.size==0,r=e.docView.posFromDOM(i.focusNode,i.focusOffset,1);if(r<0)return null;let a=n.resolve(r),l,c;if(Zm(i)){for(l=r;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&Ke.isSelectable(h)&&s.parent&&!(h.isInline&&Vpe(i.focusNode,i.focusOffset,s.dom))){let m=s.posBefore;c=new Ke(r==m?a:n.resolve(m))}}else{if(i instanceof e.dom.ownerDocument.defaultView.Selection&&i.rangeCount>1){let h=r,m=r;for(let g=0;g<i.rangeCount;g++){let v=i.getRangeAt(g);h=Math.min(h,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),m=Math.max(m,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(h<0)return null;[l,r]=m==e.state.selection.anchor?[m,h]:[h,m],a=n.resolve(r)}else l=e.docView.posFromDOM(i.anchorNode,i.anchorOffset,1);if(l<0)return null}let u=n.resolve(l);if(!c){let h=t=="pointer"||e.state.selection.head<a.pos&&!o?1:-1;c=w0(e,u,a,h)}return c}function pM(e){return e.editable?e.hasFocus():gM(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function vr(e,t=!1){let i=e.state.selection;if(mM(e,i),!!pM(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&hn){let n=e.domSelectionRange(),s=e.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&Sl(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)pme(e);else{let{anchor:n,head:s}=i,o,r;zk&&!(i instanceof Ye)&&(i.$from.parent.inlineContent||(o=Nk(e,i.from)),!i.empty&&!i.$from.parent.inlineContent&&(r=Nk(e,i.to))),e.docView.setSelection(n,s,e,t),zk&&(o&&Bk(o),r&&Bk(r)),i.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&fme(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const zk=An||hn&&iM<63;function Nk(e,t){let{node:i,offset:n}=e.docView.domFromPos(t,0),s=n<i.childNodes.length?i.childNodes[n]:null,o=n?i.childNodes[n-1]:null;if(An&&s&&s.contentEditable=="false")return pb(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return pb(s);if(o)return pb(o)}}function pb(e){return e.contentEditable="true",An&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Bk(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function fme(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let i=e.domSelectionRange(),n=i.anchorNode,s=i.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(i.anchorNode!=n||i.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!pM(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function pme(e){let t=e.domSelection(),i=document.createRange();if(!t)return;let n=e.cursorWrapper.dom,s=n.nodeName=="IMG";s?i.setStart(n.parentNode,Yi(n)+1):i.setStart(n,0),i.collapse(!0),t.removeAllRanges(),t.addRange(i),!s&&!e.state.selection.visible&&Hn&&ga<=11&&(n.disabled=!0,n.disabled=!1)}function mM(e,t){if(t instanceof Ke){let i=e.docView.descAt(t.from);i!=e.lastSelectedViewDesc&&(Fk(e),i&&i.selectNode(),e.lastSelectedViewDesc=i)}else Fk(e)}function Fk(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function w0(e,t,i,n){return e.someProp("createSelectionBetween",s=>s(e,t,i))||Ye.between(t,i,n)}function jk(e){return e.editable&&!e.hasFocus()?!1:gM(e)}function gM(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function mme(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),i=e.domSelectionRange();return Sl(t.node,t.offset,i.anchorNode,i.anchorOffset)}function Wy(e,t){let{$anchor:i,$head:n}=e.selection,s=t>0?i.max(n):i.min(n),o=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return o&&ot.findFrom(o,t)}function Yr(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Uk(e,t,i){let n=e.state.selection;if(n instanceof Ye)if(i.indexOf("s")>-1){let{$head:s}=n,o=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let r=e.state.doc.resolve(s.pos+o.nodeSize*(t<0?-1:1));return Yr(e,new Ye(n.$anchor,r))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=Wy(e.state,t);return s&&s instanceof Ke?Yr(e,s):!1}else if(!(xs&&i.indexOf("m")>-1)){let s=n.$head,o=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,r;if(!o||o.isText)return!1;let a=t<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(r=e.docView.descAt(a))&&!r.contentDOM?Ke.isSelectable(o)?Yr(e,new Ke(t<0?e.state.doc.resolve(s.pos-o.nodeSize):s)):ah?Yr(e,new Ye(e.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ke&&n.node.isInline)return Yr(e,new Ye(t>0?n.$to:n.$from));{let s=Wy(e.state,t);return s?Yr(e,s):!1}}}function Up(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function ru(e,t){let i=e.pmViewDesc;return i&&i.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function ac(e,t){return t<0?gme(e):bme(e)}function gme(e){let t=e.domSelectionRange(),i=t.focusNode,n=t.focusOffset;if(!i)return;let s,o,r=!1;for(eo&&i.nodeType==1&&n<Up(i)&&ru(i.childNodes[n],-1)&&(r=!0);;)if(n>0){if(i.nodeType!=1)break;{let a=i.childNodes[n-1];if(ru(a,-1))s=i,o=--n;else if(a.nodeType==3)i=a,n=i.nodeValue.length;else break}}else{if(bM(i))break;{let a=i.previousSibling;for(;a&&ru(a,-1);)s=i.parentNode,o=Yi(a),a=a.previousSibling;if(a)i=a,n=Up(i);else{if(i=i.parentNode,i==e.dom)break;n=0}}}r?qy(e,i,n):s&&qy(e,s,o)}function bme(e){let t=e.domSelectionRange(),i=t.focusNode,n=t.focusOffset;if(!i)return;let s=Up(i),o,r;for(;;)if(n<s){if(i.nodeType!=1)break;let a=i.childNodes[n];if(ru(a,1))o=i,r=++n;else break}else{if(bM(i))break;{let a=i.nextSibling;for(;a&&ru(a,1);)o=a.parentNode,r=Yi(a)+1,a=a.nextSibling;if(a)i=a,n=0,s=Up(i);else{if(i=i.parentNode,i==e.dom)break;n=s=0}}}o&&qy(e,o,r)}function bM(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function yme(e,t){for(;e&&t==e.childNodes.length&&!rh(e);)t=Yi(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let i=e.childNodes[t];if(i.nodeType==3)return i;if(i.nodeType==1&&i.contentEditable=="false")break;e=i,t=0}}function vme(e,t){for(;e&&!t&&!rh(e);)t=Yi(e),e=e.parentNode;for(;e&&t;){let i=e.childNodes[t-1];if(i.nodeType==3)return i;if(i.nodeType==1&&i.contentEditable=="false")break;e=i,t=e.childNodes.length}}function qy(e,t,i){if(t.nodeType!=3){let o,r;(r=yme(t,i))?(t=r,i=0):(o=vme(t,i))&&(t=o,i=o.nodeValue.length)}let n=e.domSelection();if(!n)return;if(Zm(n)){let o=document.createRange();o.setEnd(t,i),o.setStart(t,i),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,i);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&vr(e)},50)}function Wk(e,t){let i=e.state.doc.resolve(t);if(!(hn||Bpe)&&i.parent.inlineContent){let s=e.coordsAtPos(t);if(t>i.start()){let o=e.coordsAtPos(t-1),r=(o.top+o.bottom)/2;if(r>s.top&&r<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(t<i.end()){let o=e.coordsAtPos(t+1),r=(o.top+o.bottom)/2;if(r>s.top&&r<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function qk(e,t,i){let n=e.state.selection;if(n instanceof Ye&&!n.empty||i.indexOf("s")>-1||xs&&i.indexOf("m")>-1)return!1;let{$from:s,$to:o}=n;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let r=Wy(e.state,t);if(r&&r instanceof Ke)return Yr(e,r)}if(!s.parent.inlineContent){let r=t<0?s:o,a=n instanceof rs?ot.near(r,t):ot.findFrom(r,t);return a?Yr(e,a):!1}return!1}function Kk(e,t){if(!(e.state.selection instanceof Ye))return!0;let{$head:i,$anchor:n,empty:s}=e.state.selection;if(!i.sameParent(n))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!i.textOffset&&(t<0?i.nodeBefore:i.nodeAfter);if(o&&!o.isText){let r=e.state.tr;return t<0?r.delete(i.pos-o.nodeSize,i.pos):r.delete(i.pos,i.pos+o.nodeSize),e.dispatch(r),!0}return!1}function Gk(e,t,i){e.domObserver.stop(),t.contentEditable=i,e.domObserver.start()}function _me(e){if(!An||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:i}=e.domSelectionRange();if(t&&t.nodeType==1&&i==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;Gk(e,n,"true"),setTimeout(()=>Gk(e,n,"false"),20)}return!1}function wme(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Cme(e,t){let i=t.keyCode,n=wme(t);if(i==8||xs&&i==72&&n=="c")return Kk(e,-1)||ac(e,-1);if(i==46&&!t.shiftKey||xs&&i==68&&n=="c")return Kk(e,1)||ac(e,1);if(i==13||i==27)return!0;if(i==37||xs&&i==66&&n=="c"){let s=i==37?Wk(e,e.state.selection.from)=="ltr"?-1:1:-1;return Uk(e,s,n)||ac(e,s)}else if(i==39||xs&&i==70&&n=="c"){let s=i==39?Wk(e,e.state.selection.from)=="ltr"?1:-1:1;return Uk(e,s,n)||ac(e,s)}else{if(i==38||xs&&i==80&&n=="c")return qk(e,-1,n)||ac(e,-1);if(i==40||xs&&i==78&&n=="c")return _me(e)||qk(e,1,n)||ac(e,1);if(n==(xs?"m":"c")&&(i==66||i==73||i==89||i==90))return!0}return!1}function yM(e,t){e.someProp("transformCopied",g=>{t=g(t,e)});let i=[],{content:n,openStart:s,openEnd:o}=t;for(;s>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,o--;let g=n.firstChild;i.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),n=g.content}let r=e.someProp("clipboardSerializer")||Pl.fromSchema(e.state.schema),a=AM(),l=a.createElement("div");l.appendChild(r.serializeFragment(n,{document:a}));let c=l.firstChild,u,h=0;for(;c&&c.nodeType==1&&(u=kM[c.nodeName.toLowerCase()]);){for(let g=u.length-1;g>=0;g--){let v=a.createElement(u[g]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${o}${h?` -${h}`:""} ${JSON.stringify(i)}`);let m=e.someProp("clipboardTextSerializer",g=>g(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:m,slice:t}}function vM(e,t,i,n,s){let o=s.parent.type.spec.code,r,a;if(!i&&!t)return null;let l=t&&(n||o||!i);if(l){if(e.someProp("transformPastedText",m=>{t=m(t,o||n,e)}),o)return t?new Ee(me.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Ee.empty;let h=e.someProp("clipboardTextParser",m=>m(t,s,n,e));if(h)a=h;else{let m=s.marks(),{schema:g}=e.state,v=Pl.fromSchema(g);r=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(_=>{let w=r.appendChild(document.createElement("p"));_&&w.appendChild(v.serializeNode(g.text(_,m)))})}}else e.someProp("transformPastedHTML",h=>{i=h(i,e)}),r=xme(i),ah&&Mme(r);let c=r&&r.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let h=+u[3];h>0;h--){let m=r.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;r=m}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||ma.fromSchema(e.state.schema)).parseSlice(r,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!kme.test(m.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Tme(Jk(a,+u[1],+u[2]),u[4]);else if(a=Ee.maxOpen(Ame(a.content,s),!0),a.openStart||a.openEnd){let h=0,m=0;for(let g=a.content.firstChild;h<a.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=a.content.lastChild;m<a.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);a=Jk(a,h,m)}return e.someProp("transformPasted",h=>{a=h(a,e)}),a}const kme=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Ame(e,t){if(e.childCount<2)return e;for(let i=t.depth;i>=0;i--){let s=t.node(i).contentMatchAt(t.index(i)),o,r=[];if(e.forEach(a=>{if(!r)return;let l=s.findWrapping(a.type),c;if(!l)return r=null;if(c=r.length&&o.length&&wM(l,o,a,r[r.length-1],0))r[r.length-1]=c;else{r.length&&(r[r.length-1]=CM(r[r.length-1],o.length));let u=_M(a,l);r.push(u),s=s.matchType(u.type),o=l}}),r)return me.from(r)}return e}function _M(e,t,i=0){for(let n=t.length-1;n>=i;n--)e=t[n].create(null,me.from(e));return e}function wM(e,t,i,n,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let o=wM(e,t,i,n.lastChild,s+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(s==e.length-1?i.type:e[s+1]))return n.copy(n.content.append(me.from(_M(i,e,s+1))))}}function CM(e,t){if(t==0)return e;let i=e.content.replaceChild(e.childCount-1,CM(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(me.empty,!0);return e.copy(i.append(n))}function Ky(e,t,i,n,s,o){let r=t<0?e.firstChild:e.lastChild,a=r.content;return e.childCount>1&&(o=0),s<n-1&&(a=Ky(a,t,i,n,s+1,o)),s>=i&&(a=t<0?r.contentMatchAt(0).fillBefore(a,o<=s).append(a):a.append(r.contentMatchAt(r.childCount).fillBefore(me.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,r.copy(a))}function Jk(e,t,i){return t<e.openStart&&(e=new Ee(Ky(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),i<e.openEnd&&(e=new Ee(Ky(e.content,1,i,e.openEnd,0,0),e.openStart,i)),e}const kM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Yk=null;function AM(){return Yk||(Yk=document.implementation.createHTMLDocument("title"))}let mb=null;function Sme(e){let t=window.trustedTypes;return t?(mb||(mb=t.createPolicy("ProseMirrorClipboard",{createHTML:i=>i})),mb.createHTML(e)):e}function xme(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let i=AM().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),s;if((s=n&&kM[n[1].toLowerCase()])&&(e=s.map(o=>"<"+o+">").join("")+e+s.map(o=>"</"+o+">").reverse().join("")),i.innerHTML=Sme(e),s)for(let o=0;o<s.length;o++)i=i.querySelector(s[o])||i;return i}function Mme(e){let t=e.querySelectorAll(hn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let i=0;i<t.length;i++){let n=t[i];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function Tme(e,t){if(!e.size)return e;let i=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:s,openStart:o,openEnd:r}=e;for(let a=n.length-2;a>=0;a-=2){let l=i.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;s=me.from(l.create(n[a+1],s)),o++,r++}return new Ee(s,o,r)}const Sn={},xn={},Ome={touchstart:!0,touchmove:!0};class Eme{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ime(e){for(let t in Sn){let i=Sn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{Lme(e,n)&&!C0(e,n)&&(e.editable||!(n.type in xn))&&i(e,n)},Ome[t]?{passive:!0}:void 0)}An&&e.dom.addEventListener("input",()=>null),Gy(e)}function ca(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function $me(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Gy(e){e.someProp("handleDOMEvents",t=>{for(let i in t)e.input.eventHandlers[i]||e.dom.addEventListener(i,e.input.eventHandlers[i]=n=>C0(e,n))})}function C0(e,t){return e.someProp("handleDOMEvents",i=>{let n=i[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function Lme(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let i=t.target;i!=e.dom;i=i.parentNode)if(!i||i.nodeType==11||i.pmViewDesc&&i.pmViewDesc.stopEvent(t))return!1;return!0}function Pme(e,t){!C0(e,t)&&Sn[t.type]&&(e.editable||!(t.type in xn))&&Sn[t.type](e,t)}xn.keydown=(e,t)=>{let i=t;if(e.input.shiftKey=i.keyCode==16||i.shiftKey,!xM(e,i)&&(e.input.lastKeyCode=i.keyCode,e.input.lastKeyCodeTime=Date.now(),!(hr&&hn&&i.keyCode==13)))if(i.keyCode!=229&&e.domObserver.forceFlush(),Hc&&i.keyCode==13&&!i.ctrlKey&&!i.altKey&&!i.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",s=>s(e,Za(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,i))||Cme(e,i)?i.preventDefault():ca(e,"key")};xn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};xn.keypress=(e,t)=>{let i=t;if(xM(e,i)||!i.charCode||i.ctrlKey&&!i.altKey||xs&&i.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,i))){i.preventDefault();return}let n=e.state.selection;if(!(n instanceof Ye)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(i.charCode);!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",o=>o(e,n.$from.pos,n.$to.pos,s))&&e.dispatch(e.state.tr.insertText(s).scrollIntoView()),i.preventDefault()}};function Qm(e){return{left:e.clientX,top:e.clientY}}function Dme(e,t){let i=t.x-e.clientX,n=t.y-e.clientY;return i*i+n*n<100}function k0(e,t,i,n,s){if(n==-1)return!1;let o=e.state.doc.resolve(n);for(let r=o.depth+1;r>0;r--)if(e.someProp(t,a=>r>o.depth?a(e,i,o.nodeAfter,o.before(r),s,!0):a(e,i,o.node(r),o.before(r),s,!1)))return!0;return!1}function Tc(e,t,i){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);n.setMeta("pointer",!0),e.dispatch(n)}function Rme(e,t){if(t==-1)return!1;let i=e.state.doc.resolve(t),n=i.nodeAfter;return n&&n.isAtom&&Ke.isSelectable(n)?(Tc(e,new Ke(i)),!0):!1}function Hme(e,t){if(t==-1)return!1;let i=e.state.selection,n,s;i instanceof Ke&&(n=i.node);let o=e.state.doc.resolve(t);for(let r=o.depth+1;r>0;r--){let a=r>o.depth?o.nodeAfter:o.node(r);if(Ke.isSelectable(a)){n&&i.$from.depth>0&&r>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?s=o.before(i.$from.depth):s=o.before(r);break}}return s!=null?(Tc(e,Ke.create(e.state.doc,s)),!0):!1}function Vme(e,t,i,n,s){return k0(e,"handleClickOn",t,i,n)||e.someProp("handleClick",o=>o(e,t,n))||(s?Hme(e,i):Rme(e,i))}function zme(e,t,i,n){return k0(e,"handleDoubleClickOn",t,i,n)||e.someProp("handleDoubleClick",s=>s(e,t,n))}function Nme(e,t,i,n){return k0(e,"handleTripleClickOn",t,i,n)||e.someProp("handleTripleClick",s=>s(e,t,n))||Bme(e,i,n)}function Bme(e,t,i){if(i.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(Tc(e,Ye.create(n,0,n.content.size)),!0):!1;let s=n.resolve(t);for(let o=s.depth+1;o>0;o--){let r=o>s.depth?s.nodeAfter:s.node(o),a=s.before(o);if(r.inlineContent)Tc(e,Ye.create(n,a+1,a+1+r.content.size));else if(Ke.isSelectable(r))Tc(e,Ke.create(n,a));else continue;return!0}}function A0(e){return Wp(e)}const SM=xs?"metaKey":"ctrlKey";Sn.mousedown=(e,t)=>{let i=t;e.input.shiftKey=i.shiftKey;let n=A0(e),s=Date.now(),o="singleClick";s-e.input.lastClick.time<500&&Dme(i,e.input.lastClick)&&!i[SM]&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:s,x:i.clientX,y:i.clientY,type:o};let r=e.posAtCoords(Qm(i));r&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Fme(e,r,i,!!n)):(o=="doubleClick"?zme:Nme)(e,r.pos,r.inside,i)?i.preventDefault():ca(e,"pointer"))};class Fme{constructor(t,i,n,s){this.view=t,this.pos=i,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[SM],this.allowDefault=n.shiftKey;let o,r;if(i.inside>-1)o=t.state.doc.nodeAt(i.inside),r=i.inside;else{let u=t.state.doc.resolve(i.pos);o=u.parent,r=u.depth?u.before():0}const a=s?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Ke&&c.from<=r&&c.to>r)&&(this.mightDrag={node:o,pos:r,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&eo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ca(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>vr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let i=this.pos;this.view.state.doc!=this.startDoc&&(i=this.view.posAtCoords(Qm(t))),this.updateAllowDefault(t),this.allowDefault||!i?ca(this.view,"pointer"):Vme(this.view,i.pos,i.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||An&&this.mightDrag&&!this.mightDrag.node.isAtom||hn&&!this.view.state.selection.visible&&Math.min(Math.abs(i.pos-this.view.state.selection.from),Math.abs(i.pos-this.view.state.selection.to))<=2)?(Tc(this.view,ot.near(this.view.state.doc.resolve(i.pos))),t.preventDefault()):ca(this.view,"pointer")}move(t){this.updateAllowDefault(t),ca(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Sn.touchstart=e=>{e.input.lastTouch=Date.now(),A0(e),ca(e,"pointer")};Sn.touchmove=e=>{e.input.lastTouch=Date.now(),ca(e,"pointer")};Sn.contextmenu=e=>A0(e);function xM(e,t){return e.composing?!0:An&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const jme=hr?5e3:-1;xn.compositionstart=xn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,i=t.selection.$to;if(t.selection instanceof Ye&&(t.storedMarks||!i.textOffset&&i.parentOffset&&i.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||i.marks(),Wp(e,!0),e.markCursor=null;else if(Wp(e,!t.selection.empty),eo&&t.selection.empty&&i.parentOffset&&!i.textOffset&&i.nodeBefore.marks.length){let n=e.domSelectionRange();for(let s=n.focusNode,o=n.focusOffset;s&&s.nodeType==1&&o!=0;){let r=o<0?s.lastChild:s.childNodes[o-1];if(!r)break;if(r.nodeType==3){let a=e.domSelection();a&&a.collapse(r,r.nodeValue.length);break}else s=r,o=-1}}e.input.composing=!0}MM(e,jme)};xn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,MM(e,20))};function MM(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Wp(e),t))}function TM(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Wme());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Ume(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let i=Rpe(t.focusNode,t.focusOffset),n=Hpe(t.focusNode,t.focusOffset);if(i&&n&&i!=n){let s=n.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(i==o||n==o)return o;if(!s||!s.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let r=i.pmViewDesc;if(!(!r||!r.isText(i.nodeValue)))return n}}return i||n}function Wme(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Wp(e,t=!1){if(!(hr&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),TM(e),t||e.docView&&e.docView.dirty){let i=_0(e);return i&&!i.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(i)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function qme(e,t){if(!e.dom.parentNode)return;let i=e.dom.parentNode.appendChild(document.createElement("div"));i.appendChild(t),i.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i),e.focus()},50)}const Lu=Hn&&ga<15||Hc&&Fpe<604;Sn.copy=xn.cut=(e,t)=>{let i=t,n=e.state.selection,s=i.type=="cut";if(n.empty)return;let o=Lu?null:i.clipboardData,r=n.content(),{dom:a,text:l}=yM(e,r);o?(i.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):qme(e,a),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Kme(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Gme(e,t){if(!e.dom.parentNode)return;let i=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(i?"textarea":"div"));i||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),i?Pu(e,n.value,null,s,t):Pu(e,n.textContent,n.innerHTML,s,t)},50)}function Pu(e,t,i,n,s){let o=vM(e,t,i,n,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,s,o||Ee.empty)))return!0;if(!o)return!1;let r=Kme(o),a=r?e.state.tr.replaceSelectionWith(r,n):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function OM(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let i=e.getData("text/uri-list");return i?i.replace(/\r?\n/g," "):""}xn.paste=(e,t)=>{let i=t;if(e.composing&&!hr)return;let n=Lu?null:i.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&Pu(e,OM(n),n.getData("text/html"),s,i)?i.preventDefault():Gme(e,i)};class EM{constructor(t,i,n){this.slice=t,this.move=i,this.node=n}}const IM=xs?"altKey":"ctrlKey";Sn.dragstart=(e,t)=>{let i=t,n=e.input.mouseDown;if(n&&n.done(),!i.dataTransfer)return;let s=e.state.selection,o=s.empty?null:e.posAtCoords(Qm(i)),r;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof Ke?s.to-1:s.to))){if(n&&n.mightDrag)r=Ke.create(e.state.doc,n.mightDrag.pos);else if(i.target&&i.target.nodeType==1){let h=e.docView.nearestDesc(i.target,!0);h&&h.node.type.spec.draggable&&h!=e.docView&&(r=Ke.create(e.state.doc,h.posBefore))}}let a=(r||e.state.selection).content(),{dom:l,text:c,slice:u}=yM(e,a);(!i.dataTransfer.files.length||!hn||iM>120)&&i.dataTransfer.clearData(),i.dataTransfer.setData(Lu?"Text":"text/html",l.innerHTML),i.dataTransfer.effectAllowed="copyMove",Lu||i.dataTransfer.setData("text/plain",c),e.dragging=new EM(u,!i[IM],r)};Sn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};xn.dragover=xn.dragenter=(e,t)=>t.preventDefault();xn.drop=(e,t)=>{let i=t,n=e.dragging;if(e.dragging=null,!i.dataTransfer)return;let s=e.posAtCoords(Qm(i));if(!s)return;let o=e.state.doc.resolve(s.pos),r=n&&n.slice;r?e.someProp("transformPasted",v=>{r=v(r,e)}):r=vM(e,OM(i.dataTransfer),Lu?null:i.dataTransfer.getData("text/html"),!1,o);let a=!!(n&&!i[IM]);if(e.someProp("handleDrop",v=>v(e,i,r||Ee.empty,a))){i.preventDefault();return}if(!r)return;i.preventDefault();let l=r?Kx(e.state.doc,o.pos,r):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(a){let{node:v}=n;v?v.replace(c):c.deleteSelection()}let u=c.mapping.map(l),h=r.openStart==0&&r.openEnd==0&&r.content.childCount==1,m=c.doc;if(h?c.replaceRangeWith(u,u,r.content.firstChild):c.replaceRange(u,u,r),c.doc.eq(m))return;let g=c.doc.resolve(u);if(h&&Ke.isSelectable(r.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(r.content.firstChild))c.setSelection(new Ke(g));else{let v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((_,w,A,L)=>v=L),c.setSelection(w0(e,g,c.doc.resolve(v)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Sn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&vr(e)},20))};Sn.blur=(e,t)=>{let i=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),i.relatedTarget&&e.dom.contains(i.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Sn.beforeinput=(e,t)=>{if(hn&&hr&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Za(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in xn)Sn[e]=xn[e];function Du(e,t){if(e==t)return!0;for(let i in e)if(e[i]!==t[i])return!1;for(let i in t)if(!(i in e))return!1;return!0}class qp{constructor(t,i){this.toDOM=t,this.spec=i||ul,this.side=this.spec.side||0}map(t,i,n,s){let{pos:o,deleted:r}=t.mapResult(i.from+s,this.side<0?-1:1);return r?null:new fn(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof qp&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Du(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ya{constructor(t,i){this.attrs=t,this.spec=i||ul}map(t,i,n,s){let o=t.map(i.from+s,this.spec.inclusiveStart?-1:1)-n,r=t.map(i.to+s,this.spec.inclusiveEnd?1:-1)-n;return o>=r?null:new fn(o,r,this)}valid(t,i){return i.from<i.to}eq(t){return this==t||t instanceof ya&&Du(this.attrs,t.attrs)&&Du(this.spec,t.spec)}static is(t){return t.type instanceof ya}destroy(){}}class S0{constructor(t,i){this.attrs=t,this.spec=i||ul}map(t,i,n,s){let o=t.mapResult(i.from+s,1);if(o.deleted)return null;let r=t.mapResult(i.to+s,-1);return r.deleted||r.pos<=o.pos?null:new fn(o.pos-n,r.pos-n,this)}valid(t,i){let{index:n,offset:s}=t.content.findIndex(i.from),o;return s==i.from&&!(o=t.child(n)).isText&&s+o.nodeSize==i.to}eq(t){return this==t||t instanceof S0&&Du(this.attrs,t.attrs)&&Du(this.spec,t.spec)}destroy(){}}class fn{constructor(t,i,n){this.from=t,this.to=i,this.type=n}copy(t,i){return new fn(t,i,this.type)}eq(t,i=0){return this.type.eq(t.type)&&this.from+i==t.from&&this.to+i==t.to}map(t,i,n){return this.type.map(t,this,i,n)}static widget(t,i,n){return new fn(t,t,new qp(i,n))}static inline(t,i,n,s){return new fn(t,i,new ya(n,s))}static node(t,i,n,s){return new fn(t,i,new S0(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof ya}get widget(){return this.type instanceof qp}}const mc=[],ul={};class li{constructor(t,i){this.local=t.length?t:mc,this.children=i.length?i:mc}static create(t,i){return i.length?Kp(i,t,0,ul):cn}find(t,i,n){let s=[];return this.findInner(t??0,i??1e9,s,0,n),s}findInner(t,i,n,s,o){for(let r=0;r<this.local.length;r++){let a=this.local[r];a.from<=i&&a.to>=t&&(!o||o(a.spec))&&n.push(a.copy(a.from+s,a.to+s))}for(let r=0;r<this.children.length;r+=3)if(this.children[r]<i&&this.children[r+1]>t){let a=this.children[r]+1;this.children[r+2].findInner(t-a,i-a,n,s+a,o)}}map(t,i,n){return this==cn||t.maps.length==0?this:this.mapInner(t,i,0,0,n||ul)}mapInner(t,i,n,s,o){let r;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,n,s);l&&l.type.valid(i,l)?(r||(r=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?Jme(this.children,r||[],t,i,n,s,o):r?new li(r.sort(hl),mc):cn}add(t,i){return i.length?this==cn?li.create(t,i):this.addInner(t,i,0):this}addInner(t,i,n){let s,o=0;t.forEach((a,l)=>{let c=l+n,u;if(u=LM(i,a,c)){for(s||(s=this.children.slice());o<s.length&&s[o]<l;)o+=3;s[o]==l?s[o+2]=s[o+2].addInner(a,u,c+1):s.splice(o,0,l,l+a.nodeSize,Kp(u,a,c+1,ul)),o+=3}});let r=$M(o?PM(i):i,-n);for(let a=0;a<r.length;a++)r[a].type.valid(t,r[a])||r.splice(a--,1);return new li(r.length?this.local.concat(r).sort(hl):this.local,s||this.children)}remove(t){return t.length==0||this==cn?this:this.removeInner(t,0)}removeInner(t,i){let n=this.children,s=this.local;for(let o=0;o<n.length;o+=3){let r,a=n[o]+i,l=n[o+1]+i;for(let u=0,h;u<t.length;u++)(h=t[u])&&h.from>a&&h.to<l&&(t[u]=null,(r||(r=[])).push(h));if(!r)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(r,a+1);c!=cn?n[o+2]=c:(n.splice(o,3),o-=3)}if(s.length){for(let o=0,r;o<t.length;o++)if(r=t[o])for(let a=0;a<s.length;a++)s[a].eq(r,i)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new li(s,n):cn}forChild(t,i){if(this==cn)return this;if(i.isLeaf)return li.empty;let n,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(n=this.children[a+2]);break}let o=t+1,r=o+i.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<r&&l.to>o&&l.type instanceof ya){let c=Math.max(o,l.from)-o,u=Math.min(r,l.to)-o;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new li(s.sort(hl),mc);return n?new ta([a,n]):a}return n||cn}eq(t){if(this==t)return!0;if(!(t instanceof li)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let i=0;i<this.local.length;i++)if(!this.local[i].eq(t.local[i]))return!1;for(let i=0;i<this.children.length;i+=3)if(this.children[i]!=t.children[i]||this.children[i+1]!=t.children[i+1]||!this.children[i+2].eq(t.children[i+2]))return!1;return!0}locals(t){return x0(this.localsInner(t))}localsInner(t){if(this==cn)return mc;if(t.inlineContent||!this.local.some(ya.is))return this.local;let i=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof ya||i.push(this.local[n]);return i}forEachSet(t){t(this)}}li.empty=new li([],[]);li.removeOverlap=x0;const cn=li.empty;class ta{constructor(t){this.members=t}map(t,i){const n=this.members.map(s=>s.map(t,i,ul));return ta.from(n)}forChild(t,i){if(i.isLeaf)return li.empty;let n=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(t,i);o!=cn&&(o instanceof ta?n=n.concat(o.members):n.push(o))}return ta.from(n)}eq(t){if(!(t instanceof ta)||t.members.length!=this.members.length)return!1;for(let i=0;i<this.members.length;i++)if(!this.members[i].eq(t.members[i]))return!1;return!0}locals(t){let i,n=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(t);if(o.length)if(!i)i=o;else{n&&(i=i.slice(),n=!1);for(let r=0;r<o.length;r++)i.push(o[r])}}return i?x0(n?i:i.sort(hl)):mc}static from(t){switch(t.length){case 0:return cn;case 1:return t[0];default:return new ta(t.every(i=>i instanceof li)?t:t.reduce((i,n)=>i.concat(n instanceof li?n:n.members),[]))}}forEachSet(t){for(let i=0;i<this.members.length;i++)this.members[i].forEachSet(t)}}function Jme(e,t,i,n,s,o,r){let a=e.slice();for(let c=0,u=o;c<i.maps.length;c++){let h=0;i.maps[c].forEach((m,g,v,_)=>{let w=_-v-(g-m);for(let A=0;A<a.length;A+=3){let L=a[A+1];if(L<0||m>L+u-h)continue;let N=a[A]+u-h;g>=N?a[A+1]=m<=N?-2:-1:m>=u&&w&&(a[A]+=w,a[A+1]+=w)}h+=w}),u=i.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=i.map(e[c]+o),h=u-s;if(h<0||h>=n.content.size){l=!0;continue}let m=i.map(e[c+1]+o,-1),g=m-s,{index:v,offset:_}=n.content.findIndex(h),w=n.maybeChild(v);if(w&&_==h&&_+w.nodeSize==g){let A=a[c+2].mapInner(i,w,u+1,e[c]+o+1,r);A!=cn?(a[c]=h,a[c+1]=g,a[c+2]=A):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Yme(a,e,t,i,s,o,r),u=Kp(c,n,0,r);t=u.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,m=0;h<u.children.length;h+=3){let g=u.children[h];for(;m<a.length&&a[m]<g;)m+=3;a.splice(m,0,u.children[h],u.children[h+1],u.children[h+2])}}return new li(t.sort(hl),a)}function $M(e,t){if(!t||!e.length)return e;let i=[];for(let n=0;n<e.length;n++){let s=e[n];i.push(new fn(s.from+t,s.to+t,s.type))}return i}function Yme(e,t,i,n,s,o,r){function a(l,c){for(let u=0;u<l.local.length;u++){let h=l.local[u].map(n,s,c);h?i.push(h):r.onRemove&&r.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+o+1);return i}function LM(e,t,i){if(t.isLeaf)return null;let n=i+t.nodeSize,s=null;for(let o=0,r;o<e.length;o++)(r=e[o])&&r.from>i&&r.to<n&&((s||(s=[])).push(r),e[o]=null);return s}function PM(e){let t=[];for(let i=0;i<e.length;i++)e[i]!=null&&t.push(e[i]);return t}function Kp(e,t,i,n){let s=[],o=!1;t.forEach((a,l)=>{let c=LM(e,a,l+i);if(c){o=!0;let u=Kp(c,a,i+l+1,n);u!=cn&&s.push(l,l+a.nodeSize,u)}});let r=$M(o?PM(e):e,-i).sort(hl);for(let a=0;a<r.length;a++)r[a].type.valid(t,r[a])||(n.onRemove&&n.onRemove(r[a].spec),r.splice(a--,1));return r.length||s.length?new li(r,s):cn}function hl(e,t){return e.from-t.from||e.to-t.to}function x0(e){let t=e;for(let i=0;i<t.length-1;i++){let n=t[i];if(n.from!=n.to)for(let s=i+1;s<t.length;s++){let o=t[s];if(o.from==n.from){o.to!=n.to&&(t==e&&(t=e.slice()),t[s]=o.copy(o.from,n.to),Zk(t,s+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==e&&(t=e.slice()),t[i]=n.copy(n.from,o.from),Zk(t,s,n.copy(o.from,n.to)));break}}}return t}function Zk(e,t,i){for(;t<e.length&&hl(i,e[t])>0;)t++;e.splice(t,0,i)}function gb(e){let t=[];return e.someProp("decorations",i=>{let n=i(e.state);n&&n!=cn&&t.push(n)}),e.cursorWrapper&&t.push(li.create(e.state.doc,[e.cursorWrapper.deco])),ta.from(t)}const Zme={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Xme=Hn&&ga<=11;class Qme{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class ege{constructor(t,i){this.view=t,this.handleDOMChange=i,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Qme,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Hn&&ga<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Xme&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Zme)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let i=0;i<t.length;i++)this.queue.push(t[i]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(jk(this.view)){if(this.suppressingSelectionUpdates)return vr(this.view);if(Hn&&ga<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Sl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let i=new Set,n;for(let o=t.focusNode;o;o=$u(o))i.add(o);for(let o=t.anchorNode;o;o=$u(o))if(i.has(o)){n=o;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let i=this.pendingRecords();i.length&&(this.queue=[]);let n=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&jk(t)&&!this.ignoreSelectionChange(n),o=-1,r=-1,a=!1,l=[];if(t.editable)for(let u=0;u<i.length;u++){let h=this.registerMutation(i[u],l);h&&(o=o<0?h.from:Math.min(h.from,o),r=r<0?h.to:Math.max(h.to,r),h.typeOver&&(a=!0))}if(eo&&l.length){let u=l.filter(h=>h.nodeName=="BR");if(u.length==2){let[h,m]=u;h.parentNode&&h.parentNode.parentNode==m.parentNode?m.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let m of u){let g=m.parentNode;g&&g.nodeName=="LI"&&(!h||nge(t,h)!=g)&&m.remove()}}}let c=null;o<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Zm(n)&&(c=_0(t))&&c.eq(ot.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,vr(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||s)&&(o>-1&&(t.docView.markDirty(o,r),tge(t)),this.handleDOMChange(o,r,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||vr(t),this.currentSelection.set(n))}registerMutation(t,i){if(i.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let h=t.addedNodes[u];i.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let s=t.previousSibling,o=t.nextSibling;if(Hn&&ga<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:h,nextSibling:m}=t.addedNodes[u];(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(s=h),(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(o=m)}let r=s&&s.parentNode==t.target?Yi(s)+1:0,a=n.localPosFromDOM(t.target,r,-1),l=o&&o.parentNode==t.target?Yi(o):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Xk=new WeakMap,Qk=!1;function tge(e){if(!Xk.has(e)&&(Xk.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=eo,Qk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Qk=!0}}function eA(e,t){let i=t.startContainer,n=t.startOffset,s=t.endContainer,o=t.endOffset,r=e.domAtPos(e.state.selection.anchor);return Sl(r.node,r.offset,s,o)&&([i,n,s,o]=[s,o,i,n]),{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:o}}function ige(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return eA(e,s)}let i;function n(s){s.preventDefault(),s.stopImmediatePropagation(),i=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),i?eA(e,i):null}function nge(e,t){for(let i=t.parentNode;i&&i!=e.dom;i=i.parentNode){let n=e.docView.nearestDesc(i,!0);if(n&&n.node.isBlock)return i}return null}function sge(e,t,i){let{node:n,fromOffset:s,toOffset:o,from:r,to:a}=e.docView.parseRange(t,i),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Zm(l)||c.push({node:l.focusNode,offset:l.focusOffset})),hn&&e.input.lastKeyCode===8)for(let w=o;w>s;w--){let A=n.childNodes[w-1],L=A.pmViewDesc;if(A.nodeName=="BR"&&!L){o=w;break}if(!L||L.size)break}let h=e.state.doc,m=e.someProp("domParser")||ma.fromSchema(e.state.schema),g=h.resolve(r),v=null,_=m.parse(n,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:o,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:oge,context:g});if(c&&c[0].pos!=null){let w=c[0].pos,A=c[1]&&c[1].pos;A==null&&(A=w),v={anchor:w+r,head:A+r}}return{doc:_,sel:v,from:r,to:a}}function oge(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(An&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let i=document.createElement("div");return i.appendChild(document.createElement("li")),{skip:i}}else if(e.parentNode.lastChild==e||An&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const rge=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function age(e,t,i,n,s){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let j=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,V=_0(e,j);if(V&&!e.state.selection.eq(V)){if(hn&&hr&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",Z=>Z(e,Za(13,"Enter"))))return;let z=e.state.tr.setSelection(V);j=="pointer"?z.setMeta("pointer",!0):j=="key"&&z.scrollIntoView(),o&&z.setMeta("composition",o),e.dispatch(z)}return}let r=e.state.doc.resolve(t),a=r.sharedDepth(i);t=r.before(a+1),i=e.state.doc.resolve(i).after(a+1);let l=e.state.selection,c=sge(e,t,i),u=e.state.doc,h=u.slice(c.from,c.to),m,g;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(m=e.state.selection.to,g="end"):(m=e.state.selection.from,g="start"),e.input.lastKeyCode=null;let v=dge(h.content,c.doc.content,c.from,m,g);if(v&&e.input.domChangeCount++,(Hc&&e.input.lastIOSEnter>Date.now()-225||hr)&&s.some(j=>j.nodeType==1&&!rge.test(j.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",j=>j(e,Za(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(n&&l instanceof Ye&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let j=tA(e,e.state.doc,c.sel);if(j&&!j.eq(e.state.selection)){let V=e.state.tr.setSelection(j);o&&V.setMeta("composition",o),e.dispatch(V)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof Ye&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),Hn&&ga<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>c.from&&c.doc.textBetween(v.start-c.from-1,v.start-c.from+1)==" "&&(v.start--,v.endA--,v.endB--);let _=c.doc.resolveNoCache(v.start-c.from),w=c.doc.resolveNoCache(v.endB-c.from),A=u.resolve(v.start),L=_.sameParent(w)&&_.parent.inlineContent&&A.end()>=v.endA,N;if((Hc&&e.input.lastIOSEnter>Date.now()-225&&(!L||s.some(j=>j.nodeName=="DIV"||j.nodeName=="P"))||!L&&_.pos<c.doc.content.size&&!_.sameParent(w)&&(N=ot.findFrom(c.doc.resolve(_.pos+1),1,!0))&&N.head==w.pos)&&e.someProp("handleKeyDown",j=>j(e,Za(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&cge(u,v.start,v.endA,_,w)&&e.someProp("handleKeyDown",j=>j(e,Za(8,"Backspace")))){hr&&hn&&e.domObserver.suppressSelectionUpdates();return}hn&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),hr&&!L&&_.start()!=w.start()&&w.parentOffset==0&&_.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==v.endA&&(v.endB-=2,w=c.doc.resolveNoCache(v.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(j){return j(e,Za(13,"Enter"))})},20));let M=v.start,P=v.endA,F,K,se;if(L){if(_.pos==w.pos)Hn&&ga<=11&&_.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>vr(e),20)),F=e.state.tr.delete(M,P),K=u.resolve(v.start).marksAcross(u.resolve(v.endA));else if(v.endA==v.endB&&(se=lge(_.parent.content.cut(_.parentOffset,w.parentOffset),A.parent.content.cut(A.parentOffset,v.endA-A.start()))))F=e.state.tr,se.type=="add"?F.addMark(M,P,se.mark):F.removeMark(M,P,se.mark);else if(_.parent.child(_.index()).isText&&_.index()==w.index()-(w.textOffset?0:1)){let j=_.parent.textBetween(_.parentOffset,w.parentOffset);if(e.someProp("handleTextInput",V=>V(e,M,P,j)))return;F=e.state.tr.insertText(j,M,P)}}if(F||(F=e.state.tr.replace(M,P,c.doc.slice(v.start-c.from,v.endB-c.from))),c.sel){let j=tA(e,F.doc,c.sel);j&&!(hn&&e.composing&&j.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(j.head==M||j.head==F.mapping.map(P)-1)||Hn&&j.empty&&j.head==M)&&F.setSelection(j)}K&&F.ensureMarks(K),o&&F.setMeta("composition",o),e.dispatch(F.scrollIntoView())}function tA(e,t,i){return Math.max(i.anchor,i.head)>t.content.size?null:w0(e,t.resolve(i.anchor),t.resolve(i.head))}function lge(e,t){let i=e.firstChild.marks,n=t.firstChild.marks,s=i,o=n,r,a,l;for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);for(let u=0;u<i.length;u++)o=i[u].removeFromSet(o);if(s.length==1&&o.length==0)a=s[0],r="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&o.length==1)a=o[0],r="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(me.from(c).eq(e))return{mark:a,type:r}}function cge(e,t,i,n,s){if(i-t<=s.pos-n.pos||bb(n,!0,!1)<s.pos)return!1;let o=e.resolve(t);if(!n.parent.isTextblock){let a=o.nodeAfter;return a!=null&&i==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let r=e.resolve(bb(o,!0,!0));return!r.parent.isTextblock||r.pos>i||bb(r,!0,!1)<i?!1:n.parent.content.cut(n.parentOffset).eq(r.parent.content)}function bb(e,t,i){let n=e.depth,s=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,s++,t=!1;if(i){let o=e.node(n).maybeChild(e.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function dge(e,t,i,n,s){let o=e.findDiffStart(t,i);if(o==null)return null;let{a:r,b:a}=e.findDiffEnd(t,i+e.size,i+t.size);if(s=="end"){let l=Math.max(0,o-Math.min(r,a));n-=r+l-o}if(r<o&&e.size<t.size){let l=n<=o&&n>=r?o-n:0;o-=l,o&&o<t.size&&iA(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-r),r=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<e.size&&iA(e.textBetween(o-1,o+1))&&(o+=l?1:-1),r=o+(r-a),a=o}return{start:o,endA:r,endB:a}}function iA(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),i=e.charCodeAt(1);return t>=56320&&t<=57343&&i>=55296&&i<=56319}class uge{constructor(t,i){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Eme,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=i,this.state=i.state,this.directPlugins=i.plugins||[],this.directPlugins.forEach(aA),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=oA(this),sA(this),this.nodeViews=rA(this),this.docView=Hk(this.state.doc,nA(this),gb(this),this.dom,this),this.domObserver=new ege(this,(n,s,o,r)=>age(this,n,s,o,r)),this.domObserver.start(),Ime(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let i in t)this._props[i]=t[i];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Gy(this);let i=this._props;this._props=t,t.plugins&&(t.plugins.forEach(aA),this.directPlugins=t.plugins),this.updateStateInner(t.state,i)}setProps(t){let i={};for(let n in this._props)i[n]=this._props[n];i.state=this.state;for(let n in t)i[n]=t[n];this.update(i)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,i){var n;let s=this.state,o=!1,r=!1;t.storedMarks&&this.composing&&(TM(this),r=!0),this.state=t;let a=s.plugins!=t.plugins||this._props.plugins!=i.plugins;if(a||this._props.plugins!=i.plugins||this._props.nodeViews!=i.nodeViews){let g=rA(this);fge(g,this.nodeViews)&&(this.nodeViews=g,o=!0)}(a||i.handleDOMEvents!=this._props.handleDOMEvents)&&Gy(this),this.editable=oA(this),sA(this);let l=gb(this),c=nA(this),u=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=o||!this.docView.matchesNode(t.doc,c,l);(h||!t.selection.eq(s.selection))&&(r=!0);let m=u=="preserve"&&r&&this.dom.style.overflowAnchor==null&&Wpe(this);if(r){this.domObserver.stop();let g=h&&(Hn||hn)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&hge(s.selection,t.selection);if(h){let v=hn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ume(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Hk(t.doc,c,l,this.dom,this)),v&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&mme(this))?vr(this,g):(mM(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():m&&qpe(m)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",i=>i(this)))if(this.state.selection instanceof Ke){let i=this.docView.domAfterPos(this.state.selection.from);i.nodeType==1&&Ik(this,i.getBoundingClientRect(),t)}else Ik(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let i=0;i<this.directPlugins.length;i++){let n=this.directPlugins[i];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let i=0;i<this.state.plugins.length;i++){let n=this.state.plugins[i];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let i=0;i<this.pluginViews.length;i++){let n=this.pluginViews[i];n.update&&n.update(this,t)}}updateDraggedNode(t,i){let n=t.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let o=n.from+(this.state.doc.content.size-i.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(s=o)}this.dragging=new EM(t.slice,t.move,s<0?void 0:Ke.create(this.state.doc,s))}someProp(t,i){let n=this._props&&this._props[t],s;if(n!=null&&(s=i?i(n):n))return s;for(let r=0;r<this.directPlugins.length;r++){let a=this.directPlugins[r].props[t];if(a!=null&&(s=i?i(a):a))return s}let o=this.state.plugins;if(o)for(let r=0;r<o.length;r++){let a=o[r].props[t];if(a!=null&&(s=i?i(a):a))return s}}hasFocus(){if(Hn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Kpe(this.dom),vr(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let i=this.dom.parentNode;i;i=i.parentNode)if(i.nodeType==9||i.nodeType==11&&i.host)return i.getSelection||(Object.getPrototypeOf(i).getSelection=()=>i.ownerDocument.getSelection()),this._root=i}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Xpe(this,t)}coordsAtPos(t,i=1){return aM(this,t,i)}domAtPos(t,i=0){return this.docView.domFromPos(t,i)}nodeDOM(t){let i=this.docView.descAt(t);return i?i.nodeDOM:null}posAtDOM(t,i,n=-1){let s=this.docView.posFromDOM(t,i,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,i){return nme(this,i||this.state,t)}pasteHTML(t,i){return Pu(this,"",t,!1,i||new ClipboardEvent("paste"))}pasteText(t,i){return Pu(this,t,null,!0,i||new ClipboardEvent("paste"))}destroy(){this.docView&&($me(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],gb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Ppe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Pme(this,t)}dispatch(t){let i=this._props.dispatchTransaction;i?i.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?An&&this.root.nodeType===11&&zpe(this.dom.ownerDocument)==this.dom&&ige(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function nA(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",i=>{if(typeof i=="function"&&(i=i(e.state)),i)for(let n in i)n=="class"?t.class+=" "+i[n]:n=="style"?t.style=(t.style?t.style+";":"")+i[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(i[n]))}),t.translate||(t.translate="no"),[fn.node(0,e.state.doc.content.size,t)]}function sA(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:fn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function oA(e){return!e.someProp("editable",t=>t(e.state)===!1)}function hge(e,t){let i=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(i)!=t.$anchor.start(i)}function rA(e){let t=Object.create(null);function i(n){for(let s in n)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=n[s])}return e.someProp("nodeViews",i),e.someProp("markViews",i),t}function fge(e,t){let i=0,n=0;for(let s in e){if(e[s]!=t[s])return!0;i++}for(let s in t)n++;return i!=n}function aA(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ca={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},pge=typeof navigator<"u"&&/Mac/.test(navigator.platform),mge=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Zi=0;Zi<10;Zi++)Ca[48+Zi]=Ca[96+Zi]=String(Zi);for(var Zi=1;Zi<=24;Zi++)Ca[Zi+111]="F"+Zi;for(var Zi=65;Zi<=90;Zi++)Ca[Zi]=String.fromCharCode(Zi+32),Gp[Zi]=String.fromCharCode(Zi);for(var yb in Ca)Gp.hasOwnProperty(yb)||(Gp[yb]=Ca[yb]);function gge(e){var t=pge&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||mge&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",i=!t&&e.key||(e.shiftKey?Gp:Ca)[e.keyCode]||e.key||"Unidentified";return i=="Esc"&&(i="Escape"),i=="Del"&&(i="Delete"),i=="Left"&&(i="ArrowLeft"),i=="Up"&&(i="ArrowUp"),i=="Right"&&(i="ArrowRight"),i=="Down"&&(i="ArrowDown"),i}const bge=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function yge(e){let t=e.split(/-(?!$)/),i=t[t.length-1];i=="Space"&&(i=" ");let n,s,o,r;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))r=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))bge?r=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),r&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function vge(e){let t=Object.create(null);for(let i in e)t[yge(i)]=e[i];return t}function vb(e,t,i=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),i&&t.shiftKey&&(e="Shift-"+e),e}function _ge(e){return new bi({props:{handleKeyDown:M0(e)}})}function M0(e){let t=vge(e);return function(i,n){let s=gge(n),o,r=t[vb(s,n)];if(r&&r(i.state,i.dispatch,i))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let a=t[vb(s,n,!1)];if(a&&a(i.state,i.dispatch,i))return!0}if((n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(o=Ca[n.keyCode])&&o!=s){let a=t[vb(o,n)];if(a&&a(i.state,i.dispatch,i))return!0}}return!1}}const T0=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function DM(e,t){let{$cursor:i}=e.selection;return!i||(t?!t.endOfTextblock("backward",e):i.parentOffset>0)?null:i}const RM=(e,t,i)=>{let n=DM(e,i);if(!n)return!1;let s=O0(n);if(!s){let r=n.blockRange(),a=r&&nd(r);return a==null?!1:(t&&t(e.tr.lift(r,a).scrollIntoView()),!0)}let o=s.nodeBefore;if(WM(e,s,t,-1))return!0;if(n.parent.content.size==0&&(Vc(o,"end")||Ke.isSelectable(o)))for(let r=n.depth;;r--){let a=Jm(e.doc,n.before(r),n.after(r),Ee.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(Vc(o,"end")?ot.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):Ke.create(l.doc,s.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(r==1||n.node(r-1).childCount>1)break}return o.isAtom&&s.depth==n.depth-1?(t&&t(e.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},wge=(e,t,i)=>{let n=DM(e,i);if(!n)return!1;let s=O0(n);return s?HM(e,s,t):!1},Cge=(e,t,i)=>{let n=zM(e,i);if(!n)return!1;let s=E0(n);return s?HM(e,s,t):!1};function HM(e,t,i){let n=t.nodeBefore,s=n,o=t.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let r=t.nodeAfter,a=r,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Jm(e.doc,o,l,Ee.empty);if(!c||c.from!=o||c instanceof zi&&c.slice.size>=l-o)return!1;if(i){let u=e.tr.step(c);u.setSelection(Ye.create(u.doc,o)),i(u.scrollIntoView())}return!0}function Vc(e,t,i=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(i&&n.childCount!=1)return!1}return!1}const VM=(e,t,i)=>{let{$head:n,empty:s}=e.selection,o=n;if(!s)return!1;if(n.parent.isTextblock){if(i?!i.endOfTextblock("backward",e):n.parentOffset>0)return!1;o=O0(n)}let r=o&&o.nodeBefore;return!r||!Ke.isSelectable(r)?!1:(t&&t(e.tr.setSelection(Ke.create(e.doc,o.pos-r.nodeSize)).scrollIntoView()),!0)};function O0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function zM(e,t){let{$cursor:i}=e.selection;return!i||(t?!t.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)?null:i}const NM=(e,t,i)=>{let n=zM(e,i);if(!n)return!1;let s=E0(n);if(!s)return!1;let o=s.nodeAfter;if(WM(e,s,t,1))return!0;if(n.parent.content.size==0&&(Vc(o,"start")||Ke.isSelectable(o))){let r=Jm(e.doc,n.before(),n.after(),Ee.empty);if(r&&r.slice.size<r.to-r.from){if(t){let a=e.tr.step(r);a.setSelection(Vc(o,"start")?ot.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):Ke.create(a.doc,a.mapping.map(s.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&s.depth==n.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},BM=(e,t,i)=>{let{$head:n,empty:s}=e.selection,o=n;if(!s)return!1;if(n.parent.isTextblock){if(i?!i.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;o=E0(n)}let r=o&&o.nodeAfter;return!r||!Ke.isSelectable(r)?!1:(t&&t(e.tr.setSelection(Ke.create(e.doc,o.pos)).scrollIntoView()),!0)};function E0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let i=e.node(t);if(e.index(t)+1<i.childCount)return e.doc.resolve(e.after(t+1));if(i.type.spec.isolating)break}return null}const kge=(e,t)=>{let i=e.selection,n=i instanceof Ke,s;if(n){if(i.node.isTextblock||!xa(e.doc,i.from))return!1;s=i.from}else if(s=Gm(e.doc,i.from,-1),s==null)return!1;if(t){let o=e.tr.join(s);n&&o.setSelection(Ke.create(o.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},Age=(e,t)=>{let i=e.selection,n;if(i instanceof Ke){if(i.node.isTextblock||!xa(e.doc,i.to))return!1;n=i.to}else if(n=Gm(e.doc,i.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},Sge=(e,t)=>{let{$from:i,$to:n}=e.selection,s=i.blockRange(n),o=s&&nd(s);return o==null?!1:(t&&t(e.tr.lift(s,o).scrollIntoView()),!0)},FM=(e,t)=>{let{$head:i,$anchor:n}=e.selection;return!i.parent.type.spec.code||!i.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function I0(e){for(let t=0;t<e.edgeCount;t++){let{type:i}=e.edge(t);if(i.isTextblock&&!i.hasRequiredAttrs())return i}return null}const xge=(e,t)=>{let{$head:i,$anchor:n}=e.selection;if(!i.parent.type.spec.code||!i.sameParent(n))return!1;let s=i.node(-1),o=i.indexAfter(-1),r=I0(s.contentMatchAt(o));if(!r||!s.canReplaceWith(o,o,r))return!1;if(t){let a=i.after(),l=e.tr.replaceWith(a,a,r.createAndFill());l.setSelection(ot.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},jM=(e,t)=>{let i=e.selection,{$from:n,$to:s}=i;if(i instanceof rs||n.parent.inlineContent||s.parent.inlineContent)return!1;let o=I0(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let r=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,a=e.tr.insert(r,o.createAndFill());a.setSelection(Ye.create(a.doc,r+1)),t(a.scrollIntoView())}return!0},UM=(e,t)=>{let{$cursor:i}=e.selection;if(!i||i.parent.content.size)return!1;if(i.depth>1&&i.after()!=i.end(-1)){let o=i.before();if(yr(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let n=i.blockRange(),s=n&&nd(n);return s==null?!1:(t&&t(e.tr.lift(n,s).scrollIntoView()),!0)};function Mge(e){return(t,i)=>{let{$from:n,$to:s}=t.selection;if(t.selection instanceof Ke&&t.selection.node.isBlock)return!n.parentOffset||!yr(t.doc,n.pos)?!1:(i&&i(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],r,a,l=!1,c=!1;for(let g=n.depth;;g--)if(n.node(g).isBlock){l=n.end(g)==n.pos+(n.depth-g),c=n.start(g)==n.pos-(n.depth-g),a=I0(n.node(g-1).contentMatchAt(n.indexAfter(g-1))),o.unshift(l&&a?{type:a}:null),r=g;break}else{if(g==1)return!1;o.unshift(null)}let u=t.tr;(t.selection instanceof Ye||t.selection instanceof rs)&&u.deleteSelection();let h=u.mapping.map(n.pos),m=yr(u.doc,h,o.length,o);if(m||(o[0]=a?{type:a}:null,m=yr(u.doc,h,o.length,o)),u.split(h,o.length,o),!l&&c&&n.node(r).type!=a){let g=u.mapping.map(n.before(r)),v=u.doc.resolve(g);a&&n.node(r-1).canReplaceWith(v.index(),v.index()+1,a)&&u.setNodeMarkup(u.mapping.map(n.before(r)),a)}return i&&i(u.scrollIntoView()),!0}}const Tge=Mge(),Oge=(e,t)=>{let{$from:i,to:n}=e.selection,s,o=i.sharedDepth(n);return o==0?!1:(s=i.before(o),t&&t(e.tr.setSelection(Ke.create(e.doc,s))),!0)};function Ege(e,t,i){let n=t.nodeBefore,s=t.nodeAfter,o=t.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(i&&i(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(s.isTextblock||xa(e.doc,t.pos))?!1:(i&&i(e.tr.join(t.pos).scrollIntoView()),!0)}function WM(e,t,i,n){let s=t.nodeBefore,o=t.nodeAfter,r,a,l=s.type.spec.isolating||o.type.spec.isolating;if(!l&&Ege(e,t,i))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(r=(a=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&a.matchType(r[0]||o.type).validEnd){if(i){let g=t.pos+o.nodeSize,v=me.empty;for(let A=r.length-1;A>=0;A--)v=me.from(r[A].create(null,v));v=me.from(s.copy(v));let _=e.tr.step(new Ni(t.pos-1,g,t.pos,g,new Ee(v,1,0),r.length,!0)),w=_.doc.resolve(g+2*r.length);w.nodeAfter&&w.nodeAfter.type==s.type&&xa(_.doc,w.pos)&&_.join(w.pos),i(_.scrollIntoView())}return!0}let u=o.type.spec.isolating||n>0&&l?null:ot.findFrom(t,1),h=u&&u.$from.blockRange(u.$to),m=h&&nd(h);if(m!=null&&m>=t.depth)return i&&i(e.tr.lift(h,m).scrollIntoView()),!0;if(c&&Vc(o,"start",!0)&&Vc(s,"end")){let g=s,v=[];for(;v.push(g),!g.isTextblock;)g=g.lastChild;let _=o,w=1;for(;!_.isTextblock;_=_.firstChild)w++;if(g.canReplace(g.childCount,g.childCount,_.content)){if(i){let A=me.empty;for(let N=v.length-1;N>=0;N--)A=me.from(v[N].copy(A));let L=e.tr.step(new Ni(t.pos-v.length,t.pos+o.nodeSize,t.pos+w,t.pos+o.nodeSize-w,new Ee(A,v.length,0),0,!0));i(L.scrollIntoView())}return!0}}return!1}function qM(e){return function(t,i){let n=t.selection,s=e<0?n.$from:n.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(i&&i(t.tr.setSelection(Ye.create(t.doc,e<0?s.start(o):s.end(o)))),!0):!1}}const Ige=qM(-1),$ge=qM(1);function Lge(e,t=null){return function(i,n){let{$from:s,$to:o}=i.selection,r=s.blockRange(o),a=r&&g0(r,e,t);return a?(n&&n(i.tr.wrap(r,a).scrollIntoView()),!0):!1}}function lA(e,t=null){return function(i,n){let s=!1;for(let o=0;o<i.selection.ranges.length&&!s;o++){let{$from:{pos:r},$to:{pos:a}}=i.selection.ranges[o];i.doc.nodesBetween(r,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)s=!0;else{let u=i.doc.resolve(c),h=u.index();s=u.parent.canReplaceWith(h,h+1,e)}})}if(!s)return!1;if(n){let o=i.tr;for(let r=0;r<i.selection.ranges.length;r++){let{$from:{pos:a},$to:{pos:l}}=i.selection.ranges[r];o.setBlockType(a,l,e,t)}n(o.scrollIntoView())}return!0}}function $0(...e){return function(t,i,n){for(let s=0;s<e.length;s++)if(e[s](t,i,n))return!0;return!1}}$0(T0,RM,VM);$0(T0,NM,BM);$0(FM,jM,UM,Tge);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Pge(e,t=null){return function(i,n){let{$from:s,$to:o}=i.selection,r=s.blockRange(o);if(!r)return!1;let a=n?i.tr:null;return Dge(a,r,e,t)?(n&&n(a.scrollIntoView()),!0):!1}}function Dge(e,t,i,n=null){let s=!1,o=t,r=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(i)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=r.resolve(t.start-2);o=new Bp(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Bp(t.$from,r.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let a=g0(o,i,n,t);return a?(e&&Rge(e,t,a,s,i),!0):!1}function Rge(e,t,i,n,s){let o=me.empty;for(let u=i.length-1;u>=0;u--)o=me.from(i[u].type.create(i[u].attrs,o));e.step(new Ni(t.start-(n?2:0),t.end,t.start,t.end,new Ee(o,0,0),i.length,!0));let r=0;for(let u=0;u<i.length;u++)i[u].type==s&&(r=u+1);let a=i.length-r,l=t.start+i.length-(n?2:0),c=t.parent;for(let u=t.startIndex,h=t.endIndex,m=!0;u<h;u++,m=!1)!m&&yr(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return e}function Hge(e){return function(t,i){let{$from:n,$to:s}=t.selection,o=n.blockRange(s,r=>r.childCount>0&&r.firstChild.type==e);return o?i?n.node(o.depth-1).type==e?Vge(t,i,e,o):zge(t,i,o):!0:!1}}function Vge(e,t,i,n){let s=e.tr,o=n.end,r=n.$to.end(n.depth);o<r&&(s.step(new Ni(o-1,r,o,r,new Ee(me.from(i.create(null,n.parent.copy())),1,0),1,!0)),n=new Bp(s.doc.resolve(n.$from.pos),s.doc.resolve(r),n.depth));const a=nd(n);if(a==null)return!1;s.lift(n,a);let l=s.mapping.map(o,-1)-1;return xa(s.doc,l)&&s.join(l),t(s.scrollIntoView()),!0}function zge(e,t,i){let n=e.tr,s=i.parent;for(let g=i.end,v=i.endIndex-1,_=i.startIndex;v>_;v--)g-=s.child(v).nodeSize,n.delete(g-1,g+1);let o=n.doc.resolve(i.start),r=o.nodeAfter;if(n.mapping.map(i.end)!=i.start+o.nodeAfter.nodeSize)return!1;let a=i.startIndex==0,l=i.endIndex==s.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,r.content.append(l?me.empty:me.from(s))))return!1;let h=o.pos,m=h+r.nodeSize;return n.step(new Ni(h-(a?1:0),m+(l?1:0),h+1,m-1,new Ee((a?me.empty:me.from(s.copy(me.empty))).append(l?me.empty:me.from(s.copy(me.empty))),a?0:1,l?0:1),a?0:1)),t(n.scrollIntoView()),!0}function Nge(e){return function(t,i){let{$from:n,$to:s}=t.selection,o=n.blockRange(s,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let r=o.startIndex;if(r==0)return!1;let a=o.parent,l=a.child(r-1);if(l.type!=e)return!1;if(i){let c=l.lastChild&&l.lastChild.type==a.type,u=me.from(c?e.create():null),h=new Ee(me.from(e.create(null,me.from(a.type.create(null,u)))),c?3:1,0),m=o.start,g=o.end;i(t.tr.step(new Ni(m-(c?3:1),g,m,g,h,1,!0)).scrollIntoView())}return!0}}function eg(e){const{state:t,transaction:i}=e;let{selection:n}=i,{doc:s}=i,{storedMarks:o}=i;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return n},get doc(){return s},get tr(){return n=i.selection,s=i.doc,o=i.storedMarks,i}}}class tg{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:i,state:n}=this,{view:s}=i,{tr:o}=n,r=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...u)=>{const h=l(...u)(r);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,i=!0){const{rawCommands:n,editor:s,state:o}=this,{view:r}=s,a=[],l=!!t,c=t||o.tr,u=()=>(!l&&i&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(c),a.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(n).map(([m,g])=>[m,(..._)=>{const w=this.buildProps(c,i),A=g(..._)(w);return a.push(A),h}])),run:u};return h}createCan(t){const{rawCommands:i,state:n}=this,s=!1,o=t||n.tr,r=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(i).map(([l,c])=>[l,(...u)=>c(...u)({...r,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(t,i=!0){const{rawCommands:n,editor:s,state:o}=this,{view:r}=s,a={tr:t,editor:s,view:r,state:eg({state:o,transaction:t}),dispatch:i?()=>{}:void 0,chain:()=>this.createChain(t,i),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}let Bge=class{constructor(){this.callbacks={}}on(t,i){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(i),this}emit(t,...i){const n=this.callbacks[t];return n&&n.forEach(s=>s.apply(this,i)),this}off(t,i){const n=this.callbacks[t];return n&&(i?this.callbacks[t]=n.filter(s=>s!==i):delete this.callbacks[t]),this}once(t,i){const n=(...s)=>{this.off(t,n),i.apply(this,s)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function Be(e,t,i){return e.config[t]===void 0&&e.parent?Be(e.parent,t,i):typeof e.config[t]=="function"?e.config[t].bind({...i,parent:e.parent?Be(e.parent,t,i):null}):e.config[t]}function ig(e){const t=e.filter(s=>s.type==="extension"),i=e.filter(s=>s.type==="node"),n=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:i,markExtensions:n}}function KM(e){const t=[],{nodeExtensions:i,markExtensions:n}=ig(e),s=[...i,...n],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(r=>{const a={name:r.name,options:r.options,storage:r.storage,extensions:s},l=Be(r,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(h=>{Object.entries(u.attributes).forEach(([m,g])=>{t.push({type:h,name:m,attribute:{...o,...g}})})})})}),s.forEach(r=>{const a={name:r.name,options:r.options,storage:r.storage},l=Be(r,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,h])=>{const m={...o,...h};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,t.push({type:r.name,name:u,attribute:m})})}),t}function Fi(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function qt(...e){return e.filter(t=>!!t).reduce((t,i)=>{const n={...t};return Object.entries(i).forEach(([s,o])=>{if(!n[s]){n[s]=o;return}if(s==="class"){const a=o?o.split(" "):[],l=n[s]?n[s].split(" "):[],c=a.filter(u=>!l.includes(u));n[s]=[...l,...c].join(" ")}else if(s==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=n[s]?n[s].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[h,m]=u.split(":").map(g=>g.trim());c.set(h,m)}),a.forEach(u=>{const[h,m]=u.split(":").map(g=>g.trim());c.set(h,m)}),n[s]=Array.from(c.entries()).map(([u,h])=>`${u}: ${h}`).join("; ")}else n[s]=o}),n},{})}function Jy(e,t){return t.filter(i=>i.type===e.type.name).filter(i=>i.attribute.rendered).map(i=>i.attribute.renderHTML?i.attribute.renderHTML(e.attrs)||{}:{[i.name]:e.attrs[i.name]}).reduce((i,n)=>qt(i,n),{})}function GM(e){return typeof e=="function"}function Ct(e,t=void 0,...i){return GM(e)?t?e.bind(t)(...i):e(...i):e}function Fge(e={}){return Object.keys(e).length===0&&e.constructor===Object}function jge(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function cA(e,t){return"style"in e?e:{...e,getAttrs:i=>{const n=e.getAttrs?e.getAttrs(i):e.attrs;if(n===!1)return!1;const s=t.reduce((o,r)=>{const a=r.attribute.parseHTML?r.attribute.parseHTML(i):jge(i.getAttribute(r.name));return a==null?o:{...o,[r.name]:a}},{});return{...n,...s}}}}function dA(e){return Object.fromEntries(Object.entries(e).filter(([t,i])=>t==="attrs"&&Fge(i)?!1:i!=null))}function Uge(e,t){var i;const n=KM(e),{nodeExtensions:s,markExtensions:o}=ig(e),r=(i=s.find(c=>Be(c,"topNode")))===null||i===void 0?void 0:i.name,a=Object.fromEntries(s.map(c=>{const u=n.filter(A=>A.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:t},m=e.reduce((A,L)=>{const N=Be(L,"extendNodeSchema",h);return{...A,...N?N(c):{}}},{}),g=dA({...m,content:Ct(Be(c,"content",h)),marks:Ct(Be(c,"marks",h)),group:Ct(Be(c,"group",h)),inline:Ct(Be(c,"inline",h)),atom:Ct(Be(c,"atom",h)),selectable:Ct(Be(c,"selectable",h)),draggable:Ct(Be(c,"draggable",h)),code:Ct(Be(c,"code",h)),whitespace:Ct(Be(c,"whitespace",h)),linebreakReplacement:Ct(Be(c,"linebreakReplacement",h)),defining:Ct(Be(c,"defining",h)),isolating:Ct(Be(c,"isolating",h)),attrs:Object.fromEntries(u.map(A=>{var L;return[A.name,{default:(L=A==null?void 0:A.attribute)===null||L===void 0?void 0:L.default}]}))}),v=Ct(Be(c,"parseHTML",h));v&&(g.parseDOM=v.map(A=>cA(A,u)));const _=Be(c,"renderHTML",h);_&&(g.toDOM=A=>_({node:A,HTMLAttributes:Jy(A,u)}));const w=Be(c,"renderText",h);return w&&(g.toText=w),[c.name,g]})),l=Object.fromEntries(o.map(c=>{const u=n.filter(w=>w.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:t},m=e.reduce((w,A)=>{const L=Be(A,"extendMarkSchema",h);return{...w,...L?L(c):{}}},{}),g=dA({...m,inclusive:Ct(Be(c,"inclusive",h)),excludes:Ct(Be(c,"excludes",h)),group:Ct(Be(c,"group",h)),spanning:Ct(Be(c,"spanning",h)),code:Ct(Be(c,"code",h)),attrs:Object.fromEntries(u.map(w=>{var A;return[w.name,{default:(A=w==null?void 0:w.attribute)===null||A===void 0?void 0:A.default}]}))}),v=Ct(Be(c,"parseHTML",h));v&&(g.parseDOM=v.map(w=>cA(w,u)));const _=Be(c,"renderHTML",h);return _&&(g.toDOM=w=>_({mark:w,HTMLAttributes:Jy(w,u)})),[c.name,g]}));return new Rx({topNode:r,nodes:a,marks:l})}function _b(e,t){return t.nodes[e]||t.marks[e]||null}function uA(e,t){return Array.isArray(t)?t.some(i=>(typeof i=="string"?i:i.name)===e.name):t}function L0(e,t){const i=Pl.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(i),s.innerHTML}const Wge=(e,t=500)=>{let i="";const n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(s,o,r,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:o,parent:r,index:a}))||s.textContent||"%leaf%";i+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,n-o))}),i};function P0(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class ng{constructor(t){this.find=t.find,this.handler=t.handler}}const qge=(e,t)=>{if(P0(t))return t.exec(e);const i=t(e);if(!i)return null;const n=[i.text];return n.index=i.index,n.input=e,n.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(i.replaceWith)),n};function vf(e){var t;const{editor:i,from:n,to:s,text:o,rules:r,plugin:a}=e,{view:l}=i;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!((t=c.nodeBefore||c.nodeAfter)===null||t===void 0)&&t.marks.find(m=>m.type.spec.code))return!1;let u=!1;const h=Wge(c)+o;return r.forEach(m=>{if(u)return;const g=qge(h,m.find);if(!g)return;const v=l.state.tr,_=eg({state:l.state,transaction:v}),w={from:n-(g[0].length-o.length),to:s},{commands:A,chain:L,can:N}=new tg({editor:i,state:_});m.handler({state:_,range:w,match:g,commands:A,chain:L,can:N})===null||!v.steps.length||(v.setMeta(a,{transform:v,from:n,to:s,text:o}),l.dispatch(v),u=!0)}),u}function Kge(e){const{editor:t,rules:i}=e,n=new bi({state:{init(){return null},apply(s,o,r){const a=s.getMeta(n);if(a)return a;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=L0(me.from(u),r.schema);const{from:h}=l,m=h+u.length;vf({editor:t,from:h,to:m,text:u,rules:i,plugin:n})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,r,a){return vf({editor:t,from:o,to:r,text:a,rules:i,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&vf({editor:t,from:o.pos,to:o.pos,text:"",rules:i,plugin:n})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:r}=s.state.selection;return r?vf({editor:t,from:r.pos,to:r.pos,text:`
`,rules:i,plugin:n}):!1}},isInputRules:!0});return n}function Gge(e){return Object.prototype.toString.call(e).slice(8,-1)}function _f(e){return Gge(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function sg(e,t){const i={...e};return _f(e)&&_f(t)&&Object.keys(t).forEach(n=>{_f(t[n])&&_f(e[n])?i[n]=sg(e[n],t[n]):i[n]=t[n]}),i}class Mn{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(Be(this,"addOptions",{name:this.name}))),this.storage=Ct(Be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Mn(t)}configure(t={}){const i=this.extend({...this.config,addOptions:()=>sg(this.options,t)});return i.name=this.name,i.parent=this.parent,i}extend(t={}){const i=new Mn(t);return i.parent=this,this.child=i,i.name=t.name?t.name:i.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${i.name}".`),i.options=Ct(Be(i,"addOptions",{name:i.name})),i.storage=Ct(Be(i,"addStorage",{name:i.name,options:i.options})),i}static handleExit({editor:t,mark:i}){const{tr:n}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const r=s.marks();if(!!!r.find(c=>(c==null?void 0:c.type.name)===i.name))return!1;const l=r.find(c=>(c==null?void 0:c.type.name)===i.name);return l&&n.removeStoredMark(l),n.insertText(" ",s.pos),t.view.dispatch(n),!0}return!1}}function Jge(e){return typeof e=="number"}class Yge{constructor(t){this.find=t.find,this.handler=t.handler}}const Zge=(e,t,i)=>{if(P0(t))return[...e.matchAll(t)];const n=t(e,i);return n?n.map(s=>{const o=[s.text];return o.index=s.index,o.input=e,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function Xge(e){const{editor:t,state:i,from:n,to:s,rule:o,pasteEvent:r,dropEvent:a}=e,{commands:l,chain:c,can:u}=new tg({editor:t,state:i}),h=[];return i.doc.nodesBetween(n,s,(g,v)=>{if(!g.isTextblock||g.type.spec.code)return;const _=Math.max(n,v),w=Math.min(s,v+g.content.size),A=g.textBetween(_-v,w-v,void 0,"");Zge(A,o.find,r).forEach(N=>{if(N.index===void 0)return;const M=_+N.index+1,P=M+N[0].length,F={from:i.tr.mapping.map(M),to:i.tr.mapping.map(P)},K=o.handler({state:i,range:F,match:N,commands:l,chain:c,can:u,pasteEvent:r,dropEvent:a});h.push(K)})}),h.every(g=>g!==null)}let wf=null;const Qge=e=>{var t;const i=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=i.clipboardData)===null||t===void 0||t.setData("text/html",e),i};function e1e(e){const{editor:t,rules:i}=e;let n=null,s=!1,o=!1,r=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:h,to:m,rule:g,pasteEvt:v})=>{const _=u.tr,w=eg({state:u,transaction:_});if(!(!Xge({editor:t,state:w,from:Math.max(h-1,0),to:m.b-1,rule:g,pasteEvent:v,dropEvent:a})||!_.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return r=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,_}};return i.map(u=>new bi({view(h){const m=v=>{var _;n=!((_=h.dom.parentElement)===null||_===void 0)&&_.contains(v.target)?h.dom.parentElement:null,n&&(wf=t)},g=()=>{wf&&(wf=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(h,m)=>{if(o=n===h.dom.parentElement,a=m,!o){const g=wf;g&&setTimeout(()=>{const v=g.state.selection;v&&g.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(h,m)=>{var g;const v=(g=m.clipboardData)===null||g===void 0?void 0:g.getData("text/html");return r=m,s=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(h,m,g)=>{const v=h[0],_=v.getMeta("uiEvent")==="paste"&&!s,w=v.getMeta("uiEvent")==="drop"&&!o,A=v.getMeta("applyPasteRules"),L=!!A;if(!_&&!w&&!L)return;if(L){let{text:P}=A;typeof P=="string"?P=P:P=L0(me.from(P),g.schema);const{from:F}=A,K=F+P.length,se=Qge(P);return l({rule:u,state:g,from:F,to:{b:K},pasteEvt:se})}const N=m.doc.content.findDiffStart(g.doc.content),M=m.doc.content.findDiffEnd(g.doc.content);if(!(!Jge(N)||!M||N===M.b))return l({rule:u,state:g,from:N,to:M,pasteEvt:r})}}))}function t1e(e){const t=e.filter((i,n)=>e.indexOf(i)!==n);return Array.from(new Set(t))}class wc{constructor(t,i){this.splittableMarks=[],this.editor=i,this.extensions=wc.resolve(t),this.schema=Uge(this.extensions,i),this.setupExtensions()}static resolve(t){const i=wc.sort(wc.flatten(t)),n=t1e(i.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),i}static flatten(t){return t.map(i=>{const n={name:i.name,options:i.options,storage:i.storage},s=Be(i,"addExtensions",n);return s?[i,...this.flatten(s())]:i}).flat(10)}static sort(t){return t.sort((n,s)=>{const o=Be(n,"priority")||100,r=Be(s,"priority")||100;return o>r?-1:o<r?1:0})}get commands(){return this.extensions.reduce((t,i)=>{const n={name:i.name,options:i.options,storage:i.storage,editor:this.editor,type:_b(i.name,this.schema)},s=Be(i,"addCommands",n);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this,i=wc.sort([...this.extensions].reverse()),n=[],s=[],o=i.map(r=>{const a={name:r.name,options:r.options,storage:r.storage,editor:t,type:_b(r.name,this.schema)},l=[],c=Be(r,"addKeyboardShortcuts",a);let u={};if(r.type==="mark"&&Be(r,"exitable",a)&&(u.ArrowRight=()=>Mn.handleExit({editor:t,mark:r})),c){const _=Object.fromEntries(Object.entries(c()).map(([w,A])=>[w,()=>A({editor:t})]));u={...u,..._}}const h=_ge(u);l.push(h);const m=Be(r,"addInputRules",a);uA(r,t.options.enableInputRules)&&m&&n.push(...m());const g=Be(r,"addPasteRules",a);uA(r,t.options.enablePasteRules)&&g&&s.push(...g());const v=Be(r,"addProseMirrorPlugins",a);if(v){const _=v();l.push(..._)}return l}).flat();return[Kge({editor:t,rules:n}),...e1e({editor:t,rules:s}),...o]}get attributes(){return KM(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:i}=ig(this.extensions);return Object.fromEntries(i.filter(n=>!!Be(n,"addNodeView")).map(n=>{const s=this.attributes.filter(l=>l.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t,type:Fi(n.name,this.schema)},r=Be(n,"addNodeView",o);if(!r)return[];const a=(l,c,u,h,m)=>{const g=Jy(l,s);return r()({node:l,view:c,getPos:u,decorations:h,innerDecorations:m,editor:t,extension:n,HTMLAttributes:g})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(t=>{var i;this.editor.extensionStorage[t.name]=t.storage;const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:_b(t.name,this.schema)};t.type==="mark"&&(!((i=Ct(Be(t,"keepOnSplit",n)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(t.name);const s=Be(t,"onBeforeCreate",n),o=Be(t,"onCreate",n),r=Be(t,"onUpdate",n),a=Be(t,"onSelectionUpdate",n),l=Be(t,"onTransaction",n),c=Be(t,"onFocus",n),u=Be(t,"onBlur",n),h=Be(t,"onDestroy",n);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),r&&this.editor.on("update",r),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),h&&this.editor.on("destroy",h)})}}class Oi{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(Be(this,"addOptions",{name:this.name}))),this.storage=Ct(Be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Oi(t)}configure(t={}){const i=this.extend({...this.config,addOptions:()=>sg(this.options,t)});return i.name=this.name,i.parent=this.parent,i}extend(t={}){const i=new Oi({...this.config,...t});return i.parent=this,this.child=i,i.name=t.name?t.name:i.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${i.name}".`),i.options=Ct(Be(i,"addOptions",{name:i.name})),i.storage=Ct(Be(i,"addStorage",{name:i.name,options:i.options})),i}}function JM(e,t,i){const{from:n,to:s}=t,{blockSeparator:o=`

`,textSerializers:r={}}=i||{};let a="";return e.nodesBetween(n,s,(l,c,u,h)=>{var m;l.isBlock&&c>n&&(a+=o);const g=r==null?void 0:r[l.type.name];if(g)return u&&(a+=g({node:l,pos:c,parent:u,index:h,range:t})),!1;l.isText&&(a+=(m=l==null?void 0:l.text)===null||m===void 0?void 0:m.slice(Math.max(n,c)-c,s-c))}),a}function D0(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,i])=>[t,i.spec.toText]))}const i1e=Oi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new bi({key:new Pi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:i}=e,{doc:n,selection:s}=t,{ranges:o}=s,r=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=D0(i);return JM(n,{from:r,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),n1e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var i;e.isDestroyed||(t.dom.blur(),(i=window==null?void 0:window.getSelection())===null||i===void 0||i.removeAllRanges())}),!0),s1e=(e=!1)=>({commands:t})=>t.setContent("",e),o1e=()=>({state:e,tr:t,dispatch:i})=>{const{selection:n}=t,{ranges:s}=n;return i&&s.forEach(({$from:o,$to:r})=>{e.doc.nodesBetween(o.pos,r.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=t,h=c.resolve(u.map(l)),m=c.resolve(u.map(l+a.nodeSize)),g=h.blockRange(m);if(!g)return;const v=nd(g);if(a.type.isTextblock){const{defaultType:_}=h.parent.contentMatchAt(h.index());t.setNodeMarkup(g.start,_)}(v||v===0)&&t.lift(g,v)})}),!0},r1e=e=>t=>e(t),a1e=()=>({state:e,dispatch:t})=>jM(e,t),l1e=(e,t)=>({editor:i,tr:n})=>{const{state:s}=i,o=s.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);const r=n.mapping.map(t);return n.insert(r,o.content),n.setSelection(new Ye(n.doc.resolve(r-1))),!0},c1e=()=>({tr:e,dispatch:t})=>{const{selection:i}=e,n=i.$anchor.node();if(n.content.size>0)return!1;const s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===n.type){if(t){const a=s.before(o),l=s.after(o);e.delete(a,l).scrollIntoView()}return!0}return!1},d1e=e=>({tr:t,state:i,dispatch:n})=>{const s=Fi(e,i.schema),o=t.selection.$anchor;for(let r=o.depth;r>0;r-=1)if(o.node(r).type===s){if(n){const l=o.before(r),c=o.after(r);t.delete(l,c).scrollIntoView()}return!0}return!1},u1e=e=>({tr:t,dispatch:i})=>{const{from:n,to:s}=e;return i&&t.delete(n,s),!0},h1e=()=>({state:e,dispatch:t})=>T0(e,t),f1e=()=>({commands:e})=>e.keyboardShortcut("Enter"),p1e=()=>({state:e,dispatch:t})=>xge(e,t);function Jp(e,t,i={strict:!0}){const n=Object.keys(t);return n.length?n.every(s=>i.strict?t[s]===e[s]:P0(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function YM(e,t,i={}){return e.find(n=>n.type===t&&Jp(Object.fromEntries(Object.keys(i).map(s=>[s,n.attrs[s]])),i))}function hA(e,t,i={}){return!!YM(e,t,i)}function R0(e,t,i){var n;if(!e||!t)return;let s=e.parent.childAfter(e.parentOffset);if((!s.node||!s.node.marks.some(u=>u.type===t))&&(s=e.parent.childBefore(e.parentOffset)),!s.node||!s.node.marks.some(u=>u.type===t)||(i=i||((n=s.node.marks[0])===null||n===void 0?void 0:n.attrs),!YM([...s.node.marks],t,i)))return;let r=s.index,a=e.start()+s.offset,l=r+1,c=a+s.node.nodeSize;for(;r>0&&hA([...e.parent.child(r-1).marks],t,i);)r-=1,a-=e.parent.child(r).nodeSize;for(;l<e.parent.childCount&&hA([...e.parent.child(l).marks],t,i);)c+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Ta(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const m1e=(e,t={})=>({tr:i,state:n,dispatch:s})=>{const o=Ta(e,n.schema),{doc:r,selection:a}=i,{$from:l,from:c,to:u}=a;if(s){const h=R0(l,o,t);if(h&&h.from<=c&&h.to>=u){const m=Ye.create(r,h.from,h.to);i.setSelection(m)}}return!0},g1e=e=>t=>{const i=typeof e=="function"?e(t):e;for(let n=0;n<i.length;n+=1)if(i[n](t))return!0;return!1};function H0(e){return e instanceof Ye}function fr(e=0,t=0,i=0){return Math.min(Math.max(e,t),i)}function ZM(e,t=null){if(!t)return null;const i=ot.atStart(e),n=ot.atEnd(e);if(t==="start"||t===!0)return i;if(t==="end")return n;const s=i.from,o=n.to;return t==="all"?Ye.create(e,fr(0,s,o),fr(e.content.size,s,o)):Ye.create(e,fr(t,s,o),fr(t,s,o))}const b1e=(e=null,t={})=>({editor:i,view:n,tr:s,dispatch:o})=>{t={scrollIntoView:!0,...t};const r=()=>{n.dom.focus(),requestAnimationFrame(()=>{i.isDestroyed||(n.focus(),t!=null&&t.scrollIntoView&&i.commands.scrollIntoView())})};if(n.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!H0(i.state.selection))return r(),!0;const a=ZM(s.doc,e)||i.state.selection,l=i.state.selection.eq(a);return o&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),r()),!0},y1e=(e,t)=>i=>e.every((n,s)=>t(n,{...i,index:s})),v1e=(e,t)=>({tr:i,commands:n})=>n.insertContentAt({from:i.selection.from,to:i.selection.to},e,t),XM=e=>{const t=e.childNodes;for(let i=t.length-1;i>=0;i-=1){const n=t[i];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&XM(n)}return e};function Cf(e){const t=`<body>${e}</body>`,i=new window.DOMParser().parseFromString(t,"text/html").body;return XM(i)}function Yp(e,t,i){if(e instanceof pa||e instanceof me)return e;i={slice:!0,parseOptions:{},...i};const n=typeof e=="object"&&e!==null,s=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return me.fromArray(e.map(a=>t.nodeFromJSON(a)));const r=t.nodeFromJSON(e);return i.errorOnInvalidContent&&r.check(),r}catch(o){if(i.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),Yp("",t,i)}if(s){if(i.errorOnInvalidContent){let r=!1,a="";const l=new Rx({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(r=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(i.slice?ma.fromSchema(l).parseSlice(Cf(e),i.parseOptions):ma.fromSchema(l).parse(Cf(e),i.parseOptions),i.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=ma.fromSchema(t);return i.slice?o.parseSlice(Cf(e),i.parseOptions).content:o.parse(Cf(e),i.parseOptions)}return Yp("",t,i)}function _1e(e,t,i){const n=e.steps.length-1;if(n<t)return;const s=e.steps[n];if(!(s instanceof zi||s instanceof Ni))return;const o=e.mapping.maps[n];let r=0;o.forEach((a,l,c,u)=>{r===0&&(r=u)}),e.setSelection(ot.near(e.doc.resolve(r),i))}const w1e=e=>!("type"in e),C1e=(e,t,i)=>({tr:n,dispatch:s,editor:o})=>{var r;if(s){i={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...i};let a;try{a=Yp(t,o.schema,{parseOptions:{preserveWhitespace:"full",...i.parseOptions},errorOnInvalidContent:(r=i.errorOnInvalidContent)!==null&&r!==void 0?r:o.options.enableContentCheck})}catch(v){return o.emit("contentError",{editor:o,error:v,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},u=!0,h=!0;if((w1e(a)?a:[a]).forEach(v=>{v.check(),u=u?v.isText&&v.marks.length===0:!1,h=h?v.isBlock:!1}),l===c&&h){const{parent:v}=n.doc.resolve(l);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(l-=1,c+=1)}let g;if(u){if(Array.isArray(t))g=t.map(v=>v.text||"").join("");else if(t instanceof me){let v="";t.forEach(_=>{_.text&&(v+=_.text)}),g=v}else typeof t=="object"&&t&&t.text?g=t.text:g=t;n.insertText(g,l,c)}else g=a,n.replaceWith(l,c,g);i.updateSelection&&_1e(n,n.steps.length-1,-1),i.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:g}),i.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:g})}return!0},k1e=()=>({state:e,dispatch:t})=>kge(e,t),A1e=()=>({state:e,dispatch:t})=>Age(e,t),S1e=()=>({state:e,dispatch:t})=>RM(e,t),x1e=()=>({state:e,dispatch:t})=>NM(e,t),M1e=()=>({state:e,dispatch:t,tr:i})=>{try{const n=Gm(e.doc,e.selection.$from.pos,-1);return n==null?!1:(i.join(n,2),t&&t(i),!0)}catch{return!1}},T1e=()=>({state:e,dispatch:t,tr:i})=>{try{const n=Gm(e.doc,e.selection.$from.pos,1);return n==null?!1:(i.join(n,2),t&&t(i),!0)}catch{return!1}},O1e=()=>({state:e,dispatch:t})=>wge(e,t),E1e=()=>({state:e,dispatch:t})=>Cge(e,t);function QM(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function eT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function I1e(e){const t=e.split(/-(?!$)/);let i=t[t.length-1];i==="Space"&&(i=" ");let n,s,o,r;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))r=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))QM()||eT()?r=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(i=`Alt-${i}`),s&&(i=`Ctrl-${i}`),r&&(i=`Meta-${i}`),o&&(i=`Shift-${i}`),i}const $1e=e=>({editor:t,view:i,tr:n,dispatch:s})=>{const o=I1e(e).split(/-(?!$)/),r=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:r==="Space"?" ":r,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{i.someProp("handleKeyDown",c=>c(i,a))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&s&&n.maybeStep(u)}),!0};function Ru(e,t,i={}){const{from:n,to:s,empty:o}=e.selection,r=t?Fi(t,e.schema):null,a=[];e.doc.nodesBetween(n,s,(h,m)=>{if(h.isText)return;const g=Math.max(n,m),v=Math.min(s,m+h.nodeSize);a.push({node:h,from:g,to:v})});const l=s-n,c=a.filter(h=>r?r.name===h.node.type.name:!0).filter(h=>Jp(h.node.attrs,i,{strict:!1}));return o?!!c.length:c.reduce((h,m)=>h+m.to-m.from,0)>=l}const L1e=(e,t={})=>({state:i,dispatch:n})=>{const s=Fi(e,i.schema);return Ru(i,s,t)?Sge(i,n):!1},P1e=()=>({state:e,dispatch:t})=>UM(e,t),D1e=e=>({state:t,dispatch:i})=>{const n=Fi(e,t.schema);return Hge(n)(t,i)},R1e=()=>({state:e,dispatch:t})=>FM(e,t);function og(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function fA(e,t){const i=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,s)=>(i.includes(s)||(n[s]=e[s]),n),{})}const H1e=(e,t)=>({tr:i,state:n,dispatch:s})=>{let o=null,r=null;const a=og(typeof e=="string"?e:e.name,n.schema);return a?(a==="node"&&(o=Fi(e,n.schema)),a==="mark"&&(r=Ta(e,n.schema)),s&&i.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&i.setNodeMarkup(u,void 0,fA(c.attrs,t)),r&&c.marks.length&&c.marks.forEach(h=>{r===h.type&&i.addMark(u,u+c.nodeSize,r.create(fA(h.attrs,t)))})})}),!0):!1},V1e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),z1e=()=>({tr:e,dispatch:t})=>{if(t){const i=new rs(e.doc);e.setSelection(i)}return!0},N1e=()=>({state:e,dispatch:t})=>VM(e,t),B1e=()=>({state:e,dispatch:t})=>BM(e,t),F1e=()=>({state:e,dispatch:t})=>Oge(e,t),j1e=()=>({state:e,dispatch:t})=>$ge(e,t),U1e=()=>({state:e,dispatch:t})=>Ige(e,t);function Yy(e,t,i={},n={}){return Yp(e,t,{slice:!1,parseOptions:i,errorOnInvalidContent:n.errorOnInvalidContent})}const W1e=(e,t=!1,i={},n={})=>({editor:s,tr:o,dispatch:r,commands:a})=>{var l,c;const{doc:u}=o;if(i.preserveWhitespace!=="full"){const h=Yy(e,s.schema,i,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck});return r&&o.replaceWith(0,u.content.size,h).setMeta("preventUpdate",!t),!0}return r&&o.setMeta("preventUpdate",!t),a.insertContentAt({from:0,to:u.content.size},e,{parseOptions:i,errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function tT(e,t){const i=Ta(t,e.schema),{from:n,to:s,empty:o}=e.selection,r=[];o?(e.storedMarks&&r.push(...e.storedMarks),r.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,s,l=>{r.push(...l.marks)});const a=r.find(l=>l.type.name===i.name);return a?{...a.attrs}:{}}function q1e(e,t){const i=new b0(e);return t.forEach(n=>{n.steps.forEach(s=>{i.step(s)})}),i}function K1e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:i}=e.edge(t);if(i.isTextblock&&!i.hasRequiredAttrs())return i}return null}function G1e(e,t,i){const n=[];return e.nodesBetween(t.from,t.to,(s,o)=>{i(s)&&n.push({node:s,pos:o})}),n}function iT(e,t){for(let i=e.depth;i>0;i-=1){const n=e.node(i);if(t(n))return{pos:i>0?e.before(i):0,start:e.start(i),depth:i,node:n}}}function V0(e){return t=>iT(t.$from,e)}function nT(e,t){const i={from:0,to:e.content.size};return JM(e,i,t)}function J1e(e,t){const i=Fi(t,e.schema),{from:n,to:s}=e.selection,o=[];e.doc.nodesBetween(n,s,a=>{o.push(a)});const r=o.reverse().find(a=>a.type.name===i.name);return r?{...r.attrs}:{}}function sT(e,t){const i=og(typeof t=="string"?t:t.name,e.schema);return i==="node"?J1e(e,t):i==="mark"?tT(e,t):{}}function Y1e(e,t=JSON.stringify){const i={};return e.filter(n=>{const s=t(n);return Object.prototype.hasOwnProperty.call(i,s)?!1:i[s]=!0})}function Z1e(e){const t=Y1e(e);return t.length===1?t:t.filter((i,n)=>!t.filter((o,r)=>r!==n).some(o=>i.oldRange.from>=o.oldRange.from&&i.oldRange.to<=o.oldRange.to&&i.newRange.from>=o.newRange.from&&i.newRange.to<=o.newRange.to))}function X1e(e){const{mapping:t,steps:i}=e,n=[];return t.maps.forEach((s,o)=>{const r=[];if(s.ranges.length)s.forEach((a,l)=>{r.push({from:a,to:l})});else{const{from:a,to:l}=i[o];if(a===void 0||l===void 0)return;r.push({from:a,to:l})}r.forEach(({from:a,to:l})=>{const c=t.slice(o).map(a,-1),u=t.slice(o).map(l),h=t.invert().map(c,-1),m=t.invert().map(u);n.push({oldRange:{from:h,to:m},newRange:{from:c,to:u}})})}),Z1e(n)}function z0(e,t,i){const n=[];return e===t?i.resolve(e).marks().forEach(s=>{const o=i.resolve(e),r=R0(o,s.type);r&&n.push({mark:s,...r})}):i.nodesBetween(e,t,(s,o)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(r=>({from:o,to:o+s.nodeSize,mark:r})))}),n}function rp(e,t,i){return Object.fromEntries(Object.entries(i).filter(([n])=>{const s=e.find(o=>o.type===t&&o.name===n);return s?s.attribute.keepOnSplit:!1}))}function Zy(e,t,i={}){const{empty:n,ranges:s}=e.selection,o=t?Ta(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(h=>o?o.name===h.type.name:!0).find(h=>Jp(h.attrs,i,{strict:!1}));let r=0;const a=[];if(s.forEach(({$from:h,$to:m})=>{const g=h.pos,v=m.pos;e.doc.nodesBetween(g,v,(_,w)=>{if(!_.isText&&!_.marks.length)return;const A=Math.max(g,w),L=Math.min(v,w+_.nodeSize),N=L-A;r+=N,a.push(..._.marks.map(M=>({mark:M,from:A,to:L})))})}),r===0)return!1;const l=a.filter(h=>o?o.name===h.mark.type.name:!0).filter(h=>Jp(h.mark.attrs,i,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),c=a.filter(h=>o?h.mark.type!==o&&h.mark.type.excludes(o):!0).reduce((h,m)=>h+m.to-m.from,0);return(l>0?l+c:l)>=r}function Q1e(e,t,i={}){if(!t)return Ru(e,null,i)||Zy(e,null,i);const n=og(t,e.schema);return n==="node"?Ru(e,t,i):n==="mark"?Zy(e,t,i):!1}function pA(e,t){const{nodeExtensions:i}=ig(t),n=i.find(r=>r.name===e);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},o=Ct(Be(n,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function rg(e,{checkChildren:t=!0,ignoreWhitespace:i=!1}={}){var n;if(i){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!==null&&n!==void 0?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(o=>{s!==!1&&(rg(o,{ignoreWhitespace:i,checkChildren:t})||(s=!1))}),s}return!1}function oT(e){return e instanceof Ke}function rT(e,t,i){const s=e.state.doc.content.size,o=fr(t,0,s),r=fr(i,0,s),a=e.coordsAtPos(o),l=e.coordsAtPos(r,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),h=Math.min(a.left,l.left),m=Math.max(a.right,l.right),g=m-h,v=u-c,A={top:c,bottom:u,left:h,right:m,width:g,height:v,x:h,y:c};return{...A,toJSON:()=>A}}function ebe(e,t,i){var n;const{selection:s}=t;let o=null;if(H0(s)&&(o=s.$cursor),o){const a=(n=e.storedMarks)!==null&&n!==void 0?n:o.marks();return!!i.isInSet(a)||!a.some(l=>l.type.excludes(i))}const{ranges:r}=s;return r.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(i):!1;return e.doc.nodesBetween(a.pos,l.pos,(u,h,m)=>{if(c)return!1;if(u.isInline){const g=!m||m.type.allowsMarkType(i),v=!!i.isInSet(u.marks)||!u.marks.some(_=>_.type.excludes(i));c=g&&v}return!c}),c})}const tbe=(e,t={})=>({tr:i,state:n,dispatch:s})=>{const{selection:o}=i,{empty:r,ranges:a}=o,l=Ta(e,n.schema);if(s)if(r){const c=tT(n,l);i.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const u=c.$from.pos,h=c.$to.pos;n.doc.nodesBetween(u,h,(m,g)=>{const v=Math.max(g,u),_=Math.min(g+m.nodeSize,h);m.marks.find(A=>A.type===l)?m.marks.forEach(A=>{l===A.type&&i.addMark(v,_,l.create({...A.attrs,...t}))}):i.addMark(v,_,l.create(t))})});return ebe(n,i,l)},ibe=(e,t)=>({tr:i})=>(i.setMeta(e,t),!0),nbe=(e,t={})=>({state:i,dispatch:n,chain:s})=>{const o=Fi(e,i.schema);let r;return i.selection.$anchor.sameParent(i.selection.$head)&&(r=i.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:a})=>lA(o,{...r,...t})(i)?!0:a.clearNodes()).command(({state:a})=>lA(o,{...r,...t})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},sbe=e=>({tr:t,dispatch:i})=>{if(i){const{doc:n}=t,s=fr(e,0,n.content.size),o=Ke.create(n,s);t.setSelection(o)}return!0},obe=e=>({tr:t,dispatch:i})=>{if(i){const{doc:n}=t,{from:s,to:o}=typeof e=="number"?{from:e,to:e}:e,r=Ye.atStart(n).from,a=Ye.atEnd(n).to,l=fr(s,r,a),c=fr(o,r,a),u=Ye.create(n,l,c);t.setSelection(u)}return!0},rbe=e=>({state:t,dispatch:i})=>{const n=Fi(e,t.schema);return Nge(n)(t,i)};function mA(e,t){const i=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(i){const n=i.filter(s=>t==null?void 0:t.includes(s.type.name));e.tr.ensureMarks(n)}}const abe=({keepMarks:e=!0}={})=>({tr:t,state:i,dispatch:n,editor:s})=>{const{selection:o,doc:r}=t,{$from:a,$to:l}=o,c=s.extensionManager.attributes,u=rp(c,a.node().type.name,a.node().attrs);if(o instanceof Ke&&o.node.isBlock)return!a.parentOffset||!yr(r,a.pos)?!1:(n&&(e&&mA(i,s.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,m=a.depth===0?void 0:K1e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let g=h&&m?[{type:m,attrs:u}]:void 0,v=yr(t.doc,t.mapping.map(a.pos),1,g);if(!g&&!v&&yr(t.doc,t.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(v=!0,g=m?[{type:m,attrs:u}]:void 0),n){if(v&&(o instanceof Ye&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,g),m&&!h&&!a.parentOffset&&a.parent.type!==m)){const _=t.mapping.map(a.before()),w=t.doc.resolve(_);a.node(-1).canReplaceWith(w.index(),w.index()+1,m)&&t.setNodeMarkup(t.mapping.map(a.before()),m)}e&&mA(i,s.extensionManager.splittableMarks),t.scrollIntoView()}return v},lbe=(e,t={})=>({tr:i,state:n,dispatch:s,editor:o})=>{var r;const a=Fi(e,n.schema),{$from:l,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==a)return!1;const m=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let A=me.empty;const L=l.index(-1)?1:l.index(-2)?2:3;for(let se=l.depth-L;se>=l.depth-3;se-=1)A=me.from(l.node(se).copy(A));const N=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,M={...rp(m,l.node().type.name,l.node().attrs),...t},P=((r=a.contentMatch.defaultType)===null||r===void 0?void 0:r.createAndFill(M))||void 0;A=A.append(me.from(a.createAndFill(null,P)||void 0));const F=l.before(l.depth-(L-1));i.replace(F,l.after(-N),new Ee(A,4-L,0));let K=-1;i.doc.nodesBetween(F,i.doc.content.size,(se,j)=>{if(K>-1)return!1;se.isTextblock&&se.content.size===0&&(K=j+1)}),K>-1&&i.setSelection(Ye.near(i.doc.resolve(K))),i.scrollIntoView()}return!0}const g=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,v={...rp(m,h.type.name,h.attrs),...t},_={...rp(m,l.node().type.name,l.node().attrs),...t};i.delete(l.pos,c.pos);const w=g?[{type:a,attrs:v},{type:g,attrs:_}]:[{type:a,attrs:v}];if(!yr(i.doc,l.pos,2))return!1;if(s){const{selection:A,storedMarks:L}=n,{splittableMarks:N}=o.extensionManager,M=L||A.$to.parentOffset&&A.$from.marks();if(i.split(l.pos,2,w).scrollIntoView(),!M||!s)return!0;const P=M.filter(F=>N.includes(F.type.name));i.ensureMarks(P)}return!0},wb=(e,t)=>{const i=V0(r=>r.type===t)(e.selection);if(!i)return!0;const n=e.doc.resolve(Math.max(0,i.pos-1)).before(i.depth);if(n===void 0)return!0;const s=e.doc.nodeAt(n);return i.node.type===(s==null?void 0:s.type)&&xa(e.doc,i.pos)&&e.join(i.pos),!0},Cb=(e,t)=>{const i=V0(r=>r.type===t)(e.selection);if(!i)return!0;const n=e.doc.resolve(i.start).after(i.depth);if(n===void 0)return!0;const s=e.doc.nodeAt(n);return i.node.type===(s==null?void 0:s.type)&&xa(e.doc,n)&&e.join(n),!0},cbe=(e,t,i,n={})=>({editor:s,tr:o,state:r,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:h,splittableMarks:m}=s.extensionManager,g=Fi(e,r.schema),v=Fi(t,r.schema),{selection:_,storedMarks:w}=r,{$from:A,$to:L}=_,N=A.blockRange(L),M=w||_.$to.parentOffset&&_.$from.marks();if(!N)return!1;const P=V0(F=>pA(F.type.name,h))(_);if(N.depth>=1&&P&&N.depth-P.depth<=1){if(P.node.type===g)return c.liftListItem(v);if(pA(P.node.type.name,h)&&g.validContent(P.node.content)&&a)return l().command(()=>(o.setNodeMarkup(P.pos,g),!0)).command(()=>wb(o,g)).command(()=>Cb(o,g)).run()}return!i||!M||!a?l().command(()=>u().wrapInList(g,n)?!0:c.clearNodes()).wrapInList(g,n).command(()=>wb(o,g)).command(()=>Cb(o,g)).run():l().command(()=>{const F=u().wrapInList(g,n),K=M.filter(se=>m.includes(se.type.name));return o.ensureMarks(K),F?!0:c.clearNodes()}).wrapInList(g,n).command(()=>wb(o,g)).command(()=>Cb(o,g)).run()},dbe=(e,t={},i={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:o=!1}=i,r=Ta(e,n.schema);return Zy(n,r,t)?s.unsetMark(r,{extendEmptyMarkRange:o}):s.setMark(r,t)},ube=(e,t,i={})=>({state:n,commands:s})=>{const o=Fi(e,n.schema),r=Fi(t,n.schema),a=Ru(n,o,i);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a?s.setNode(r,l):s.setNode(o,{...l,...i})},hbe=(e,t={})=>({state:i,commands:n})=>{const s=Fi(e,i.schema);return Ru(i,s,t)?n.lift(s):n.wrapIn(s,t)},fbe=()=>({state:e,dispatch:t})=>{const i=e.plugins;for(let n=0;n<i.length;n+=1){const s=i[n];let o;if(s.spec.isInputRules&&(o=s.getState(e))){if(t){const r=e.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)r.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=r.doc.resolve(o.from).marks();r.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else r.delete(o.from,o.to)}return!0}}return!1},pbe=()=>({tr:e,dispatch:t})=>{const{selection:i}=e,{empty:n,ranges:s}=i;return n||t&&s.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},mbe=(e,t={})=>({tr:i,state:n,dispatch:s})=>{var o;const{extendEmptyMarkRange:r=!1}=t,{selection:a}=i,l=Ta(e,n.schema),{$from:c,empty:u,ranges:h}=a;if(!s)return!0;if(u&&r){let{from:m,to:g}=a;const v=(o=c.marks().find(w=>w.type===l))===null||o===void 0?void 0:o.attrs,_=R0(c,l,v);_&&(m=_.from,g=_.to),i.removeMark(m,g,l)}else h.forEach(m=>{i.removeMark(m.$from.pos,m.$to.pos,l)});return i.removeStoredMark(l),!0},gbe=(e,t={})=>({tr:i,state:n,dispatch:s})=>{let o=null,r=null;const a=og(typeof e=="string"?e:e.name,n.schema);return a?(a==="node"&&(o=Fi(e,n.schema)),a==="mark"&&(r=Ta(e,n.schema)),s&&i.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let h,m,g,v;i.selection.empty?n.doc.nodesBetween(c,u,(_,w)=>{o&&o===_.type&&(g=Math.max(w,c),v=Math.min(w+_.nodeSize,u),h=w,m=_)}):n.doc.nodesBetween(c,u,(_,w)=>{w<c&&o&&o===_.type&&(g=Math.max(w,c),v=Math.min(w+_.nodeSize,u),h=w,m=_),w>=c&&w<=u&&(o&&o===_.type&&i.setNodeMarkup(w,void 0,{..._.attrs,...t}),r&&_.marks.length&&_.marks.forEach(A=>{if(r===A.type){const L=Math.max(w,c),N=Math.min(w+_.nodeSize,u);i.addMark(L,N,r.create({...A.attrs,...t}))}}))}),m&&(h!==void 0&&i.setNodeMarkup(h,void 0,{...m.attrs,...t}),r&&m.marks.length&&m.marks.forEach(_=>{r===_.type&&i.addMark(g,v,r.create({..._.attrs,...t}))}))}),!0):!1},bbe=(e,t={})=>({state:i,dispatch:n})=>{const s=Fi(e,i.schema);return Lge(s,t)(i,n)},ybe=(e,t={})=>({state:i,dispatch:n})=>{const s=Fi(e,i.schema);return Pge(s,t)(i,n)};var vbe=Object.freeze({__proto__:null,blur:n1e,clearContent:s1e,clearNodes:o1e,command:r1e,createParagraphNear:a1e,cut:l1e,deleteCurrentNode:c1e,deleteNode:d1e,deleteRange:u1e,deleteSelection:h1e,enter:f1e,exitCode:p1e,extendMarkRange:m1e,first:g1e,focus:b1e,forEach:y1e,insertContent:v1e,insertContentAt:C1e,joinBackward:S1e,joinDown:A1e,joinForward:x1e,joinItemBackward:M1e,joinItemForward:T1e,joinTextblockBackward:O1e,joinTextblockForward:E1e,joinUp:k1e,keyboardShortcut:$1e,lift:L1e,liftEmptyBlock:P1e,liftListItem:D1e,newlineInCode:R1e,resetAttributes:H1e,scrollIntoView:V1e,selectAll:z1e,selectNodeBackward:N1e,selectNodeForward:B1e,selectParentNode:F1e,selectTextblockEnd:j1e,selectTextblockStart:U1e,setContent:W1e,setMark:tbe,setMeta:ibe,setNode:nbe,setNodeSelection:sbe,setTextSelection:obe,sinkListItem:rbe,splitBlock:abe,splitListItem:lbe,toggleList:cbe,toggleMark:dbe,toggleNode:ube,toggleWrap:hbe,undoInputRule:fbe,unsetAllMarks:pbe,unsetMark:mbe,updateAttributes:gbe,wrapIn:bbe,wrapInList:ybe});const _be=Oi.create({name:"commands",addCommands(){return{...vbe}}}),wbe=Oi.create({name:"drop",addProseMirrorPlugins(){return[new bi({key:new Pi("tiptapDrop"),props:{handleDrop:(e,t,i,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:i,moved:n})}}})]}}),Cbe=Oi.create({name:"editable",addProseMirrorPlugins(){return[new bi({key:new Pi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),kbe=Oi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new bi({key:new Pi("focusEvents"),props:{handleDOMEvents:{focus:(t,i)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:i}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,i)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:i}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),Abe=Oi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:r})=>[()=>r.undoInputRule(),()=>r.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:h}=l,{pos:m,parent:g}=h,v=h.parent.isTextblock&&m>0?a.doc.resolve(m-1):h,_=v.parent.type.spec.isolating,w=h.pos-h.parentOffset,A=_&&v.parent.childCount===1?w===h.pos:ot.atStart(c).from===m;return!u||!g.type.isTextblock||g.textContent.length||!A||A&&h.parent.type.name==="paragraph"?!1:r.clearNodes()}),()=>r.deleteSelection(),()=>r.joinBackward(),()=>r.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:r})=>[()=>r.deleteSelection(),()=>r.deleteCurrentNode(),()=>r.joinForward(),()=>r.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:r})=>[()=>r.newlineInCode(),()=>r.createParagraphNear(),()=>r.liftEmptyBlock(),()=>r.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return QM()||eT()?o:s},addProseMirrorPlugins(){return[new bi({key:new Pi("clearDocument"),appendTransaction:(e,t,i)=>{const n=e.some(_=>_.docChanged)&&!t.doc.eq(i.doc),s=e.some(_=>_.getMeta("preventClearDocument"));if(!n||s)return;const{empty:o,from:r,to:a}=t.selection,l=ot.atStart(t.doc).from,c=ot.atEnd(t.doc).to;if(o||!(r===l&&a===c)||!rg(i.doc))return;const m=i.tr,g=eg({state:i,transaction:m}),{commands:v}=new tg({editor:this.editor,state:g});if(v.clearNodes(),!!m.steps.length)return m}})]}}),Sbe=Oi.create({name:"paste",addProseMirrorPlugins(){return[new bi({key:new Pi("tiptapPaste"),props:{handlePaste:(e,t,i)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:i})}}})]}}),xbe=Oi.create({name:"tabindex",addProseMirrorPlugins(){return[new bi({key:new Pi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Xa{get name(){return this.node.type.name}constructor(t,i,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=i,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let i=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}i=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:i,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),i=this.resolvedPos.doc.resolve(t);return new Xa(i,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Xa(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Xa(t,this.editor)}get children(){const t=[];return this.node.content.forEach((i,n)=>{const s=i.isBlock&&!i.isTextblock,o=i.isAtom&&!i.isText,r=this.pos+n+(o?0:1),a=this.resolvedPos.doc.resolve(r);if(!s&&a.depth<=this.depth)return;const l=new Xa(a,this.editor,s,s?i:null);s&&(l.actualDepth=this.depth+1),t.push(new Xa(a,this.editor,s,s?i:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,i={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===t)if(Object.keys(i).length>0){const o=s.node.attrs,r=Object.keys(i);for(let a=0;a<r.length;a+=1){const l=r[a];if(o[l]!==i[l])break}}else n=s;s=s.parent}return n}querySelector(t,i={}){return this.querySelectorAll(t,i,!0)[0]||null}querySelectorAll(t,i={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(i);return this.children.forEach(r=>{n&&s.length>0||(r.node.type.name===t&&o.every(l=>i[l]===r.node.attrs[l])&&s.push(r),!(n&&s.length>0)&&(s=s.concat(r.querySelectorAll(t,i,n))))}),s}setAttribute(t){const{tr:i}=this.editor.state;i.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(i)}}const Mbe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Tbe(e,t,i){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}let Obe=class extends Bge{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:n,moved:s})=>this.options.onDrop(i,n,s)),this.on("paste",({event:i,slice:n})=>this.options.onPaste(i,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Tbe(Mbe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,i=!0){this.setOptions({editable:t}),i&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,i){const n=GM(i)?i(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const i=this.state.plugins;let n=i;if([].concat(t).forEach(o=>{const r=typeof o=="string"?`${o}$`:o.key;n=i.filter(a=>!a.key.startsWith(r))}),i.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var t,i;const s=[...this.options.enableCoreExtensions?[Cbe,i1e.configure({blockSeparator:(i=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||i===void 0?void 0:i.blockSeparator}),_be,kbe,Abe,xbe,wbe,Sbe].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new wc(s,this)}createCommandManager(){this.commandManager=new tg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t;let i;try{i=Yy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(r){if(!(r instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(r.message))throw r;this.emit("contentError",{editor:this,error:r,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),i=Yy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=ZM(i,this.options.autofocus);this.view=new uge(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)===null||t===void 0?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:_c.create({doc:i,selection:n||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const i=this.capturedTransaction;return this.capturedTransaction=null,i}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(r=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(r)});return}const i=this.state.apply(t),n=!this.state.selection.eq(i.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:i}),this.view.updateState(i),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=t.getMeta("focus"),o=t.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return sT(this.state,t)}isActive(t,i){const n=typeof t=="string"?t:null,s=typeof t=="string"?i:t;return Q1e(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return L0(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:i=`

`,textSerializers:n={}}=t||{};return nT(this.state.doc,{blockSeparator:i,textSerializers:{...D0(this.schema),...n}})}get isEmpty(){return rg(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,i){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(t,i))||null}$nodes(t,i){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(t,i))||null}$pos(t){const i=this.state.doc.resolve(t);return new Xa(i,this)}get $doc(){return this.$pos(0)}};function Ml(e){return new ng({find:e.find,handler:({state:t,range:i,match:n})=>{const s=Ct(e.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:o}=t,r=n[n.length-1],a=n[0];if(r){const l=a.search(/\S/),c=i.from+a.indexOf(r),u=c+r.length;if(z0(i.from,i.to,t.doc).filter(g=>g.mark.type.excluded.find(_=>_===e.type&&_!==g.mark.type)).filter(g=>g.to>c).length)return null;u<i.to&&o.delete(u,i.to),c>i.from&&o.delete(i.from+l,c);const m=i.from+l+r.length;o.addMark(i.from+l,m,e.type.create(s||{})),o.removeStoredMark(e.type)}}})}function Ebe(e){return new ng({find:e.find,handler:({state:t,range:i,match:n})=>{const s=Ct(e.getAttributes,void 0,n)||{},{tr:o}=t,r=i.from;let a=i.to;const l=e.type.create(s);if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=r+c;u>a?u=a:a=u+n[1].length;const h=n[0][n[0].length-1];o.insertText(h,r+n[0].length-1),o.replaceWith(u,a,l)}else if(n[0]){const c=e.type.isInline?r:r-1;o.insert(c,e.type.create(s)).delete(o.mapping.map(r),o.mapping.map(a))}o.scrollIntoView()}})}function Xy(e){return new ng({find:e.find,handler:({state:t,range:i,match:n})=>{const s=t.doc.resolve(i.from),o=Ct(e.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(i.from,i.to).setBlockType(i.from,i.from,e.type,o)}})}function Hu(e){return new ng({find:e.find,handler:({state:t,range:i,match:n,chain:s})=>{const o=Ct(e.getAttributes,void 0,n)||{},r=t.tr.delete(i.from,i.to),l=r.doc.resolve(i.from).blockRange(),c=l&&g0(l,e.type,o);if(!c)return null;if(r.wrap(l,c),e.keepMarks&&e.editor){const{selection:h,storedMarks:m}=t,{splittableMarks:g}=e.editor.extensionManager,v=m||h.$to.parentOffset&&h.$from.marks();if(v){const _=v.filter(w=>g.includes(w.type.name));r.ensureMarks(_)}}if(e.keepAttributes){const h=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(h,o).run()}const u=r.doc.resolve(i.from-1).nodeBefore;u&&u.type===e.type&&xa(r.doc,i.from-1)&&(!e.joinPredicate||e.joinPredicate(n,u))&&r.join(i.from-1)}})}let ji=class Qy{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(Be(this,"addOptions",{name:this.name}))),this.storage=Ct(Be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Qy(t)}configure(t={}){const i=this.extend({...this.config,addOptions:()=>sg(this.options,t)});return i.name=this.name,i.parent=this.parent,i}extend(t={}){const i=new Qy(t);return i.parent=this,this.child=i,i.name=t.name?t.name:i.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${i.name}".`),i.options=Ct(Be(i,"addOptions",{name:i.name})),i.storage=Ct(Be(i,"addStorage",{name:i.name,options:i.options})),i}};function ka(e){return new Yge({find:e.find,handler:({state:t,range:i,match:n,pasteEvent:s})=>{const o=Ct(e.getAttributes,void 0,n,s);if(o===!1||o===null)return null;const{tr:r}=t,a=n[n.length-1],l=n[0];let c=i.to;if(a){const u=l.search(/\S/),h=i.from+l.indexOf(a),m=h+a.length;if(z0(i.from,i.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===e.type&&w!==v.mark.type)).filter(v=>v.to>h).length)return null;m<i.to&&r.delete(m,i.to),h>i.from&&r.delete(i.from+u,h),c=i.from+u+a.length,r.addMark(i.from+u,c,e.type.create(o||{})),r.removeStoredMark(e.type)}}})}var Vn="top",Rs="bottom",Hs="right",zn="left",N0="auto",ch=[Vn,Rs,Hs,zn],zc="start",Vu="end",Ibe="clippingParents",aT="viewport",$d="popper",$be="reference",gA=ch.reduce(function(e,t){return e.concat([t+"-"+zc,t+"-"+Vu])},[]),lT=[].concat(ch,[N0]).reduce(function(e,t){return e.concat([t,t+"-"+zc,t+"-"+Vu])},[]),Lbe="beforeRead",Pbe="read",Dbe="afterRead",Rbe="beforeMain",Hbe="main",Vbe="afterMain",zbe="beforeWrite",Nbe="write",Bbe="afterWrite",Fbe=[Lbe,Pbe,Dbe,Rbe,Hbe,Vbe,zbe,Nbe,Bbe];function Do(e){return e?(e.nodeName||"").toLowerCase():null}function ds(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Tl(e){var t=ds(e).Element;return e instanceof t||e instanceof Element}function $s(e){var t=ds(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function B0(e){if(typeof ShadowRoot>"u")return!1;var t=ds(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function jbe(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},s=t.attributes[i]||{},o=t.elements[i];!$s(o)||!Do(o)||(Object.assign(o.style,n),Object.keys(s).forEach(function(r){var a=s[r];a===!1?o.removeAttribute(r):o.setAttribute(r,a===!0?"":a)}))})}function Ube(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var s=t.elements[n],o=t.attributes[n]||{},r=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]),a=r.reduce(function(l,c){return l[c]="",l},{});!$s(s)||!Do(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}const cT={name:"applyStyles",enabled:!0,phase:"write",fn:jbe,effect:Ube,requires:["computeStyles"]};function To(e){return e.split("-")[0]}var fl=Math.max,Zp=Math.min,Nc=Math.round;function ev(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function dT(){return!/^((?!chrome|android).)*safari/i.test(ev())}function Bc(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var n=e.getBoundingClientRect(),s=1,o=1;t&&$s(e)&&(s=e.offsetWidth>0&&Nc(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Nc(n.height)/e.offsetHeight||1);var r=Tl(e)?ds(e):window,a=r.visualViewport,l=!dT()&&i,c=(n.left+(l&&a?a.offsetLeft:0))/s,u=(n.top+(l&&a?a.offsetTop:0))/o,h=n.width/s,m=n.height/o;return{width:h,height:m,top:u,right:c+h,bottom:u+m,left:c,x:c,y:u}}function F0(e){var t=Bc(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function uT(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&B0(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function kr(e){return ds(e).getComputedStyle(e)}function Wbe(e){return["table","td","th"].indexOf(Do(e))>=0}function Oa(e){return((Tl(e)?e.ownerDocument:e.document)||window.document).documentElement}function ag(e){return Do(e)==="html"?e:e.assignedSlot||e.parentNode||(B0(e)?e.host:null)||Oa(e)}function bA(e){return!$s(e)||kr(e).position==="fixed"?null:e.offsetParent}function qbe(e){var t=/firefox/i.test(ev()),i=/Trident/i.test(ev());if(i&&$s(e)){var n=kr(e);if(n.position==="fixed")return null}var s=ag(e);for(B0(s)&&(s=s.host);$s(s)&&["html","body"].indexOf(Do(s))<0;){var o=kr(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function dh(e){for(var t=ds(e),i=bA(e);i&&Wbe(i)&&kr(i).position==="static";)i=bA(i);return i&&(Do(i)==="html"||Do(i)==="body"&&kr(i).position==="static")?t:i||qbe(e)||t}function j0(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function au(e,t,i){return fl(e,Zp(t,i))}function Kbe(e,t,i){var n=au(e,t,i);return n>i?i:n}function hT(){return{top:0,right:0,bottom:0,left:0}}function fT(e){return Object.assign({},hT(),e)}function pT(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}var Gbe=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,fT(typeof t!="number"?t:pT(t,ch))};function Jbe(e){var t,i=e.state,n=e.name,s=e.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=To(i.placement),l=j0(a),c=[zn,Hs].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!r)){var h=Gbe(s.padding,i),m=F0(o),g=l==="y"?Vn:zn,v=l==="y"?Rs:Hs,_=i.rects.reference[u]+i.rects.reference[l]-r[l]-i.rects.popper[u],w=r[l]-i.rects.reference[l],A=dh(o),L=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,N=_/2-w/2,M=h[g],P=L-m[u]-h[v],F=L/2-m[u]/2+N,K=au(M,F,P),se=l;i.modifiersData[n]=(t={},t[se]=K,t.centerOffset=K-F,t)}}function Ybe(e){var t=e.state,i=e.options,n=i.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||uT(t.elements.popper,s)&&(t.elements.arrow=s))}const Zbe={name:"arrow",enabled:!0,phase:"main",fn:Jbe,effect:Ybe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fc(e){return e.split("-")[1]}var Xbe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qbe(e,t){var i=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:Nc(i*s)/s||0,y:Nc(n*s)/s||0}}function yA(e){var t,i=e.popper,n=e.popperRect,s=e.placement,o=e.variation,r=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,m=r.x,g=m===void 0?0:m,v=r.y,_=v===void 0?0:v,w=typeof u=="function"?u({x:g,y:_}):{x:g,y:_};g=w.x,_=w.y;var A=r.hasOwnProperty("x"),L=r.hasOwnProperty("y"),N=zn,M=Vn,P=window;if(c){var F=dh(i),K="clientHeight",se="clientWidth";if(F===ds(i)&&(F=Oa(i),kr(F).position!=="static"&&a==="absolute"&&(K="scrollHeight",se="scrollWidth")),F=F,s===Vn||(s===zn||s===Hs)&&o===Vu){M=Rs;var j=h&&F===P&&P.visualViewport?P.visualViewport.height:F[K];_-=j-n.height,_*=l?1:-1}if(s===zn||(s===Vn||s===Rs)&&o===Vu){N=Hs;var V=h&&F===P&&P.visualViewport?P.visualViewport.width:F[se];g-=V-n.width,g*=l?1:-1}}var z=Object.assign({position:a},c&&Xbe),Z=u===!0?Qbe({x:g,y:_},ds(i)):{x:g,y:_};if(g=Z.x,_=Z.y,l){var le;return Object.assign({},z,(le={},le[M]=L?"0":"",le[N]=A?"0":"",le.transform=(P.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",le))}return Object.assign({},z,(t={},t[M]=L?_+"px":"",t[N]=A?g+"px":"",t.transform="",t))}function eye(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=n===void 0?!0:n,o=i.adaptive,r=o===void 0?!0:o,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:To(t.placement),variation:Fc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yA(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yA(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const tye={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eye,data:{}};var kf={passive:!0};function iye(e){var t=e.state,i=e.instance,n=e.options,s=n.scroll,o=s===void 0?!0:s,r=n.resize,a=r===void 0?!0:r,l=ds(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",i.update,kf)}),a&&l.addEventListener("resize",i.update,kf),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",i.update,kf)}),a&&l.removeEventListener("resize",i.update,kf)}}const nye={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:iye,data:{}};var sye={left:"right",right:"left",bottom:"top",top:"bottom"};function ap(e){return e.replace(/left|right|bottom|top/g,function(t){return sye[t]})}var oye={start:"end",end:"start"};function vA(e){return e.replace(/start|end/g,function(t){return oye[t]})}function U0(e){var t=ds(e),i=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:i,scrollTop:n}}function W0(e){return Bc(Oa(e)).left+U0(e).scrollLeft}function rye(e,t){var i=ds(e),n=Oa(e),s=i.visualViewport,o=n.clientWidth,r=n.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;var c=dT();(c||!c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a+W0(e),y:l}}function aye(e){var t,i=Oa(e),n=U0(e),s=(t=e.ownerDocument)==null?void 0:t.body,o=fl(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=fl(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+W0(e),l=-n.scrollTop;return kr(s||i).direction==="rtl"&&(a+=fl(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}function q0(e){var t=kr(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function mT(e){return["html","body","#document"].indexOf(Do(e))>=0?e.ownerDocument.body:$s(e)&&q0(e)?e:mT(ag(e))}function lu(e,t){var i;t===void 0&&(t=[]);var n=mT(e),s=n===((i=e.ownerDocument)==null?void 0:i.body),o=ds(n),r=s?[o].concat(o.visualViewport||[],q0(n)?n:[]):n,a=t.concat(r);return s?a:a.concat(lu(ag(r)))}function tv(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lye(e,t){var i=Bc(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function _A(e,t,i){return t===aT?tv(rye(e,i)):Tl(t)?lye(t,i):tv(aye(Oa(e)))}function cye(e){var t=lu(ag(e)),i=["absolute","fixed"].indexOf(kr(e).position)>=0,n=i&&$s(e)?dh(e):e;return Tl(n)?t.filter(function(s){return Tl(s)&&uT(s,n)&&Do(s)!=="body"}):[]}function dye(e,t,i,n){var s=t==="clippingParents"?cye(e):[].concat(t),o=[].concat(s,[i]),r=o[0],a=o.reduce(function(l,c){var u=_A(e,c,n);return l.top=fl(u.top,l.top),l.right=Zp(u.right,l.right),l.bottom=Zp(u.bottom,l.bottom),l.left=fl(u.left,l.left),l},_A(e,r,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function gT(e){var t=e.reference,i=e.element,n=e.placement,s=n?To(n):null,o=n?Fc(n):null,r=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case Vn:l={x:r,y:t.y-i.height};break;case Rs:l={x:r,y:t.y+t.height};break;case Hs:l={x:t.x+t.width,y:a};break;case zn:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?j0(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case zc:l[c]=l[c]-(t[u]/2-i[u]/2);break;case Vu:l[c]=l[c]+(t[u]/2-i[u]/2);break}}return l}function zu(e,t){t===void 0&&(t={});var i=t,n=i.placement,s=n===void 0?e.placement:n,o=i.strategy,r=o===void 0?e.strategy:o,a=i.boundary,l=a===void 0?Ibe:a,c=i.rootBoundary,u=c===void 0?aT:c,h=i.elementContext,m=h===void 0?$d:h,g=i.altBoundary,v=g===void 0?!1:g,_=i.padding,w=_===void 0?0:_,A=fT(typeof w!="number"?w:pT(w,ch)),L=m===$d?$be:$d,N=e.rects.popper,M=e.elements[v?L:m],P=dye(Tl(M)?M:M.contextElement||Oa(e.elements.popper),l,u,r),F=Bc(e.elements.reference),K=gT({reference:F,element:N,placement:s}),se=tv(Object.assign({},N,K)),j=m===$d?se:F,V={top:P.top-j.top+A.top,bottom:j.bottom-P.bottom+A.bottom,left:P.left-j.left+A.left,right:j.right-P.right+A.right},z=e.modifiersData.offset;if(m===$d&&z){var Z=z[s];Object.keys(V).forEach(function(le){var ie=[Hs,Rs].indexOf(le)>=0?1:-1,re=[Vn,Rs].indexOf(le)>=0?"y":"x";V[le]+=Z[re]*ie})}return V}function uye(e,t){t===void 0&&(t={});var i=t,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?lT:l,u=Fc(n),h=u?a?gA:gA.filter(function(v){return Fc(v)===u}):ch,m=h.filter(function(v){return c.indexOf(v)>=0});m.length===0&&(m=h);var g=m.reduce(function(v,_){return v[_]=zu(e,{placement:_,boundary:s,rootBoundary:o,padding:r})[To(_)],v},{});return Object.keys(g).sort(function(v,_){return g[v]-g[_]})}function hye(e){if(To(e)===N0)return[];var t=ap(e);return[vA(e),t,vA(t)]}function fye(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=i.mainAxis,o=s===void 0?!0:s,r=i.altAxis,a=r===void 0?!0:r,l=i.fallbackPlacements,c=i.padding,u=i.boundary,h=i.rootBoundary,m=i.altBoundary,g=i.flipVariations,v=g===void 0?!0:g,_=i.allowedAutoPlacements,w=t.options.placement,A=To(w),L=A===w,N=l||(L||!v?[ap(w)]:hye(w)),M=[w].concat(N).reduce(function(Ue,gt){return Ue.concat(To(gt)===N0?uye(t,{placement:gt,boundary:u,rootBoundary:h,padding:c,flipVariations:v,allowedAutoPlacements:_}):gt)},[]),P=t.rects.reference,F=t.rects.popper,K=new Map,se=!0,j=M[0],V=0;V<M.length;V++){var z=M[V],Z=To(z),le=Fc(z)===zc,ie=[Vn,Rs].indexOf(Z)>=0,re=ie?"width":"height",te=zu(t,{placement:z,boundary:u,rootBoundary:h,altBoundary:m,padding:c}),ee=ie?le?Hs:zn:le?Rs:Vn;P[re]>F[re]&&(ee=ap(ee));var G=ap(ee),U=[];if(o&&U.push(te[Z]<=0),a&&U.push(te[ee]<=0,te[G]<=0),U.every(function(Ue){return Ue})){j=z,se=!1;break}K.set(z,U)}if(se)for(var de=v?3:1,Se=function(gt){var Le=M.find(function(We){var ht=K.get(We);if(ht)return ht.slice(0,gt).every(function(Pt){return Pt})});if(Le)return j=Le,"break"},Te=de;Te>0;Te--){var Ne=Se(Te);if(Ne==="break")break}t.placement!==j&&(t.modifiersData[n]._skip=!0,t.placement=j,t.reset=!0)}}const pye={name:"flip",enabled:!0,phase:"main",fn:fye,requiresIfExists:["offset"],data:{_skip:!1}};function wA(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function CA(e){return[Vn,Hs,Rs,zn].some(function(t){return e[t]>=0})}function mye(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,o=t.modifiersData.preventOverflow,r=zu(t,{elementContext:"reference"}),a=zu(t,{altBoundary:!0}),l=wA(r,n),c=wA(a,s,o),u=CA(l),h=CA(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const gye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mye};function bye(e,t,i){var n=To(e),s=[zn,Vn].indexOf(n)>=0?-1:1,o=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[zn,Hs].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}function yye(e){var t=e.state,i=e.options,n=e.name,s=i.offset,o=s===void 0?[0,0]:s,r=lT.reduce(function(u,h){return u[h]=bye(h,t.rects,o),u},{}),a=r[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=r}const vye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yye};function _ye(e){var t=e.state,i=e.name;t.modifiersData[i]=gT({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const wye={name:"popperOffsets",enabled:!0,phase:"read",fn:_ye,data:{}};function Cye(e){return e==="x"?"y":"x"}function kye(e){var t=e.state,i=e.options,n=e.name,s=i.mainAxis,o=s===void 0?!0:s,r=i.altAxis,a=r===void 0?!1:r,l=i.boundary,c=i.rootBoundary,u=i.altBoundary,h=i.padding,m=i.tether,g=m===void 0?!0:m,v=i.tetherOffset,_=v===void 0?0:v,w=zu(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),A=To(t.placement),L=Fc(t.placement),N=!L,M=j0(A),P=Cye(M),F=t.modifiersData.popperOffsets,K=t.rects.reference,se=t.rects.popper,j=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,V=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Z={x:0,y:0};if(F){if(o){var le,ie=M==="y"?Vn:zn,re=M==="y"?Rs:Hs,te=M==="y"?"height":"width",ee=F[M],G=ee+w[ie],U=ee-w[re],de=g?-se[te]/2:0,Se=L===zc?K[te]:se[te],Te=L===zc?-se[te]:-K[te],Ne=t.elements.arrow,Ue=g&&Ne?F0(Ne):{width:0,height:0},gt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:hT(),Le=gt[ie],We=gt[re],ht=au(0,K[te],Ue[te]),Pt=N?K[te]/2-de-ht-Le-V.mainAxis:Se-ht-Le-V.mainAxis,Tt=N?-K[te]/2+de+ht+We+V.mainAxis:Te+ht+We+V.mainAxis,zt=t.elements.arrow&&dh(t.elements.arrow),yi=zt?M==="y"?zt.clientTop||0:zt.clientLeft||0:0,H=(le=z==null?void 0:z[M])!=null?le:0,W=ee+Pt-H-yi,oe=ee+Tt-H,ve=au(g?Zp(G,W):G,ee,g?fl(U,oe):U);F[M]=ve,Z[M]=ve-ee}if(a){var he,ge=M==="x"?Vn:zn,Me=M==="x"?Rs:Hs,we=F[P],be=P==="y"?"height":"width",ye=we+w[ge],Ve=we-w[Me],xe=[Vn,zn].indexOf(A)!==-1,ze=(he=z==null?void 0:z[P])!=null?he:0,Ze=xe?ye:we-K[be]-se[be]-ze+V.altAxis,ct=xe?we+K[be]+se[be]-ze-V.altAxis:Ve,kt=g&&xe?Kbe(Ze,we,ct):au(g?Ze:ye,we,g?ct:Ve);F[P]=kt,Z[P]=kt-we}t.modifiersData[n]=Z}}const Aye={name:"preventOverflow",enabled:!0,phase:"main",fn:kye,requiresIfExists:["offset"]};function Sye(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function xye(e){return e===ds(e)||!$s(e)?U0(e):Sye(e)}function Mye(e){var t=e.getBoundingClientRect(),i=Nc(t.width)/e.offsetWidth||1,n=Nc(t.height)/e.offsetHeight||1;return i!==1||n!==1}function Tye(e,t,i){i===void 0&&(i=!1);var n=$s(t),s=$s(t)&&Mye(t),o=Oa(t),r=Bc(e,s,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((Do(t)!=="body"||q0(o))&&(a=xye(t)),$s(t)?(l=Bc(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=W0(o))),{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function Oye(e){var t=new Map,i=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function s(o){i.add(o.name);var r=[].concat(o.requires||[],o.requiresIfExists||[]);r.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),n.push(o)}return e.forEach(function(o){i.has(o.name)||s(o)}),n}function Eye(e){var t=Oye(e);return Fbe.reduce(function(i,n){return i.concat(t.filter(function(s){return s.phase===n}))},[])}function Iye(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function $ye(e){var t=e.reduce(function(i,n){var s=i[n.name];return i[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}var kA={placement:"bottom",modifiers:[],strategy:"absolute"};function AA(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Lye(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,n=i===void 0?[]:i,s=t.defaultOptions,o=s===void 0?kA:s;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},kA,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],m=!1,g={state:u,setOptions:function(A){var L=typeof A=="function"?A(u.options):A;_(),u.options=Object.assign({},o,u.options,L),u.scrollParents={reference:Tl(a)?lu(a):a.contextElement?lu(a.contextElement):[],popper:lu(l)};var N=Eye($ye([].concat(n,u.options.modifiers)));return u.orderedModifiers=N.filter(function(M){return M.enabled}),v(),g.update()},forceUpdate:function(){if(!m){var A=u.elements,L=A.reference,N=A.popper;if(AA(L,N)){u.rects={reference:Tye(L,dh(N),u.options.strategy==="fixed"),popper:F0(N)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(V){return u.modifiersData[V.name]=Object.assign({},V.data)});for(var M=0;M<u.orderedModifiers.length;M++){if(u.reset===!0){u.reset=!1,M=-1;continue}var P=u.orderedModifiers[M],F=P.fn,K=P.options,se=K===void 0?{}:K,j=P.name;typeof F=="function"&&(u=F({state:u,options:se,name:j,instance:g})||u)}}}},update:Iye(function(){return new Promise(function(w){g.forceUpdate(),w(u)})}),destroy:function(){_(),m=!0}};if(!AA(a,l))return g;g.setOptions(c).then(function(w){!m&&c.onFirstUpdate&&c.onFirstUpdate(w)});function v(){u.orderedModifiers.forEach(function(w){var A=w.name,L=w.options,N=L===void 0?{}:L,M=w.effect;if(typeof M=="function"){var P=M({state:u,name:A,instance:g,options:N}),F=function(){};h.push(P||F)}})}function _(){h.forEach(function(w){return w()}),h=[]}return g}}var Pye=[nye,wye,tye,cT,vye,pye,Aye,Zbe,gye],Dye=Lye({defaultModifiers:Pye}),Rye="tippy-box",bT="tippy-content",Hye="tippy-backdrop",yT="tippy-arrow",vT="tippy-svg-arrow",Ja={passive:!0,capture:!0},_T=function(){return document.body};function Vye(e,t){return{}.hasOwnProperty.call(e,t)}function kb(e,t,i){if(Array.isArray(e)){var n=e[t];return n??(Array.isArray(i)?i[t]:i)}return e}function K0(e,t){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function wT(e,t){return typeof e=="function"?e.apply(void 0,t):e}function SA(e,t){if(t===0)return e;var i;return function(n){clearTimeout(i),i=setTimeout(function(){e(n)},t)}}function zye(e,t){var i=Object.assign({},e);return t.forEach(function(n){delete i[n]}),i}function Nye(e){return e.split(/\s+/).filter(Boolean)}function gc(e){return[].concat(e)}function xA(e,t){e.indexOf(t)===-1&&e.push(t)}function Bye(e){return e.filter(function(t,i){return e.indexOf(t)===i})}function Fye(e){return e.split("-")[0]}function Xp(e){return[].slice.call(e)}function MA(e){return Object.keys(e).reduce(function(t,i){return e[i]!==void 0&&(t[i]=e[i]),t},{})}function cu(){return document.createElement("div")}function Nu(e){return["Element","Fragment"].some(function(t){return K0(e,t)})}function jye(e){return K0(e,"NodeList")}function Uye(e){return K0(e,"MouseEvent")}function Wye(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function qye(e){return Nu(e)?[e]:jye(e)?Xp(e):Array.isArray(e)?e:Xp(document.querySelectorAll(e))}function Ab(e,t){e.forEach(function(i){i&&(i.style.transitionDuration=t+"ms")})}function TA(e,t){e.forEach(function(i){i&&i.setAttribute("data-state",t)})}function Kye(e){var t,i=gc(e),n=i[0];return n!=null&&(t=n.ownerDocument)!=null&&t.body?n.ownerDocument:document}function Gye(e,t){var i=t.clientX,n=t.clientY;return e.every(function(s){var o=s.popperRect,r=s.popperState,a=s.props,l=a.interactiveBorder,c=Fye(r.placement),u=r.modifiersData.offset;if(!u)return!0;var h=c==="bottom"?u.top.y:0,m=c==="top"?u.bottom.y:0,g=c==="right"?u.left.x:0,v=c==="left"?u.right.x:0,_=o.top-n+h>l,w=n-o.bottom-m>l,A=o.left-i+g>l,L=i-o.right-v>l;return _||w||A||L})}function Sb(e,t,i){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){e[n](s,i)})}function OA(e,t){for(var i=t;i;){var n;if(e.contains(i))return!0;i=i.getRootNode==null||(n=i.getRootNode())==null?void 0:n.host}return!1}var go={isTouch:!1},EA=0;function Jye(){go.isTouch||(go.isTouch=!0,window.performance&&document.addEventListener("mousemove",CT))}function CT(){var e=performance.now();e-EA<20&&(go.isTouch=!1,document.removeEventListener("mousemove",CT)),EA=e}function Yye(){var e=document.activeElement;if(Wye(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Zye(){document.addEventListener("touchstart",Jye,Ja),window.addEventListener("blur",Yye)}var Xye=typeof window<"u"&&typeof document<"u",Qye=Xye?!!window.msCrypto:!1;function lc(e){var t=e==="destroy"?"n already-":" ";return[e+"() was called on a"+t+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function IA(e){var t=/[ \t]{2,}/g,i=/^[ \t]*/gm;return e.replace(t," ").replace(i,"").trim()}function eve(e){return IA(`
  %ctippy.js

  %c`+IA(e)+`

  %c This is a development-only message. It will be removed in production.
  `)}function kT(e){return[eve(e),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Bu;tve();function tve(){Bu=new Set}function lr(e,t){if(e&&!Bu.has(t)){var i;Bu.add(t),(i=console).warn.apply(i,kT(t))}}function iv(e,t){if(e&&!Bu.has(t)){var i;Bu.add(t),(i=console).error.apply(i,kT(t))}}function ive(e){var t=!e,i=Object.prototype.toString.call(e)==="[object Object]"&&!e.addEventListener;iv(t,["tippy() was passed","`"+String(e)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),iv(i,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var AT={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},nve={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},es=Object.assign({appendTo:_T,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},AT,nve),sve=Object.keys(es),ove=function(t){xT(t,[]);var i=Object.keys(t);i.forEach(function(n){es[n]=t[n]})};function ST(e){var t=e.plugins||[],i=t.reduce(function(n,s){var o=s.name,r=s.defaultValue;if(o){var a;n[o]=e[o]!==void 0?e[o]:(a=es[o])!=null?a:r}return n},{});return Object.assign({},e,i)}function rve(e,t){var i=t?Object.keys(ST(Object.assign({},es,{plugins:t}))):sve,n=i.reduce(function(s,o){var r=(e.getAttribute("data-tippy-"+o)||"").trim();if(!r)return s;if(o==="content")s[o]=r;else try{s[o]=JSON.parse(r)}catch{s[o]=r}return s},{});return n}function $A(e,t){var i=Object.assign({},t,{content:wT(t.content,[e])},t.ignoreAttributes?{}:rve(e,t.plugins));return i.aria=Object.assign({},es.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?t.interactive:i.aria.expanded,content:i.aria.content==="auto"?t.interactive?null:"describedby":i.aria.content},i}function xT(e,t){e===void 0&&(e={}),t===void 0&&(t=[]);var i=Object.keys(e);i.forEach(function(n){var s=zye(es,Object.keys(AT)),o=!Vye(s,n);o&&(o=t.filter(function(r){return r.name===n}).length===0),lr(o,["`"+n+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var ave=function(){return"innerHTML"};function nv(e,t){e[ave()]=t}function LA(e){var t=cu();return e===!0?t.className=yT:(t.className=vT,Nu(e)?t.appendChild(e):nv(t,e)),t}function PA(e,t){Nu(t.content)?(nv(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?nv(e,t.content):e.textContent=t.content)}function sv(e){var t=e.firstElementChild,i=Xp(t.children);return{box:t,content:i.find(function(n){return n.classList.contains(bT)}),arrow:i.find(function(n){return n.classList.contains(yT)||n.classList.contains(vT)}),backdrop:i.find(function(n){return n.classList.contains(Hye)})}}function MT(e){var t=cu(),i=cu();i.className=Rye,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=cu();n.className=bT,n.setAttribute("data-state","hidden"),PA(n,e.props),t.appendChild(i),i.appendChild(n),s(e.props,e.props);function s(o,r){var a=sv(t),l=a.box,c=a.content,u=a.arrow;r.theme?l.setAttribute("data-theme",r.theme):l.removeAttribute("data-theme"),typeof r.animation=="string"?l.setAttribute("data-animation",r.animation):l.removeAttribute("data-animation"),r.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof r.maxWidth=="number"?r.maxWidth+"px":r.maxWidth,r.role?l.setAttribute("role",r.role):l.removeAttribute("role"),(o.content!==r.content||o.allowHTML!==r.allowHTML)&&PA(c,e.props),r.arrow?u?o.arrow!==r.arrow&&(l.removeChild(u),l.appendChild(LA(r.arrow))):l.appendChild(LA(r.arrow)):u&&l.removeChild(u)}return{popper:t,onUpdate:s}}MT.$$tippy=!0;var lve=1,Af=[],xb=[];function cve(e,t){var i=$A(e,Object.assign({},es,ST(MA(t)))),n,s,o,r=!1,a=!1,l=!1,c=!1,u,h,m,g=[],v=SA(W,i.interactiveDebounce),_,w=lve++,A=null,L=Bye(i.plugins),N={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},M={id:w,reference:e,popper:cu(),popperInstance:A,props:i,state:N,plugins:L,clearDelayTimeouts:Ze,setProps:ct,setContent:kt,show:It,hide:Ci,hideWithInteractivity:ki,enable:xe,disable:ze,unmount:nn,destroy:sn};if(!i.render)return iv(!0,"render() function has not been supplied."),M;var P=i.render(M),F=P.popper,K=P.onUpdate;F.setAttribute("data-tippy-root",""),F.id="tippy-"+M.id,M.popper=F,e._tippy=M,F._tippy=M;var se=L.map(function(ce){return ce.fn(M)}),j=e.hasAttribute("aria-expanded");return zt(),de(),ee(),G("onCreate",[M]),i.showOnCreate&&ye(),F.addEventListener("mouseenter",function(){M.props.interactive&&M.state.isVisible&&M.clearDelayTimeouts()}),F.addEventListener("mouseleave",function(){M.props.interactive&&M.props.trigger.indexOf("mouseenter")>=0&&ie().addEventListener("mousemove",v)}),M;function V(){var ce=M.props.touch;return Array.isArray(ce)?ce:[ce,0]}function z(){return V()[0]==="hold"}function Z(){var ce;return!!((ce=M.props.render)!=null&&ce.$$tippy)}function le(){return _||e}function ie(){var ce=le().parentNode;return ce?Kye(ce):document}function re(){return sv(F)}function te(ce){return M.state.isMounted&&!M.state.isVisible||go.isTouch||u&&u.type==="focus"?0:kb(M.props.delay,ce?0:1,es.delay)}function ee(ce){ce===void 0&&(ce=!1),F.style.pointerEvents=M.props.interactive&&!ce?"":"none",F.style.zIndex=""+M.props.zIndex}function G(ce,Pe,De){if(De===void 0&&(De=!0),se.forEach(function(St){St[ce]&&St[ce].apply(St,Pe)}),De){var ft;(ft=M.props)[ce].apply(ft,Pe)}}function U(){var ce=M.props.aria;if(ce.content){var Pe="aria-"+ce.content,De=F.id,ft=gc(M.props.triggerTarget||e);ft.forEach(function(St){var Ui=St.getAttribute(Pe);if(M.state.isVisible)St.setAttribute(Pe,Ui?Ui+" "+De:De);else{var Tn=Ui&&Ui.replace(De,"").trim();Tn?St.setAttribute(Pe,Tn):St.removeAttribute(Pe)}})}}function de(){if(!(j||!M.props.aria.expanded)){var ce=gc(M.props.triggerTarget||e);ce.forEach(function(Pe){M.props.interactive?Pe.setAttribute("aria-expanded",M.state.isVisible&&Pe===le()?"true":"false"):Pe.removeAttribute("aria-expanded")})}}function Se(){ie().removeEventListener("mousemove",v),Af=Af.filter(function(ce){return ce!==v})}function Te(ce){if(!(go.isTouch&&(l||ce.type==="mousedown"))){var Pe=ce.composedPath&&ce.composedPath()[0]||ce.target;if(!(M.props.interactive&&OA(F,Pe))){if(gc(M.props.triggerTarget||e).some(function(De){return OA(De,Pe)})){if(go.isTouch||M.state.isVisible&&M.props.trigger.indexOf("click")>=0)return}else G("onClickOutside",[M,ce]);M.props.hideOnClick===!0&&(M.clearDelayTimeouts(),M.hide(),a=!0,setTimeout(function(){a=!1}),M.state.isMounted||Le())}}}function Ne(){l=!0}function Ue(){l=!1}function gt(){var ce=ie();ce.addEventListener("mousedown",Te,!0),ce.addEventListener("touchend",Te,Ja),ce.addEventListener("touchstart",Ue,Ja),ce.addEventListener("touchmove",Ne,Ja)}function Le(){var ce=ie();ce.removeEventListener("mousedown",Te,!0),ce.removeEventListener("touchend",Te,Ja),ce.removeEventListener("touchstart",Ue,Ja),ce.removeEventListener("touchmove",Ne,Ja)}function We(ce,Pe){Pt(ce,function(){!M.state.isVisible&&F.parentNode&&F.parentNode.contains(F)&&Pe()})}function ht(ce,Pe){Pt(ce,Pe)}function Pt(ce,Pe){var De=re().box;function ft(St){St.target===De&&(Sb(De,"remove",ft),Pe())}if(ce===0)return Pe();Sb(De,"remove",h),Sb(De,"add",ft),h=ft}function Tt(ce,Pe,De){De===void 0&&(De=!1);var ft=gc(M.props.triggerTarget||e);ft.forEach(function(St){St.addEventListener(ce,Pe,De),g.push({node:St,eventType:ce,handler:Pe,options:De})})}function zt(){z()&&(Tt("touchstart",H,{passive:!0}),Tt("touchend",oe,{passive:!0})),Nye(M.props.trigger).forEach(function(ce){if(ce!=="manual")switch(Tt(ce,H),ce){case"mouseenter":Tt("mouseleave",oe);break;case"focus":Tt(Qye?"focusout":"blur",ve);break;case"focusin":Tt("focusout",ve);break}})}function yi(){g.forEach(function(ce){var Pe=ce.node,De=ce.eventType,ft=ce.handler,St=ce.options;Pe.removeEventListener(De,ft,St)}),g=[]}function H(ce){var Pe,De=!1;if(!(!M.state.isEnabled||he(ce)||a)){var ft=((Pe=u)==null?void 0:Pe.type)==="focus";u=ce,_=ce.currentTarget,de(),!M.state.isVisible&&Uye(ce)&&Af.forEach(function(St){return St(ce)}),ce.type==="click"&&(M.props.trigger.indexOf("mouseenter")<0||r)&&M.props.hideOnClick!==!1&&M.state.isVisible?De=!0:ye(ce),ce.type==="click"&&(r=!De),De&&!ft&&Ve(ce)}}function W(ce){var Pe=ce.target,De=le().contains(Pe)||F.contains(Pe);if(!(ce.type==="mousemove"&&De)){var ft=be().concat(F).map(function(St){var Ui,Tn=St._tippy,No=(Ui=Tn.popperInstance)==null?void 0:Ui.state;return No?{popperRect:St.getBoundingClientRect(),popperState:No,props:i}:null}).filter(Boolean);Gye(ft,ce)&&(Se(),Ve(ce))}}function oe(ce){var Pe=he(ce)||M.props.trigger.indexOf("click")>=0&&r;if(!Pe){if(M.props.interactive){M.hideWithInteractivity(ce);return}Ve(ce)}}function ve(ce){M.props.trigger.indexOf("focusin")<0&&ce.target!==le()||M.props.interactive&&ce.relatedTarget&&F.contains(ce.relatedTarget)||Ve(ce)}function he(ce){return go.isTouch?z()!==ce.type.indexOf("touch")>=0:!1}function ge(){Me();var ce=M.props,Pe=ce.popperOptions,De=ce.placement,ft=ce.offset,St=ce.getReferenceClientRect,Ui=ce.moveTransition,Tn=Z()?sv(F).arrow:null,No=St?{getBoundingClientRect:St,contextElement:St.contextElement||le()}:e,ad={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Rl){var Ir=Rl.state;if(Z()){var ph=re(),cd=ph.box;["placement","reference-hidden","escaped"].forEach(function(Hl){Hl==="placement"?cd.setAttribute("data-placement",Ir.placement):Ir.attributes.popper["data-popper-"+Hl]?cd.setAttribute("data-"+Hl,""):cd.removeAttribute("data-"+Hl)}),Ir.attributes.popper={}}}},Bo=[{name:"offset",options:{offset:ft}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ui}},ad];Z()&&Tn&&Bo.push({name:"arrow",options:{element:Tn,padding:3}}),Bo.push.apply(Bo,(Pe==null?void 0:Pe.modifiers)||[]),M.popperInstance=Dye(No,F,Object.assign({},Pe,{placement:De,onFirstUpdate:m,modifiers:Bo}))}function Me(){M.popperInstance&&(M.popperInstance.destroy(),M.popperInstance=null)}function we(){var ce=M.props.appendTo,Pe,De=le();M.props.interactive&&ce===_T||ce==="parent"?Pe=De.parentNode:Pe=wT(ce,[De]),Pe.contains(F)||Pe.appendChild(F),M.state.isMounted=!0,ge(),lr(M.props.interactive&&ce===es.appendTo&&De.nextElementSibling!==F,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function be(){return Xp(F.querySelectorAll("[data-tippy-root]"))}function ye(ce){M.clearDelayTimeouts(),ce&&G("onTrigger",[M,ce]),gt();var Pe=te(!0),De=V(),ft=De[0],St=De[1];go.isTouch&&ft==="hold"&&St&&(Pe=St),Pe?n=setTimeout(function(){M.show()},Pe):M.show()}function Ve(ce){if(M.clearDelayTimeouts(),G("onUntrigger",[M,ce]),!M.state.isVisible){Le();return}if(!(M.props.trigger.indexOf("mouseenter")>=0&&M.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ce.type)>=0&&r)){var Pe=te(!1);Pe?s=setTimeout(function(){M.state.isVisible&&M.hide()},Pe):o=requestAnimationFrame(function(){M.hide()})}}function xe(){M.state.isEnabled=!0}function ze(){M.hide(),M.state.isEnabled=!1}function Ze(){clearTimeout(n),clearTimeout(s),cancelAnimationFrame(o)}function ct(ce){if(lr(M.state.isDestroyed,lc("setProps")),!M.state.isDestroyed){G("onBeforeUpdate",[M,ce]),yi();var Pe=M.props,De=$A(e,Object.assign({},Pe,MA(ce),{ignoreAttributes:!0}));M.props=De,zt(),Pe.interactiveDebounce!==De.interactiveDebounce&&(Se(),v=SA(W,De.interactiveDebounce)),Pe.triggerTarget&&!De.triggerTarget?gc(Pe.triggerTarget).forEach(function(ft){ft.removeAttribute("aria-expanded")}):De.triggerTarget&&e.removeAttribute("aria-expanded"),de(),ee(),K&&K(Pe,De),M.popperInstance&&(ge(),be().forEach(function(ft){requestAnimationFrame(ft._tippy.popperInstance.forceUpdate)})),G("onAfterUpdate",[M,ce])}}function kt(ce){M.setProps({content:ce})}function It(){lr(M.state.isDestroyed,lc("show"));var ce=M.state.isVisible,Pe=M.state.isDestroyed,De=!M.state.isEnabled,ft=go.isTouch&&!M.props.touch,St=kb(M.props.duration,0,es.duration);if(!(ce||Pe||De||ft)&&!le().hasAttribute("disabled")&&(G("onShow",[M],!1),M.props.onShow(M)!==!1)){if(M.state.isVisible=!0,Z()&&(F.style.visibility="visible"),ee(),gt(),M.state.isMounted||(F.style.transition="none"),Z()){var Ui=re(),Tn=Ui.box,No=Ui.content;Ab([Tn,No],0)}m=function(){var Bo;if(!(!M.state.isVisible||c)){if(c=!0,F.offsetHeight,F.style.transition=M.props.moveTransition,Z()&&M.props.animation){var ld=re(),Rl=ld.box,Ir=ld.content;Ab([Rl,Ir],St),TA([Rl,Ir],"visible")}U(),de(),xA(xb,M),(Bo=M.popperInstance)==null||Bo.forceUpdate(),G("onMount",[M]),M.props.animation&&Z()&&ht(St,function(){M.state.isShown=!0,G("onShown",[M])})}},we()}}function Ci(){lr(M.state.isDestroyed,lc("hide"));var ce=!M.state.isVisible,Pe=M.state.isDestroyed,De=!M.state.isEnabled,ft=kb(M.props.duration,1,es.duration);if(!(ce||Pe||De)&&(G("onHide",[M],!1),M.props.onHide(M)!==!1)){if(M.state.isVisible=!1,M.state.isShown=!1,c=!1,r=!1,Z()&&(F.style.visibility="hidden"),Se(),Le(),ee(!0),Z()){var St=re(),Ui=St.box,Tn=St.content;M.props.animation&&(Ab([Ui,Tn],ft),TA([Ui,Tn],"hidden"))}U(),de(),M.props.animation?Z()&&We(ft,M.unmount):M.unmount()}}function ki(ce){lr(M.state.isDestroyed,lc("hideWithInteractivity")),ie().addEventListener("mousemove",v),xA(Af,v),v(ce)}function nn(){lr(M.state.isDestroyed,lc("unmount")),M.state.isVisible&&M.hide(),M.state.isMounted&&(Me(),be().forEach(function(ce){ce._tippy.unmount()}),F.parentNode&&F.parentNode.removeChild(F),xb=xb.filter(function(ce){return ce!==M}),M.state.isMounted=!1,G("onHidden",[M]))}function sn(){lr(M.state.isDestroyed,lc("destroy")),!M.state.isDestroyed&&(M.clearDelayTimeouts(),M.unmount(),yi(),delete e._tippy,M.state.isDestroyed=!0,G("onDestroy",[M]))}}function sd(e,t){t===void 0&&(t={});var i=es.plugins.concat(t.plugins||[]);ive(e),xT(t,i),Zye();var n=Object.assign({},t,{plugins:i}),s=qye(e);{var o=Nu(n.content),r=s.length>1;lr(o&&r,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var a=s.reduce(function(l,c){var u=c&&cve(c,n);return u&&l.push(u),l},[]);return Nu(e)?a[0]:a}sd.defaultProps=es;sd.setDefaultProps=ove;sd.currentInput=go;Object.assign({},cT,{effect:function(t){var i=t.state,n={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,n.popper),i.styles=n,i.elements.arrow&&Object.assign(i.elements.arrow.style,n.arrow)}});sd.setDefaultProps({render:MT});class dve{constructor({editor:t,element:i,view:n,tippyOptions:s={},updateDelay:o=250,shouldShow:r}){this.preventHide=!1,this.shouldShow=({view:a,state:l,from:c,to:u})=>{const{doc:h,selection:m}=l,{empty:g}=m,v=!h.textBetween(c,u).length&&H0(l.selection),_=this.element.contains(document.activeElement);return!(!(a.hasFocus()||_)||g||v||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,l)=>{const c=!(l!=null&&l.selection.eq(a.state.selection)),u=!(l!=null&&l.doc.eq(a.state.doc));!c&&!u||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,c,u,l)},this.updateDelay))},this.updateHandler=(a,l,c,u)=>{var h,m,g;const{state:v,composing:_}=a,{selection:w}=v;if(_||!l&&!c)return;this.createTooltip();const{ranges:L}=w,N=Math.min(...L.map(F=>F.$from.pos)),M=Math.max(...L.map(F=>F.$to.pos));if(!((h=this.shouldShow)===null||h===void 0?void 0:h.call(this,{editor:this.editor,element:this.element,view:a,state:v,oldState:u,from:N,to:M}))){this.hide();return}(m=this.tippy)===null||m===void 0||m.setProps({getReferenceClientRect:((g=this.tippyOptions)===null||g===void 0?void 0:g.getReferenceClientRect)||(()=>{if(oT(v.selection)){let F=a.nodeDOM(N);if(F){const K=F.dataset.nodeViewWrapper?F:F.querySelector("[data-node-view-wrapper]");if(K&&(F=K.firstChild),F)return F.getBoundingClientRect()}}return rT(a,N,M)})}),this.show()},this.editor=t,this.element=i,this.view=n,this.updateDelay=o,r&&(this.shouldShow=r),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=s,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,i=!!t.parentElement;this.tippy||!i||(this.tippy=sd(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,i){const{state:n}=t,s=n.selection.from!==n.selection.to;if(this.updateDelay>0&&s){this.handleDebouncedUpdate(t,i);return}const o=!(i!=null&&i.selection.eq(t.state.selection)),r=!(i!=null&&i.doc.eq(t.state.doc));this.updateHandler(t,o,r,i)}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,i;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(i=this.tippy)===null||i===void 0||i.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const TT=e=>new bi({key:typeof e.pluginKey=="string"?new Pi(e.pluginKey):e.pluginKey,view:t=>new dve({view:t,...e})});Oi.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[TT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class uve{getTextContent(t){return nT(t,{textSerializers:D0(this.editor.schema)})}constructor({editor:t,element:i,view:n,tippyOptions:s={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:r,state:a})=>{const{selection:l}=a,{$anchor:c,empty:u}=l,h=c.depth===1,m=c.parent.isTextblock&&!c.parent.type.spec.code&&!c.parent.textContent&&c.parent.childCount===0&&!this.getTextContent(c.parent);return!(!r.hasFocus()||!u||!h||!m||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:r})=>{var a;if(this.preventHide){this.preventHide=!1;return}r!=null&&r.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(r.relatedTarget))||(r==null?void 0:r.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=r=>{this.blurHandler({event:r})},this.editor=t,this.element=i,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=s,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,i=!!t.parentElement;this.tippy||!i||(this.tippy=sd(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,i){var n,s,o;const{state:r}=t,{doc:a,selection:l}=r,{from:c,to:u}=l;if(i&&i.doc.eq(a)&&i.selection.eq(l))return;if(this.createTooltip(),!((n=this.shouldShow)===null||n===void 0?void 0:n.call(this,{editor:this.editor,view:t,state:r,oldState:i}))){this.hide();return}(s=this.tippy)===null||s===void 0||s.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>rT(t,c,u))}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,i;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(i=this.tippy)===null||i===void 0||i.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const OT=e=>new bi({key:typeof e.pluginKey=="string"?new Pi(e.pluginKey):e.pluginKey,view:t=>new uve({view:t,...e})});Oi.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[OT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});const hve=zm({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const i=He(null);return ls(()=>{const{updateDelay:n,editor:s,pluginKey:o,shouldShow:r,tippyOptions:a}=e;s.registerPlugin(TT({updateDelay:n,editor:s,element:i.value,pluginKey:o,shouldShow:r,tippyOptions:a}))}),vl(()=>{const{pluginKey:n,editor:s}=e;s.unregisterPlugin(n)}),()=>{var n;return Um("div",{ref:i},(n=t.default)===null||n===void 0?void 0:n.call(t))}}});function DA(e){return nP((t,i)=>({get(){return t(),e},set(n){e=n,requestAnimationFrame(()=>{requestAnimationFrame(()=>{i()})})}}))}class fve extends Obe{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=DA(this.view.state),this.reactiveExtensionStorage=DA(this.extensionStorage),this.on("beforeTransaction",({nextState:i})=>{this.reactiveState.value=i,this.reactiveExtensionStorage.value=this.extensionStorage}),ur(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,i){const n=super.registerPlugin(t,i);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(t){const i=super.unregisterPlugin(t);return this.reactiveState&&i&&(this.reactiveState.value=i),i}}const pve=zm({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=He(),i=ed();return A9(()=>{const n=e.editor;n&&n.options.element&&t.value&&Dn(()=>{if(!t.value||!n.options.element.firstChild)return;const s=As(t.value);t.value.append(...n.options.element.childNodes),n.contentComponent=i.ctx._,i&&(n.appContext={...i.appContext,provides:i.provides}),n.setOptions({element:s}),n.createNodeViews()})}),vl(()=>{const n=e.editor;n&&(n.contentComponent=null,n.appContext=null)}),{rootEl:t}},render(){return Um("div",{ref:e=>{this.rootEl=e}})}}),RA=zm({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const i=He(null);return ls(()=>{const{pluginKey:n,editor:s,tippyOptions:o,shouldShow:r}=e;s.registerPlugin(OT({pluginKey:n,editor:s,element:i.value,tippyOptions:o,shouldShow:r}))}),vl(()=>{const{pluginKey:n,editor:s}=e;s.unregisterPlugin(n)}),()=>{var n;return Um("div",{ref:i},(n=t.default)===null||n===void 0?void 0:n.call(t))}}}),mve={name:"AposTiptapTableControls",props:{editor:{type:Object,required:!0}},computed:{actions(){return[{command:"addRowAfter",label:"apostrophe:addRowAfter",icon:"table-row-plus-after-icon",iconSize:20},{command:"addColumnAfter",label:"apostrophe:addColumnAfter",icon:"table-column-plus-after-icon",iconSize:20},{command:"deleteRow",label:"apostrophe:deleteRow",icon:"table-row-remove-icon",iconSize:20},{command:"deleteColumn",label:"apostrophe:deleteColumn",icon:"table-column-remove-icon",iconSize:20},{command:"mergeCells",label:"apostrophe:mergeCells",icon:"table-merge-cells-icon",iconSize:20},{command:"splitCell",label:"apostrophe:splitCell",icon:"table-split-cell-icon",iconSize:20},{command:"toggleHeaderColumn",label:"apostrophe:toggleHeaderColumn",icon:"table-column-icon",iconSize:20},{command:"toggleHeaderRow",label:"apostrophe:toggleHeaderRow",icon:"table-row-icon",iconSize:20},{command:"insertTable",label:"apostrophe:insertTable",icon:"table-plus-icon",iconSize:20},{command:"deleteTable",label:"apostrophe:deleteTable",icon:"table-minus-icon",iconSize:20}].filter(e=>this.editor.can()[e.command]())}}},gve={class:"apos-rich-text-toolbar__inner"};function bve(e,t,i,n,s,o){const r=O("AposTiptapButton"),a=O("AposContextMenuDialog");return p(),R(a,{"menu-placement":"top","class-list":"apos-rich-text-toolbar","has-tip":!1},{default:Q(()=>[k("div",gve,[(p(!0),y(Ce,null,Ie(o.actions,(l,c)=>(p(),R(r,{key:l.label+"-"+c,name:l.label,tool:l,editor:i.editor},null,8,["name","tool","editor"]))),128))])]),_:1})}const ET=I(mve,[["render",bve],["__scopeId","data-v-e716e060"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapTableControls.vue"]]),yve=/^\s*>\s$/,vve=ji.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Hu({find:yve,type:this.type})]}}),_ve=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,wve=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Cve=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,kve=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Ave=Mn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ml({find:_ve,type:this.type}),Ml({find:Cve,type:this.type})]},addPasteRules(){return[ka({find:wve,type:this.type}),ka({find:kve,type:this.type})]}}),Sve="listItem",HA="textStyle",VA=/^\s*([-+*])\s$/,xve=ji.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Sve,this.editor.getAttributes(HA)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Hu({find:VA,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Hu({find:VA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(HA),editor:this.editor})),[e]}}),Mve=/(^|[^`])`([^`]+)`(?!`)/,Tve=/(^|[^`])`([^`]+)`(?!`)/g,Ove=Mn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ml({find:Mve,type:this.type})]},addPasteRules(){return[ka({find:Tve,type:this.type})]}}),Eve=/^```([a-z]+)?[\s\n]$/,Ive=/^~~~([a-z]+)?[\s\n]$/,$ve=ji.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:i}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(r=>r.startsWith(i)).map(r=>r.replace(i,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",qt(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,i=t.pos===1;return!e||t.parent.type.name!==this.name?!1:i||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:i}=t,{$from:n,empty:s}=i;if(!s||n.parent.type!==this.type)return!1;const o=n.parentOffset===n.parent.nodeSize-2,r=n.parent.textContent.endsWith(`

`);return!o||!r?!1:e.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:i,doc:n}=t,{$from:s,empty:o}=i;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:n.nodeAt(a)?e.commands.command(({tr:c})=>(c.setSelection(ot.near(n.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[Xy({find:Eve,type:this.type,getAttributes:e=>({language:e[1]})}),Xy({find:Ive,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new bi({key:new Pi("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const i=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,o=s==null?void 0:s.mode;if(!i||!o)return!1;const{tr:r,schema:a}=e.state,l=a.text(i.replace(/\r\n?/g,`
`));return r.replaceSelectionWith(this.type.create({language:o},l)),r.selection.$from.parent.type!==this.type&&r.setSelection(Ye.near(r.doc.resolve(Math.max(0,r.selection.from-2)))),r.setMeta("paste",!0),e.dispatch(r),!0}}})]}});function Lve(e={}){return new bi({view(t){return new Pve(t,e)}})}class Pve{constructor(t,i){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=i.width)!==null&&n!==void 0?n:1,this.color=i.color===!1?void 0:i.color||"black",this.class=i.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=r=>{this[s](r)};return t.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:i})=>this.editorView.dom.removeEventListener(t,i))}update(t,i){this.cursorPos!=null&&i.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),i=!t.parent.inlineContent,n;if(i){let a=t.nodeBefore,l=t.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),h=a?u.bottom:u.top;a&&l&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",i),this.element.classList.toggle("prosemirror-dropcursor-inline",!i);let o,r;if(!s||s==document.body&&getComputedStyle(s).position=="static")o=-pageXOffset,r=-pageYOffset;else{let a=s.getBoundingClientRect();o=a.left-s.scrollLeft,r=a.top-s.scrollTop}this.element.style.left=n.left-o+"px",this.element.style.top=n.top-r+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let i=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=i&&i.inside>=0&&this.editorView.state.doc.nodeAt(i.inside),s=n&&n.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,i,t):s;if(i&&!o){let r=i.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Kx(this.editorView.state.doc,r,this.editorView.dragging.slice);a!=null&&(r=a)}this.setCursor(r),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const Dve=Oi.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Lve(this.options)]}});class pi extends ot{constructor(t){super(t,t)}map(t,i){let n=t.resolve(i.map(this.head));return pi.valid(n)?new pi(n):ot.near(n)}content(){return Ee.empty}eq(t){return t instanceof pi&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,i){if(typeof i.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new pi(t.resolve(i.pos))}getBookmark(){return new G0(this.anchor)}static valid(t){let i=t.parent;if(i.isTextblock||!Rve(t)||!Hve(t))return!1;let n=i.type.spec.allowGapCursor;if(n!=null)return n;let s=i.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,i,n=!1){e:for(;;){if(!n&&pi.valid(t))return t;let s=t.pos,o=null;for(let r=t.depth;;r--){let a=t.node(r);if(i>0?t.indexAfter(r)<a.childCount:t.index(r)>0){o=a.child(i>0?t.indexAfter(r):t.index(r)-1);break}else if(r==0)return null;s+=i;let l=t.doc.resolve(s);if(pi.valid(l))return l}for(;;){let r=i>0?o.firstChild:o.lastChild;if(!r){if(o.isAtom&&!o.isText&&!Ke.isSelectable(o)){t=t.doc.resolve(s+o.nodeSize*i),n=!1;continue e}break}o=r,s+=i;let a=t.doc.resolve(s);if(pi.valid(a))return a}return null}}}pi.prototype.visible=!1;pi.findFrom=pi.findGapCursorFrom;ot.jsonID("gapcursor",pi);class G0{constructor(t){this.pos=t}map(t){return new G0(t.map(this.pos))}resolve(t){let i=t.resolve(this.pos);return pi.valid(i)?new pi(i):ot.near(i)}}function Rve(e){for(let t=e.depth;t>=0;t--){let i=e.index(t),n=e.node(t);if(i==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(i-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Hve(e){for(let t=e.depth;t>=0;t--){let i=e.indexAfter(t),n=e.node(t);if(i==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(i);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Vve(){return new bi({props:{decorations:Fve,createSelectionBetween(e,t,i){return t.pos==i.pos&&pi.valid(i)?new pi(i):null},handleClick:Nve,handleKeyDown:zve,handleDOMEvents:{beforeinput:Bve}}})}const zve=M0({ArrowLeft:Sf("horiz",-1),ArrowRight:Sf("horiz",1),ArrowUp:Sf("vert",-1),ArrowDown:Sf("vert",1)});function Sf(e,t){const i=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,s,o){let r=n.selection,a=t>0?r.$to:r.$from,l=r.empty;if(r instanceof Ye){if(!o.endOfTextblock(i)||a.depth==0)return!1;l=!1,a=n.doc.resolve(t>0?a.after():a.before())}let c=pi.findGapCursorFrom(a,t,l);return c?(s&&s(n.tr.setSelection(new pi(c))),!0):!1}}function Nve(e,t,i){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!pi.valid(n))return!1;let s=e.posAtCoords({left:i.clientX,top:i.clientY});return s&&s.inside>-1&&Ke.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new pi(n))),!0)}function Bve(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof pi))return!1;let{$from:i}=e.state.selection,n=i.parent.contentMatchAt(i.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let s=me.empty;for(let r=n.length-1;r>=0;r--)s=me.from(n[r].createAndFill(null,s));let o=e.state.tr.replace(i.pos,i.pos,new Ee(s,0,0));return o.setSelection(Ye.near(o.doc.resolve(i.pos+1))),e.dispatch(o),!1}function Fve(e){if(!(e.selection instanceof pi))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",li.create(e.doc,[fn.widget(e.selection.head,t,{key:"gapcursor"})])}const jve=Oi.create({name:"gapCursor",addProseMirrorPlugins(){return[Vve()]},extendNodeSchema(e){var t;const i={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Ct(Be(e,"allowGapCursor",i)))!==null&&t!==void 0?t:null}}}),Uve=ji.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",qt(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:i,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:s,storedMarks:o}=i;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:r}=this.options,{splittableMarks:a}=n.extensionManager,l=o||s.$to.parentOffset&&s.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&r){const h=l.filter(m=>a.includes(m.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var Qp=200,Bi=function(){};Bi.prototype.append=function(t){return t.length?(t=Bi.from(t),!this.length&&t||t.length<Qp&&this.leafAppend(t)||this.length<Qp&&t.leafPrepend(this)||this.appendInner(t)):this};Bi.prototype.prepend=function(t){return t.length?Bi.from(t).append(this):this};Bi.prototype.appendInner=function(t){return new Wve(this,t)};Bi.prototype.slice=function(t,i){return t===void 0&&(t=0),i===void 0&&(i=this.length),t>=i?Bi.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,i))};Bi.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Bi.prototype.forEach=function(t,i,n){i===void 0&&(i=0),n===void 0&&(n=this.length),i<=n?this.forEachInner(t,i,n,0):this.forEachInvertedInner(t,i,n,0)};Bi.prototype.map=function(t,i,n){i===void 0&&(i=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(o,r){return s.push(t(o,r))},i,n),s};Bi.from=function(t){return t instanceof Bi?t:t&&t.length?new IT(t):Bi.empty};var IT=function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new t(this.values.slice(s,o))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,o,r,a){for(var l=o;l<r;l++)if(s(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(s,o,r,a){for(var l=o-1;l>=r;l--)if(s(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=Qp)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=Qp)return new t(s.flatten().concat(this.values))},i.length.get=function(){return this.values.length},i.depth.get=function(){return 0},Object.defineProperties(t.prototype,i),t}(Bi);Bi.empty=new IT([]);var Wve=function(e){function t(i,n){e.call(this),this.left=i,this.right=n,this.length=i.length+n.length,this.depth=Math.max(i.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,s,o,r){var a=this.left.length;if(s<a&&this.left.forEachInner(n,s,Math.min(o,a),r)===!1||o>a&&this.right.forEachInner(n,Math.max(s-a,0),Math.min(this.length,o)-a,r+a)===!1)return!1},t.prototype.forEachInvertedInner=function(n,s,o,r){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(n,s-a,Math.max(o,a)-a,r+a)===!1||o<a&&this.left.forEachInvertedInner(n,Math.min(s,a),o,r)===!1)return!1},t.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(n,s):n>=o?this.right.slice(n-o,s-o):this.left.slice(n,o).append(this.right.slice(0,s-o))},t.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new t(s,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(Bi);const qve=500;class qs{constructor(t,i){this.items=t,this.eventCount=i}popEvent(t,i){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,o;i&&(s=this.remapping(n,this.items.length),o=s.maps.length);let r=t.tr,a,l,c=[],u=[];return this.items.forEach((h,m)=>{if(!h.step){s||(s=this.remapping(n,m+1),o=s.maps.length),o--,u.push(h);return}if(s){u.push(new ho(h.map));let g=h.step.map(s.slice(o)),v;g&&r.maybeStep(g).doc&&(v=r.mapping.maps[r.mapping.maps.length-1],c.push(new ho(v,void 0,void 0,c.length+u.length))),o--,v&&s.appendMap(v,o)}else r.maybeStep(h.step);if(h.selection)return a=s?h.selection.map(s.slice(o)):h.selection,l=new qs(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:r,selection:a}}addTransform(t,i,n,s){let o=[],r=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let h=t.steps[u].invert(t.docs[u]),m=new ho(t.mapping.maps[u],h,i),g;(g=l&&l.merge(m))&&(m=g,u?o.pop():a=a.slice(0,a.length-1)),o.push(m),i&&(r++,i=void 0),s||(l=m)}let c=r-n.depth;return c>Gve&&(a=Kve(a,c),r-=c),new qs(a.append(o),r)}remapping(t,i){let n=new xc;return this.items.forEach((s,o)=>{let r=s.mirrorOffset!=null&&o-s.mirrorOffset>=t?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,r)},t,i),n}addMaps(t){return this.eventCount==0?this:new qs(this.items.append(t.map(i=>new ho(i))),this.eventCount)}rebased(t,i){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-i),o=t.mapping,r=t.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},s);let l=i;this.items.forEach(m=>{let g=o.getMirror(--l);if(g==null)return;r=Math.min(r,g);let v=o.maps[g];if(m.step){let _=t.steps[g].invert(t.docs[g]),w=m.selection&&m.selection.map(o.slice(l+1,g));w&&a++,n.push(new ho(v,_,w))}else n.push(new ho(v))},s);let c=[];for(let m=i;m<r;m++)c.push(new ho(o.maps[m]));let u=this.items.slice(0,s).append(c).append(n),h=new qs(u,a);return h.emptyItemCount()>qve&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let t=0;return this.items.forEach(i=>{i.step||t++}),t}compress(t=this.items.length){let i=this.remapping(0,t),n=i.maps.length,s=[],o=0;return this.items.forEach((r,a)=>{if(a>=t)s.push(r),r.selection&&o++;else if(r.step){let l=r.step.map(i.slice(n)),c=l&&l.getMap();if(n--,c&&i.appendMap(c,n),l){let u=r.selection&&r.selection.map(i.slice(n));u&&o++;let h=new ho(c.invert(),l,u),m,g=s.length-1;(m=s.length&&s[g].merge(h))?s[g]=m:s.push(h)}}else r.map&&n--},this.items.length,0),new qs(Bi.from(s.reverse()),o)}}qs.empty=new qs(Bi.empty,0);function Kve(e,t){let i;return e.forEach((n,s)=>{if(n.selection&&t--==0)return i=s,!1}),e.slice(i)}class ho{constructor(t,i,n,s){this.map=t,this.step=i,this.selection=n,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let i=t.step.merge(this.step);if(i)return new ho(i.getMap().invert(),i,this.selection)}}}class Zr{constructor(t,i,n,s,o){this.done=t,this.undone=i,this.prevRanges=n,this.prevTime=s,this.prevComposition=o}}const Gve=20;function Jve(e,t,i,n){let s=i.getMeta(pl),o;if(s)return s.historyState;i.getMeta(Xve)&&(e=new Zr(e.done,e.undone,null,0,-1));let r=i.getMeta("appendedTransaction");if(i.steps.length==0)return e;if(r&&r.getMeta(pl))return r.getMeta(pl).redo?new Zr(e.done.addTransform(i,void 0,n,lp(t)),e.undone,zA(i.mapping.maps),e.prevTime,e.prevComposition):new Zr(e.done,e.undone.addTransform(i,void 0,n,lp(t)),null,e.prevTime,e.prevComposition);if(i.getMeta("addToHistory")!==!1&&!(r&&r.getMeta("addToHistory")===!1)){let a=i.getMeta("composition"),l=e.prevTime==0||!r&&e.prevComposition!=a&&(e.prevTime<(i.time||0)-n.newGroupDelay||!Yve(i,e.prevRanges)),c=r?Mb(e.prevRanges,i.mapping):zA(i.mapping.maps);return new Zr(e.done.addTransform(i,l?t.selection.getBookmark():void 0,n,lp(t)),qs.empty,c,i.time,a??e.prevComposition)}else return(o=i.getMeta("rebased"))?new Zr(e.done.rebased(i,o),e.undone.rebased(i,o),Mb(e.prevRanges,i.mapping),e.prevTime,e.prevComposition):new Zr(e.done.addMaps(i.mapping.maps),e.undone.addMaps(i.mapping.maps),Mb(e.prevRanges,i.mapping),e.prevTime,e.prevComposition)}function Yve(e,t){if(!t)return!1;if(!e.docChanged)return!0;let i=!1;return e.mapping.maps[0].forEach((n,s)=>{for(let o=0;o<t.length;o+=2)n<=t[o+1]&&s>=t[o]&&(i=!0)}),i}function zA(e){let t=[];for(let i=e.length-1;i>=0&&t.length==0;i--)e[i].forEach((n,s,o,r)=>t.push(o,r));return t}function Mb(e,t){if(!e)return null;let i=[];for(let n=0;n<e.length;n+=2){let s=t.map(e[n],1),o=t.map(e[n+1],-1);s<=o&&i.push(s,o)}return i}function Zve(e,t,i){let n=lp(t),s=pl.get(t).spec.config,o=(i?e.undone:e.done).popEvent(t,n);if(!o)return null;let r=o.selection.resolve(o.transform.doc),a=(i?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),s,n),l=new Zr(i?a:o.remaining,i?o.remaining:a,null,0,-1);return o.transform.setSelection(r).setMeta(pl,{redo:i,historyState:l})}let Tb=!1,NA=null;function lp(e){let t=e.plugins;if(NA!=t){Tb=!1,NA=t;for(let i=0;i<t.length;i++)if(t[i].spec.historyPreserveItems){Tb=!0;break}}return Tb}const pl=new Pi("history"),Xve=new Pi("closeHistory");function Qve(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new bi({key:pl,state:{init(){return new Zr(qs.empty,qs.empty,null,0,-1)},apply(t,i,n){return Jve(i,n,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,i){let n=i.inputType,s=n=="historyUndo"?LT:n=="historyRedo"?PT:null;return s?(i.preventDefault(),s(t.state,t.dispatch)):!1}}}})}function $T(e,t){return(i,n)=>{let s=pl.getState(i);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(n){let o=Zve(s,i,e);o&&n(t?o.scrollIntoView():o)}return!0}}const LT=$T(!1,!0),PT=$T(!0,!0),e0e=Oi.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>LT(e,t),redo:()=>({state:e,dispatch:t})=>PT(e,t)}},addProseMirrorPlugins(){return[Qve(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),t0e=ji.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",qt(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{const{selection:i}=t,{$from:n,$to:s}=i,o=e();return n.parentOffset===0?o.insertContentAt({from:Math.max(n.pos-1,0),to:s.pos},{type:this.name}):oT(i)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:r,dispatch:a})=>{var l;if(a){const{$to:c}=r.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?r.setSelection(Ye.create(r.doc,c.pos+1)):c.nodeAfter.isBlock?r.setSelection(Ke.create(r.doc,c.pos)):r.setSelection(Ye.create(r.doc,c.pos));else{const h=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();h&&(r.insert(u,h),r.setSelection(Ye.create(r.doc,u+1)))}r.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Ebe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),i0e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,n0e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,s0e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,o0e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,r0e=Mn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ml({find:i0e,type:this.type}),Ml({find:s0e,type:this.type})]},addPasteRules(){return[ka({find:n0e,type:this.type}),ka({find:o0e,type:this.type})]}}),a0e="listItem",BA="textStyle",FA=/^(\d+)\.\s$/,l0e=ji.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...i}=e;return t===1?["ol",qt(this.options.HTMLAttributes,i),0]:["ol",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(a0e,this.editor.getAttributes(BA)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Hu({find:FA,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,i)=>i.childCount+i.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Hu({find:FA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(BA)}),joinPredicate:(t,i)=>i.childCount+i.attrs.start===+t[1],editor:this.editor})),[e]}}),DT=ji.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),c0e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,d0e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,u0e=Mn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ml({find:c0e,type:this.type})]},addPasteRules(){return[ka({find:d0e,type:this.type})]}}),h0e=ji.create({name:"text",group:"inline"}),f0e=Oi.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(i=>t.updateAttributes(i,{textAlign:e})).every(i=>i):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),p0e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,m0e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,g0e=Mn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Ml({find:p0e,type:this.type})]},addPasteRules(){return[ka({find:m0e,type:this.type})]}}),b0e=Mn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),y0e=Mn.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),v0e=Mn.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}});var ov,rv;if(typeof WeakMap<"u"){let e=new WeakMap;ov=t=>e.get(t),rv=(t,i)=>(e.set(t,i),i)}else{const e=[];let i=0;ov=n=>{for(let s=0;s<e.length;s+=2)if(e[s]==n)return e[s+1]},rv=(n,s)=>(i==10&&(i=0),e[i++]=n,e[i++]=s)}var mi=class{constructor(e,t,i,n){this.width=e,this.height=t,this.map=i,this.problems=n}findCell(e){for(let t=0;t<this.map.length;t++){const i=this.map[t];if(i!=e)continue;const n=t%this.width,s=t/this.width|0;let o=n+1,r=s+1;for(let a=1;o<this.width&&this.map[t+a]==i;a++)o++;for(let a=1;r<this.height&&this.map[t+this.width*a]==i;a++)r++;return{left:n,top:s,right:o,bottom:r}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,i){const{left:n,right:s,top:o,bottom:r}=this.findCell(e);return t=="horiz"?(i<0?n==0:s==this.width)?null:this.map[o*this.width+(i<0?n-1:s)]:(i<0?o==0:r==this.height)?null:this.map[n+this.width*(i<0?o-1:r)]}rectBetween(e,t){const{left:i,right:n,top:s,bottom:o}=this.findCell(e),{left:r,right:a,top:l,bottom:c}=this.findCell(t);return{left:Math.min(i,r),top:Math.min(s,l),right:Math.max(n,a),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],i={};for(let n=e.top;n<e.bottom;n++)for(let s=e.left;s<e.right;s++){const o=n*this.width+s,r=this.map[o];i[r]||(i[r]=!0,!(s==e.left&&s&&this.map[o-1]==r||n==e.top&&n&&this.map[o-this.width]==r)&&t.push(r))}return t}positionAt(e,t,i){for(let n=0,s=0;;n++){const o=s+i.child(n).nodeSize;if(n==e){let r=t+e*this.width;const a=(e+1)*this.width;for(;r<a&&this.map[r]<s;)r++;return r==a?o-1:this.map[r]}s=o}}static get(e){return ov(e)||rv(e,_0e(e))}};function _0e(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=w0e(e),i=e.childCount,n=[];let s=0,o=null;const r=[];for(let c=0,u=t*i;c<u;c++)n[c]=0;for(let c=0,u=0;c<i;c++){const h=e.child(c);u++;for(let v=0;;v++){for(;s<n.length&&n[s]!=0;)s++;if(v==h.childCount)break;const _=h.child(v),{colspan:w,rowspan:A,colwidth:L}=_.attrs;for(let N=0;N<A;N++){if(N+c>=i){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:A-N});break}const M=s+N*t;for(let P=0;P<w;P++){n[M+P]==0?n[M+P]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:w-P});const F=L&&L[P];if(F){const K=(M+P)%t*2,se=r[K];se==null||se!=F&&r[K+1]==1?(r[K]=F,r[K+1]=1):se==F&&r[K+1]++}}}s+=w,u+=_.nodeSize}const m=(c+1)*t;let g=0;for(;s<m;)n[s++]==0&&g++;g&&(o||(o=[])).push({type:"missing",row:c,n:g}),u++}const a=new mi(t,i,n,o);let l=!1;for(let c=0;!l&&c<r.length;c+=2)r[c]!=null&&r[c+1]<i&&(l=!0);return l&&C0e(a,r,e),a}function w0e(e){let t=-1,i=!1;for(let n=0;n<e.childCount;n++){const s=e.child(n);let o=0;if(i)for(let r=0;r<n;r++){const a=e.child(r);for(let l=0;l<a.childCount;l++){const c=a.child(l);r+c.attrs.rowspan>n&&(o+=c.attrs.colspan)}}for(let r=0;r<s.childCount;r++){const a=s.child(r);o+=a.attrs.colspan,a.attrs.rowspan>1&&(i=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function C0e(e,t,i){e.problems||(e.problems=[]);const n={};for(let s=0;s<e.map.length;s++){const o=e.map[s];if(n[o])continue;n[o]=!0;const r=i.nodeAt(o);if(!r)throw new RangeError(`No cell with offset ${o} found`);let a=null;const l=r.attrs;for(let c=0;c<l.colspan;c++){const u=(s+c)%e.width,h=t[u*2];h!=null&&(!l.colwidth||l.colwidth[c]!=h)&&((a||(a=k0e(l)))[c]=h)}a&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}function k0e(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let i=0;i<e.colspan;i++)t.push(0);return t}function pn(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const i in e.nodes){const n=e.nodes[i],s=n.spec.tableRole;s&&(t[s]=n)}}return t}var ia=new Pi("selectingCells");function od(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function A0e(e){for(let t=e.depth;t>0;t--){const i=e.node(t).type.spec.tableRole;if(i==="cell"||i==="header_cell")return e.node(t)}return null}function no(e){const t=e.selection.$head;for(let i=t.depth;i>0;i--)if(t.node(i).type.spec.tableRole=="row")return!0;return!1}function lg(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const i=od(t.$head)||S0e(t.$head);if(i)return i;throw new RangeError(`No cell found around position ${t.head}`)}function S0e(e){for(let t=e.nodeAfter,i=e.pos;t;t=t.firstChild,i++){const n=t.type.spec.tableRole;if(n=="cell"||n=="header_cell")return e.doc.resolve(i)}for(let t=e.nodeBefore,i=e.pos;t;t=t.lastChild,i--){const n=t.type.spec.tableRole;if(n=="cell"||n=="header_cell")return e.doc.resolve(i-t.nodeSize)}}function av(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function x0e(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function J0(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function RT(e,t,i){const n=e.node(-1),s=mi.get(n),o=e.start(-1),r=s.nextCell(e.pos-o,t,i);return r==null?null:e.node(0).resolve(o+r)}function Ol(e,t,i=1){const n={...e,colspan:e.colspan-i};return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(t,i),n.colwidth.some(s=>s>0)||(n.colwidth=null)),n}function HT(e,t,i=1){const n={...e,colspan:e.colspan+i};if(n.colwidth){n.colwidth=n.colwidth.slice();for(let s=0;s<i;s++)n.colwidth.splice(t,0,0)}return n}function M0e(e,t,i){const n=pn(t.type.schema).header_cell;for(let s=0;s<e.height;s++)if(t.nodeAt(e.map[i+s*e.width]).type!=n)return!1;return!0}var Qt=class sr extends ot{constructor(t,i=t){const n=t.node(-1),s=mi.get(n),o=t.start(-1),r=s.rectBetween(t.pos-o,i.pos-o),a=t.node(0),l=s.cellsInRect(r).filter(u=>u!=i.pos-o);l.unshift(i.pos-o);const c=l.map(u=>{const h=n.nodeAt(u);if(!h)throw RangeError(`No cell with offset ${u} found`);const m=o+u+1;return new Xx(a.resolve(m),a.resolve(m+h.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=i}map(t,i){const n=t.resolve(i.map(this.$anchorCell.pos)),s=t.resolve(i.map(this.$headCell.pos));if(av(n)&&av(s)&&J0(n,s)){const o=this.$anchorCell.node(-1)!=n.node(-1);return o&&this.isRowSelection()?sr.rowSelection(n,s):o&&this.isColSelection()?sr.colSelection(n,s):new sr(n,s)}return Ye.between(n,s)}content(){const t=this.$anchorCell.node(-1),i=mi.get(t),n=this.$anchorCell.start(-1),s=i.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},r=[];for(let l=s.top;l<s.bottom;l++){const c=[];for(let u=l*i.width+s.left,h=s.left;h<s.right;h++,u++){const m=i.map[u];if(o[m])continue;o[m]=!0;const g=i.findCell(m);let v=t.nodeAt(m);if(!v)throw RangeError(`No cell with offset ${m} found`);const _=s.left-g.left,w=g.right-s.right;if(_>0||w>0){let A=v.attrs;if(_>0&&(A=Ol(A,0,_)),w>0&&(A=Ol(A,A.colspan-w,w)),g.left<s.left){if(v=v.type.createAndFill(A),!v)throw RangeError(`Could not create cell with attrs ${JSON.stringify(A)}`)}else v=v.type.create(A,v.content)}if(g.top<s.top||g.bottom>s.bottom){const A={...v.attrs,rowspan:Math.min(g.bottom,s.bottom)-Math.max(g.top,s.top)};g.top<s.top?v=v.type.createAndFill(A):v=v.type.create(A,v.content)}c.push(v)}r.push(t.child(l).copy(me.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?t:r;return new Ee(me.from(a),1,1)}replace(t,i=Ee.empty){const n=t.steps.length,s=this.ranges;for(let r=0;r<s.length;r++){const{$from:a,$to:l}=s[r],c=t.mapping.slice(n);t.replace(c.map(a.pos),c.map(l.pos),r?Ee.empty:i)}const o=ot.findFrom(t.doc.resolve(t.mapping.slice(n).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,i){this.replace(t,new Ee(me.from(i),0,0))}forEachCell(t){const i=this.$anchorCell.node(-1),n=mi.get(i),s=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let r=0;r<o.length;r++)t(i.nodeAt(o[r]),s+o[r])}isColSelection(){const t=this.$anchorCell.index(-1),i=this.$headCell.index(-1);if(Math.min(t,i)>0)return!1;const n=t+this.$anchorCell.nodeAfter.attrs.rowspan,s=i+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,s)==this.$headCell.node(-1).childCount}static colSelection(t,i=t){const n=t.node(-1),s=mi.get(n),o=t.start(-1),r=s.findCell(t.pos-o),a=s.findCell(i.pos-o),l=t.node(0);return r.top<=a.top?(r.top>0&&(t=l.resolve(o+s.map[r.left])),a.bottom<s.height&&(i=l.resolve(o+s.map[s.width*(s.height-1)+a.right-1]))):(a.top>0&&(i=l.resolve(o+s.map[a.left])),r.bottom<s.height&&(t=l.resolve(o+s.map[s.width*(s.height-1)+r.right-1]))),new sr(t,i)}isRowSelection(){const t=this.$anchorCell.node(-1),i=mi.get(t),n=this.$anchorCell.start(-1),s=i.colCount(this.$anchorCell.pos-n),o=i.colCount(this.$headCell.pos-n);if(Math.min(s,o)>0)return!1;const r=s+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(r,a)==i.width}eq(t){return t instanceof sr&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,i=t){const n=t.node(-1),s=mi.get(n),o=t.start(-1),r=s.findCell(t.pos-o),a=s.findCell(i.pos-o),l=t.node(0);return r.left<=a.left?(r.left>0&&(t=l.resolve(o+s.map[r.top*s.width])),a.right<s.width&&(i=l.resolve(o+s.map[s.width*(a.top+1)-1]))):(a.left>0&&(i=l.resolve(o+s.map[a.top*s.width])),r.right<s.width&&(t=l.resolve(o+s.map[s.width*(r.top+1)-1]))),new sr(t,i)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,i){return new sr(t.resolve(i.anchor),t.resolve(i.head))}static create(t,i,n=i){return new sr(t.resolve(i),t.resolve(n))}getBookmark(){return new T0e(this.$anchorCell.pos,this.$headCell.pos)}};Qt.prototype.visible=!1;ot.jsonID("cell",Qt);var T0e=class VT{constructor(t,i){this.anchor=t,this.head=i}map(t){return new VT(t.map(this.anchor),t.map(this.head))}resolve(t){const i=t.resolve(this.anchor),n=t.resolve(this.head);return i.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&i.index()<i.parent.childCount&&n.index()<n.parent.childCount&&J0(i,n)?new Qt(i,n):ot.near(n,1)}};function O0e(e){if(!(e.selection instanceof Qt))return null;const t=[];return e.selection.forEachCell((i,n)=>{t.push(fn.node(n,n+i.nodeSize,{class:"selectedCell"}))}),li.create(e.doc,t)}function E0e({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let i=e.pos,n=t.pos,s=e.depth;for(;s>=0&&!(e.after(s+1)<e.end(s));s--,i++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,n--);return i==n&&/row|table/.test(e.node(s).type.spec.tableRole)}function I0e({$from:e,$to:t}){let i,n;for(let s=e.depth;s>0;s--){const o=e.node(s);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){i=o;break}}for(let s=t.depth;s>0;s--){const o=t.node(s);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}return i!==n&&t.parentOffset===0}function $0e(e,t,i){const n=(t||e).selection,s=(t||e).doc;let o,r;if(n instanceof Ke&&(r=n.node.type.spec.tableRole)){if(r=="cell"||r=="header_cell")o=Qt.create(s,n.from);else if(r=="row"){const a=s.resolve(n.from+1);o=Qt.rowSelection(a,a)}else if(!i){const a=mi.get(n.node),l=n.from+1,c=l+a.map[a.width*a.height-1];o=Qt.create(s,l+1,c)}}else n instanceof Ye&&E0e(n)?o=Ye.create(s,n.from):n instanceof Ye&&I0e(n)&&(o=Ye.create(s,n.$from.start(),n.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var L0e=new Pi("fix-tables");function zT(e,t,i,n){const s=e.childCount,o=t.childCount;e:for(let r=0,a=0;r<o;r++){const l=t.child(r);for(let c=a,u=Math.min(s,r+3);c<u;c++)if(e.child(c)==l){a=c+1,i+=l.nodeSize;continue e}n(l,i),a<s&&e.child(a).sameMarkup(l)?zT(e.child(a),l,i+1,n):l.nodesBetween(0,l.content.size,n,i+1),i+=l.nodeSize}}function NT(e,t){let i;const n=(s,o)=>{s.type.spec.tableRole=="table"&&(i=P0e(e,s,o,i))};return t?t.doc!=e.doc&&zT(t.doc,e.doc,0,n):e.doc.descendants(n),i}function P0e(e,t,i,n){const s=mi.get(t);if(!s.problems)return n;n||(n=e.tr);const o=[];for(let l=0;l<s.height;l++)o.push(0);for(let l=0;l<s.problems.length;l++){const c=s.problems[l];if(c.type=="collision"){const u=t.nodeAt(c.pos);if(!u)continue;const h=u.attrs;for(let m=0;m<h.rowspan;m++)o[c.row+m]+=c.n;n.setNodeMarkup(n.mapping.map(i+1+c.pos),null,Ol(h,h.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=t.nodeAt(c.pos);if(!u)continue;n.setNodeMarkup(n.mapping.map(i+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=t.nodeAt(c.pos);if(!u)continue;n.setNodeMarkup(n.mapping.map(i+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let r,a;for(let l=0;l<o.length;l++)o[l]&&(r==null&&(r=l),a=l);for(let l=0,c=i+1;l<s.height;l++){const u=t.child(l),h=c+u.nodeSize,m=o[l];if(m>0){let g="cell";u.firstChild&&(g=u.firstChild.type.spec.tableRole);const v=[];for(let w=0;w<m;w++){const A=pn(e.schema)[g].createAndFill();A&&v.push(A)}const _=(l==0||r==l-1)&&a==l?c+1:h-1;n.insert(n.mapping.map(_),v)}c=h}return n.setMeta(L0e,{fixTables:!0})}function zo(e){const t=e.selection,i=lg(e),n=i.node(-1),s=i.start(-1),o=mi.get(n);return{...t instanceof Qt?o.rectBetween(t.$anchorCell.pos-s,t.$headCell.pos-s):o.findCell(i.pos-s),tableStart:s,map:o,table:n}}function BT(e,{map:t,tableStart:i,table:n},s){let o=s>0?-1:0;M0e(t,n,s+o)&&(o=s==0||s==t.width?null:0);for(let r=0;r<t.height;r++){const a=r*t.width+s;if(s>0&&s<t.width&&t.map[a-1]==t.map[a]){const l=t.map[a],c=n.nodeAt(l);e.setNodeMarkup(e.mapping.map(i+l),null,HT(c.attrs,s-t.colCount(l))),r+=c.attrs.rowspan-1}else{const l=o==null?pn(n.type.schema).cell:n.nodeAt(t.map[a+o]).type,c=t.positionAt(r,s,n);e.insert(e.mapping.map(i+c),l.createAndFill())}}return e}function D0e(e,t){if(!no(e))return!1;if(t){const i=zo(e);t(BT(e.tr,i,i.left))}return!0}function R0e(e,t){if(!no(e))return!1;if(t){const i=zo(e);t(BT(e.tr,i,i.right))}return!0}function H0e(e,{map:t,table:i,tableStart:n},s){const o=e.mapping.maps.length;for(let r=0;r<t.height;){const a=r*t.width+s,l=t.map[a],c=i.nodeAt(l),u=c.attrs;if(s>0&&t.map[a-1]==l||s<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(n+l),null,Ol(u,s-t.colCount(l)));else{const h=e.mapping.slice(o).map(n+l);e.delete(h,h+c.nodeSize)}r+=u.rowspan}}function V0e(e,t){if(!no(e))return!1;if(t){const i=zo(e),n=e.tr;if(i.left==0&&i.right==i.map.width)return!1;for(let s=i.right-1;H0e(n,i,s),s!=i.left;s--){const o=i.tableStart?n.doc.nodeAt(i.tableStart-1):n.doc;if(!o)throw RangeError("No table found");i.table=o,i.map=mi.get(o)}t(n)}return!0}function z0e(e,t,i){var n;const s=pn(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((n=t.nodeAt(e.map[o+i*e.width]))==null?void 0:n.type)!=s)return!1;return!0}function FT(e,{map:t,tableStart:i,table:n},s){var o;let r=i;for(let c=0;c<s;c++)r+=n.child(c).nodeSize;const a=[];let l=s>0?-1:0;z0e(t,n,s+l)&&(l=s==0||s==t.height?null:0);for(let c=0,u=t.width*s;c<t.width;c++,u++)if(s>0&&s<t.height&&t.map[u]==t.map[u-t.width]){const h=t.map[u],m=n.nodeAt(h).attrs;e.setNodeMarkup(i+h,null,{...m,rowspan:m.rowspan+1}),c+=m.colspan-1}else{const h=l==null?pn(n.type.schema).cell:(o=n.nodeAt(t.map[u+l*t.width]))==null?void 0:o.type,m=h==null?void 0:h.createAndFill();m&&a.push(m)}return e.insert(r,pn(n.type.schema).row.create(null,a)),e}function N0e(e,t){if(!no(e))return!1;if(t){const i=zo(e);t(FT(e.tr,i,i.top))}return!0}function B0e(e,t){if(!no(e))return!1;if(t){const i=zo(e);t(FT(e.tr,i,i.bottom))}return!0}function F0e(e,{map:t,table:i,tableStart:n},s){let o=0;for(let c=0;c<s;c++)o+=i.child(c).nodeSize;const r=o+i.child(s).nodeSize,a=e.mapping.maps.length;e.delete(o+n,r+n);const l=new Set;for(let c=0,u=s*t.width;c<t.width;c++,u++){const h=t.map[u];if(!l.has(h)){if(l.add(h),s>0&&h==t.map[u-t.width]){const m=i.nodeAt(h).attrs;e.setNodeMarkup(e.mapping.slice(a).map(h+n),null,{...m,rowspan:m.rowspan-1}),c+=m.colspan-1}else if(s<t.height&&h==t.map[u+t.width]){const m=i.nodeAt(h),g=m.attrs,v=m.type.create({...g,rowspan:m.attrs.rowspan-1},m.content),_=t.positionAt(s+1,c,i);e.insert(e.mapping.slice(a).map(n+_),v),c+=g.colspan-1}}}}function j0e(e,t){if(!no(e))return!1;if(t){const i=zo(e),n=e.tr;if(i.top==0&&i.bottom==i.map.height)return!1;for(let s=i.bottom-1;F0e(n,i,s),s!=i.top;s--){const o=i.tableStart?n.doc.nodeAt(i.tableStart-1):n.doc;if(!o)throw RangeError("No table found");i.table=o,i.map=mi.get(i.table)}t(n)}return!0}function jA(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function U0e({width:e,height:t,map:i},n){let s=n.top*e+n.left,o=s,r=(n.bottom-1)*e+n.left,a=s+(n.right-n.left-1);for(let l=n.top;l<n.bottom;l++){if(n.left>0&&i[o]==i[o-1]||n.right<e&&i[a]==i[a+1])return!0;o+=e,a+=e}for(let l=n.left;l<n.right;l++){if(n.top>0&&i[s]==i[s-e]||n.bottom<t&&i[r]==i[r+e])return!0;s++,r++}return!1}function UA(e,t){const i=e.selection;if(!(i instanceof Qt)||i.$anchorCell.pos==i.$headCell.pos)return!1;const n=zo(e),{map:s}=n;if(U0e(s,n))return!1;if(t){const o=e.tr,r={};let a=me.empty,l,c;for(let u=n.top;u<n.bottom;u++)for(let h=n.left;h<n.right;h++){const m=s.map[u*s.width+h],g=n.table.nodeAt(m);if(!(r[m]||!g))if(r[m]=!0,l==null)l=m,c=g;else{jA(g)||(a=a.append(g.content));const v=o.mapping.map(m+n.tableStart);o.delete(v,v+g.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+n.tableStart,null,{...HT(c.attrs,c.attrs.colspan,n.right-n.left-c.attrs.colspan),rowspan:n.bottom-n.top}),a.size){const u=l+1+c.content.size,h=jA(c)?l+1:u;o.replaceWith(h+n.tableStart,u+n.tableStart,a)}o.setSelection(new Qt(o.doc.resolve(l+n.tableStart))),t(o)}return!0}function WA(e,t){const i=pn(e.schema);return W0e(({node:n})=>i[n.type.spec.tableRole])(e,t)}function W0e(e){return(t,i)=>{var n;const s=t.selection;let o,r;if(s instanceof Qt){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;o=s.$anchorCell.nodeAfter,r=s.$anchorCell.pos}else{if(o=A0e(s.$from),!o)return!1;r=(n=od(s.$from))==null?void 0:n.pos}if(o==null||r==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(i){let a=o.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=zo(t),h=t.tr;for(let g=0;g<u.right-u.left;g++)l.push(c?{...a,colwidth:c&&c[g]?[c[g]]:null}:a);let m;for(let g=u.top;g<u.bottom;g++){let v=u.map.positionAt(g,u.left,u.table);g==u.top&&(v+=o.nodeSize);for(let _=u.left,w=0;_<u.right;_++,w++)_==u.left&&g==u.top||h.insert(m=h.mapping.map(v+u.tableStart,1),e({node:o,row:g,col:_}).createAndFill(l[w]))}h.setNodeMarkup(r,e({node:o,row:u.top,col:u.left}),l[0]),s instanceof Qt&&h.setSelection(new Qt(h.doc.resolve(s.$anchorCell.pos),m?h.doc.resolve(m):void 0)),i(h)}return!0}}function q0e(e,t){return function(i,n){if(!no(i))return!1;const s=lg(i);if(s.nodeAfter.attrs[e]===t)return!1;if(n){const o=i.tr;i.selection instanceof Qt?i.selection.forEachCell((r,a)=>{r.attrs[e]!==t&&o.setNodeMarkup(a,null,{...r.attrs,[e]:t})}):o.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[e]:t}),n(o)}return!0}}function K0e(e){return function(t,i){if(!no(t))return!1;if(i){const n=pn(t.schema),s=zo(t),o=t.tr,r=s.map.cellsInRect(e=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:e=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),a=r.map(l=>s.table.nodeAt(l));for(let l=0;l<r.length;l++)a[l].type==n.header_cell&&o.setNodeMarkup(s.tableStart+r[l],n.cell,a[l].attrs);if(o.steps.length==0)for(let l=0;l<r.length;l++)o.setNodeMarkup(s.tableStart+r[l],n.header_cell,a[l].attrs);i(o)}return!0}}function qA(e,t,i){const n=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let s=0;s<n.length;s++){const o=t.table.nodeAt(n[s]);if(o&&o.type!==i.header_cell)return!1}return!0}function Fu(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?K0e(e):function(i,n){if(!no(i))return!1;if(n){const s=pn(i.schema),o=zo(i),r=i.tr,a=qA("row",o,s),l=qA("column",o,s),u=(e==="column"?a:e==="row"?l:!1)?1:0,h=e=="column"?{left:0,top:u,right:1,bottom:o.map.height}:e=="row"?{left:u,top:0,right:o.map.width,bottom:1}:o,m=e=="column"?l?s.cell:s.header_cell:e=="row"?a?s.cell:s.header_cell:s.cell;o.map.cellsInRect(h).forEach(g=>{const v=g+o.tableStart,_=r.doc.nodeAt(v);_&&r.setNodeMarkup(v,m,_.attrs)}),n(r)}return!0}}Fu("row",{useDeprecatedLogic:!0});Fu("column",{useDeprecatedLogic:!0});var G0e=Fu("cell",{useDeprecatedLogic:!0});function J0e(e,t){if(t<0){const i=e.nodeBefore;if(i)return e.pos-i.nodeSize;for(let n=e.index(-1)-1,s=e.before();n>=0;n--){const o=e.node(-1).child(n),r=o.lastChild;if(r)return s-1-r.nodeSize;s-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const i=e.node(-1);for(let n=e.indexAfter(-1),s=e.after();n<i.childCount;n++){const o=i.child(n);if(o.childCount)return s+1;s+=o.nodeSize}}return null}function KA(e){return function(t,i){if(!no(t))return!1;const n=J0e(lg(t),e);if(n==null)return!1;if(i){const s=t.doc.resolve(n);i(t.tr.setSelection(Ye.between(s,x0e(s))).scrollIntoView())}return!0}}function Y0e(e,t){const i=e.selection.$anchor;for(let n=i.depth;n>0;n--)if(i.node(n).type.spec.tableRole=="table")return t&&t(e.tr.delete(i.before(n),i.after(n)).scrollIntoView()),!0;return!1}function xf(e,t){const i=e.selection;if(!(i instanceof Qt))return!1;if(t){const n=e.tr,s=pn(e.schema).cell.createAndFill().content;i.forEachCell((o,r)=>{o.content.eq(s)||n.replace(n.mapping.map(r+1),n.mapping.map(r+o.nodeSize-1),new Ee(s,0,0))}),n.docChanged&&t(n)}return!0}function Z0e(e){if(!e.size)return null;let{content:t,openStart:i,openEnd:n}=e;for(;t.childCount==1&&(i>0&&n>0||t.child(0).type.spec.tableRole=="table");)i--,n--,t=t.child(0).content;const s=t.child(0),o=s.type.spec.tableRole,r=s.type.schema,a=[];if(o=="row")for(let l=0;l<t.childCount;l++){let c=t.child(l).content;const u=l?0:Math.max(0,i-1),h=l<t.childCount-1?0:Math.max(0,n-1);(u||h)&&(c=lv(pn(r).row,new Ee(c,u,h)).content),a.push(c)}else if(o=="cell"||o=="header_cell")a.push(i||n?lv(pn(r).row,new Ee(t,i,n)).content:t);else return null;return X0e(r,a)}function X0e(e,t){const i=[];for(let s=0;s<t.length;s++){const o=t[s];for(let r=o.childCount-1;r>=0;r--){const{rowspan:a,colspan:l}=o.child(r).attrs;for(let c=s;c<s+a;c++)i[c]=(i[c]||0)+l}}let n=0;for(let s=0;s<i.length;s++)n=Math.max(n,i[s]);for(let s=0;s<i.length;s++)if(s>=t.length&&t.push(me.empty),i[s]<n){const o=pn(e).cell.createAndFill(),r=[];for(let a=i[s];a<n;a++)r.push(o);t[s]=t[s].append(me.from(r))}return{height:t.length,width:n,rows:t}}function lv(e,t){const i=e.createAndFill();return new b0(i).replace(0,i.content.size,t).doc}function Q0e({width:e,height:t,rows:i},n,s){if(e!=n){const o=[],r=[];for(let a=0;a<i.length;a++){const l=i[a],c=[];for(let u=o[a]||0,h=0;u<n;h++){let m=l.child(h%l.childCount);u+m.attrs.colspan>n&&(m=m.type.createChecked(Ol(m.attrs,m.attrs.colspan,u+m.attrs.colspan-n),m.content)),c.push(m),u+=m.attrs.colspan;for(let g=1;g<m.attrs.rowspan;g++)o[a+g]=(o[a+g]||0)+m.attrs.colspan}r.push(me.from(c))}i=r,e=n}if(t!=s){const o=[];for(let r=0,a=0;r<s;r++,a++){const l=[],c=i[a%t];for(let u=0;u<c.childCount;u++){let h=c.child(u);r+h.attrs.rowspan>s&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,s-h.attrs.rowspan)},h.content)),l.push(h)}o.push(me.from(l))}i=o,t=s}return{width:e,height:t,rows:i}}function e_e(e,t,i,n,s,o,r){const a=e.doc.type.schema,l=pn(a);let c,u;if(s>t.width)for(let h=0,m=0;h<t.height;h++){const g=i.child(h);m+=g.nodeSize;const v=[];let _;g.lastChild==null||g.lastChild.type==l.cell?_=c||(c=l.cell.createAndFill()):_=u||(u=l.header_cell.createAndFill());for(let w=t.width;w<s;w++)v.push(_);e.insert(e.mapping.slice(r).map(m-1+n),v)}if(o>t.height){const h=[];for(let v=0,_=(t.height-1)*t.width;v<Math.max(t.width,s);v++){const w=v>=t.width?!1:i.nodeAt(t.map[_+v]).type==l.header_cell;h.push(w?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const m=l.row.create(null,me.from(h)),g=[];for(let v=t.height;v<o;v++)g.push(m);e.insert(e.mapping.slice(r).map(n+i.nodeSize-2),g)}return!!(c||u)}function GA(e,t,i,n,s,o,r,a){if(r==0||r==t.height)return!1;let l=!1;for(let c=s;c<o;c++){const u=r*t.width+c,h=t.map[u];if(t.map[u-t.width]==h){l=!0;const m=i.nodeAt(h),{top:g,left:v}=t.findCell(h);e.setNodeMarkup(e.mapping.slice(a).map(h+n),null,{...m.attrs,rowspan:r-g}),e.insert(e.mapping.slice(a).map(t.positionAt(r,v,i)),m.type.createAndFill({...m.attrs,rowspan:g+m.attrs.rowspan-r})),c+=m.attrs.colspan-1}}return l}function JA(e,t,i,n,s,o,r,a){if(r==0||r==t.width)return!1;let l=!1;for(let c=s;c<o;c++){const u=c*t.width+r,h=t.map[u];if(t.map[u-1]==h){l=!0;const m=i.nodeAt(h),g=t.colCount(h),v=e.mapping.slice(a).map(h+n);e.setNodeMarkup(v,null,Ol(m.attrs,r-g,m.attrs.colspan-(r-g))),e.insert(v+m.nodeSize,m.type.createAndFill(Ol(m.attrs,0,r-g))),c+=m.attrs.rowspan-1}}return l}function YA(e,t,i,n,s){let o=i?e.doc.nodeAt(i-1):e.doc;if(!o)throw new Error("No table found");let r=mi.get(o);const{top:a,left:l}=n,c=l+s.width,u=a+s.height,h=e.tr;let m=0;function g(){if(o=i?h.doc.nodeAt(i-1):h.doc,!o)throw new Error("No table found");r=mi.get(o),m=h.mapping.maps.length}e_e(h,r,o,i,c,u,m)&&g(),GA(h,r,o,i,l,c,a,m)&&g(),GA(h,r,o,i,l,c,u,m)&&g(),JA(h,r,o,i,a,u,l,m)&&g(),JA(h,r,o,i,a,u,c,m)&&g();for(let v=a;v<u;v++){const _=r.positionAt(v,l,o),w=r.positionAt(v,c,o);h.replace(h.mapping.slice(m).map(_+i),h.mapping.slice(m).map(w+i),new Ee(s.rows[v-a],0,0))}g(),h.setSelection(new Qt(h.doc.resolve(i+r.positionAt(a,l,o)),h.doc.resolve(i+r.positionAt(u-1,c-1,o)))),t(h)}var t_e=M0({ArrowLeft:Mf("horiz",-1),ArrowRight:Mf("horiz",1),ArrowUp:Mf("vert",-1),ArrowDown:Mf("vert",1),"Shift-ArrowLeft":Tf("horiz",-1),"Shift-ArrowRight":Tf("horiz",1),"Shift-ArrowUp":Tf("vert",-1),"Shift-ArrowDown":Tf("vert",1),Backspace:xf,"Mod-Backspace":xf,Delete:xf,"Mod-Delete":xf});function cp(e,t,i){return i.eq(e.selection)?!1:(t&&t(e.tr.setSelection(i).scrollIntoView()),!0)}function Mf(e,t){return(i,n,s)=>{if(!s)return!1;const o=i.selection;if(o instanceof Qt)return cp(i,n,ot.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const r=jT(s,e,t);if(r==null)return!1;if(e=="horiz")return cp(i,n,ot.near(i.doc.resolve(o.head+t),t));{const a=i.doc.resolve(r),l=RT(a,e,t);let c;return l?c=ot.near(l,1):t<0?c=ot.near(i.doc.resolve(a.before(-1)),-1):c=ot.near(i.doc.resolve(a.after(-1)),1),cp(i,n,c)}}}function Tf(e,t){return(i,n,s)=>{if(!s)return!1;const o=i.selection;let r;if(o instanceof Qt)r=o;else{const l=jT(s,e,t);if(l==null)return!1;r=new Qt(i.doc.resolve(l))}const a=RT(r.$headCell,e,t);return a?cp(i,n,new Qt(r.$anchorCell,a)):!1}}function i_e(e,t){const i=e.state.doc,n=od(i.resolve(t));return n?(e.dispatch(e.state.tr.setSelection(new Qt(n))),!0):!1}function n_e(e,t,i){if(!no(e.state))return!1;let n=Z0e(i);const s=e.state.selection;if(s instanceof Qt){n||(n={width:1,height:1,rows:[me.from(lv(pn(e.state.schema).cell,i))]});const o=s.$anchorCell.node(-1),r=s.$anchorCell.start(-1),a=mi.get(o).rectBetween(s.$anchorCell.pos-r,s.$headCell.pos-r);return n=Q0e(n,a.right-a.left,a.bottom-a.top),YA(e.state,e.dispatch,r,a,n),!0}else if(n){const o=lg(e.state),r=o.start(-1);return YA(e.state,e.dispatch,r,mi.get(o.node(-1)).findCell(o.pos-r),n),!0}else return!1}function s_e(e,t){var i;if(t.ctrlKey||t.metaKey)return;const n=ZA(e,t.target);let s;if(t.shiftKey&&e.state.selection instanceof Qt)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&n&&(s=od(e.state.selection.$anchor))!=null&&((i=Ob(e,t))==null?void 0:i.pos)!=s.pos)o(s,t),t.preventDefault();else if(!n)return;function o(l,c){let u=Ob(e,c);const h=ia.getState(e.state)==null;if(!u||!J0(l,u))if(h)u=l;else return;const m=new Qt(l,u);if(h||!e.state.selection.eq(m)){const g=e.state.tr.setSelection(m);h&&g.setMeta(ia,l.pos),e.dispatch(g)}}function r(){e.root.removeEventListener("mouseup",r),e.root.removeEventListener("dragstart",r),e.root.removeEventListener("mousemove",a),ia.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(ia,-1))}function a(l){const c=l,u=ia.getState(e.state);let h;if(u!=null)h=e.state.doc.resolve(u);else if(ZA(e,c.target)!=n&&(h=Ob(e,t),!h))return r();h&&o(h,c)}e.root.addEventListener("mouseup",r),e.root.addEventListener("dragstart",r),e.root.addEventListener("mousemove",a)}function jT(e,t,i){if(!(e.state.selection instanceof Ye))return null;const{$head:n}=e.state.selection;for(let s=n.depth-1;s>=0;s--){const o=n.node(s);if((i<0?n.index(s):n.indexAfter(s))!=(i<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const a=n.before(s),l=t=="vert"?i>0?"down":"up":i>0?"right":"left";return e.endOfTextblock(l)?a:null}}return null}function ZA(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Ob(e,t){const i=e.posAtCoords({left:t.clientX,top:t.clientY});return i&&i?od(e.state.doc.resolve(i.pos)):null}var o_e=class{constructor(t,i){this.node=t,this.defaultCellMinWidth=i,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${i}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),cv(t,this.colgroup,this.table,i),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,cv(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function cv(e,t,i,n,s,o){var r;let a=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u){for(let h=0,m=0;h<u.childCount;h++){const{colspan:g,colwidth:v}=u.child(h).attrs;for(let _=0;_<g;_++,m++){const w=s==m?o:v&&v[_],A=w?w+"px":"";if(a+=w||n,w||(l=!1),c)c.style.width!=A&&(c.style.width=A),c=c.nextSibling;else{const L=document.createElement("col");L.style.width=A,t.appendChild(L)}}}for(;c;){const h=c.nextSibling;(r=c.parentNode)==null||r.removeChild(c),c=h}l?(i.style.width=a+"px",i.style.minWidth=""):(i.style.width="",i.style.minWidth=a+"px")}}var ts=new Pi("tableColumnResizing");function r_e({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:i=100,View:n=o_e,lastColumnResizable:s=!0}={}){const o=new bi({key:ts,state:{init(r,a){var l,c;const u=(c=(l=o.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,h=pn(a.schema).table.name;return n&&u&&(u[h]=(m,g)=>new n(m,i,g)),new a_e(-1,!1)},apply(r,a){return a.apply(r)}},props:{attributes:r=>{const a=ts.getState(r);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(r,a)=>{l_e(r,a,e,s)},mouseleave:r=>{c_e(r)},mousedown:(r,a)=>{d_e(r,a,t,i)}},decorations:r=>{const a=ts.getState(r);if(a&&a.activeHandle>-1)return m_e(r,a.activeHandle)},nodeViews:{}}});return o}var a_e=class dp{constructor(t,i){this.activeHandle=t,this.dragging=i}apply(t){const i=this,n=t.getMeta(ts);if(n&&n.setHandle!=null)return new dp(n.setHandle,!1);if(n&&n.setDragging!==void 0)return new dp(i.activeHandle,n.setDragging);if(i.activeHandle>-1&&t.docChanged){let s=t.mapping.map(i.activeHandle,-1);return av(t.doc.resolve(s))||(s=-1),new dp(s,i.dragging)}return i}};function l_e(e,t,i,n){const s=ts.getState(e.state);if(s&&!s.dragging){const o=h_e(t.target);let r=-1;if(o){const{left:a,right:l}=o.getBoundingClientRect();t.clientX-a<=i?r=XA(e,t,"left",i):l-t.clientX<=i&&(r=XA(e,t,"right",i))}if(r!=s.activeHandle){if(!n&&r!==-1){const a=e.state.doc.resolve(r),l=a.node(-1),c=mi.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}UT(e,r)}}}function c_e(e){const t=ts.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&UT(e,-1)}function d_e(e,t,i,n){var s;const o=(s=e.dom.ownerDocument.defaultView)!=null?s:window,r=ts.getState(e.state);if(!r||r.activeHandle==-1||r.dragging)return!1;const a=e.state.doc.nodeAt(r.activeHandle),l=u_e(e,r.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(ts,{setDragging:{startX:t.clientX,startWidth:l}}));function c(h){o.removeEventListener("mouseup",c),o.removeEventListener("mousemove",u);const m=ts.getState(e.state);m!=null&&m.dragging&&(f_e(e,m.activeHandle,QA(m.dragging,h,i)),e.dispatch(e.state.tr.setMeta(ts,{setDragging:null})))}function u(h){if(!h.which)return c(h);const m=ts.getState(e.state);if(m&&m.dragging){const g=QA(m.dragging,h,i);eS(e,m.activeHandle,g,n)}}return eS(e,r.activeHandle,l,n),o.addEventListener("mouseup",c),o.addEventListener("mousemove",u),t.preventDefault(),!0}function u_e(e,t,{colspan:i,colwidth:n}){const s=n&&n[n.length-1];if(s)return s;const o=e.domAtPos(t);let a=o.node.childNodes[o.offset].offsetWidth,l=i;if(n)for(let c=0;c<i;c++)n[c]&&(a-=n[c],l--);return a/l}function h_e(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function XA(e,t,i,n){const s=i=="right"?-n:n,o=e.posAtCoords({left:t.clientX+s,top:t.clientY});if(!o)return-1;const{pos:r}=o,a=od(e.state.doc.resolve(r));if(!a)return-1;if(i=="right")return a.pos;const l=mi.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function QA(e,t,i){const n=t.clientX-e.startX;return Math.max(i,e.startWidth+n)}function UT(e,t){e.dispatch(e.state.tr.setMeta(ts,{setHandle:t}))}function f_e(e,t,i){const n=e.state.doc.resolve(t),s=n.node(-1),o=mi.get(s),r=n.start(-1),a=o.colCount(n.pos-r)+n.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<o.height;c++){const u=c*o.width+a;if(c&&o.map[u]==o.map[u-o.width])continue;const h=o.map[u],m=s.nodeAt(h).attrs,g=m.colspan==1?0:a-o.colCount(h);if(m.colwidth&&m.colwidth[g]==i)continue;const v=m.colwidth?m.colwidth.slice():p_e(m.colspan);v[g]=i,l.setNodeMarkup(r+h,null,{...m,colwidth:v})}l.docChanged&&e.dispatch(l)}function eS(e,t,i,n){const s=e.state.doc.resolve(t),o=s.node(-1),r=s.start(-1),a=mi.get(o).colCount(s.pos-r)+s.nodeAfter.attrs.colspan-1;let l=e.domAtPos(s.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&cv(o,l.firstChild,l,n,a,i)}function p_e(e){return Array(e).fill(0)}function m_e(e,t){var i;const n=[],s=e.doc.resolve(t),o=s.node(-1);if(!o)return li.empty;const r=mi.get(o),a=s.start(-1),l=r.colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;for(let c=0;c<r.height;c++){const u=l+c*r.width;if((l==r.width-1||r.map[u]!=r.map[u+1])&&(c==0||r.map[u]!=r.map[u-r.width])){const h=r.map[u],m=a+h+o.nodeAt(h).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",(i=ts.getState(e))!=null&&i.dragging&&n.push(fn.node(a+h,a+h+o.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),n.push(fn.widget(m,g))}}return li.create(e.doc,n)}function g_e({allowTableNodeSelection:e=!1}={}){return new bi({key:ia,state:{init(){return null},apply(t,i){const n=t.getMeta(ia);if(n!=null)return n==-1?null:n;if(i==null||!t.docChanged)return i;const{deleted:s,pos:o}=t.mapping.mapResult(i);return s?null:o}},props:{decorations:O0e,handleDOMEvents:{mousedown:s_e},createSelectionBetween(t){return ia.getState(t.state)!=null?t.state.selection:null},handleTripleClick:i_e,handleKeyDown:t_e,handlePaste:n_e},appendTransaction(t,i,n){return $0e(n,NT(n,i),e)}})}function dv(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function tS(e,t,i,n,s,o){var r;let a=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u!==null)for(let h=0,m=0;h<u.childCount;h+=1){const{colspan:g,colwidth:v}=u.child(h).attrs;for(let _=0;_<g;_+=1,m+=1){const w=s===m?o:v&&v[_],A=w?`${w}px`:"";if(a+=w||n,w||(l=!1),c){if(c.style.width!==A){const[L,N]=dv(n,w);c.style.setProperty(L,N)}c=c.nextSibling}else{const L=document.createElement("col"),[N,M]=dv(n,w);L.style.setProperty(N,M),t.appendChild(L)}}}for(;c;){const h=c.nextSibling;(r=c.parentNode)===null||r===void 0||r.removeChild(c),c=h}l?(i.style.width=`${a}px`,i.style.minWidth=""):(i.style.width="",i.style.minWidth=`${a}px`)}class b_e{constructor(t,i){this.node=t,this.cellMinWidth=i,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),tS(t,this.colgroup,this.table,i),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,tS(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}}function y_e(e,t,i,n){let s=0,o=!0;const r=[],a=e.firstChild;if(!a)return{};for(let h=0,m=0;h<a.childCount;h+=1){const{colspan:g,colwidth:v}=a.child(h).attrs;for(let _=0;_<g;_+=1,m+=1){const w=i===m?n:v&&v[_];s+=w||t,w||(o=!1);const[A,L]=dv(t,w);r.push(["col",{style:`${A}: ${L}`}])}}const l=o?`${s}px`:"",c=o?"":`${s}px`;return{colgroup:["colgroup",{},...r],tableWidth:l,tableMinWidth:c}}function iS(e,t){return e.createAndFill()}function v_e(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(i=>{const n=e.nodes[i];n.spec.tableRole&&(t[n.spec.tableRole]=n)}),e.cached.tableNodeTypes=t,t}function __e(e,t,i,n,s){const o=v_e(e),r=[],a=[];for(let c=0;c<i;c+=1){const u=iS(o.cell);if(u&&a.push(u),n){const h=iS(o.header_cell);h&&r.push(h)}}const l=[];for(let c=0;c<t;c+=1)l.push(o.row.createChecked(null,n&&c===0?r:a));return o.table.createChecked(null,l)}function w_e(e){return e instanceof Qt}const Of=({editor:e})=>{const{selection:t}=e.state;if(!w_e(t))return!1;let i=0;const n=iT(t.ranges[0].$from,o=>o.type.name==="table");return n==null||n.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(i+=1)}),i===t.ranges.length?(e.commands.deleteTable(),!0):!1},C_e=ji.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:b_e,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:i,tableWidth:n,tableMinWidth:s}=y_e(e,this.options.cellMinWidth);return["table",qt(this.options.HTMLAttributes,t,{style:n?`width: ${n}`:`min-width: ${s}`}),i,["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:i=!0}={})=>({tr:n,dispatch:s,editor:o})=>{const r=__e(o.schema,e,t,i);if(s){const a=n.selection.from+1;n.replaceSelectionWith(r).scrollIntoView().setSelection(Ye.near(n.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>D0e(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>R0e(e,t),deleteColumn:()=>({state:e,dispatch:t})=>V0e(e,t),addRowBefore:()=>({state:e,dispatch:t})=>N0e(e,t),addRowAfter:()=>({state:e,dispatch:t})=>B0e(e,t),deleteRow:()=>({state:e,dispatch:t})=>j0e(e,t),deleteTable:()=>({state:e,dispatch:t})=>Y0e(e,t),mergeCells:()=>({state:e,dispatch:t})=>UA(e,t),splitCell:()=>({state:e,dispatch:t})=>WA(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>Fu("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>Fu("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>G0e(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>UA(e,t)?!0:WA(e,t),setCellAttribute:(e,t)=>({state:i,dispatch:n})=>q0e(e,t)(i,n),goToNextCell:()=>({state:e,dispatch:t})=>KA(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>KA(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&NT(e),!0),setCellSelection:e=>({tr:t,dispatch:i})=>{if(i){const n=Qt.create(t.doc,e.anchorCell,e.headCell);t.setSelection(n)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Of,"Mod-Backspace":Of,Delete:Of,"Mod-Delete":Of}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[r_e({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],g_e({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:Ct(Be(e,"tableRole",t))}}}),k_e=ji.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",qt(this.options.HTMLAttributes,e),0]}}),A_e=ji.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",qt(this.options.HTMLAttributes,e),0]}}),S_e=ji.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",qt(this.options.HTMLAttributes,e),0]}}),x_e=Oi.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new bi({key:new Pi("placeholder"),props:{decorations:({doc:e,selection:t})=>{const i=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=t,s=[];if(!i)return null;const o=this.editor.isEmpty;return e.descendants((r,a)=>{const l=n>=a&&n<=a+r.nodeSize,c=!r.isLeaf&&rg(r);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const h=fn.node(a,a+r.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:r,pos:a,hasAnchor:l}):this.options.placeholder});s.push(h)}return this.options.includeChildren}),li.create(e,s)}}})]}}),M_e={name:"AposRichTextWidgetEditor",components:{EditorContent:pve,BubbleMenu:hve,FloatingMenu:RA,AposTiptapTableControls:ET},props:{type:{type:String,required:!0},options:{type:Object,required:!0},modelValue:{type:Object,default(){return{}}},meta:{type:Object,default(){return{}}},docId:{type:String,required:!1,default(){return null}},focused:{type:Boolean,default:!1}},emits:["update"],data(){return{editor:null,docFields:{data:{...this.modelValue},hasErrors:!1},pending:null,isFocused:null,isShowingInsert:!1,showPlaceholder:null,activeInsertMenuComponent:!1,suppressInsertMenu:!1,insertMenuKey:null,openedPopover:!1}},computed:{tableOptions(){const e=this.moduleOptions.tableOptions||{};return e.class&&(e.HTMLAttributes={class:e.class},delete e.class),e},tableTippyOptions(){return{zIndex:2001,placement:"top",offset:[0,35],moveTransition:"transform 0s ease-out",appendTo:document.body}},moduleOptions(){return apos.modules[apos.area.widgetManagers[this.type]]},defaultOptions(){return this.moduleOptions.defaultOptions},editorOptions(){var t,i,n;let e=ut(this.options);return e={...e,...this.enhanceStyles((t=e.styles)!=null&&t.length?e.styles:this.defaultOptions.styles)},delete e.styles,Object.keys(this.defaultOptions).forEach(s=>{s!=="styles"&&(e[s]=e[s]!==void 0?e[s]:this.defaultOptions[s])}),e.className=e.className!==void 0?e.className:this.moduleOptions.className,e.toolbar.includes("styles")&&(e.toolbar=e.toolbar.filter(s=>s!=="styles"),e.marks.length&&(e.toolbar=["marks",...e.toolbar]),e.nodes.length&&(e.toolbar=["nodes",...e.toolbar])),(i=e.toolbar)!=null&&i.some(s=>s==="table")&&((n=e.insert)!=null&&n.some(s=>s==="table")||(e.insert=[...e.insert||[],"table"]),e.toolbar=e.toolbar.filter(s=>s!=="table")),e},autofocus(){return!this.modelValue.content.length},initialContent(){const e=this.transformNamedAnchors(this.modelValue.content);if(e.length)return e;const t=this.editorOptions.nodes.length?this.editorOptions.nodes.find(n=>n.def):this.editorOptions.marks.length?this.editorOptions.marks.find(n=>n.def):null,i=t.class?` class="${t.class}"`:"";return`<${t.tag}${i}></${t.tag}>`},toolbar(){return this.editorOptions.toolbar},tools(){return this.moduleOptions.tools},insert(){return this.editorOptions.insert||[]},insertMenu(){return this.moduleOptions.insertMenu},isVisuallyEmpty(){var i;const e=document.createElement("div");let t=!1;if(e.innerHTML=(i=this.modelValue.content)==null?void 0:i.trim(),this.editor){const n=this.editor.getJSON();t=!!(n!=null&&n.content.filter(s=>!["paragraph"].includes(s.type)).length)}return!e.textContent&&!t},editorModifiers(){const e=[];return this.isVisuallyEmpty&&e.push("apos-is-visually-empty"),(this.placeholderText&&this.moduleOptions.placeholder||this.insert.length)&&this.isFocused&&this.showPlaceholder!==!1&&e.push("apos-show-initial-placeholder"),e},tiptapTextCommands(){return this.moduleOptions.tiptapTextCommands},tiptapTypes(){return this.moduleOptions.tiptapTypes},placeholderText(){return this.insert.length>0?this.moduleOptions.placeholderTextWithInsertMenu:this.moduleOptions.placeholderText||""}},watch:{isFocused(e){e?apos.bus.$emit("close-context-menus"):this.pending&&this.emitWidgetUpdate()},isShowingInsert(e){e&&this.focusInsertMenuItem(!1,0)}},mounted(){this.insertMenuKey=this.generateKey();const e=x_e.extend(),t=[vve,Ave,xve,Ove,$ve,Dve,jve,Uve,e0e,t0e,r0e,l0e,DT,u0e,h0e,f0e.configure({types:["heading","paragraph","defaultNode"]}),g0e,b0e,y0e,v0e,C_e.configure(this.tableOptions),k_e,A_e,S_e,e.configure({placeholder:()=>this.$t(this.placeholderText),emptyNodeClass:"apos-is-empty"}),RA].filter(Boolean).concat(this.aposTiptapExtensions());this.editor=new fve({content:this.initialContent,autofocus:this.autofocus,onUpdate:this.editorUpdate,extensions:t,onFocus:()=>{this.isFocused=!0,this.$nextTick(()=>{this.showPlaceholder=!1})},onBlur:()=>{this.isFocused=!1,this.$nextTick(()=>{this.showPlaceholder=!0})}}),apos.bus.$on("apos-refreshing",this.onAposRefreshing)},beforeUnmount(){this.editor.destroy(),apos.bus.$off("apos-refreshing",this.onAposRefreshing)},methods:{showTableControls(){var e;return((e=this.editor)==null?void 0:e.isActive("table"))??!1},openPopover(){this.openedPopover=!0},onBtnBlur(e){var t;this.openedPopover||(t=this.$refs.toolbar)!=null&&t.contains(e.relatedTarget)||this.closeToolbar()},onBubbleHide(){apos.bus.$emit("close-context-menus","richText")},generateKey(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},handleUIKeydown(e){e.key==="Escape"?this.doSuppressInsertMenu():this.suppressInsertMenu=!1},doSuppressInsertMenu(){this.suppressInsertMenu=!0,this.activeInsertMenuComponent=!1,this.insertMenuKey=this.generateKey(),this.editor.commands.focus()},onAposRefreshing(e){this.activeInsertMenuComponent&&(e.refresh=!1)},async editorUpdate(){this.docId===window.apos.adminBar.contextId&&apos.bus.$emit("context-editing"),!this.pending&&(this.pending=setTimeout(()=>{this.emitWidgetUpdate()},1e3))},emitWidgetUpdate(){this.pending&&(clearTimeout(this.pending),this.pending=null);const e=this.editor.getHTML(),t=this.docFields.data;t.content=e,this.$emit("update",{...t})},transformNamedAnchors(e){const t=document.createElement("div");t.innerHTML=e;const i=t.querySelectorAll("a[name]");for(const n of i){const s=n.getAttribute("id")||n.getAttribute("name");if(typeof s!="string"||!s.length)continue;const o=document.createElement("span");if(o.setAttribute("id",s),n.removeAttribute("id"),n.removeAttribute("name"),n.children.length){for(;n.firstElementChild;)o.append(n.firstElementChild);n.attributes.length?n.prepend(o):n.replaceWith(o),o.innerText.length||(o.innerText="")}else{let r=n;for(;!(r.nodeType===Node.TEXT_NODE&&r.textContent.length>0);)r=T_e(r);r?(r.parentNode.insertBefore(o,r),o.append(r)):(o.innerText="",n.prepend(o))}}return t.innerHTML},enhanceStyles(e){const t=this;return(e||[]).forEach(s=>{s.options={};for(const o in t.tiptapTextCommands)t.tiptapTextCommands[o].includes(s.tag)&&(s.command=o);for(const o in t.tiptapTypes)t.tiptapTypes[o].includes(s.tag)&&(s.type=o);if(s.type==="heading"){const o=parseInt(s.tag.split("h")[1]);s.options.level=o}s.class&&(s.options.class=s.class),s.type||apos.notify("apostrophe:richTextStyleConfigWarning",{type:"warning",dismiss:!0,icon:"text-box-remove-icon",interpolate:{label:s.label,tag:s.tag}})}),!!!e.find(s=>s.def)&&e.length&&(e.filter(s=>s.type==="paragraph").length?e.filter(s=>s.type==="paragraph")[0].def=!0:e[0].def=!0),{nodes:e.filter(s=>s.command==="setNode"),marks:e.filter(s=>s.command!=="setNode")}},localizeStyle(e){return{...e,label:this.$t(e.label)}},aposTiptapExtensions(){return(apos.tiptapExtensions||[]).map(e=>e({...this.editorOptions,nodes:this.editorOptions.nodes.map(this.localizeStyle),marks:this.editorOptions.marks.map(this.localizeStyle),types:this.tiptapTypes}))},showFloatingMenu({state:e,oldState:t}){const i=JSON.stringify(e==null?void 0:e.doc.toJSON())!==JSON.stringify(t==null?void 0:t.doc.toJSON()),{$to:n}=e.selection;return!this.insertMenu||!this.insert.length||!i||n.nodeAfter&&n.nodeAfter.text||this.suppressInsertMenu?(this.isShowingInsert=!1,!1):e.selection.empty&&n.nodeBefore&&n.nodeBefore.text&&n.nodeBefore.text.slice(-1)==="/"?(this.isShowingInsert=!0,!0):(this.isShowingInsert=!1,!1)},closeInsertMenu(e){["ArrowUp","ArrowDown","Enter"," "].includes(e.key)||this.activeInsertMenuComponent||(this.editor.commands.focus(),this.activeInsertMenuComponent=!1,e.key.length===1&&this.editor.commands.insertContent(e.key))},focusInsertMenuItem(e=!1,t){var o;if(this.activeInsertMenuComponent)return;const i=Array.from(this.$refs.insertMenu.$el.querySelectorAll("[data-insert-menu-item]")),n=i.findIndex(r=>r===document.activeElement);let s=e?n-1:n+1;s>=i.length&&(s=0),s<0&&(s=i.length-1),(o=i[t||s])==null||o.focus()},setActiveInsertMenu(e=!0){this.activeInsertMenuComponent=e},closeToolbar(){this.openedPopover=!1,this.editor.chain().focus().run()}}};function T_e(e){if(e.firstChild)return e.firstChild;for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}return null}const O_e=["aria-controls"],E_e={ref:"toolbar",class:"apos-rich-text-toolbar__inner"},I_e={class:"apos-rich-text-insert-menu-heading"};function $_e(e,t,i,n,s,o){const r=O("AposContextMenuDialog"),a=O("bubble-menu"),l=O("AposTiptapInsertItem"),c=O("floating-menu"),u=O("editor-content"),h=O("AposTiptapTableControls");return p(),y("div",{"aria-controls":`insert-menu-${i.modelValue._id}`,onKeydown:t[3]||(t[3]=(...m)=>o.handleUIKeydown&&o.handleUIKeydown(...m))},[s.editor?(p(),R(a,{key:0,"plugin-key":"richTextMenu",class:"bubble-menu","tippy-options":{maxWidth:"none",duration:300,zIndex:999,animation:"fade",inertia:!0,placement:"bottom",hideOnClick:!1,onHide:o.onBubbleHide},editor:s.editor},{default:Q(()=>[D(r,{"menu-placement":"top","class-list":"apos-rich-text-toolbar","has-tip":!1},{default:Q(()=>[k("div",E_e,[(p(!0),y(Ce,null,Ie(o.toolbar,(m,g)=>(p(),R(tt(o.tools[m]&&o.tools[m].component||"AposTiptapUndefined"),{key:m+"-"+g,name:m,tool:o.tools[m],options:o.editorOptions,editor:s.editor,onOpenPopover:o.openPopover,onClose:o.closeToolbar,onFocusout:o.onBtnBlur},null,40,["name","tool","options","editor","onOpenPopover","onClose","onFocusout"]))),128))],512)]),_:1})]),_:1},8,["tippy-options","editor"])):S("v-if",!0),s.editor?(p(),R(c,{id:`insert-menu-${i.modelValue._id}`,ref:"insertMenu",key:s.insertMenuKey,"plugin-key":"insertMenu",class:"apos-rich-text-insert-menu","tippy-options":{duration:100,zIndex:999,placement:"bottom-start"},"should-show":o.showFloatingMenu,editor:s.editor,role:"listbox",tabindex:"0"},{default:Q(()=>[k("div",I_e,E(e.$t("apostrophe:richTextInsertMenuHeading")),1),k("ul",{class:"apos-rich-text-insert-menu-wrapper",onKeydown:[t[0]||(t[0]=Qe(Je(m=>o.focusInsertMenuItem(!0),["prevent"]),["arrow-up"])),t[1]||(t[1]=Qe(Je(m=>o.focusInsertMenuItem(),["prevent"]),["arrow-down"])),t[2]||(t[2]=(...m)=>o.closeInsertMenu&&o.closeInsertMenu(...m))]},[(p(!0),y(Ce,null,Ie(o.insert,(m,g)=>(p(),y("li",{key:`${m}-${g}`},[D(l,{name:m,"menu-item":o.insertMenu[m],editor:s.editor,"editor-options":o.editorOptions,onDone:o.doSuppressInsertMenu,onSetActiveInsertMenu:o.setActiveInsertMenu},null,8,["name","menu-item","editor","editor-options","onDone","onSetActiveInsertMenu"])]))),128))],32)]),_:1},8,["id","should-show","editor"])):S("v-if",!0),k("div",{class:ne(["apos-rich-text-editor__editor",o.editorModifiers])},[D(u,{editor:s.editor,class:ne(o.editorOptions.className)},null,8,["editor","class"])],2),s.showPlaceholder!==null&&(!o.placeholderText||!s.isFocused)?(p(),y("div",{key:2,class:ne(["apos-rich-text-editor__editor_after",o.editorModifiers])},E(e.$t("apostrophe:emptyRichTextWidget")),3)):S("v-if",!0),s.editor?(p(),R(c,{key:3,"should-show":o.showTableControls,"tippy-options":o.tableTippyOptions,editor:s.editor,"plugin-key":"tableMenu",role:"listbox",tabindex:"0"},{default:Q(()=>[D(h,{editor:s.editor},null,8,["editor"])]),_:1},8,["should-show","tippy-options","editor"])):S("v-if",!0)],40,O_e)}const L_e=I(M_e,[["render",$_e],["__scopeId","data-v-15a7ddec"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposRichTextWidgetEditor.vue"]]),P_e={name:"AposTiptapAnchor",mixins:[xr],props:{name:{type:String,required:!0},tool:{type:Object,required:!0},editor:{type:Object,required:!0}},emits:["close"],data(){return{generation:1,hasAnchorOnOpen:!1,triggerValidation:!1,docFields:{data:{}},formModifiers:["small","margin-micro"],originalSchema:[{name:"anchor",label:this.$t("apostrophe:anchorId"),type:"string",required:!0}]}},computed:{button(){return{...this.buttonActive?{class:"apos-is-active"}:{},type:"rich-text",label:this.tool.label,"icon-only":!!this.tool.icon,icon:this.tool.icon||!1,"icon-size":this.tool.iconSize||16,modifiers:["no-border","no-motion"],tooltip:{content:this.tool.label,placement:"top",delay:650}}},buttonActive(){return this.editor.isActive("anchor")},lastSelectionTime(){return this.editor.view.input.lastSelectionTime},hasSelection(){const{state:e}=this.editor,{selection:t}=this.editor.state,{from:i,to:n}=t;return e.doc.textBetween(i,n,"")!==""},schema(){return this.originalSchema}},watch:{"editor.view.input.lastSelectionTime":{handler(){this.populateFields()}},hasSelection(e){e||this.close()}},async mounted(){await this.evaluateExternalConditions()},methods:{removeAnchor(){this.docFields.data={},this.editor.commands.unsetAnchor(),this.editor.chain().focus().blur().run(),this.close()},close(){this.$refs.contextMenu.hide()},async save(){this.triggerValidation=!0,await this.$nextTick(),!this.docFields.hasErrors&&(this.editor.commands.setAnchor({id:this.docFields.data.anchor}),this.editor.chain().focus().blur().run(),this.close())},keyboardHandler(e){e.key==="Escape"&&this.close(),e.key==="Enter"&&(this.docFields.data.anchor&&(this.save(),this.close()),e.preventDefault())},async populateFields(){try{const e={anchor:this.editor.getAttributes("anchor").id};this.docFields.data={},this.schema.forEach(t=>{this.docFields.data[t.name]=e[t.name]||""})}finally{this.generation++}},async openPopover(){await this.populateFields(),this.evaluateConditions(),this.hasAnchorOnOpen=!!this.docFields.data.anchor,window.addEventListener("keydown",this.keyboardHandler)},closePopover(){window.removeEventListener("keydown",this.keyboardHandler),this.$emit("close")}}},D_e={class:"apos-anchor-control"},R_e={key:0,class:"apos-anchor-control__remove"},H_e={class:"apos-anchor-control__footer"};function V_e(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposSchema"),l=O("AposContextMenu");return p(),y("div",D_e,[D(l,{ref:"contextMenu","menu-placement":"bottom-end",button:o.button,"rich-text-menu":!0,onOpen:o.openPopover,onClose:o.closePopover},{default:Q(()=>[k("div",{class:ne(["apos-popover apos-anchor-control__dialog",{"apos-has-selection":o.hasSelection}])},[s.hasAnchorOnOpen?(p(),y("div",R_e,[D(r,{type:"quiet",label:"apostrophe:removeRichTextAnchor",onClick:o.removeAnchor},null,8,["onClick"])])):S("v-if",!0),(p(),R(a,{key:o.lastSelectionTime,modelValue:s.docFields,"onUpdate:modelValue":[t[0]||(t[0]=c=>s.docFields=c),t[1]||(t[1]=c=>e.evaluateConditions())],schema:o.schema,"trigger-validation":s.triggerValidation,modifiers:s.formModifiers,generation:s.generation,"following-values":e.followingValues(),"conditional-fields":e.conditionalFields},null,8,["modelValue","schema","trigger-validation","modifiers","generation","following-values","conditional-fields"])),k("footer",H_e,[D(r,{type:"default",label:"apostrophe:cancel",modifiers:s.formModifiers,onClick:o.close},null,8,["modifiers","onClick"]),D(r,{type:"primary",label:"apostrophe:save",modifiers:s.formModifiers,onClick:o.save},null,8,["modifiers","onClick"])])],2)]),_:1},8,["button","onOpen","onClose"])])}const z_e=I(P_e,[["render",V_e],["__scopeId","data-v-16f40843"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapAnchor.vue"]]),N_e={name:"AposTiptapButton",props:{name:{type:String,required:!0},editor:{type:Object,required:!0},tool:{type:Object,required:!0}},computed:{active(){return this.tool.isActive?this.editor.isActive(this.tool.isActive):this.editor.isActive(this.name,this.tool.commandParameters||{})}},methods:{command(){return this.tool.command||this.name},click(){this.editor.commands[this.command()](this.tool.commandParameters||{}),this.editor.commands.focus()}}};function B_e(e,t,i,n,s,o){const r=O("AposButton");return p(),R(r,{type:"rich-text",class:ne(["apos-rich-text-editor__control",{"apos-is-active":o.active}]),label:i.tool.label,"icon-only":!!i.tool.icon,icon:i.tool.icon||!1,"icon-size":i.tool.iconSize||16,modifiers:["no-border","no-motion"],tooltip:{content:i.tool.label,placement:"top",delay:650},onClick:o.click},null,8,["class","label","icon-only","icon","icon-size","tooltip","onClick"])}const F_e=I(N_e,[["render",B_e],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapButton.vue"]]),j_e={__name:"AposTiptapColor",props:{editor:{type:Object,required:!0},tool:{type:Object,required:!0},options:{type:Object,default:()=>({})},modelValue:{type:Object,default:()=>({})}},emits:["open-popover","close"],setup(e,{expose:t,emit:i}){t();const n=e,s=i,o=window.apos.modules["@apostrophecms/rich-text-widget"],r=He(""),a=He("#000000"),l=He(null),c=He(null),u=st(()=>({...o,...n.options}).color),h=st(()=>!n.editor.state.selection.empty);ss(()=>n.editor.state.selection,()=>{if(h.value){const L=n.editor.getAttributes("textStyle").color;r.value=L||"#000000",a.value=r.value}else r.value="#000000",a.value=r.value},{deep:!0,immediate:!0});function m(){addEventListener("keydown",v),s("open-popover")}function g(){removeEventListener("keydown",v),s("close")}function v(L){["Escape","Enter"].includes(L.key)&&_()}function _(){l.value&&(n.editor.chain().focus().blur().run(),l.value.hide())}function w(L){r.value=L,a.value=r.value,document.activeElement.tagName==="INPUT"?n.editor.chain().setColor(L).run():n.editor.chain().focus().setColor(L).run()}const A={props:n,emit:s,moduleOptions:o,next:r,indicatorColor:a,contextMenu:l,centerTipEl:c,userOptions:u,hasSelection:h,openPopover:m,closePopover:g,keyboardHandler:v,close:_,update:w,ref:He,watch:ss,computed:st};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}},U_e={class:"apos-color-control"},W_e={class:"text-color-component"},q_e={class:"apos-color-control__footer"};function K_e(e,t,i,n,s,o){const r=O("AposColorCheckerboard"),a=O("AposIndicator"),l=O("AposButton"),c=O("AposColor"),u=O("AposContextMenu");return p(),y("div",U_e,[D(u,{ref:"contextMenu","menu-placement":"bottom-end","center-tip-el":n.centerTipEl,"rich-text-menu":!0,onOpen:n.openPopover,onClose:n.closePopover},{button:Q(h=>[D(l,{type:"rich-text",class:"apos-color-button apos-rich-text-editor__control","icon-only":!1,icon:"circle-icon","icon-fill":n.indicatorColor,label:"apostrophe:richTextColor",modifiers:["no-border","no-motion"],tooltip:{content:"apostrophe:richTextColor",placement:"top",delay:650},onClick:h.onClick},{label:Q(()=>[D(r,{class:"apos-color-control__checkerboard"}),D(a,{ref:"centerTipEl",icon:"chevron-down-icon"},null,512)]),_:2},1032,["icon-fill","onClick"])]),default:Q(()=>[k("div",{class:ne(["apos-popover apos-color-control__dialog",{"apos-has-selection":n.hasSelection}])},[k("div",W_e,[D(c,{options:n.userOptions,"model-value":n.next,"onUpdate:modelValue":n.update},null,8,["options","model-value"])]),k("footer",q_e,[D(l,{type:"primary",label:"apostrophe:close",modifiers:["small","margin-micro"],onClick:n.close})])],2)]),_:1},8,["center-tip-el"])])}const G_e=I(j_e,[["render",K_e],["__scopeId","data-v-5ea5fc8f"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapColor.vue"]]),J_e={name:"AposTiptapDivider",props:{name:{type:String,required:!0}}},Y_e={class:"apos-rich-text-editor__control apos-rich-text-editor__control--divider"};function Z_e(e,t,i,n,s,o){return p(),y("div",Y_e," | ")}const X_e=I(J_e,[["render",Z_e],["__scopeId","data-v-bff62031"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapDivider.vue"]]),Q_e={name:"AposTiptapImage",props:{tool:{type:Object,required:!0},editor:{type:Object,required:!0}},emits:["open-popover","close"],computed:{button(){return{...this.buttonActive?{class:"apos-is-active"}:{},type:"rich-text",label:this.tool.label,"icon-only":!!this.tool.icon,icon:this.tool.icon||!1,"icon-size":this.tool.iconSize||16,modifiers:["no-border","no-motion"],tooltip:{content:this.tool.label,placement:"top",delay:650}}},attributes(){return this.editor.getAttributes("image")},buttonActive(){return this.attributes.imageId},hasSelection(){const{state:e}=this.editor,{selection:t}=this.editor.state,{from:i,to:n}=t,s=e.doc.textBetween(i,n,""),{content:o=[]}=t.content().content,[{type:r}={}]=o;return s!==""||(r==null?void 0:r.name)==="image"}},methods:{close(){this.$refs.contextMenu.hide()}}},ewe={class:"apos-image-control"};function twe(e,t,i,n,s,o){const r=O("AposImageControlDialog"),a=O("AposContextMenu");return p(),y("div",ewe,[D(a,{ref:"contextMenu","menu-placement":"bottom-end",button:o.button,"rich-text-menu":!0,onOpen:t[0]||(t[0]=l=>e.$emit("open-popover")),onClose:t[1]||(t[1]=l=>e.$emit("close"))},{default:Q(()=>[D(r,{editor:i.editor,"has-selection":o.hasSelection,onClose:o.close},null,8,["editor","has-selection","onClose"])]),_:1},8,["button"])])}const iwe=I(Q_e,[["render",twe],["__scopeId","data-v-b17bc51a"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapImage.vue"]]),nwe={__name:"AposTiptapImportTable",props:{tool:{type:Object,default:null},editor:{type:Object,required:!0}},emits:["done","close","before-commands"],setup(e,{expose:t,emit:i}){t();const n=e,s=i,o=st(()=>!n.tool);ls(()=>{o.value&&a()});const r=He(null);function a(){r.value.click()}async function l({target:h}){s("before-commands");const[m]=h.files,g=new FormData;g.append("file",m);try{const v=await apos.http.post("/api/v1/@apostrophecms/rich-text-widget/generate-csv-table",{body:g});n.editor.commands.insertContent(v)}catch{apos.notify("apostrophe:error",{type:"error"})}o.value&&s("done")}function c(){s("close")}const u={props:n,emit:s,insertMode:o,aposTiptapUpload:r,openFileManager:a,generateTable:l,close:c,ref:He,onMounted:ls,computed:st};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}};function swe(e,t,i,n,s,o){const r=O("AposButton");return p(),y("div",{class:ne(["apos-import-control",{"apos-import-control__hidden":n.insertMode}])},[i.tool?(p(),R(r,{key:0,type:"rich-text",label:i.tool.label,"icon-only":!!i.tool.icon,icon:i.tool.icon||!1,"icon-size":i.tool.iconSize||16,modifiers:["no-border","no-motion"],tooltip:{content:i.tool.label,placement:"top",delay:650},onClick:n.openFileManager},null,8,["label","icon-only","icon","icon-size","tooltip"])):S("v-if",!0),k("input",{ref:"aposTiptapUpload",tabindex:"-1",class:"apos-sr-only",type:"file",accept:".csv",onInput:n.generateTable,onCancel:n.close},null,544)],2)}const owe=I(nwe,[["render",swe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapImportTable.vue"]]),rwe={__name:"AposTiptapInsertBtn",props:{name:{type:String,required:!0},menuItem:{type:Object,required:!0}},setup(e,{expose:t}){t();const n={props:e};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},awe={class:"apos-rich-text-insert-menu-item",role:"option","data-insert-menu-item":""},lwe={class:"apos-rich-text-insert-menu-icon"},cwe={class:"apos-rich-text-insert-menu-label"},dwe={class:"apos-rich-text-insert-menu-label__title"},uwe={class:"apos-rich-text-insert-menu-label__desc"};function hwe(e,t,i,n,s,o){const r=O("AposIndicator");return p(),y("button",awe,[k("div",lwe,[D(r,{icon:n.props.menuItem.icon,"icon-size":24,class:"apos-button__icon","fill-color":"currentColor"},null,8,["icon"])]),k("div",cwe,[k("h4",dwe,E(e.$t(n.props.menuItem.label)),1),k("p",uwe,E(e.$t(n.props.menuItem.description)),1)])])}const fwe=I(rwe,[["render",hwe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapInsertBtn.vue"]]),pwe={__name:"AposTiptapInsertItem",props:{name:{type:String,required:!0},menuItem:{type:Object,required:!0},editor:{type:Object,required:!0},editorOptions:{type:Object,required:!0}},emits:["set-active-insert-menu","done"],setup(e,{expose:t,emit:i}){t();const n=e,s=i,o=He(!1),r=He(null),a=st(()=>!!(n.menuItem.noPopover&&n.menuItem.component&&o.value));function l(){if(n.menuItem.component){s("set-active-insert-menu",!0),o.value=!0;return}c(),n.editor.commands[n.menuItem.action||n.name](),n.editor.commands.focus()}function c(){var w;const v=n.editor.state,{$to:_}=v.selection;if(v.selection.empty&&((w=_==null?void 0:_.nodeBefore)!=null&&w.text)&&_.nodeBefore.text.slice(-1)==="/"){const L=n.editor.view.state.selection.$anchor.pos;n.editor.commands.setTextSelection({from:L-1,to:L}),n.editor.commands.deleteSelection()}}function u(){c(),s("set-active-insert-menu",!1),o.value=!1,r.value&&r.value.hide()}function h(){s("set-active-insert-menu",!0)}function m(){s("set-active-insert-menu",!1)}const g={props:n,emit:s,isInlineComponentActive:o,contextMenu:r,isInlineComponentShowed:a,activate:l,removeSlash:c,closeInsertMenuItem:u,openPopover:h,closePopover:m,ref:He,computed:st};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}};function mwe(e,t,i,n,s,o){const r=O("AposTiptapInsertBtn"),a=O("AposContextMenu");return p(),y(Ce,null,[i.menuItem.component&&!i.menuItem.noPopover?(p(),R(a,{key:0,ref:"contextMenu","menu-placement":"bottom-end","rich-text-menu":!0,onOpen:n.openPopover,onClose:n.closePopover},{button:Q(l=>[D(r,{name:i.name,"menu-item":i.menuItem,onClick:l.onClick},null,8,["name","menu-item","onClick"])]),default:Q(()=>[(p(),R(tt(i.menuItem.component),{editor:i.editor,options:i.editorOptions,onDone:n.closeInsertMenuItem,onClose:n.closeInsertMenuItem,onBeforeCommands:n.removeSlash},null,40,["editor","options"]))]),_:1},512)):(p(),R(r,{key:1,name:i.name,"menu-item":i.menuItem,onClick:t[0]||(t[0]=l=>n.activate())},null,8,["name","menu-item"])),n.isInlineComponentShowed?(p(),R(tt(i.menuItem.component),{key:2,active:!0,editor:i.editor,options:i.editorOptions,onDone:n.closeInsertMenuItem,onClose:n.closeInsertMenuItem,onBeforeCommands:n.removeSlash},null,40,["editor","options"])):S("v-if",!0)],64)}const gwe=I(pwe,[["render",mwe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapInsertItem.vue"]]),bwe={name:"AposTiptapLink",mixins:[xr],props:{name:{type:String,required:!0},tool:{type:Object,required:!0},editor:{type:Object,required:!0}},emits:["open-popover","close"],data(){const e=apos.modules["@apostrophecms/rich-text-widget"];return{generation:1,href:null,hasLinkOnOpen:!1,triggerValidation:!1,docFields:{data:{}},formModifiers:["micro"],originalSchema:e.linkSchema.filter(t=>!t.extensions||t.extensions.includes("Link"))}},computed:{button(){return{...this.buttonActive?{class:"apos-is-active"}:{},type:"rich-text",label:this.tool.label,"icon-only":!!this.tool.icon,icon:this.tool.icon||!1,"icon-size":this.tool.iconSize||16,modifiers:["no-border","no-motion"],tooltip:{content:this.tool.label,placement:"top",delay:650}}},attributes(){return this.editor.getAttributes("link")},buttonActive(){return this.attributes.href},lastSelectionTime(){return this.editor.view.input.lastSelectionTime},hasSelection(){const{state:e}=this.editor,{selection:t}=this.editor.state,{from:i,to:n}=t;return e.doc.textBetween(i,n,"")!==""},schema(){return this.originalSchema},schemaHtmlAttributes(){return this.schema.filter(e=>!!e.htmlAttribute)}},watch:{"attributes.href":{handler(e,t){e!==t&&this.close()}},hasSelection(e,t){e||this.close()}},async mounted(){await this.evaluateExternalConditions()},methods:{removeLink(){this.docFields.data={},this.editor.commands.unsetLink(),this.editor.chain().focus().blur().run(),this.close()},close(){this.$refs.contextMenu.hide()},async save(){var i,n;if(this.triggerValidation=!0,await this.$nextTick(),this.docFields.hasErrors)return;if(this.docFields.data.linkTo!=="_url"){const s=this.docFields.data[`_${this.docFields.data.linkTo}`][0];this.docFields.data.href=`#apostrophe-permalink-${s.aposDocId}?updateTitle=${this.docFields.data.updateTitle?1:0}`}this.docFields.data.target&&!this.docFields.data.href&&delete this.docFields.data.target;const e=this.schemaHtmlAttributes.reduce((s,o)=>{const r=this.docFields.data[o.name];return o.type==="checkboxes"&&!(r!=null&&r[0])?s:o.type==="boolean"?(s[o.htmlAttribute]=r===!0?"":null,s):(s[o.htmlAttribute]=Array.isArray(r)?r[0]:r,s)},{});switch(this.docFields.data.linkTo){case"_url":{e.title=this.docFields.data.hrefTitle||this.docFields.data.caption;break}default:{const s=(i=this.docFields.data[`_${this.docFields.data.linkTo}`])==null?void 0:i[0];e.title=this.docFields.data.title||(s==null?void 0:s.title)}}const t=this.schemaHtmlAttributes.find(s=>s.htmlAttribute==="rel");if((n=this.docFields.data.target)!=null&&n.includes("_blank")&&this.docFields.data.linkTo==="_url"){let s="noopener noreferrer";t&&(s+=` ${this.docFields.data[t.htmlAttribute]||""}`),s=new Set(s.trim().split(" ").filter(Boolean)),e.rel=[...s].join(" ")}else e.rel=t&&this.docFields.data[t.htmlAttribute]||null;e.href=this.docFields.data.href,this.editor.commands.setLink(e),this.editor.chain().focus().blur().run(),this.close()},keyboardHandler(e){e.key==="Escape"&&this.close(),e.key==="Enter"&&((this.docFields.data.href||e.metaKey)&&(this.save(),this.close()),e.preventDefault())},async populateFields(){try{const e={...this.attributes};this.docFields.data={},this.schema.forEach(i=>{if(i.htmlAttribute&&i.type==="checkboxes"){this.docFields.data[i.name]=e[i.htmlAttribute]?[e[i.htmlAttribute]]:[];return}if(i.htmlAttribute&&i.type==="boolean"){this.docFields.data[i.name]=e[i.htmlAttribute]===null?null:e[i.htmlAttribute]==="";return}if(i.htmlAttribute){this.docFields.data[i.name]=e[i.htmlAttribute]||"";return}this.docFields.data[i.name]=e[i.name]||""});const t=this.docFields.data.href.match(/^#apostrophe-permalink-(.*)\?updateTitle=(\d)$/);if(!t){this.docFields.data.updateTitle=!0,this.docFields.data.linkTo="_url";return}this.docFields.data.href="";try{const i=await apos.http.get(`/api/v1/@apostrophecms/doc/${t[1]}`,{busy:!0,draft:!0});switch(this.docFields.data.linkTo=i.slug.startsWith("/")?"@apostrophecms/any-page-type":i.type,this.docFields.data[`_${this.docFields.data.linkTo}`]=[i],this.docFields.data.updateTitle=!!parseInt(t[2]),this.docFields.data.linkTo){case"_url":{this.docFields.data.hrefTitle=e.title,this.docFields.data.title="";break}default:this.docFields.data.title=i!=null&&i.title&&e.title===(i==null?void 0:i.title)?"":e.title,this.docFields.data.hrefTitle=""}}catch(i){if(i.status===404)this.docFields.data.updateTitle=!0,this.docFields.linkTo="url";else throw i}}finally{this.generation++}this.evaluateConditions()},async openPopover(){this.hasLinkOnOpen=!!this.attributes.href,window.addEventListener("keydown",this.keyboardHandler),await this.populateFields(),this.evaluateConditions(),this.$emit("open-popover")},closePopover(){window.removeEventListener("keydown",this.keyboardHandler),this.$emit("close")}}},ywe={class:"apos-link-control"},vwe={key:0,class:"apos-link-control__remove"},_we={class:"apos-link-control__footer"};function wwe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposSchema"),l=O("AposContextMenu");return p(),y("div",ywe,[D(l,{ref:"contextMenu","menu-placement":"bottom-end",button:o.button,"rich-text-menu":!0,onOpen:o.openPopover,onClose:o.closePopover},{default:Q(()=>[k("div",{class:ne(["apos-link-control__dialog",{"apos-has-selection":o.hasSelection}])},[s.hasLinkOnOpen?(p(),y("div",vwe,[D(r,{type:"quiet",label:"apostrophe:removeLink",onClick:o.removeLink},null,8,["onClick"])])):S("v-if",!0),(p(),R(a,{key:o.lastSelectionTime,modelValue:s.docFields,"onUpdate:modelValue":[t[0]||(t[0]=c=>s.docFields=c),t[1]||(t[1]=c=>e.evaluateConditions())],schema:o.schema,"trigger-validation":s.triggerValidation,modifiers:s.formModifiers,generation:s.generation,"following-values":e.followingValues(),"conditional-fields":e.conditionalFields},null,8,["modelValue","schema","trigger-validation","modifiers","generation","following-values","conditional-fields"])),k("footer",_we,[D(r,{type:"default",label:"apostrophe:cancel",modifiers:["small"],onClick:o.close},null,8,["onClick"]),D(r,{type:"primary",label:"apostrophe:save",modifiers:["small"],disabled:s.docFields.hasErrors,onClick:o.save},null,8,["disabled","onClick"])])],2)]),_:1},8,["button","onOpen","onClose"])])}const Cwe=I(bwe,[["render",wwe],["__scopeId","data-v-6d5f92a1"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapLink.vue"]]),kwe={name:"AposTiptapMarks",mixins:[xr],props:{name:{type:String,required:!0},tool:{type:Object,required:!0},editor:{type:Object,required:!0},options:{type:Object,default(){return{}}}},emits:["open-popover","close"],data(){return{classes:this.options.marks.map(e=>e.class)}},computed:{button(){return{type:"rich-text",label:this.buttonLabel,icon:this.tool.icon||!1,"icon-size":this.tool.iconSize||16,modifiers:["no-border","no-motion"],tooltip:{content:this.tool.label,placement:"top",delay:650}}},activeClasses(){let e=[];const{selection:t}=this.editor.state,i=t.content();n(i.content);function n(s){s.forEach(o=>{var r,a;o.attrs.class&&(e=e.concat(o.attrs.class.split(" "))),(r=o==null?void 0:o.marks)!=null&&r.length&&n(o.marks),(a=o==null?void 0:o.content)!=null&&a.content&&n(o.content.content)})}return e.filter(s=>this.classes.includes(s))},buttonLabel(){var t;let e;return this.activeClasses.length>1&&(e=this.$t("apostrophe:richTextMarkMultipleStyles")),this.activeClasses.length===1&&(e=(t=this.options.marks.find(i=>i.class===this.activeClasses[0]))==null?void 0:t.label),e||this.$t("apostrophe:richTextMarkApplyStyles")},hasSelection(){const{state:e}=this.editor,{selection:t}=this.editor.state,{from:i,to:n}=t;return e.doc.textBetween(i,n,"")!==""}},watch:{hasSelection(e){e||this.close()}},methods:{toggleStyle(e){this.editor.commands[e.command](e.type,e.options||{}),this.editor.chain().focus().blur().run(),this.close()},click(){this.toggleOpen()},close(){this.$refs.contextMenu.hide()},openPopover(){this.$emit("open-popover")},closePopover(){this.$emit("close")}}},Awe={class:"apos-marks-control"},Swe={class:"apos-popover apos-marks-control__dialog"},xwe={class:"apos-marks-control__content-wrapper"},Mwe={class:"apos-marks-control__items"},Twe=["onClick"];function Owe(e,t,i,n,s,o){const r=O("AposContextMenu");return p(),y("div",Awe,[D(r,{ref:"contextMenu","menu-placement":"bottom-start",button:o.button,"rich-text-menu":!0,"center-on-icon":!0,onOpen:o.openPopover,onClose:o.closePopover},{default:Q(()=>[k("div",Swe,[k("div",xwe,[k("ul",Mwe,[(p(!0),y(Ce,null,Ie(i.options.marks,a=>(p(),y("li",{key:a.class,class:ne(["apos-marks-control__item",{"apos-marks-control__item--is-active":o.activeClasses.includes(a.class)}])},[k("button",{class:"apos-marks-control__button",onClick:l=>o.toggleStyle(a)},[k("span",{class:ne(["apos-marks-control__label",a.class])},E(e.$t(a.label)),3)],8,Twe)],2))),128))])])])]),_:1},8,["button","onOpen","onClose"])])}const Ewe=I(kwe,[["render",Owe],["__scopeId","data-v-6285f979"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapMarks.vue"]]),Iwe={name:"AposTiptapStyles",props:{name:{type:String,required:!0},editor:{type:Object,required:!0},tool:{type:Object,required:!0},options:{type:Object,default(){return{}}}},emits:["close"],data(){return{multipleSelected:!1}},computed:{nodeOptions(){return[{label:"apostrophe:richTextNodeMultipleStyles",attr:this.multipleSelected?"":"hidden"},...this.options.nodes]},active(){var s,o;const{selection:e}=this.editor.state,t=e.content();let i=[];const n=this.options.nodes.map(r=>({type:r.type,class:r.options.class||null,level:r.options.level||null}));return(o=(s=t==null?void 0:t.content)==null?void 0:s.content)!=null&&o.length&&(i=t.content.content.map(r=>({name:r.type.name,class:r.attrs.class||null,level:r.attrs.level||null}))),i=i.filter((r,a,l)=>{const c=l.findIndex(u=>u.name===r.name&&u.class===r.class&&u.level===r.level);return a===c}),i.length?i.length>1?0:i[0].name==="defaultNode"?1:n.findIndex(a=>a.class===i[0].class&&a.type===i[0].name&&a.level===i[0].level)+1:1},moduleOptions(){return window.apos.modules["@apostrophecms/rich-text-widget"]}},watch:{active(e){e===0?this.multipleSelected=!0:this.multipleSelected=!1}},methods:{setStyle(e){const t=this.nodeOptions[e.target.value];this.editor.commands[t.command](t.type,t.options||{}),this.editor.chain().focus().blur().run(),this.$emit("close")}}},$we={class:"apos-tiptap-select"},Lwe=["aria-label","value"],Pwe=["value","hidden"];function Dwe(e,t,i,n,s,o){const r=O("chevron-down-icon"),a=Bn("apos-tooltip");return p(),y("div",$we,[(p(),R(tt(i.tool.icon),{size:16,class:"apos-tiptap-select__type-icon","fill-color":"currentColor"})),Ge((p(),y("select",{"aria-label":e.$t(i.tool.label),value:o.active,class:"apos-tiptap-control apos-tiptap-control--select",style:Wt(`width:${e.$t(o.nodeOptions[o.active].label).length*6.5}px`),onChange:t[0]||(t[0]=(...l)=>o.setStyle&&o.setStyle(...l))},[(p(!0),y(Ce,null,Ie(o.nodeOptions,(l,c)=>(p(),y("option",{key:l.label,value:c,hidden:l.attr==="hidden"},E(e.$t(l.label)),9,Pwe))),128))],44,Lwe)),[[a,{content:e.$t(i.tool.label),placement:"top",delay:650}]]),D(r,{size:11,class:"apos-tiptap-select__icon","fill-color":"currentColor"})])}const Rwe=I(Iwe,[["render",Dwe],["__scopeId","data-v-7ec87aa5"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapStyles.vue"]]),Hwe={name:"AposTiptapUndefined",props:{name:{type:String,required:!0}}};function Vwe(e,t,i,n,s,o){return p(),y("button",null,"Toolbar item has no definition: "+E(i.name),1)}const zwe=I(Hwe,[["render",Vwe],["__scopeId","data-v-173757e8"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/rich-text-widget/apos/components/AposTiptapUndefined.vue"]]);function en(e,t){Nwe(e)&&(e="100%");const i=Bwe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function Ef(e){return Math.min(1,Math.max(0,e))}function Nwe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Bwe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function WT(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function If(e){return Number(e)<=1?`${Number(e)*100}%`:e}function tl(e){return e.length===1?"0"+e:String(e)}function Fwe(e,t,i){return{r:en(e,255)*255,g:en(t,255)*255,b:en(i,255)*255}}function nS(e,t,i){e=en(e,255),t=en(t,255),i=en(i,255);const n=Math.max(e,t,i),s=Math.min(e,t,i);let o=0,r=0;const a=(n+s)/2;if(n===s)r=0,o=0;else{const l=n-s;switch(r=a>.5?l/(2-n-s):l/(n+s),n){case e:o=(t-i)/l+(t<i?6:0);break;case t:o=(i-e)/l+2;break;case i:o=(e-t)/l+4;break}o/=6}return{h:o,s:r,l:a}}function Eb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*(6*i):i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function jwe(e,t,i){let n,s,o;if(e=en(e,360),t=en(t,100),i=en(i,100),t===0)s=i,o=i,n=i;else{const r=i<.5?i*(1+t):i+t-i*t,a=2*i-r;n=Eb(a,r,e+1/3),s=Eb(a,r,e),o=Eb(a,r,e-1/3)}return{r:n*255,g:s*255,b:o*255}}function sS(e,t,i){e=en(e,255),t=en(t,255),i=en(i,255);const n=Math.max(e,t,i),s=Math.min(e,t,i);let o=0;const r=n,a=n-s,l=n===0?0:a/n;if(n===s)o=0;else{switch(n){case e:o=(t-i)/a+(t<i?6:0);break;case t:o=(i-e)/a+2;break;case i:o=(e-t)/a+4;break}o/=6}return{h:o,s:l,v:r}}function Uwe(e,t,i){e=en(e,360)*6,t=en(t,100),i=en(i,100);const n=Math.floor(e),s=e-n,o=i*(1-t),r=i*(1-s*t),a=i*(1-(1-s)*t),l=n%6,c=[i,r,o,o,a,i][l],u=[a,i,i,r,o,o][l],h=[o,o,a,i,i,r][l];return{r:c*255,g:u*255,b:h*255}}function oS(e,t,i,n){const s=[tl(Math.round(e).toString(16)),tl(Math.round(t).toString(16)),tl(Math.round(i).toString(16))];return n&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Wwe(e,t,i,n,s){const o=[tl(Math.round(e).toString(16)),tl(Math.round(t).toString(16)),tl(Math.round(i).toString(16)),tl(Kwe(n))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function qwe(e,t,i,n){const s=e/100,o=t/100,r=i/100,a=n/100,l=255*(1-s)*(1-a),c=255*(1-o)*(1-a),u=255*(1-r)*(1-a);return{r:l,g:c,b:u}}function rS(e,t,i){let n=1-e/255,s=1-t/255,o=1-i/255,r=Math.min(n,s,o);return r===1?(n=0,s=0,o=0):(n=(n-r)/(1-r)*100,s=(s-r)/(1-r)*100,o=(o-r)/(1-r)*100),r*=100,{c:Math.round(n),m:Math.round(s),y:Math.round(o),k:Math.round(r)}}function Kwe(e){return Math.round(parseFloat(e)*255).toString(16)}function aS(e){return Yn(e)/255}function Yn(e){return parseInt(e,16)}function Gwe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}const uv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Jwe(e){let t={r:0,g:0,b:0},i=1,n=null,s=null,o=null,r=!1,a=!1;return typeof e=="string"&&(e=Xwe(e)),typeof e=="object"&&(Gn(e.r)&&Gn(e.g)&&Gn(e.b)?(t=Fwe(e.r,e.g,e.b),r=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Gn(e.h)&&Gn(e.s)&&Gn(e.v)?(n=If(e.s),s=If(e.v),t=Uwe(e.h,n,s),r=!0,a="hsv"):Gn(e.h)&&Gn(e.s)&&Gn(e.l)?(n=If(e.s),o=If(e.l),t=jwe(e.h,n,o),r=!0,a="hsl"):Gn(e.c)&&Gn(e.m)&&Gn(e.y)&&Gn(e.k)&&(t=qwe(e.c,e.m,e.y,e.k),r=!0,a="cmyk"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=WT(i),{ok:r,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}const Ywe="[-\\+]?\\d+%?",Zwe="[-\\+]?\\d*\\.\\d+%?",da="(?:"+Zwe+")|(?:"+Ywe+")",Ib="[\\s|\\(]+("+da+")[,|\\s]+("+da+")[,|\\s]+("+da+")\\s*\\)?",$f="[\\s|\\(]+("+da+")[,|\\s]+("+da+")[,|\\s]+("+da+")[,|\\s]+("+da+")\\s*\\)?",ws={CSS_UNIT:new RegExp(da),rgb:new RegExp("rgb"+Ib),rgba:new RegExp("rgba"+$f),hsl:new RegExp("hsl"+Ib),hsla:new RegExp("hsla"+$f),hsv:new RegExp("hsv"+Ib),hsva:new RegExp("hsva"+$f),cmyk:new RegExp("cmyk"+$f),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Xwe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;let t=!1;if(uv[e])e=uv[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let i=ws.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=ws.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=ws.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=ws.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=ws.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=ws.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=ws.cmyk.exec(e),i?{c:i[1],m:i[2],y:i[3],k:i[4]}:(i=ws.hex8.exec(e),i?{r:Yn(i[1]),g:Yn(i[2]),b:Yn(i[3]),a:aS(i[4]),format:t?"name":"hex8"}:(i=ws.hex6.exec(e),i?{r:Yn(i[1]),g:Yn(i[2]),b:Yn(i[3]),format:t?"name":"hex"}:(i=ws.hex4.exec(e),i?{r:Yn(i[1]+i[1]),g:Yn(i[2]+i[2]),b:Yn(i[3]+i[3]),a:aS(i[4]+i[4]),format:t?"name":"hex8"}:(i=ws.hex3.exec(e),i?{r:Yn(i[1]+i[1]),g:Yn(i[2]+i[2]),b:Yn(i[3]+i[3]),format:t?"name":"hex"}:!1))))))))))}function Gn(e){return typeof e=="number"?!Number.isNaN(e):ws.CSS_UNIT.test(e)}class fi{constructor(t="",i={}){if(t instanceof fi)return t;typeof t=="number"&&(t=Gwe(t)),this.originalInput=t;const n=Jwe(t);this.originalInput=t,this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this.roundA=Math.round(100*this.a)/100,this.format=i.format??n.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=n.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3}getLuminance(){const t=this.toRgb();let i,n,s;const o=t.r/255,r=t.g/255,a=t.b/255;return o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),r<=.03928?n=r/12.92:n=Math.pow((r+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*n+.0722*s}getAlpha(){return this.a}setAlpha(t){return this.a=WT(t),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:t}=this.toHsl();return t===0}toHsv(){const t=sS(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}}toHsvString(){const t=sS(this.r,this.g,this.b),i=Math.round(t.h*360),n=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?`hsv(${i}, ${n}%, ${s}%)`:`hsva(${i}, ${n}%, ${s}%, ${this.roundA})`}toHsl(){const t=nS(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}}toHslString(){const t=nS(this.r,this.g,this.b),i=Math.round(t.h*360),n=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?`hsl(${i}, ${n}%, ${s}%)`:`hsla(${i}, ${n}%, ${s}%, ${this.roundA})`}toHex(t=!1){return oS(this.r,this.g,this.b,t)}toHexString(t=!1){return"#"+this.toHex(t)}toHex8(t=!1){return Wwe(this.r,this.g,this.b,this.a,t)}toHex8String(t=!1){return"#"+this.toHex8(t)}toHexShortString(t=!1){return this.a===1?this.toHexString(t):this.toHex8String(t)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const t=Math.round(this.r),i=Math.round(this.g),n=Math.round(this.b);return this.a===1?`rgb(${t}, ${i}, ${n})`:`rgba(${t}, ${i}, ${n}, ${this.roundA})`}toPercentageRgb(){const t=i=>`${Math.round(en(i,255)*100)}%`;return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}}toPercentageRgbString(){const t=i=>Math.round(en(i,255)*100);return this.a===1?`rgb(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%)`:`rgba(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%, ${this.roundA})`}toCmyk(){return{...rS(this.r,this.g,this.b)}}toCmykString(){const{c:t,m:i,y:n,k:s}=rS(this.r,this.g,this.b);return`cmyk(${t}, ${i}, ${n}, ${s})`}toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;const t="#"+oS(this.r,this.g,this.b,!1);for(const[i,n]of Object.entries(uv))if(t===n)return i;return!1}toString(t){const i=!!t;t=t??this.format;let n=!1;const s=this.a<1&&this.a>=0;return!i&&s&&(t.startsWith("hex")||t==="name")?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),t==="cmyk"&&(n=this.toCmykString()),n||this.toHexString())}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new fi(this.toString())}lighten(t=10){const i=this.toHsl();return i.l+=t/100,i.l=Ef(i.l),new fi(i)}brighten(t=10){const i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(t/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(t/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(t/100)))),new fi(i)}darken(t=10){const i=this.toHsl();return i.l-=t/100,i.l=Ef(i.l),new fi(i)}tint(t=10){return this.mix("white",t)}shade(t=10){return this.mix("black",t)}desaturate(t=10){const i=this.toHsl();return i.s-=t/100,i.s=Ef(i.s),new fi(i)}saturate(t=10){const i=this.toHsl();return i.s+=t/100,i.s=Ef(i.s),new fi(i)}greyscale(){return this.desaturate(100)}spin(t){const i=this.toHsl(),n=(i.h+t)%360;return i.h=n<0?360+n:n,new fi(i)}mix(t,i=50){const n=this.toRgb(),s=new fi(t).toRgb(),o=i/100,r={r:(s.r-n.r)*o+n.r,g:(s.g-n.g)*o+n.g,b:(s.b-n.b)*o+n.b,a:(s.a-n.a)*o+n.a};return new fi(r)}analogous(t=6,i=30){const n=this.toHsl(),s=360/i,o=[this];for(n.h=(n.h-(s*t>>1)+720)%360;--t;)n.h=(n.h+s)%360,o.push(new fi(n));return o}complement(){const t=this.toHsl();return t.h=(t.h+180)%360,new fi(t)}monochromatic(t=6){const i=this.toHsv(),{h:n}=i,{s}=i;let{v:o}=i;const r=[],a=1/t;for(;t--;)r.push(new fi({h:n,s,v:o})),o=(o+a)%1;return r}splitcomplement(){const t=this.toHsl(),{h:i}=t;return[this,new fi({h:(i+72)%360,s:t.s,l:t.l}),new fi({h:(i+216)%360,s:t.s,l:t.l})]}onBackground(t){const i=this.toRgb(),n=new fi(t).toRgb(),s=i.a+n.a*(1-i.a);return new fi({r:(i.r*i.a+n.r*n.a*(1-i.a))/s,g:(i.g*i.a+n.g*n.a*(1-i.a))/s,b:(i.b*i.a+n.b*n.a*(1-i.a))/s,a:s})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(t){const i=this.toHsl(),{h:n}=i,s=[this],o=360/t;for(let r=1;r<t;r++)s.push(new fi({h:(n+r*o)%360,s:i.s,l:i.l}));return s}equals(t){const i=new fi(t);return this.format==="cmyk"||i.format==="cmyk"?this.toCmykString()===i.toCmykString():this.toRgbString()===i.toRgbString()}}function mo(...e){return new fi(...e)}function $b(e,t){const i=e&&e.a;let n;e&&e.hsl?n=mo(e.hsl):e&&e.hex&&e.hex.length>0?n=mo(e.hex):e&&e.hsv?n=mo(e.hsv):e&&e.rgba?n=mo(e.rgba):e&&e.rgb?n=mo(e.rgb):e&&typeof e=="string"&&e.startsWith("--")?(n=mo(getComputedStyle(document.body).getPropertyValue(e)),n._cssVariable=e):n=mo(e),n&&(n._a===void 0||n._a===null)&&n.setAlpha(i||n.getAlpha());const s=n.toHsl(),o=n.toHsv();return s.s===0&&(o.h=s.h=e.h||e.hsl&&e.hsl.h||t||0),o.v<.0164&&(o.h=e.h||e.hsv&&e.hsv.h||0,o.s=e.s||e.hsv&&e.hsv.s||0),s.l<.01&&(s.h=e.h||e.hsl&&e.hsl.h||0,s.s=e.s||e.hsl&&e.hsl.s||0),{_cssVariable:n._cssVariable,hsl:s,hex:n.toHexString().toUpperCase(),hex8:n.toHex8String().toUpperCase(),rgba:n.toRgb(),hsv:o,oldHue:e.h||t||s.h,source:e.source,a:n.getAlpha()}}const Qwe={model:{prop:"modelValue",event:"update:modelValue"},props:["modelValue"],data(){return{val:$b(this.modelValue)}},computed:{colors:{get(){return this.val},set(e){let t;e._cssVariable?t=e._cssVariable:t=mo(e.hsl).toString(this.finalOptions.format),this.val=e,this.$emit("update:modelValue",t)}}},watch:{modelValue(e){this.val=$b(e)}},methods:{colorChange(e,t){this.oldHue=this.colors.hsl.h,this.colors=$b(e,t||this.oldHue)},isValidHex(e){return mo(e).isValid},simpleCheckForValidColor(e){const t=["r","g","b","a","h","s","l","v"];let i=0,n=0;for(let s=0;s<t.length;s++){const o=t[s];e[o]&&(i++,isNaN(e[o])||n++)}if(i===n)return e},paletteUpperCase(e){return e.map(t=>t.toUpperCase())},isTransparent(e){return mo(e).getAlpha()===0}}},e2e={name:"AposColorEditableInput",props:{label:{type:String,default:""},labelText:{type:String,default:""},desc:{type:String,default:""},value:{type:[String,Number],default:()=>""},max:{type:Number,default:void 0},min:{type:Number,default:void 0},arrowOffset:{type:Number,default:1}},emits:["change"],computed:{val:{get(){return this.value},set(e){if(this.max!==void 0&&+e>this.max)this.$refs.input.value=this.max;else return e}},labelId(){return`input__label__${this.label}__${Math.random().toString().slice(2,5)}`},labelSpanText(){return this.labelText||this.label}},methods:{update(e){this.handleChange(e.target.value)},handleChange(e){const t={};t[this.label]=e,t.hex===void 0&&t["#"]===void 0?this.$emit("change",t):e.length>5&&this.$emit("change",t)},handleKeyDown(e){let{val:t}=this;const i=Number(t);if(i){const n=this.arrowOffset||1;e.keyCode===38&&(t=i+n,this.handleChange(t),e.preventDefault()),e.keyCode===40&&(t=i-n,this.handleChange(t),e.preventDefault())}}}},t2e={class:"apos-color__editable-input"},i2e=["aria-labelledby"],n2e=["id","for"],s2e={class:"apos-color__desc"};function o2e(e,t,i,n,s,o){return p(),y("div",t2e,[Ge(k("input",{ref:"input","onUpdate:modelValue":t[0]||(t[0]=r=>o.val=r),"aria-labelledby":o.labelId,class:"apos-color__input",onKeydown:t[1]||(t[1]=(...r)=>o.handleKeyDown&&o.handleKeyDown(...r)),onInput:t[2]||(t[2]=(...r)=>o.update&&o.update(...r))},null,40,i2e),[[Ds,o.val]]),k("span",{id:o.labelId,for:i.label,class:"apos-color__label"},E(o.labelSpanText),9,n2e),k("span",s2e,E(i.desc),1)])}const r2e=I(e2e,[["render",o2e],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/color-field/apos/lib/AposColorEditableInput.vue"]]),a2e={name:"AposColorSaturation",props:{value:{type:Object,default:()=>({})}},emits:["change"],computed:{colors(){return this.value},bgColor(){return`hsl(${this.colors.hsv.h}, 100%, 50%)`},pointerTop(){return`${-(this.colors.hsv.v*100)+1+100}%`},pointerLeft(){return`${this.colors.hsv.s*100}%`}},methods:{handleChange(e,t){!t&&e.preventDefault();const{container:i}=this.$refs;if(!i)return;const n=i.clientWidth,s=i.clientHeight,o=i.getBoundingClientRect().left+window.pageXOffset,r=i.getBoundingClientRect().top+window.pageYOffset,a=e.pageX||(e.touches?e.touches[0].pageX:0),l=e.pageY||(e.touches?e.touches[0].pageY:0),c=this.clamp(a-o,0,n),u=this.clamp(l-r,0,s),h=c/n,m=this.clamp(-(u/s)+1,0,1);this.onChange({h:this.colors.hsv.h,s:h,v:m,a:this.colors.hsv.a,source:"hsva"})},onChange(e){this.$emit("change",e)},handleMouseDown(e){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)},clamp(e,t,i){return t<i?e<t?t:e>i?i:e:e<i?i:e>t?t:e}}};function l2e(e,t,i,n,s,o){return p(),y("div",{ref:"container",class:"apos-color__saturation",style:Wt({background:o.bgColor}),onMousedown:t[0]||(t[0]=Je((...r)=>o.handleMouseDown&&o.handleMouseDown(...r),["prevent"])),onTouchmove:t[1]||(t[1]=(...r)=>o.handleChange&&o.handleChange(...r)),onTouchstart:t[2]||(t[2]=(...r)=>o.handleChange&&o.handleChange(...r))},[t[4]||(t[4]=k("div",{class:"apos-color__saturation-white"},null,-1)),t[5]||(t[5]=k("div",{class:"apos-color__saturation-black"},null,-1)),k("div",{class:"apos-color__saturation-pointer",style:Wt({top:o.pointerTop,left:o.pointerLeft})},t[3]||(t[3]=[k("div",{class:"apos-color__saturation-circle"},null,-1)]),4)],36)}const c2e=I(a2e,[["render",l2e],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/color-field/apos/lib/AposColorSaturation.vue"]]),d2e={name:"AposColorHue",props:{value:{type:Object,default:()=>({})},direction:{type:String,default:"horizontal",validator(e){return["horizontal","vertical"].includes(e)}}},emits:["change"],data(){return{oldHue:0,pullDirection:""}},computed:{colors(){return this.value},directionClass(){return{"apos-color__hue--horizontal":this.direction==="horizontal","apos-color__hue--vertical":this.direction==="vertical"}},pointerTop(){return this.direction==="vertical"?this.colors.hsl.h===0&&this.pullDirection==="right"?0:`${-(this.colors.hsl.h*100/360)+100}%`:0},pointerLeft(){return this.direction==="vertical"?0:this.colors.hsl.h===0&&this.pullDirection==="right"?"100%":`${this.colors.hsl.h*100/360}%`}},watch:{value:{handler(e){const{h:t}=e.hsl;t!==0&&t-this.oldHue>0&&(this.pullDirection="right"),t!==0&&t-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=t},deep:!0,immediate:!0}},methods:{handleChange(e,t){!t&&e.preventDefault();const{container:i}=this.$refs;if(!i)return;const n=i.clientWidth,s=i.clientHeight,o=i.getBoundingClientRect().left+window.pageXOffset,r=i.getBoundingClientRect().top+window.pageYOffset,a=e.pageX||(e.touches?e.touches[0].pageX:0),l=e.pageY||(e.touches?e.touches[0].pageY:0),c=a-o,u=l-r;let h,m;this.direction==="vertical"?(u<0?h=360:u>s?h=0:(m=-(u*100/s)+100,h=360*m/100),this.colors.hsl.h!==h&&this.$emit("change",{h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(c<0?h=0:c>n?h=360:(m=c*100/n,h=360*m/100),this.colors.hsl.h!==h&&this.$emit("change",{h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}},u2e=["aria-valuenow"];function h2e(e,t,i,n,s,o){return p(),y("div",{class:ne(["apos-color__hue",[o.directionClass]])},[k("div",{ref:"container",class:"apos-color__hue-container",role:"slider","aria-valuenow":o.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360",onMousedown:t[0]||(t[0]=Je((...r)=>o.handleMouseDown&&o.handleMouseDown(...r),["prevent"])),onTouchmove:t[1]||(t[1]=(...r)=>o.handleChange&&o.handleChange(...r)),onTouchstart:t[2]||(t[2]=(...r)=>o.handleChange&&o.handleChange(...r))},[k("div",{class:"apos-color__hue-pointer",style:Wt({top:o.pointerTop,left:o.pointerLeft}),role:"presentation"},t[3]||(t[3]=[k("div",{class:"apos-color__hue-picker"},null,-1)]),4)],40,u2e)],2)}const f2e=I(d2e,[["render",h2e],["__scopeId","data-v-8c4d5975"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/color-field/apos/lib/AposColorHue.vue"]]),p2e={name:"AposColorAlpha",props:{value:{type:Object,default:()=>({})},onChange:{type:Function,default:()=>{}}},emits:["change"],computed:{colors(){return this.value},gradientColor(){const{rgba:e}=this.colors,t=[e.r,e.g,e.b].join(",");return`linear-gradient(to right, rgba(${t}, 0) 0%, rgba(${t}, 1) 100%)`}},methods:{handleChange(e,t){!t&&e.preventDefault();const{container:i}=this.$refs;if(!i)return;const n=i.clientWidth,s=i.getBoundingClientRect().left+window.pageXOffset,r=(e.pageX||(e.touches?e.touches[0].pageX:0))-s;let a;r<0?a=0:r>n?a=1:a=Math.round(r*100/n)/100,this.colors.a!==a&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a,source:"rgba"})},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}},m2e={class:"apos-color__alpha"},g2e={class:"apos-color__alpha-checkboard-wrap"};function b2e(e,t,i,n,s,o){const r=O("AposColorCheckerboard");return p(),y("div",m2e,[k("div",g2e,[D(r)]),k("div",{class:"apos-color__alpha-gradient",style:Wt({background:o.gradientColor})},null,4),k("div",{ref:"container",class:"apos-color__alpha-container",onMousedown:t[0]||(t[0]=Je((...a)=>o.handleMouseDown&&o.handleMouseDown(...a),["prevent"])),onTouchmove:t[1]||(t[1]=(...a)=>o.handleChange&&o.handleChange(...a)),onTouchstart:t[2]||(t[2]=(...a)=>o.handleChange&&o.handleChange(...a))},[k("div",{class:"apos-color__alpha-pointer",style:Wt({left:`${o.colors.a*100}%`})},t[3]||(t[3]=[k("div",{class:"apos-color__alpha-picker"},null,-1)]),4)],544)])}const y2e=I(p2e,[["render",b2e],["__scopeId","data-v-169d1e41"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/color-field/apos/lib/AposColorAlpha.vue"]]),lS={...apos.modules["@apostrophecms/color-field"].defaultOptions},v2e={name:"AposColor",components:{Saturation:c2e,Hue:f2e,Alpha:y2e,EditableContent:r2e},mixins:[Qwe],props:{options:{type:Object,default(){return lS}}},computed:{defaultOptions(){return lS},finalOptions(){let e={...this.options};return e.pickerOptions&&(e={...e.pickerOptions,...e},delete e.pickerOptions),Array.isArray(e.presetColors)&&e.presetColors.length===0&&(e.presetColors=!1),e.presetColors===!0&&delete e.presetColors,Object.assign({...this.defaultOptions},e)},presetColors(){return this.finalOptions.presetColors},disableAlpha(){return this.finalOptions.disableAlpha},disableSpectrum(){return this.finalOptions.disableSpectrum},disableFields(){return this.finalOptions.disableFields},hex(){let e;return this.colors.a<1?e=this.colors.hex8:e=this.colors.hex,e.replace("#","")},activeColor(){const{rgba:e}=this.colors;return`rgba(${[e.r,e.g,e.b,e.a].join(",")})`}},methods:{formatCssValue(e){let t=e;return e.startsWith("--")&&(t=`var(${t})`),t},handlePreset(e){this.colorChange(e)},childChange(e){this.colorChange(e)},inputChange(e){e&&(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b||e.a)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}},_2e={key:0,class:"apos-color__saturation-wrap"},w2e={key:1,class:"apos-color__controls"},C2e={class:"apos-color__sliders"},k2e={key:0,class:"apos-color__hue-wrap"},A2e={key:1,class:"apos-color__alpha-wrap"},S2e={class:"apos-color__color-wrap"},x2e=["data-apos-active-color","aria-label"],M2e={key:2,class:"apos-color__field"},T2e={class:"apos-color__field--double"},O2e={class:"apos-color__field--single"},E2e={class:"apos-color__field--single"},I2e={class:"apos-color__field--single"},$2e={key:0,class:"apos-color__field--single"},L2e={key:3,class:"apos-color__presets",role:"group","aria-label":"A color preset, pick one to set as current color"},P2e=["aria-label","onClick"],D2e=["aria-label","onClick"];function R2e(e,t,i,n,s,o){const r=O("Saturation"),a=O("Hue"),l=O("Alpha"),c=O("AposColorCheckerboard"),u=O("EditableContent");return p(),y("div",{role:"application","aria-label":"Color picker",class:ne(["apos-color",[o.disableAlpha?"apos-color--disable-alpha":null,o.disableSpectrum?"apos-color--disable-spectrum":null,o.disableFields?"apos-color--disable-fields":null,o.presetColors?null:"apos-color--disable-presets"]])},[o.disableSpectrum?S("v-if",!0):(p(),y("div",_2e,[D(r,{value:e.colors,onChange:o.childChange},null,8,["value","onChange"])])),o.disableSpectrum&&o.disableAlpha?S("v-if",!0):(p(),y("div",w2e,[k("div",C2e,[o.disableSpectrum?S("v-if",!0):(p(),y("div",k2e,[D(a,{value:e.colors,onChange:o.childChange},null,8,["value","onChange"])])),o.disableAlpha?S("v-if",!0):(p(),y("div",A2e,[D(l,{value:e.colors,onChange:o.childChange},null,8,["value","onChange"])]))]),k("div",S2e,[k("div",{"data-apos-active-color":o.activeColor,"aria-label":`Current color is ${o.activeColor}`,class:"apos-color__active-color",style:Wt({background:o.activeColor})},null,12,x2e),D(c)])])),o.disableFields?S("v-if",!0):(p(),y("div",M2e,[S(" rgba "),k("div",T2e,[D(u,{label:"hex",value:o.hex,onChange:o.inputChange},null,8,["value","onChange"])]),k("div",O2e,[D(u,{label:"r",value:e.colors.rgba.r,onChange:o.inputChange},null,8,["value","onChange"])]),k("div",E2e,[D(u,{label:"g",value:e.colors.rgba.g,onChange:o.inputChange},null,8,["value","onChange"])]),k("div",I2e,[D(u,{label:"b",value:e.colors.rgba.b,onChange:o.inputChange},null,8,["value","onChange"])]),o.disableAlpha?S("v-if",!0):(p(),y("div",$2e,[D(u,{label:"a",value:e.colors.a,"arrow-offset":.01,max:1,onChange:o.inputChange},null,8,["value","onChange"])]))])),o.presetColors?(p(),y("div",L2e,[(p(!0),y(Ce,null,Ie(o.presetColors,h=>(p(),y(Ce,null,[e.isTransparent(h)?(p(),y("div",{key:h,"aria-label":`Color:${h}`,class:"apos-color__presets-color",onClick:m=>o.handlePreset(h)},[D(c)],8,D2e)):(p(),y("div",{key:`!${h}`,class:"apos-color__presets-color","aria-label":`Color:${h}`,style:Wt({background:o.formatCssValue(h)}),onClick:m=>o.handlePreset(h)},null,12,P2e))],64))),256))])):S("v-if",!0)],2)}const qT=I(v2e,[["render",R2e],["__scopeId","data-v-87f9eb59"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/color-field/apos/components/AposColor.vue"]]),H2e={name:"AposInputColor",components:{AposColor:qT},mixins:[tn],data(){return{active:!1,tinyColorObj:null}},computed:{isMicro(){return this.modifiers.includes("micro")},isInline(){return this.modifiers.includes("inline")},pickerValue(){return this.next||this.defaultValue},defaultValue(){return this.field.def||""},buttonOptions(){return{label:this.field.label,type:"color",color:this.modelValue.data||""}},options(){var e;return((e=this.field)==null?void 0:e.options)||{}},classList(){return["apos-input-wrapper","apos-color"]}},mounted(){this.next||(this.next="")},methods:{open(){this.active=!0},close(){this.active=!1},update(e){this.next=e},validate(e){if(this.field.required&&!e)return"required";if(!e)return!1;const t=new fi(e);if(!e.startsWith("--"))return t.isValid?!1:"Error"},clear(){this.next=""}}},V2e={__name:"AposColorInfo",props:{value:{type:String,default:null},isMicro:{type:Boolean,default:!1}},emits:["clear"],setup(e,{expose:t,emit:i}){t();const n=e,s=st(()=>n.value||"None Selected"),r={props:n,label:s,emit:i,computed:st};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},z2e={class:"apos-color-info","data-apos-test":"colorInfo"},N2e={key:0};function B2e(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposIndicator");return p(),y("div",z2e,[i.isMicro?S("v-if",!0):(p(),y("span",N2e,E(n.label),1)),!i.isMicro&&i.value?(p(),R(r,{key:1,type:"quiet",label:"apostrophe:clear",class:"apos-color-info__clear-btn",modifiers:["no-motion"],onClick:t[0]||(t[0]=l=>n.emit("clear"))})):i.value?(p(),R(a,{key:2,class:"apos-color-info__clear-icon",icon:"water-off-icon",onClick:t[1]||(t[1]=l=>n.emit("clear"))})):S("v-if",!0)])}const F2e=I(V2e,[["render",B2e],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/color-field/apos/lib/AposColorInfo.vue"]]),j2e={name:"AposInputColor",components:{AposColorInfo:F2e},mixins:[H2e]},U2e={class:"apos-input-color"},W2e={class:"apos-input-color__ui"};function q2e(e,t,i,n,s,o){const r=O("AposColorInfo"),a=O("AposColor"),l=O("AposContextMenu"),c=O("AposInputWrapper");return p(),R(c,{modifiers:e.modifiers,field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions},{body:Q(()=>[k("div",U2e,[e.isInline?(p(),R(r,{key:0,class:"apos-input-color__info apos-input-color__info--inline",value:e.next,"is-micro":e.isMicro,onClear:e.clear},null,8,["value","is-micro","onClear"])):S("v-if",!0),k("div",W2e,[D(l,{button:e.buttonOptions,"menu-placement":"bottom-start",disabled:e.field.readOnly,tooltip:e.tooltip,onOpen:e.open,onClose:e.close},{default:Q(()=>[D(a,{options:e.options,"model-value":e.pickerValue,"onUpdate:modelValue":e.update},null,8,["options","model-value","onUpdate:modelValue"])]),_:1},8,["button","disabled","tooltip","onOpen","onClose"])]),e.isInline?S("v-if",!0):(p(),R(r,{key:1,class:"apos-input-color__info",value:e.next,"is-micro":e.isMicro,onClear:e.clear},null,8,["value","is-micro","onClear"]))])]),_:1},8,["modifiers","field","error","uid","display-options"])}const K2e=I(j2e,[["render",q2e],["__scopeId","data-v-ea1c40c7"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/color-field/apos/components/AposInputColor.vue"]]),G2e={name:"AposInputOembed",mixins:[tn],emits:["return"],data(){return{next:this.modelValue&&this.modelValue.data?{...this.modelValue.data}:{},oembedResult:{},dynamicRatio:"",oembedError:null,tempReadOnly:!1}},computed:{tabindex(){return this.field.disableFocus?"-1":"0"},classes(){return["apos-input","apos-input--oembed"]},icon(){return this.error?"circle-medium-icon":null}},async mounted(){this.next&&this.next.url&&await this.loadOembed()},methods:{validate(e){return(e==null||e.url===null)&&(e={}),!e.url&&!this.field.required?!1:this.field.oembedType&&this.oembedResult.type&&this.oembedResult.type!==this.field.oembedType?{message:this.$t("apostrophe:oembedTypeNotSupported")}:this.oembedError?this.oembedError.message?{message:this.oembedError.message}:"invalid":this.field.required&&(!e||!e.url)?"required":!1},async watchNext(){await this.loadOembed(),this.validateAndEmit()},async loadOembed(){this.tempReadOnly=!0,this.oembedResult={},this.oembedError=null,this.dynamicRatio="";try{const e=await apos.http.get(`${apos.oembed.action}/query`,{busy:!0,qs:{url:this.next.url}});this.next.title=e.title||"",this.next.thumbnail=e.thumbnail_url||"",this.oembedResult=e,typeof e.height=="number"&&typeof e.width=="number"&&(this.dynamicRatio=e.height/e.width)}catch(e){e.body&&e.body.message?this.oembedError=e.body:this.oembedError={message:this.$t("apostrophe:oembedInvalidEmbedUrl")},this.next.title="",this.next.thumbnail=""}finally{this.tempReadOnly=!1}}}},J2e={class:"apos-input-wrapper"},Y2e=["id","placeholder","disabled","readonly","required","tabindex"],Z2e=["innerHTML"];function X2e(e,t,i,n,s,o){const r=O("AposInputWrapper");return p(),R(r,{modifiers:e.modifiers,field:e.field,error:e.effectiveError,uid:e.uid,"display-options":e.displayOptions},{body:Q(()=>[k("div",J2e,[Ge(k("input",{id:e.uid,"onUpdate:modelValue":t[0]||(t[0]=a=>s.next.url=a),class:ne(o.classes),type:"url",placeholder:e.$t(e.field.placeholder),disabled:e.field.readOnly,readonly:s.tempReadOnly,required:e.field.required,tabindex:o.tabindex},null,10,Y2e),[[Ds,s.next.url]]),o.icon?(p(),R(tt(o.icon),{key:0,size:e.iconSize,class:"apos-input-icon"},null,8,["size"])):S("v-if",!0),S(" eslint-disable vue/no-v-html "),!e.error&&s.oembedResult.html?(p(),y("div",{key:1,class:ne(["apos-input__embed",{"apos-is-dynamic":!!s.dynamicRatio}]),style:Wt({paddingTop:s.dynamicRatio&&`${s.dynamicRatio*100}%`}),innerHTML:s.oembedResult.html},null,14,Z2e)):S("v-if",!0)]),S(" eslint-enable vue/no-v-html ")]),_:1},8,["modifiers","field","error","uid","display-options"])}const Q2e=I(G2e,[["render",X2e],["__scopeId","data-v-dafb97ec"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/oembed-field/apos/components/AposInputOembed.vue"]]),eCe={name:"AposAvatar",props:{user:{type:Object,required:!0},alt:{type:String,default:""}},data(){return{}},computed:{style(){const e=["linear-gradient(46deg, #CC9300 0%, #EA433A 26%, #B327BF 47%, #6666FF 76%, #00BF9A 100%)","linear-gradient(46deg, #00BF9A 0%, #CC9300 47%, #EA433A 100%)","linear-gradient(46deg, #EB4339 0%, #B327BF 47%, #6666FE 100%)","linear-gradient(46deg, #6666FF 0%, #00BF9A 47%, #CC9300 100%)","linear-gradient(46deg, #CC9300 0%, #EA433A 47%, #B327BF 100%)","linear-gradient(46deg, #B327BF 0%, #6666FF 47%, #00C09A 100%)"],t=parseInt(this.user._id,36)%e.length;return{"background-image":e[t]}},initials(){let e="";const t=this.user.title&&this.user.title.split(" ");return t.length>1?e=`${t[0].substring(0,1)}${t[1].substring(0,1)}`:e=(this.user.title||this.user.username).substring(0,1),e}}},tCe=["alt"];function iCe(e,t,i,n,s,o){return p(),y("div",{class:"apos-avatar",style:Wt(o.style),alt:i.alt},[k("span",null,E(o.initials),1)],12,tCe)}const nCe=I(eCe,[["render",iCe],["__scopeId","data-v-49af6dc9"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposAvatar.vue"]]),sCe={name:"AposButton",props:{label:{type:[String,Object],default:"apostrophe:provideButtonLabel"},action:{type:String,default:null},interpolate:{type:Object,default(){return{}}},modifiers:{type:Array,default(){return[]}},color:{type:String,default:null},textColor:{type:String,default:null},href:{type:String,default:null},iconSize:{type:Number,default:15},iconFill:{type:String,default:"currentColor"},disabled:Boolean,busy:Boolean,icon:{type:String,default:null},type:{type:String,default:null},iconOnly:{type:Boolean,default:!1},state:{type:Array,default(){return[]}},attrs:{type:Object,default(){return{}}},disableFocus:Boolean,buttonType:{type:String,default:null},role:{type:String,default:null},tooltip:{type:[String,Object,Boolean],default:!1},target:{type:String,default:null},secondIcon:{type:String,default:null},download:{type:Boolean,default:!1}},emits:["click","icon"],data(){return{id:Ut.createId()}},computed:{tabindex(){return this.disableFocus?"-1":"0"},colorStyle(){if(this.type==="color")if(this.color){let e=this.color;return e.startsWith("--")&&(e=`var(${e})`),{backgroundColor:e}}else return{backgroundColor:"transparent"};else return null},modifierClass(){const e=[];return this.modifiers&&this.modifiers.forEach(t=>{e.push(`apos-button--${t}`)}),this.busy&&e.push("apos-button--outline","apos-button--busy"),this.type&&e.push(`apos-button--${this.type}`),this.iconOnly&&e.push("apos-button--icon-only"),this.state&&this.state.length&&this.state.forEach(t=>{e.push(`apos-is-${t}`)}),e.length>0?e.join(" "):!1},spinnerColor(){return this.type==="danger"?"--a-danger":this.busy&&this.disabled?"--a-white":this.type==="outline"?"--a-base-5":null},isDisabled(){return this.disabled||this.busy||null},actionTestLabel(){return this.action?`${this.action}Trigger`:!1}},methods:{click(e){this.$emit("click",e)},focus(){var e,t;(t=((e=this.$refs.buttonTrigger)==null?void 0:e.$el)??this.$refs.buttonTrigger)==null||t.focus()}}},oCe=["data-apos-test"],rCe={key:0,class:"apos-button__color-preview"},aCe={class:"apos-button__color-preview__checkerboard"},lCe={class:"apos-button__content"};function cCe(e,t,i,n,s,o){const r=O("AposSpinner"),a=O("AposColorCheckerboard"),l=O("AposIndicator"),c=Bn("apos-tooltip");return Ge((p(),y("span",{class:ne(["apos-button__wrapper",{"apos-button__wrapper--block":i.modifiers.includes("block")}]),"data-apos-test":o.actionTestLabel},[(p(),R(tt(i.href?"a":"button"),J(i.attrs,{id:i.attrs.id?i.attrs.id:s.id,ref:"buttonTrigger",target:i.target,href:i.href,class:["apos-button",o.modifierClass],tabindex:o.tabindex,disabled:o.isDisabled?o.isDisabled:null,type:i.buttonType,role:i.role,style:{color:i.textColor},download:i.download?"":null},Xc(i.href?{}:{click:o.click})),{default:Q(()=>[D(ns,{name:"fade"},{default:Q(()=>[i.busy?(p(),R(r,{key:0,color:o.spinnerColor},null,8,["color"])):S("v-if",!0)]),_:1}),o.colorStyle?(p(),y("span",rCe,[k("span",{style:Wt(o.colorStyle),class:"apos-button__color-preview__swatch"},null,4),k("div",aCe,[D(a)])])):S("v-if",!0),k("div",lCe,[i.icon?(p(),R(l,{key:0,class:"apos-button__icon",icon:i.icon,"icon-size":i.iconSize,"icon-color":i.iconFill,onIcon:t[0]||(t[0]=u=>e.$emit("icon",u))},null,8,["icon","icon-size","icon-color"])):S("v-if",!0),yt(e.$slots,"label",{},()=>[k("span",{class:ne(["apos-button__label",{"apos-sr-only":i.iconOnly||i.type==="color"}])},E(e.$t(i.label,i.interpolate)),3)],!0),i.secondIcon?(p(),R(l,{key:1,class:"apos-button__second-icon",icon:i.secondIcon,"icon-size":i.iconSize,"icon-color":i.iconFill},null,8,["icon","icon-size","icon-color"])):S("v-if",!0)])]),_:3},16,["id","target","href","class","tabindex","disabled","type","role","style","download"]))],10,oCe)),[[c,i.tooltip]])}const dCe=I(sCe,[["render",cCe],["__scopeId","data-v-f5345b2a"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposButton.vue"]]),uCe={name:"AposButtonGroup",props:{direction:{type:String,default:"horizontal"},modifiers:{type:Array,default(){return[]}}},data(){return{}},computed:{modifierClass(){const e=[];return this.modifiers&&this.modifiers.forEach(t=>{e.push(`apos-button-group--${t}`)}),e.join(" ")}}},hCe={class:"apos-button-group__inner"};function fCe(e,t,i,n,s,o){return p(),y("div",{class:ne(["apos-button-group",o.modifierClass]),role:"menubar"},[k("div",hCe,[yt(e.$slots,"default",{},void 0,!0)])],2)}const pCe=I(uCe,[["render",fCe],["__scopeId","data-v-5abbec40"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposButtonGroup.vue"]]),mCe={__name:"AposButtonSplit",props:{menu:{type:Array,required:!0},menuLabel:{type:String,required:!0},type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},tooltip:{type:[String,Object],default:null},selected:{type:String,default:null},attrs:{type:Object,default(){return{}}}},emits:["click"],setup(e,{expose:t,emit:i}){t();const n=e,s=i,o=He(null),r=He(null),a=He({type:n.type,modifiers:["no-motion"],attrs:n.attrs}),l=He(),c=He({iconOnly:!0,icon:"chevron-down-icon",modifiers:["no-motion"],type:n.type}),u=st(()=>{const _=[];return _.push(`apos-button-split--type-${a.value.type}`),_});ss(()=>n.menu,()=>{g()},{immediate:!0});function h(_){r.value=_,o.value=n.menu.find(w=>w.action===_).label}function m(_){h(_),l.value.hide()}function g(){let _=n.menu[0].action||null;n.selected&&n.menu.find(w=>w.action===n.selected)?_=n.selected:n.menu.find(w=>w.def)&&(_=n.menu.find(w=>w.def).action),h(_)}const v={props:n,emit:s,label:o,action:r,button:a,contextMenu:l,contextMenuButton:c,modifiers:u,setButton:h,selectionHandler:m,initialize:g,ref:He,computed:st,watch:ss};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},gCe=["data-apos-test-button-split-type"],bCe=["aria-label"],yCe=["aria-checked","data-apos-test-button-split-item"],vCe=["value","data-apos-test-button-split-item-trigger","onClick"],_Ce={style:{display:"none"}},wCe={class:"apos-button-split__menu__dialog-label"},CCe={key:1,class:"apos-button-split__menu__dialog-description"};function kCe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposIndicator"),l=O("AposContextMenu");return p(),y("div",{class:ne(["apos-button-split",n.modifiers]),"data-apos-test-button-split-type":i.type},[D(r,J({class:"apos-button-split__button"},n.button,{label:n.label,disabled:i.disabled,tooltip:i.tooltip,"data-apos-test-button-split-submit":"",onClick:t[0]||(t[0]=c=>n.emit("click",n.action))}),null,16,["label","disabled","tooltip"]),D(l,{ref:"contextMenu",class:"apos-button-split__menu",menu:i.menu,button:n.contextMenuButton,disabled:i.disabled,"menu-placement":"bottom-end","data-apos-test-button-split-trigger":""},{default:Q(()=>[k("ul",{class:"apos-button-split__menu__dialog",role:"menu","aria-label":i.menuLabel,"data-apos-test-button-split-menu":""},[(p(!0),y(Ce,null,Ie(i.menu,c=>(p(),y("li",{key:c.action,class:ne(["apos-button-split__menu__dialog-item",{"apos-is-selected":c.action===n.action}]),"aria-checked":c.action===n.action?"true":"false","data-apos-test-button-split-item":c.action,role:"menuitemradio"},[k("button",{class:"apos-button-split__menu__dialog-button",value:c.action,"data-apos-test-button-split-item-trigger":c.action,onClick:u=>n.selectionHandler(c.action)},[k("span",_Ce,E(e.$t(c.label)),1)],8,vCe),n.action===c.action?(p(),R(a,{key:0,class:"apos-button-split__menu__dialog-check",icon:"check-bold-icon","icon-size":18,"icon-color":"var(--a-primary)"})):S("v-if",!0),k("span",wCe,E(e.$t(c.label)),1),c.description?(p(),y("span",CCe,E(e.$t(c.description)),1)):S("v-if",!0)],10,yCe))),128))],8,bCe)]),_:1},8,["menu","button","disabled"])],10,gCe)}const ACe=I(mCe,[["render",kCe],["__scopeId","data-v-a1d34678"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposButtonSplit.vue"]]),Ea={props:{header:{type:Object,required:!0},draft:{type:Object,required:!0},published:{type:Object,default(){return null}}},methods:{get(e){let[t,i]=e.split(":");i||(i=t,t="item");const n=i.split(".");let s=this[t];try{for(const o of n)s=s[o]}catch{return null}return s}},computed:{item(){return this.published||this.draft},moduleOptions(){return apos.modules[this.item.type]},manuallyPublished(){return this.moduleOptions.localized&&!this.autopublish},autopublish(){return this.item._aposAutopublish??this.moduleOptions.autopublish}}},SCe={name:"AposCellBasic",mixins:[Ea]};function xCe(e,t,i,n,s,o){return p(),y("p",{class:ne(["apos-table__cell-field",`apos-table__cell-field--${e.header.name}`])},E(e.get(e.header.name)),3)}const MCe=I(SCe,[["render",xCe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCellBasic.vue"]]),TCe={name:"AposCellButton",mixins:[Ea]};function OCe(e,t,i,n,s,o){return p(),y("button",{class:ne(["apos-table__cell-field",`apos-table__cell-field--${e.header.name}`]),type:"button"},E(e.get(e.header.name)),3)}const ECe=I(TCe,[["render",OCe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCellButton.vue"]]),ICe={name:"AposCellContextMenu",mixins:[Ea],props:{state:{type:Object,default(){return null}},options:{type:Object,default(){return{}}}},data(){return{menuOpen:!1}},computed:{disabled(){return this.item.type==="@apostrophecms/archive-page"},classes(){const e=[];return(!this.state||this.state.hover||this.menuOpen)&&e.push("apos-is-visible"),e}}},$Ce={class:"apos-table__cell-field apos-table__cell-field--context-menu"};function LCe(e,t,i,n,s,o){const r=O("AposDocContextMenu");return p(),y("div",$Ce,[k("span",{class:ne(["apos-table__cell-field--context-menu__content",o.classes])},[D(r,{disabled:o.disabled,doc:e.draft,published:e.published,"show-edit":i.options.showEdit,"show-preview":i.options.showPreview,"show-discard-draft":i.options.showDiscardDraft,"show-copy":i.options.showCreate,"show-archive":i.options.showArchive,"show-restore":i.options.showRestore,"show-dismiss-submission":i.options.showDismissSubmission,"can-delete-draft":i.options.canDeleteDraft,onMenuOpen:t[0]||(t[0]=a=>s.menuOpen=!0),onMenuClose:t[1]||(t[1]=a=>s.menuOpen=!1)},null,8,["disabled","doc","published","show-edit","show-preview","show-discard-draft","show-copy","show-archive","show-restore","show-dismiss-submission","can-delete-draft"])],2)])}const PCe=I(ICe,[["render",LCe],["__scopeId","data-v-9b84c452"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCellContextMenu.vue"]]),DCe={name:"AposCellDate",mixins:[Ea],computed:{formattedDate(){const e=this.get(this.header.name);return e?this.formatDateColumn(e):""}},methods:{formatDateColumn(e){const t=this.$t("apostrophe:dayjsCellDateFormat");if(t.endsWith("apostrophe")){const n=new Date(e);if(Number.isNaN(n.getDate()))return e;const s=n.getMonth()+1,o=n.getDate(),r=n.getFullYear();let a=n.getHours();const l=a>11?"pm":"am";a>12?a=a-12:a===0&&(a=12);const c=n.getMinutes();return`${i(s)}/${i(o)}/${i(r)} at ${a}:${c} ${l}`}else return fa(e).format(t);function i(n){return n=parseInt(n),n<10?`0${n.toString()}`:n>1e3?i(n.toString().slice(2,4)):n}}}};function RCe(e,t,i,n,s,o){return p(),y("p",{class:ne(["apos-table__cell-field",`apos-table__cell-field--${e.header.name}`])},E(o.formattedDate),3)}const HCe=I(DCe,[["render",RCe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCellDate.vue"]]),VCe={name:"AposCellLabels",mixins:[Ea],data(){return{customCellIndicators:apos.schema.customCellIndicators}},methods:{evaluateConditions(e={}){try{return Object.entries(e).every(([t,i])=>t.split(".").reduce((o,r)=>{if(Object.hasOwn(o,r))return o[r];throw new Error(`Property not found in draft document: ${t}`)},this.draft)===i)}catch{return!1}}}},zCe={key:0},NCe={key:1},BCe={key:2},FCe={key:3};function jCe(e,t,i,n,s,o){const r=O("AposLabel");return p(),y("div",{class:ne(["apos-table__cell-field apos-table__cell-field--labels",`apos-table__cell-field--${e.header.name}`])},[e.manuallyPublished&&e.draft.modified&&e.draft.lastPublishedAt?(p(),y("span",zCe,[D(r,{label:"apostrophe:pendingUpdates",class:"apos-table__cell-field__label",tooltip:"apostrophe:thereAreActiveChanges",modifiers:["apos-is-success","apos-is-filled"]})])):e.draft.submitted?(p(),y("span",NCe,[D(r,{label:"apostrophe:pending",class:"apos-table__cell-field__label",tooltip:"apostrophe:changesAwaitingApproval",modifiers:["apos-is-filled"]})])):S("v-if",!0),e.manuallyPublished&&!e.draft.lastPublishedAt?(p(),y("span",BCe,[D(r,{label:"apostrophe:draft",class:"apos-table__cell-field__label",modifiers:["apos-is-warning","apos-is-filled"],tooltip:"apostrophe:notYetPublished"})])):S("v-if",!0),e.draft.archived?(p(),y("span",FCe,[D(r,{label:"apostrophe:archived",class:"apos-table__cell-field__label",modifiers:["apos-is-filled","apos-is-danger"]})])):S("v-if",!0),(p(!0),y(Ce,null,Ie(s.customCellIndicators,({component:a,props:l,if:c},u)=>(p(),y("span",{key:u},[o.evaluateConditions(c)?(p(),R(tt(a),J({key:0,class:"apos-table__cell-field__label"},{ref_for:!0},l,{header:e.header,draft:e.draft,published:e.published}),null,16,["header","draft","published"])):S("v-if",!0)]))),128))],2)}const UCe=I(VCe,[["render",jCe],["__scopeId","data-v-3dd495d3"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCellLabels.vue"]]),WCe={name:"AposCellLastEdited",mixins:[Ea],computed:{formattedDate(){const e=this.get(this.header.name||this.header.property);return this.getRelativeTime(e)}},methods:{getRelativeTime(e){const t=this.$t("apostrophe:dayjsRelativeTimeFormat");if(!t.endsWith("apostrophe"))return fa(e).format(t);const i=new Date(e);if(Number.isNaN(i.getDate()))return e;const n=Math.round((+new Date-i)/1e3);let s=null,o=null;const r=60,a=r*60,l=a*24,c=l*7,u=l*30,h=l*365;return n<r?n+"s":(n<a?[s,o]=[r,"m"]:n<l?[s,o]=[a,"h"]:n<c?[s,o]=[l,"d"]:n<u?[s,o]=[c,"w"]:n<h?[s,o]=[u,"mo"]:n>h&&([s,o]=[h,"yr"]),`${Math.floor(n/s)}${o} ago`)}}};function qCe(e,t,i,n,s,o){return p(),y("p",{class:ne(["apos-table__cell-field apos-table__cell-field--relative-time",`apos-table__cell-field--${e.header.name}`])},E(o.formattedDate),3)}const KCe=I(WCe,[["render",qCe],["__scopeId","data-v-94cb3449"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCellLastEdited.vue"]]),GCe={name:"AposCellLink",mixins:[Ea]},JCe=["href"];function YCe(e,t,i,n,s,o){const r=O("link-icon");return p(),y("a",{href:e.get(e.header.name),onClick:t[0]||(t[0]=Je(()=>{},["stop"]))},[D(r,{size:14})],8,JCe)}const ZCe=I(GCe,[["render",YCe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCellLink.vue"]]),XCe={name:"AposCellType",mixins:[Ea],methods:{label(e){return apos.modules[e]&&apos.modules[e].label||e}}};function QCe(e,t,i,n,s,o){return p(),y("p",{class:ne(["apos-table__cell-field",`apos-table__cell-field--${e.header.name}`])},E(e.$t(o.label(e.get(e.header.name)))),3)}const eke=I(XCe,[["render",QCe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCellType.vue"]]),tke={props:{modelValue:{type:[Array,Boolean],default:!1},choice:{type:Object,required:!0},field:{type:Object,required:!0},status:{type:Object,default(){return{}}},id:{type:String,default:null}},emits:["update:modelValue","updated"],data(){return{tabindex:this.field.disableFocus?"-1":"0"}},computed:{checkProxy:{get(){return this.modelValue},set(e){(!this.choice.indeterminate||this.choice.triggerIndeterminateEvent)&&this.$emit("update:modelValue",e)}}},methods:{isChecked(e){return Array.isArray(e)?e.includes(this.choice.value):e},update(e){this.$emit("updated",e)}}},ike=["for","tabindex"],nke=["id","value","name","aria-label","tabindex","disabled","is-indeterminate"],ske={class:"apos-input-indicator","aria-hidden":"true"};function oke(e,t,i,n,s,o){return p(),y("label",{class:ne(["apos-choice-label",{"apos-choice-label--disabled":i.field.readOnly}]),for:i.id,tabindex:{"-1":i.field.hideLabel}},[Ge(k("input",{id:i.id,"onUpdate:modelValue":t[0]||(t[0]=r=>o.checkProxy=r),type:"checkbox",class:"apos-sr-only apos-input--choice apos-input--checkbox",value:i.choice.value,name:i.field.name,"aria-label":i.choice.label||i.field.label,tabindex:s.tabindex,disabled:i.field.readOnly||i.choice.readOnly,"is-indeterminate":i.choice.indeterminate===!0?"true":"false",onChange:t[1]||(t[1]=(...r)=>o.update&&o.update(...r))},null,40,nke),[[O4,o.checkProxy]]),k("span",ske,[o.isChecked(i.modelValue)?(p(),R(tt(`${i.choice.indeterminate?"minus-icon":"check-bold-icon"}`),{key:0,size:10})):S("v-if",!0)]),i.choice.label?(p(),y("span",{key:0,class:ne([{"apos-sr-only":i.field.hideLabel},"apos-choice-label-text"])},E(e.$t(i.choice.label)),3)):S("v-if",!0)],10,ike)}const rke=I(tke,[["render",oke],["__scopeId","data-v-f290203d"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCheckbox.vue"]]),ake={},lke={width:"64px",height:"42.6px",viewBox:"0 4.008 64 42.613",xmlns:"http://www.w3.org/2000/svg"};function cke(e,t){return p(),y("svg",lke,t[0]||(t[0]=[Ll('<defs data-v-6682f53c><linearGradient id="apos-upload-gradient" gradientUnits="userSpaceOnUse" x1="12" y1="4" x2="12" y2="20" gradientTransform="matrix(1.848483, 1.922034, -2.33985, 2.250314, 31.445274, -24.099256)" data-v-6682f53c><stop offset="0" style="stop-color:rgb(50 197 255);" data-v-6682f53c></stop><stop offset="0.337" style="stop-color:rgb(182 32 224);" data-v-6682f53c></stop><stop offset="0.501" style="stop-color:rgb(182 32 224);" data-v-6682f53c></stop><stop offset="0.854" style="stop-color:rgb(247 181 0);" data-v-6682f53c></stop><stop offset="1" style="stop-color:rgb(247 181 0);" data-v-6682f53c></stop></linearGradient></defs><path d="M 37.334 28 L 37.334 38.666 L 26.666 38.666 L 26.666 28 L 18.666 28 L 32 14.666 L 45.334 28 M 51.599 20.079 C 49.787 10.907 41.706 4 32 4 C 24.293 4 17.6 8.374 14.267 14.747 C 6.24 15.626 0 22.4 0 30.666 C 0 39.503 7.164 46.666 16 46.666 L 50.666 46.666 C 58.03 46.666 64 40.697 64 33.334 C 64 26.294 58.533 20.586 51.599 20.079 Z" data-v-6682f53c></path>',2)]))}const dke=I(ake,[["render",cke],["__scopeId","data-v-6682f53c"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCloudUploadIcon.vue"]]),uke={name:"AposColorCheckerboard"},hke={class:"apos-color__checkerboard"};function fke(e,t,i,n,s,o){return p(),y("div",hke)}const pke=I(uke,[["render",fke],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposColorCheckerboard.vue"]]),mke={name:"AposCombo",props:{choices:{type:Array,required:!0},field:{type:Object,required:!0},modelValue:{type:Object,required:!0},typehead:{type:Boolean,default:!1},busy:{type:Boolean,default:!1},objectValues:{type:Boolean,default:!1}},emits:["select-items","toggle","update:modelValue"],data(){return{showedList:!1,boxHeight:0,boxResizeObserver:this.getBoxResizeObserver(),focusedItemIndex:null,thInput:""}},computed:{showSelectAll(){return this.field.all!==!1&&(!this.field.max||this.field.max>this.choices.length)},options(){return this.renderOptions(this.showSelectAll)},selectedItems(){if(!this.showSelectAll||!this.allItemsSelected())return this.modelValue.data;if(this.objectValues){const{listLabel:e}=this.getSelectAllLabel();return[{label:e,value:"__all"}]}return["__all"]}},mounted(){this.boxResizeObserver.observe(this.$refs.select)},beforeUnmount(){this.boxResizeObserver.unobserve(this.$refs.select)},methods:{onTypeheadInput(e){this.thInput=e.target.value,this.$emit("update:modelValue",this.thInput)},onTypeheadKey(e){const t=()=>{e.preventDefault(),e.stopPropagation()};switch(e.key){case"ArrowDown":t(),this.focusListItem();break;case"ArrowUp":t(),this.focusListItem(!0);break;case"Enter":t(),this.selectOption(this.options[this.focusedItemIndex]);break;case"Tab":t(),this.closeList(null,!0);break}},toggleList(){this.field.readOnly||(this.showedList=!this.showedList,this.showedList?(this.$emit("toggle",!0),this.$nextTick(()=>{this.focusedItemIndex=0,this.typehead?this.$refs.input.focus():this.$refs.list.focus()})):(this.$refs.select.focus(),this.resetList()))},onListKey(e){const t=()=>{e.preventDefault(),e.stopPropagation()};switch(e.key){case" ":case"Space":{this.typehead||(t(),this.selectOption(this.options[this.focusedItemIndex]));break}case"Enter":{t(),this.selectOption(this.options[this.focusedItemIndex]);break}case"ArrowDown":{t(),this.focusListItem();break}case"ArrowUp":{t(),this.focusListItem(!0);break}case"Delete":{this.typehead||(t(),this.closeList(null,!0));break}case"Escape":{t(),this.closeList(null,!0);break}}},closeList(e,t){this.showedList=!1,this.resetList(),t&&this.$nextTick(()=>{this.$refs.select.focus()})},resetList(){this.$emit("toggle",!1),this.focusedItemIndex=null,this.$refs.list.scrollTo({top:0}),this.thInput="",this.$emit("update:modelValue",this.thInput)},getBoxResizeObserver(){return new ResizeObserver(([{target:e}])=>{e.offsetHeight!==this.boxHeight&&(this.boxHeight=e.offsetHeight)})},renderOptions(e){if(!e)return this.choices;const{listLabel:t}=this.getSelectAllLabel();return[{label:t,value:"__all"},...this.choices]},isSelected(e){const t=i=>this.objectValues?i.value===e.value:i===e.value;return this.modelValue.data.some(t)},allItemsSelected(){return this.choices.length&&this.modelValue.data.length===this.choices.length},getSelectedOption(e){if(this.objectValues)return e;if(e==="__all"){const{selectedLabel:t}=this.getSelectAllLabel();return{label:t,value:e}}return this.choices.find(t=>t.value===e)},emitSelectItems(e){return new Promise(t=>{this.$emit("select-items",e),this.$nextTick(t)})},async selectOption(e){if(this.field.readOnly)return;const t=this.showSelectAll&&e==="__all"?this.getSelectedOption("__all"):e;if(await this.emitSelectItems(t),this.showSelectAll){const{listLabel:i}=this.getSelectAllLabel();this.options[0].label=i}},getSelectAllLabel(){var n,s;const e=this.allItemsSelected(),t=e?this.$t("apostrophe:deselectAll"):this.$t("apostrophe:selectAll"),i=this.$t("apostrophe:allSelected");if((s=(n=this.field)==null?void 0:n.all)!=null&&s.label){const o=this.$t(this.field.all.label);return{selectedLabel:i,listLabel:e?t:o}}return{selectedLabel:i,listLabel:t}},focusListItem(e=!1){var c;const t=u=>e?u-1:u+1,i=e?this.options.length-1:0;this.focusedItemIndex==null?this.focusedItemIndex=i:this.focusedItemIndex=this.options[t(this.focusedItemIndex)]?t(this.focusedItemIndex):i;const n=((c=this.$refs.list.querySelector("li"))==null?void 0:c.clientHeight)||32,s=n*this.focusedItemIndex,{clientHeight:o,scrollTop:r}=this.$refs.list,a=o+r,l=u=>{this.$refs.list.scrollTo({top:u,behavior:"smooth"})};s+n>a?l(s+n-o):s<a-o&&l(s)}}},gke=["aria-expanded","aria-controls","tabindex"],bke=["onClick"],yke=["id"],vke=["placeholder","value"],_ke=["onClick","onMouseover"];function wke(e,t,i,n,s,o){const r=O("AposIndicator"),a=O("AposSpinner"),l=Bn("click-outside-element");return p(),y("div",{class:ne(["apos-primary-scrollbar apos-input-wrapper",{"apos-input-wrapper--disabled":i.field.readOnly}]),"aria-haspopup":"menu"},[Ge((p(),y("ul",{ref:"select",role:"button","aria-expanded":s.showedList.toString(),"aria-controls":`${i.field._id}-combo`,class:"apos-input-wrapper apos-combo__select",tabindex:i.field.readOnly?null:0,onClick:t[0]||(t[0]=(...c)=>o.toggleList&&o.toggleList(...c)),onKeydown:[t[1]||(t[1]=Qe(Je((...c)=>o.toggleList&&o.toggleList(...c),["prevent"]),["space"])),t[2]||(t[2]=Qe(Je((...c)=>o.toggleList&&o.toggleList(...c),["prevent"]),["up"])),t[3]||(t[3]=Qe(Je((...c)=>o.toggleList&&o.toggleList(...c),["prevent"]),["down"]))]},[(p(!0),y(Ce,null,Ie(o.selectedItems,c=>{var u;return p(),y("li",{key:i.objectValues?c.value:c,class:"apos-combo__selected",onClick:Je(h=>o.selectOption(o.getSelectedOption(c)),["stop"])},[Mt(E((u=o.getSelectedOption(c))==null?void 0:u.label)+" ",1),D(r,{icon:"close-icon",class:"apos-combo__close-icon","icon-size":10})],8,bke)}),128))],40,gke)),[[l,o.closeList]]),D(r,{icon:"menu-down-icon",class:"apos-input-icon","icon-size":20}),k("ul",{id:`${i.field._id}-combo`,ref:"list",role:"menu",class:ne(["apos-combo__list",{"apos-combo__list--showed":s.showedList}]),style:Wt({top:s.boxHeight+"px"}),tabindex:"0",onKeydown:t[7]||(t[7]=(...c)=>o.onListKey&&o.onListKey(...c)),onBlur:t[8]||(t[8]=c=>o.closeList())},[i.typehead?(p(),y("li",{key:"__typehead",class:"apos-combo__list-typehead",onClick:t[6]||(t[6]=Je(c=>e.$refs.input.focus(),["stop"]))},[k("input",{ref:"input",class:"apos-combo__typehead",type:"text",placeholder:e.$t("apostrophe:search"),value:s.thInput,onInput:t[4]||(t[4]=(...c)=>o.onTypeheadInput&&o.onTypeheadInput(...c)),onKeydown:t[5]||(t[5]=(...c)=>o.onTypeheadKey&&o.onTypeheadKey(...c))},null,40,vke),i.busy?(p(),R(a,{key:0,class:"apos-combo__spinner",color:"--a-base-5"})):S("v-if",!0)])):S("v-if",!0),(p(!0),y(Ce,null,Ie(o.options,(c,u)=>(p(),y("li",{key:c.value,class:ne(["apos-combo__list-item",{focused:s.focusedItemIndex===u}]),role:"menuitemcheckbox",onClick:Je(h=>o.selectOption(c),["stop"]),onMouseover:h=>s.focusedItemIndex=u},[o.isSelected(c)?(p(),R(r,{key:0,icon:"check-bold-icon",class:"apos-combo__check-icon","icon-size":10})):S("v-if",!0),Mt(" "+E(c.label),1)],42,_ke))),128))],46,yke)],2)}const Cke=I(mke,[["render",wke],["__scopeId","data-v-d95957c8"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposCombo.vue"]]),ju=Math.min,Oc=Math.max,em=Math.round,Oo=e=>({x:e,y:e}),kke={left:"right",right:"left",bottom:"top",top:"bottom"},Ake={start:"end",end:"start"};function hv(e,t,i){return Oc(e,ju(t,i))}function uh(e,t){return typeof e=="function"?e(t):e}function El(e){return e.split("-")[0]}function hh(e){return e.split("-")[1]}function KT(e){return e==="x"?"y":"x"}function Y0(e){return e==="y"?"height":"width"}function ua(e){return["top","bottom"].includes(El(e))?"y":"x"}function Z0(e){return KT(ua(e))}function Ske(e,t,i){i===void 0&&(i=!1);const n=hh(e),s=Z0(e),o=Y0(s);let r=s==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=tm(r)),[r,tm(r)]}function xke(e){const t=tm(e);return[fv(e),t,fv(t)]}function fv(e){return e.replace(/start|end/g,t=>Ake[t])}function Mke(e,t,i){const n=["left","right"],s=["right","left"],o=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return i?t?s:n:t?n:s;case"left":case"right":return t?o:r;default:return[]}}function Tke(e,t,i,n){const s=hh(e);let o=Mke(El(e),i==="start",n);return s&&(o=o.map(r=>r+"-"+s),t&&(o=o.concat(o.map(fv)))),o}function tm(e){return e.replace(/left|right|bottom|top/g,t=>kke[t])}function Oke(e){return{top:0,right:0,bottom:0,left:0,...e}}function GT(e){return typeof e!="number"?Oke(e):{top:e,right:e,bottom:e,left:e}}function im(e){const{x:t,y:i,width:n,height:s}=e;return{width:n,height:s,top:i,left:t,right:t+n,bottom:i+s,x:t,y:i}}function cS(e,t,i){let{reference:n,floating:s}=e;const o=ua(t),r=Z0(t),a=Y0(r),l=El(t),c=o==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:n.y-s.height};break;case"bottom":g={x:u,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch(hh(t)){case"start":g[r]-=m*(i&&c?-1:1);break;case"end":g[r]+=m*(i&&c?-1:1);break}return g}const Eke=async(e,t,i)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:r}=i,a=o.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(t));let c=await r.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=cS(c,n,l),m=n,g={},v=0;for(let _=0;_<a.length;_++){const{name:w,fn:A}=a[_],{x:L,y:N,data:M,reset:P}=await A({x:u,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:g,rects:c,platform:r,elements:{reference:e,floating:t}});u=L??u,h=N??h,g={...g,[w]:{...g[w],...M}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(c=P.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:u,y:h}=cS(c,m,l)),_=-1)}return{x:u,y:h,placement:m,strategy:s,middlewareData:g}};async function JT(e,t){var i;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:r,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=uh(t,e),v=GT(g),w=a[m?h==="floating"?"reference":"floating":h],A=im(await o.getClippingRect({element:(i=await(o.isElement==null?void 0:o.isElement(w)))==null||i?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),L=h==="floating"?{x:n,y:s,width:r.floating.width,height:r.floating.height}:r.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),M=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},P=im(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:L,offsetParent:N,strategy:l}):L);return{top:(A.top-P.top+v.top)/M.y,bottom:(P.bottom-A.bottom+v.bottom)/M.y,left:(A.left-P.left+v.left)/M.x,right:(P.right-A.right+v.right)/M.x}}const Ike=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:n,placement:s,rects:o,platform:r,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=uh(e,t)||{};if(c==null)return{};const h=GT(u),m={x:i,y:n},g=Z0(s),v=Y0(g),_=await r.getDimensions(c),w=g==="y",A=w?"top":"left",L=w?"bottom":"right",N=w?"clientHeight":"clientWidth",M=o.reference[v]+o.reference[g]-m[g]-o.floating[v],P=m[g]-o.reference[g],F=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c));let K=F?F[N]:0;(!K||!await(r.isElement==null?void 0:r.isElement(F)))&&(K=a.floating[N]||o.floating[v]);const se=M/2-P/2,j=K/2-_[v]/2-1,V=ju(h[A],j),z=ju(h[L],j),Z=V,le=K-_[v]-z,ie=K/2-_[v]/2+se,re=hv(Z,ie,le),te=!l.arrow&&hh(s)!=null&&ie!==re&&o.reference[v]/2-(ie<Z?V:z)-_[v]/2<0,ee=te?ie<Z?ie-Z:ie-le:0;return{[g]:m[g]+ee,data:{[g]:re,centerOffset:ie-re-ee,...te&&{alignmentOffset:ee}},reset:te}}}),$ke=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,n;const{placement:s,middlewareData:o,rects:r,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...w}=uh(e,t);if((i=o.arrow)!=null&&i.alignmentOffset)return{};const A=El(s),L=ua(a),N=El(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=m||(N||!_?[tm(a)]:xke(a)),F=v!=="none";!m&&F&&P.push(...Tke(a,_,v,M));const K=[a,...P],se=await JT(t,w),j=[];let V=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&j.push(se[A]),h){const ie=Ske(s,r,M);j.push(se[ie[0]],se[ie[1]])}if(V=[...V,{placement:s,overflows:j}],!j.every(ie=>ie<=0)){var z,Z;const ie=(((z=o.flip)==null?void 0:z.index)||0)+1,re=K[ie];if(re&&(!(h==="alignment"?L!==ua(re):!1)||V.every(G=>G.overflows[0]>0&&ua(G.placement)===L)))return{data:{index:ie,overflows:V},reset:{placement:re}};let te=(Z=V.filter(ee=>ee.overflows[0]<=0).sort((ee,G)=>ee.overflows[1]-G.overflows[1])[0])==null?void 0:Z.placement;if(!te)switch(g){case"bestFit":{var le;const ee=(le=V.filter(G=>{if(F){const U=ua(G.placement);return U===L||U==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(U=>U>0).reduce((U,de)=>U+de,0)]).sort((G,U)=>G[1]-U[1])[0])==null?void 0:le[0];ee&&(te=ee);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};async function Lke(e,t){const{placement:i,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),r=El(i),a=hh(i),l=ua(i)==="y",c=["left","top"].includes(r)?-1:1,u=o&&l?-1:1,h=uh(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*u,y:m*c}:{x:m*c,y:g*u}}const Pke=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var i,n;const{x:s,y:o,placement:r,middlewareData:a}=t,l=await Lke(t,e);return r===((i=a.offset)==null?void 0:i.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:r}}}}},Dke=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:a={fn:w=>{let{x:A,y:L}=w;return{x:A,y:L}}},...l}=uh(e,t),c={x:i,y:n},u=await JT(t,l),h=ua(El(s)),m=KT(h);let g=c[m],v=c[h];if(o){const w=m==="y"?"top":"left",A=m==="y"?"bottom":"right",L=g+u[w],N=g-u[A];g=hv(L,g,N)}if(r){const w=h==="y"?"top":"left",A=h==="y"?"bottom":"right",L=v+u[w],N=v-u[A];v=hv(L,v,N)}const _=a.fn({...t,[m]:g,[h]:v});return{..._,data:{x:_.x-i,y:_.y-n,enabled:{[m]:o,[h]:r}}}}}};function cg(){return typeof window<"u"}function rd(e){return YT(e)?(e.nodeName||"").toLowerCase():"#document"}function as(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tr(e){var t;return(t=(YT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YT(e){return cg()?e instanceof Node||e instanceof as(e).Node:!1}function to(e){return cg()?e instanceof Element||e instanceof as(e).Element:!1}function Ro(e){return cg()?e instanceof HTMLElement||e instanceof as(e).HTMLElement:!1}function dS(e){return!cg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof as(e).ShadowRoot}function fh(e){const{overflow:t,overflowX:i,overflowY:n,display:s}=io(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(s)}function Rke(e){return["table","td","th"].includes(rd(e))}function dg(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function X0(e){const t=Q0(),i=to(e)?io(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>i[n]?i[n]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(i.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(i.contain||"").includes(n))}function Hke(e){let t=Aa(e);for(;Ro(t)&&!jc(t);){if(X0(t))return t;if(dg(t))return null;t=Aa(t)}return null}function Q0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jc(e){return["html","body","#document"].includes(rd(e))}function io(e){return as(e).getComputedStyle(e)}function ug(e){return to(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Aa(e){if(rd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dS(e)&&e.host||Tr(e);return dS(t)?t.host:t}function ZT(e){const t=Aa(e);return jc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ro(t)&&fh(t)?t:ZT(t)}function XT(e,t,i){var n;t===void 0&&(t=[]);const s=ZT(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),r=as(s);return o?(pv(r),t.concat(r,r.visualViewport||[],fh(s)?s:[],[])):t.concat(s,XT(s,[]))}function pv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QT(e){const t=io(e);let i=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ro(e),o=s?e.offsetWidth:i,r=s?e.offsetHeight:n,a=em(i)!==o||em(n)!==r;return a&&(i=o,n=r),{width:i,height:n,$:a}}function e5(e){return to(e)?e:e.contextElement}function Ec(e){const t=e5(e);if(!Ro(t))return Oo(1);const i=t.getBoundingClientRect(),{width:n,height:s,$:o}=QT(t);let r=(o?em(i.width):i.width)/n,a=(o?em(i.height):i.height)/s;return(!r||!Number.isFinite(r))&&(r=1),(!a||!Number.isFinite(a))&&(a=1),{x:r,y:a}}const Vke=Oo(0);function t5(e){const t=as(e);return!Q0()||!t.visualViewport?Vke:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zke(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==as(e)?!1:t}function Uu(e,t,i,n){t===void 0&&(t=!1),i===void 0&&(i=!1);const s=e.getBoundingClientRect(),o=e5(e);let r=Oo(1);t&&(n?to(n)&&(r=Ec(n)):r=Ec(e));const a=zke(o,i,n)?t5(o):Oo(0);let l=(s.left+a.x)/r.x,c=(s.top+a.y)/r.y,u=s.width/r.x,h=s.height/r.y;if(o){const m=as(o),g=n&&to(n)?as(n):n;let v=m,_=pv(v);for(;_&&n&&g!==v;){const w=Ec(_),A=_.getBoundingClientRect(),L=io(_),N=A.left+(_.clientLeft+parseFloat(L.paddingLeft))*w.x,M=A.top+(_.clientTop+parseFloat(L.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=N,c+=M,v=as(_),_=pv(v)}}return im({width:u,height:h,x:l,y:c})}function e_(e,t){const i=ug(e).scrollLeft;return t?t.left+i:Uu(Tr(e)).left+i}function i5(e,t,i){i===void 0&&(i=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(i?0:e_(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function Nke(e){let{elements:t,rect:i,offsetParent:n,strategy:s}=e;const o=s==="fixed",r=Tr(n),a=t?dg(t.floating):!1;if(n===r||a&&o)return i;let l={scrollLeft:0,scrollTop:0},c=Oo(1);const u=Oo(0),h=Ro(n);if((h||!h&&!o)&&((rd(n)!=="body"||fh(r))&&(l=ug(n)),Ro(n))){const g=Uu(n);c=Ec(n),u.x=g.x+n.clientLeft,u.y=g.y+n.clientTop}const m=r&&!h&&!o?i5(r,l,!0):Oo(0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+u.x+m.x,y:i.y*c.y-l.scrollTop*c.y+u.y+m.y}}function Bke(e){return Array.from(e.getClientRects())}function Fke(e){const t=Tr(e),i=ug(e),n=e.ownerDocument.body,s=Oc(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Oc(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let r=-i.scrollLeft+e_(e);const a=-i.scrollTop;return io(n).direction==="rtl"&&(r+=Oc(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:r,y:a}}function jke(e,t){const i=as(e),n=Tr(e),s=i.visualViewport;let o=n.clientWidth,r=n.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;const c=Q0();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a,y:l}}function Uke(e,t){const i=Uu(e,!0,t==="fixed"),n=i.top+e.clientTop,s=i.left+e.clientLeft,o=Ro(e)?Ec(e):Oo(1),r=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:r,height:a,x:l,y:c}}function uS(e,t,i){let n;if(t==="viewport")n=jke(e,i);else if(t==="document")n=Fke(Tr(e));else if(to(t))n=Uke(t,i);else{const s=t5(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return im(n)}function n5(e,t){const i=Aa(e);return i===t||!to(i)||jc(i)?!1:io(i).position==="fixed"||n5(i,t)}function Wke(e,t){const i=t.get(e);if(i)return i;let n=XT(e,[]).filter(a=>to(a)&&rd(a)!=="body"),s=null;const o=io(e).position==="fixed";let r=o?Aa(e):e;for(;to(r)&&!jc(r);){const a=io(r),l=X0(r);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||fh(r)&&!l&&n5(e,r))?n=n.filter(u=>u!==r):s=a,r=Aa(r)}return t.set(e,n),n}function qke(e){let{element:t,boundary:i,rootBoundary:n,strategy:s}=e;const r=[...i==="clippingAncestors"?dg(t)?[]:Wke(t,this._c):[].concat(i),n],a=r[0],l=r.reduce((c,u)=>{const h=uS(t,u,s);return c.top=Oc(h.top,c.top),c.right=ju(h.right,c.right),c.bottom=ju(h.bottom,c.bottom),c.left=Oc(h.left,c.left),c},uS(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Kke(e){const{width:t,height:i}=QT(e);return{width:t,height:i}}function Gke(e,t,i){const n=Ro(t),s=Tr(t),o=i==="fixed",r=Uu(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Oo(0);function c(){l.x=e_(s)}if(n||!n&&!o)if((rd(t)!=="body"||fh(s))&&(a=ug(t)),n){const g=Uu(t,!0,o,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else s&&c();o&&!n&&s&&c();const u=s&&!n&&!o?i5(s,a):Oo(0),h=r.left+a.scrollLeft-l.x-u.x,m=r.top+a.scrollTop-l.y-u.y;return{x:h,y:m,width:r.width,height:r.height}}function Lb(e){return io(e).position==="static"}function hS(e,t){if(!Ro(e)||io(e).position==="fixed")return null;if(t)return t(e);let i=e.offsetParent;return Tr(e)===i&&(i=i.ownerDocument.body),i}function s5(e,t){const i=as(e);if(dg(e))return i;if(!Ro(e)){let s=Aa(e);for(;s&&!jc(s);){if(to(s)&&!Lb(s))return s;s=Aa(s)}return i}let n=hS(e,t);for(;n&&Rke(n)&&Lb(n);)n=hS(n,t);return n&&jc(n)&&Lb(n)&&!X0(n)?i:n||Hke(e)||i}const Jke=async function(e){const t=this.getOffsetParent||s5,i=this.getDimensions,n=await i(e.floating);return{reference:Gke(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Yke(e){return io(e).direction==="rtl"}const Zke={convertOffsetParentRelativeRectToViewportRelativeRect:Nke,getDocumentElement:Tr,getClippingRect:qke,getOffsetParent:s5,getElementRects:Jke,getClientRects:Bke,getDimensions:Kke,getScale:Ec,isElement:to,isRTL:Yke},mv=Pke,gv=Dke,bv=$ke,yv=Ike,vv=(e,t,i)=>{const n=new Map,s={platform:Zke,...i},o={...s.platform,_c:n};return Eke(e,t,{...s,platform:o})};function fS({triggerRef:e,refreshOnCycle:t=!1,onExit:i=()=>{},retries:n=3,withPriority:s=!0}){const{activeModalFocusedElement:o,findPriorityElementOrFirst:r,cycleElementsToFocus:a,focusElement:l}=$y(),c=He(!1),u=He(!1),h=He(0),m=He(null),g=He([]),v=st(()=>u.value),_=st(()=>{const K=As(e);if(K===!0)return o;if(K){const se=K.$el||K;if(se instanceof HTMLElement)return se.hasAttribute("tabindex")?se:se.querySelector("[tabindex]")||se}return null}),A=["[tabindex]","[href]","input","select","textarea","button","[data-apos-focus-priority]"].map(Xke).join(", ");return{runTrap:N,hasRunningTrap:v,stopTrap:M,resetTrap:P,onTab:F};async function L(K){if(!As(K)||!c.value)return;const se=[...As(K).querySelectorAll(A)],j=As(s)?r(se):se[0];if(!(As(s)?j==null?void 0:j.hasAttribute("data-apos-focus-priority"):j)&&As(n)>h.value)return h.value++,await eAe(20),L(K);await Dn(),c.value&&(l(Qke(j,se)),g.value=se,m.value=As(K))}async function N(K){u.value||(c.value=!0,u.value=!0,await L(K),u.value=!1,c.value=!1)}function M(){c.value=!1}function P(){c.value=!1,u.value=!1,h.value=0,g.value=[]}function F(K){if(t&&m.value){const V=[...As(m).querySelectorAll(A)];g.value=V}const se=As(g);a(K,se,j);function j(V,z){let Z;const le=_.value;le||(z.focus(),V.preventDefault()),z===se[0]&&(Z=le),z===se.at(-1)&&(Z=le),Z&&(Z.focus(),V.preventDefault()),i()}}}function Xke(e){return`${e}:not([tabindex="-1"]):not([disabled]):not([type="hidden"]):not([aria-hidden])`}function Qke(e,t){return(e==null?void 0:e.getAttribute("type"))==="radio"&&t.find(i=>i.getAttribute("type")==="radio"&&i.getAttribute("name")===e.getAttribute("name")&&i.hasAttribute("checked"))||e}async function eAe(e){return new Promise(t=>setTimeout(t,e))}const tAe={__name:"AposContextMenu",props:{richTextMenu:{type:Boolean,default:!1},identifier:{type:String,default:"contextMenuTrigger"},menu:{type:Array,default:null},unpadded:{type:Boolean,default:!1},modifiers:{type:Array,default(){return[]}},button:{type:Object,default(){return{label:"Context Menu Label",iconOnly:!0,icon:"label-icon",type:"outline"}}},menuPlacement:{type:String,default:"bottom"},menuOffset:{type:[Number,Array],default:15},disabled:{type:Boolean,default:!1},tooltip:{type:[String,Boolean,Object],default:!1},popoverModifiers:{type:Array,default(){return[]}},menuId:{type:String,default(){return Ut.createId()}},activeItem:{type:String,default:null},trapFocus:{type:Boolean,default:!0},dynamicFocus:{type:Boolean,default:!1},centerOnIcon:{type:Boolean,default:!1},centerTipEl:{type:Object,default:null},hasTip:{type:Boolean,default:!0}},emits:["open","close","item-clicked"],setup(e,{expose:t,emit:i}){const n=e,s=i,o=kp(),r=He(!1),a=He(!1),l=He(n.menuPlacement),c=He(null),u=He(null),h=He(null),m=He(null),g=He({}),v=He(null),_=He(null),w=le(),A=He(!1),{onTab:L,runTrap:N,hasRunningTrap:M,resetTrap:P}=fS({withPriority:!0,refreshOnCycle:n.dynamicFocus}),F=new ResizeObserver(Le=>{for(const We of Le)Te()});t({hide:ee,setDropdownPosition:Te});const K=st(()=>{const Le=["apos-popover"].concat(Z.value);return n.popoverModifiers.forEach(We=>{Le.push(`apos-popover--${We}`)}),Le}),se=st(()=>{const Le=[],We="apos-context-menu__popup";return Le.push(`${We}--tip-alignment-${n.menuPlacement}`),n.modifiers&&n.modifiers.forEach(ht=>{Le.push(`${We}--${ht}`)}),(n.menu||n.unpadded)&&Le.push(`${We}--unpadded`),Le.join(" ")}),j=st(()=>r.value?["active"]:null),V=st(()=>{var Le;return n.tooltip||((Le=n.button)==null?void 0:Le.tooltip)||!1}),z=st(()=>({"data-apos-test":a.value?"context-menu-content":null,...!n.richTextMenu&&{"data-apos-menu":""},"aria-hidden":!r.value})),{themeClass:Z}=Hp();ls(()=>{apos.bus.$on("context-menu-toggled",ie),apos.bus.$on("close-context-menus",te)}),vl(()=>{apos.bus.$off("context-menu-toggled",ie),apos.bus.$off("close-context-menus",te)});function le(){return{mainAxis:Array.isArray(n.menuOffset)?n.menuOffset[0]:n.menuOffset,crossAxis:Array.isArray(n.menuOffset)?n.menuOffset[1]??0:0}}function ie({menuId:Le}){n.menuId!==Le&&(A.value=!0,ee())}function re(Le){Le&&(n.centerOnIcon||n.centerTipEl)&&(_.value=Le)}function te(Le="contextMenu"){Le==="richText"&&n.richTextMenu&&ee(),Le==="contextMenu"&&!n.richTextMenu&&ee()}async function ee(Le){var We;r.value&&(F.unobserve(m.value),r.value=!1,await Dn(),s("close",Le),n.trapFocus&&P(),window.removeEventListener("resize",Te),window.removeEventListener("scroll",Te),(We=c.value)==null||We.addEventListener("keydown",Ue),!A.value&&!n.trapFocus&&u.value.querySelector("[tabindex]").focus())}async function G(Le){var We,ht;r.value||(r.value=!0,await Dn(),s("open",Le),Te(),F.observe(m.value),window.addEventListener("resize",Te),window.addEventListener("scroll",Te),(We=c.value)==null||We.addEventListener("keydown",Ue),n.trapFocus&&!M.value&&await N(m),n.trapFocus||(ht=m.value.querySelector("[tabindex]"))==null||ht.focus(),a.value=!0,n.centerTipEl&&re(n.centerTipEl.$el))}function U(Le){r.value?ee(Le):G(Le),A.value=!1,apos.bus.$emit("context-menu-toggled",{menuId:n.menuId,isOpen:r.value})}function de(Le){v.value=Le}function Se(Le){s("item-clicked",Le),ee()}async function Te(){var ve;if(!u.value||!m.value)return;const Le=_.value||u.value,We=[mv(w)],ht=bv({fallbackPlacements:["bottom"],padding:{top:(((ve=window.apos.adminBar)==null?void 0:ve.height)||0)+10}}),Pt=gv({padding:5});n.menuPlacement.includes("-")?We.push(ht,Pt):We.push(Pt,ht),We.push(yv({element:v.value,padding:5}));const{x:Tt,y:zt,middlewareData:yi,placement:H}=await vv(Le,m.value,{placement:n.menuPlacement,middleware:We});if(l.value=H,g.value={left:`${Tt}px`,top:`${zt}px`},!v.value)return;const{x:W,y:oe}=yi.arrow;Object.assign(v.value.style,{...W&&{left:`${W}px`},...oe&&{top:`${oe}px`}})}const Ne=["text","password","email","file","number","search","tel","url","date","time","datetime-local","month","search","week"];function Ue(Le){var ht,Pt,Tt,zt,yi;if(Le.key!=="Escape"||!r.value)return;const We=Le.target;if(((ht=We==null?void 0:We.nodeName)==null?void 0:ht.toLowerCase())==="textarea"||((Pt=We==null?void 0:We.nodeName)==null?void 0:Pt.toLowerCase())==="input"&&Ne.includes(We.getAttribute("type"))){Le.stopImmediatePropagation();return}(Tt=h.value)!=null&&Tt.focus?h.value.focus():(yi=(zt=h.value)==null?void 0:zt.$el)==null||yi.focus(),Le.stopImmediatePropagation(),ee()}const gt={props:n,emit:s,slots:o,isOpen:r,isRendered:a,placement:l,contextMenuRef:c,dropdown:u,dropdownButton:h,dropdownContent:m,dropdownContentStyle:g,arrowEl:v,iconToCenterTo:_,mOffset:w,otherMenuOpened:A,onTab:L,runTrap:N,hasRunningTrap:M,resetTrap:P,menuResizeObserver:F,popoverClass:K,classList:se,buttonState:j,btnTooltip:V,menuAttrs:z,themeClass:Z,getMenuOffset:le,hideWhenOtherOpen:ie,setIconToCenterTo:re,hideContextMenu:te,hide:ee,show:G,buttonClicked:U,setArrow:de,menuItemClicked:Se,setDropdownPosition:Te,ignoreInputTypes:Ne,handleKeyboard:Ue,ref:He,computed:st,onMounted:ls,onBeforeUnmount:vl,nextTick:Dn,useSlots:kp,get computePosition(){return vv},get offset(){return mv},get shift(){return gv},get flip(){return bv},get arrow(){return yv},get createId(){return Ut.createId},get useAposTheme(){return Hp},get useFocusTrap(){return fS}};return Object.defineProperty(gt,"__isScriptSetup",{enumerable:!1,value:!0}),gt}},iAe={ref:"dropdown",class:"apos-popover__btn apos-context-menu__dropdown"};function nAe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposContextMenuDialog"),l=Bn("click-outside-element");return p(),y("section",{ref:"contextMenuRef",class:"apos-context-menu",onKeydown:t[1]||(t[1]=Qe((...c)=>n.onTab&&n.onTab(...c),["tab"]))},[yt(e.$slots,"prebutton"),k("div",iAe,[n.slots.button?yt(e.$slots,"button",{key:0,onClick:n.buttonClicked}):(p(),R(r,J({key:1},i.button,{ref:"dropdownButton",class:"apos-context-menu__btn",role:"button","data-apos-test":i.identifier,state:n.buttonState,disabled:i.disabled,tooltip:n.btnTooltip,attrs:{"aria-haspopup":"menu","aria-expanded":!!n.isOpen},onIcon:n.setIconToCenterTo,onClick:t[0]||(t[0]=Je(c=>n.buttonClicked(c),["stop"]))}),null,16,["data-apos-test","state","disabled","tooltip","attrs"])),n.isOpen?Ge((p(),y("div",J({key:2},n.menuAttrs,{ref:"dropdownContent",style:n.dropdownContentStyle,class:["apos-context-menu__dropdown-content",n.popoverClass]}),[D(a,{"menu-placement":n.placement,"class-list":n.classList,menu:i.menu,"active-item":i.activeItem,"is-open":n.isOpen,"has-tip":i.hasTip,onItemClicked:n.menuItemClicked,onSetArrow:n.setArrow},{default:Q(()=>[yt(e.$slots,"default")]),_:3},8,["menu-placement","class-list","menu","active-item","is-open","has-tip"])],16)),[[l,n.hide]]):S("v-if",!0)],512)],544)}const sAe=I(tAe,[["render",nAe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposContextMenu.vue"]]),oAe={__name:"AposContextMenuDialog",props:{menuPlacement:{type:String,required:!0},menu:{type:Array,default:null},classList:{type:String,default:""},isOpen:{type:Boolean,default:!1},modifiers:{type:Array,default(){return[]}},hasTip:{type:Boolean,default:!0},activeItem:{type:String,default:null}},emits:["item-clicked","set-arrow"],setup(e,{expose:t,emit:i}){t();const n=e,s=i,o=st(()=>n.menuPlacement.split("-")),r=st(()=>o.value[0]),a=st(()=>o.value[1]?o.value[1]:"center"),l=st(()=>{const m=n.classList.split(" ");return n.modifiers.forEach(g=>{m.push(`apos-context-menu__dialog--${g}`)}),m.join(" ")});function c(m){s("item-clicked",m)}function u(m){s("set-arrow",m)}const h={props:n,emit:s,menuPositions:o,placementSide:r,tipAlignment:a,classes:l,menuItemClicked:c,emitSetArrow:u,computed:st};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},rAe={class:"apos-context-menu__pane"},aAe={key:0,class:"apos-context-menu__items",role:"menu"};function lAe(e,t,i,n,s,o){const r=O("AposContextMenuTip"),a=O("AposContextMenuItem");return p(),y("div",{class:ne(["apos-primary-scrollbar apos-context-menu__dialog",n.classes]),role:"dialog"},[i.hasTip?(p(),R(r,{key:0,class:"apos-context-menu__tip",align:n.tipAlignment,"x-placement":n.placementSide,onSetArrow:n.emitSetArrow},null,8,["align","x-placement"])):S("v-if",!0),k("div",rAe,[yt(e.$slots,"default",{},()=>[i.menu?(p(),y("ul",aAe,[(p(!0),y(Ce,null,Ie(i.menu,l=>(p(),R(a,{key:l.action,"data-apos-test-context-menu-item":l.action||l.modal,"menu-item":l,"is-active":l.name===i.activeItem,open:i.isOpen,onClicked:n.menuItemClicked},null,8,["data-apos-test-context-menu-item","menu-item","is-active","open"]))),128))])):S("v-if",!0)])])],2)}const cAe=I(oAe,[["render",lAe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposContextMenuDialog.vue"]]),dAe={name:"AposContextMenuItem",props:{menuItem:{type:Object,required:!0},open:Boolean,isActive:{type:Boolean,default:!1}},emits:["clicked"],computed:{tabindex(){return this.open?"0":"-1"},selected(){var e;return(e=this.menuItem.modifiers)==null?void 0:e.includes("selected")},danger(){var e;return(e=this.menuItem.modifiers)==null?void 0:e.includes("danger")},disabled(){var e;return!!((e=this.menuItem.modifiers)!=null&&e.includes("disabled"))},modifiers(){const e=[];return this.menuItem.modifiers&&this.menuItem.modifiers.forEach(t=>{e.push(`apos-context-menu__button--${t}`)}),this.isActive&&e.push("apos-context-menu__active"),e.join(" ")},label(){let e=this.menuItem.label;return this.selected&&(e={key:"apostrophe:selectedMenuItem",label:this.$t(this.menuItem.label)}),e}},methods:{click(){this.$emit("clicked",this.menuItem)}}},uAe={key:0,class:"apos-context-menu__separator"},hAe=["tabindex","data-apos-test-selected","data-apos-test-danger","data-apos-test-disabled"],fAe={class:"apos-context-menu__label"};function pAe(e,t,i,n,s,o){const r=O("AposIndicator");return p(),y("li",{class:ne(["apos-context-menu__item",i.menuItem.separator?"apos-context-menu__item--separator":null])},[i.menuItem.separator?(p(),y("hr",uAe)):(p(),y("button",J({key:1,class:["apos-context-menu__button",o.modifiers],tabindex:o.tabindex,role:"menuitem","data-apos-test":"context-menu-item","data-apos-test-selected":o.selected,"data-apos-test-danger":o.danger,"data-apos-test-disabled":o.disabled},Xc(o.disabled?{}:{click:o.click},!0)),[i.menuItem.icon?(p(),R(r,{key:0,class:"apos-context-menu__icon",icon:i.menuItem.icon,"icon-size":i.menuItem.iconSize,"icon-color":i.menuItem.iconFill},null,8,["icon","icon-size","icon-color"])):S("v-if",!0),k("span",fAe,E(e.$t(o.label)),1)],16,hAe))],2)}const mAe=I(dAe,[["render",pAe],["__scopeId","data-v-42b48435"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposContextMenuItem.vue"]]),gAe={__name:"AposContextMenuTip",emits:["set-arrow"],setup(e,{expose:t,emit:i}){t();const s={emit:i};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}};function bAe(e,t,i,n,s,o){return p(),y("svg",{ref:r=>n.emit("set-arrow",r),class:"apos-context-menu__tip",width:"27px",height:"11px",viewBox:"0 0 27 11",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t[0]||(t[0]=[k("g",{width:"27px",height:"11px",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[k("path",{class:"apos-context-menu__tip-outline",d:"M17.2842712,1.46446609 L25.748,9.928 L1.749,9.928 L10.2132034,1.46446609 C12.1658249,-0.488155365 15.3316498,-0.488155365 17.2842712,1.46446609 Z",stroke:"var(--a-base-8)"}),k("path",{class:"apos-context-menu__tip-background",d:"M17.0029602,1.84623992 C15.3903198,0.179595947 12.5749711,0.0148310371 10.7918701,1.61499023 C9.60313614,2.68176303 9.52086075,2.75884626 10.5450439,1.84623992 L0.815307617,11.4361572 L26.6676025,11.4361572 L17.0029602,1.84623992 Z",fill:"var(--a-background-primary)","fill-rule":"nonzero"})],-1)]),512)}const yAe=I(gAe,[["render",bAe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposContextMenuTip.vue"]]),vAe={props:{emptyState:{type:Object,required:!0}}},_Ae={class:"apos-empty-state"},wAe={key:0,class:"apos-title"},CAe={key:1,class:"apos-hint"},kAe={key:2,class:"apos-emoji"};function AAe(e,t,i,n,s,o){return p(),y("div",_Ae,[i.emptyState.title?(p(),y("p",wAe,E(e.$t(i.emptyState.title)),1)):S("v-if",!0),i.emptyState.message?(p(),y("p",CAe,E(e.$t(i.emptyState.message)),1)):S("v-if",!0),i.emptyState.emoji?(p(),y("div",kAe,E(i.emptyState.emoji),1)):S("v-if",!0)])}const SAe=I(vAe,[["render",AAe],["__scopeId","data-v-7e29bf56"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposEmptyState.vue"]]),xAe={props:{uploading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},attachment:{type:Object,default:null},allowedExtensions:{type:String,default:"*"},readOnly:{type:Boolean,default:!1},def:{type:String,default:null}},emits:["upload-file","update"],data(){return{selectedFile:null,dragging:!1}},computed:{fileOrAttachment(){return this.selectedFile||this.attachment},attachmentDisabled(){return this.uploading||this.readOnly||this.disabled},messages(){const e={primary:this.$t("apostrophe:fileUploaderDropFile"),highlighted:this.$t("apostrophe:fileUploaderOpenExplorer")};return this.disabled&&(e.primary=this.$t("apostrophe:fileUploaderFieldIsDisabled"),e.highlighted=""),this.fileOrAttachment&&(e.primary=this.$t("apostrophe:fileUploaderAttachmentLimitReached"),e.highlighted=""),e}},methods:{handleKeydown(e){switch(e.key){case" ":case"Enter":e.preventDefault(),this.$refs.uploadField.click();break}},async uploadFile({target:e,dataTransfer:t}){this.dragging=!1;const[i]=e.files?e.files:t.files||[];this.resetField();const n=i.name.split(".").pop();await this.checkFileGroup(`.${n}`)&&(this.selectedFile={_id:i.name,title:i.name,extension:n,_url:URL.createObjectURL(i)},this.$emit("upload-file",i))},resetField(){this.$refs.uploadField.value=null},dragHandler(e){e.preventDefault(),!this.disabled&&!this.dragging&&(this.dragging=!0)},update(e){this.selectedFile&&this.selectedFile._url&&URL.revokeObjectURL(this.selectedFile._url),this.selectedFile=null,this.$emit("update",e)},async checkFileGroup(e){const i=this.allowedExtensions.split(",").includes(e);return i||await apos.notify("apostrophe:fileTypeNotAccepted",{type:"warning",icon:"alert-circle-icon",interpolate:{extensions:this.allowedExtensions}}),i}}},MAe={class:"apos-file-instructions"},TAe={key:0,class:"apos-file-highlight"},OAe=["disabled","accept"],EAe={key:0,class:"apos-file-files"};function IAe(e,t,i,n,s,o){const r=O("cloud-upload-icon"),a=O("AposSpinner"),l=O("paperclip-icon"),c=O("AposSlatList");return p(),y("div",null,[k("label",{class:ne(["apos-input-wrapper apos-file-dropzone",{"apos-file-dropzone--dragover":s.dragging,"apos-is-disabled":i.disabled||o.fileOrAttachment}]),tabindex:"0",onKeydown:t[1]||(t[1]=(...u)=>o.handleKeydown&&o.handleKeydown(...u)),onDrop:t[2]||(t[2]=Je((...u)=>o.uploadFile&&o.uploadFile(...u),["prevent"])),onDragover:t[3]||(t[3]=(...u)=>o.dragHandler&&o.dragHandler(...u)),onDragleave:t[4]||(t[4]=u=>s.dragging=!1)},[k("p",MAe,[s.dragging?(p(),R(r,{key:0,size:38})):i.uploading?(p(),R(a,{key:1})):(p(),y(Ce,{key:2},[D(l,{size:14,class:"apos-file-icon"}),Mt(" "+E(o.messages.primary)+" ",1),o.messages.highlighted?(p(),y("span",TAe,E(o.messages.highlighted),1)):S("v-if",!0)],64))]),k("input",{ref:"uploadField",type:"file",class:"apos-sr-only",disabled:i.disabled||o.fileOrAttachment,accept:i.allowedExtensions,tabindex:"-1",onInput:t[0]||(t[0]=(...u)=>o.uploadFile&&o.uploadFile(...u))},null,40,OAe)],34),o.fileOrAttachment?(p(),y("div",EAe,[D(c,{"model-value":[o.fileOrAttachment],disabled:o.attachmentDisabled,"onUpdate:modelValue":o.update},null,8,["model-value","disabled","onUpdate:modelValue"])])):S("v-if",!0)])}const $Ae=I(xAe,[["render",IAe],["__scopeId","data-v-7aa77c65"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposFile.vue"]]),LAe={props:{filters:{type:Array,required:!0},choices:{type:Object,required:!1,default(){return{}}},values:{type:Object,required:!1,default(){return{}}},button:{type:Object,default(){return{label:"apostrophe:filter",icon:"chevron-down-icon",modifiers:["icon-right","small"],type:"outline"}}}},emits:["input"],data(){return{map:{radio:"AposInputRadio",checkbox:"AposInputCheckboxes",select:"AposInputSelect"},generation:0}},computed:{filterSets(){const e=[];return this.filters.forEach(t=>{e.push({name:t.name,key:`${this.generation}:${t.name}`,field:{name:t.name,type:t.inputType||"select",label:t.label||t.name,choices:this.addNullChoice(t,this.choices[t.name]||t.choices)},value:{data:this.values[t.name]},status:{}})}),e}},watch:{choices(){this.generation++}},methods:{input(e,t){this.$emit("input",t,e)},addNullChoice(e,t){return e.required?t:t?t.find(i=>i.value===null)?t:[{label:e.nullLabel,value:null}].concat(t):[{label:"apostrophe:filterMenuLoadingChoices",value:e.def}]}}},PAe={class:"apos-filters-menu"};function DAe(e,t,i,n,s,o){const r=O("AposContextMenu");return p(),R(r,{button:i.button,"menu-placement":"bottom"},{default:Q(()=>[k("div",PAe,[(p(!0),y(Ce,null,Ie(o.filterSets,a=>(p(),y("div",{key:a.key,class:"apos-filters-menu__set"},[(p(),R(tt(s.map[a.field.type]),{field:a.field,"model-value":a.value,status:a.status,icon:a.field.type==="select"?"unfold-more-horizontal-icon":"","no-blur-emit":!0,"onUpdate:modelValue":l=>o.input(l,a.name)},null,8,["field","model-value","status","icon","onUpdate:modelValue"]))]))),128))])]),_:1},8,["button"])}const RAe=I(LAe,[["render",DAe],["__scopeId","data-v-9f77f528"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposFilterMenu.vue"]]),HAe={name:"AposLabel",props:{label:{type:String,required:!0},tooltip:{type:String,default:null},modifiers:{type:Array,default(){return[]}}}};function VAe(e,t,i,n,s,o){const r=Bn("apos-tooltip");return Ge((p(),y("span",{class:ne(["apos-label",i.modifiers])},[Mt(E(e.$t(i.label)),1)],2)),[[r,i.tooltip]])}const zAe=I(HAe,[["render",VAe],["__scopeId","data-v-560cf32d"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposLabel.vue"]]),NAe={name:"AposLoading"},BAe={class:"apos-loading"};function FAe(e,t,i,n,s,o){return p(),y("div",BAe,[S(" Disabling since the SVG is mostly not active vue template code. "),S(" eslint-disable vue/max-attributes-per-line "),t[0]||(t[0]=Ll('<svg viewBox="0 0 60 20" data-v-ff368aec><defs data-v-ff368aec><linearGradient id="gradOne" x1="-0.858289931%" y1="100%" x2="100.756836%" y2="0%" spreadMethod="pad" data-v-ff368aec><stop offset="0%" stop-color="var(--a-brand-gold)" stop-opacity="1" data-v-ff368aec></stop><stop offset="100%" stop-color="var(--a-brand-red)" stop-opacity="1" data-v-ff368aec></stop></linearGradient><linearGradient id="gradTwo" x1="-0.858289931%" y1="100%" x2="100.756836%" y2="0%" spreadMethod="pad" data-v-ff368aec><stop offset="0%" stop-color="var(--a-brand-red)" stop-opacity="1" data-v-ff368aec></stop><stop offset="100%" stop-color="var(--a-brand-magenta)" stop-opacity="1" data-v-ff368aec></stop></linearGradient><linearGradient id="gradThree" x1="-0.858289931%" y1="100%" x2="100.756836%" y2="0%" spreadMethod="pad" data-v-ff368aec><stop offset="0%" stop-color="var(--a-brand-magenta)" stop-opacity="1" data-v-ff368aec></stop><stop offset="100%" stop-color="var(--a-brand-blue)" stop-opacity="1" data-v-ff368aec></stop></linearGradient></defs><g data-v-ff368aec><circle class="apos-loading__first" cx="10" cy="10" stroke-width="0" fill="url(&#39;#gradOne&#39;)" r="4.08836" data-v-ff368aec><animate attributeName="r" dur="950ms" values="3;3;4;5;6;5;4;3" repeatCount="indefinite" keyTimes="0; 0.15; 0.3; 0.45; 0.6; 0.75; 0.9; 1" keySplines=".42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1;" data-v-ff368aec></animate></circle><circle class="apos-loading__second" cx="30" cy="10" stroke-width="0" fill="url(&#39;#gradTwo&#39;)" r="5.08836" data-v-ff368aec><animate attributeName="r" dur="950ms" values="4;3;3;4;5;6;5;4" repeatCount="indefinite" keyTimes="0; 0.15; 0.3; 0.45; 0.6; 0.75; 0.9; 1" keySplines=".42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1;" data-v-ff368aec></animate></circle><circle class="apos-loading__third" cx="50" cy="10" stroke-width="0" fill="url(&#39;#gradThree&#39;)" r="5.91164" data-v-ff368aec><animate attributeName="r" dur="950ms" values="5;4;3;3;4;5;6;5" repeatCount="indefinite" keyTimes="0; 0.15; 0.3; 0.45; 0.6; 0.75; 0.9; 1" keySplines=".42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1; .42 0 1 1; 0 0 .59 1;" data-v-ff368aec></animate></circle></g></svg>',1))])}const jAe=I(NAe,[["render",FAe],["__scopeId","data-v-ff368aec"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposLoading.vue"]]),UAe={__name:"AposLoadingBlock",props:{topBlockHeight:{type:Number,default:0},label:{type:String,default:null}},setup(e,{expose:t}){t();const n={props:e};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},WAe={class:"apos-loading-block__content"},qAe={key:0,class:"apos-loading-block__text"};function KAe(e,t,i,n,s,o){const r=O("AposLoading");return p(),y("div",{class:"apos-loading-block",style:Wt({height:`calc(100% - ${n.props.topBlockHeight}px)`})},[k("div",WAe,[D(r,{class:"apos-loading-block__loader"}),i.label?(p(),y("span",qAe,E(e.$t(i.label)),1)):S("v-if",!0)])],4)}const GAe=I(UAe,[["render",KAe],["__scopeId","data-v-72a9c944"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposLoadingBlock.vue"]]),JAe={__name:"AposLocale",props:{locale:{type:String,required:!0}},setup(e,{expose:t}){t();const i=e,n=st(()=>{var r;const o=(r=apos.i18n.locales[i.locale])==null?void 0:r.label;return o?`${o} (${i.locale})`:i.locale}),s={props:i,locale:n,computed:st};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}},YAe={class:"apos-locale"},ZAe={class:"apos-locale__label"},XAe={class:"apos-locale__label-name"};function QAe(e,t,i,n,s,o){return p(),y("div",YAe,[k("span",ZAe,E(e.$t("apostrophe:locale"))+": ",1),t[0]||(t[0]=Mt()),k("span",XAe,E(n.locale),1)])}const eSe=I(JAe,[["render",QAe],["__scopeId","data-v-1f5e358a"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposLocale.vue"]]),tSe={__name:"AposLocalePicker",props:{currentLocale:{type:String,required:!0},localized:{type:Object,required:!0},forbidden:{type:Array,default:()=>[]},forbiddenTooltip:{type:String,default:null},isOpen:{type:Boolean,default:!1}},emits:["switch-locale"],setup(e,{expose:t,emit:i}){t();const n=i,s=e,o=He(""),r=He(Object.entries(window.apos.i18n.locales).map(([w,A])=>({name:w,label:A.label||w}))),a=st(()=>r.value.filter(({name:w,label:A})=>{const L=N=>N.toLowerCase().includes(o.value.toLowerCase());return L(w)||L(A)})),l=st(()=>r.value.filter(w=>c(w)));function c(w){return!!s.localized[w.name]}function u(w){return s.currentLocale===w.name}function h(w){return s.forbidden.includes(w.name)}function m(w){n("switch-locale",w)}function g(w){return{"apos-active":u(w),"apos-exists":c(w),"apos-forbidden":h(w)}}function v(w){return h(w)&&{content:s.forbiddenTooltip,placement:"left"}}const _={emit:n,props:s,search:o,locales:r,filteredLocales:a,availableLocales:l,isLocalized:c,isActive:u,isForbidden:h,switchLocale:m,localeClasses:g,getForbiddenTooltip:v,ref:He,computed:st};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}},iSe={class:"apos-locales-picker","data-apos-test":"localePicker"},nSe={class:"apos-input-wrapper"},sSe=["placeholder"],oSe={class:"apos-locales-picker__list"},rSe=["onClick"],aSe=["tabindex"],lSe={class:"apos-locale-picker__name"},cSe={class:"apos-locales-picker__available"},dSe={class:"apos-locales-picker__available-desc"};function uSe(e,t,i,n,s,o){const r=O("AposIndicator"),a=O("AposButton"),l=Bn("apos-tooltip");return p(),y("div",iSe,[k("div",nSe,[Ge(k("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>n.search=c),type:"text",class:"apos-locales-picker__filter",placeholder:e.$t("apostrophe:searchLocalesPlaceholder")},null,8,sSe),[[Ds,n.search]])]),k("ul",oSe,[(p(!0),y(Ce,null,Ie(n.filteredLocales,c=>Ge((p(),y("li",{key:c.name,class:ne([n.localeClasses(c),"apos-locale-picker__item"]),"data-apos-test":"localeItem",onClick:u=>n.switchLocale(c)},[k("button",{tabindex:i.isOpen?"0":"-1",class:"apos-locale-picker__locale-display"},[n.isForbidden(c)?(p(),R(r,{key:0,icon:"lock-icon","icon-color":"var(--a-base-5)",class:"apos-locale-picker__check","icon-size":12,title:e.$t("apostrophe:forbidden")},null,8,["title"])):n.isActive(c)?(p(),R(r,{key:1,icon:"check-bold-icon","icon-color":"var(--a-primary)",class:"apos-locale-picker__check","icon-size":12,title:e.$t("apostrophe:currentLocale")},null,8,["title"])):S("v-if",!0),Mt(" "+E(c.label)+" ",1),k("span",lSe," ("+E(c.name)+") ",1),k("span",{class:ne(["apos-locale-picker__localized",{"apos-state-is-localized":n.isLocalized(c)}])},null,2)],8,aSe)],10,rSe)),[[l,n.getForbiddenTooltip(c)]])),128))]),k("div",cSe,[k("p",dSe,E(e.$t("apostrophe:documentExistsInLocales")),1),(p(!0),y(Ce,null,Ie(n.availableLocales,c=>(p(),R(a,{key:c.name,class:"apos-locales-picker__available-locale",label:c.label,type:"quiet",modifiers:["no-motion"],onClick:u=>n.switchLocale(c)},null,8,["label","onClick"]))),128))])])}const hSe=I(tSe,[["render",uSe],["__scopeId","data-v-97d62105"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposLocalePicker.vue"]]),fSe={name:"AposMinMaxCount",props:{modelValue:{required:!0,type:Array},field:{required:!0,type:Object}},computed:{maxed(){return this.field.max!==void 0&&this.modelValue.length>=this.field.max},minError(){let e=!1;return this.effectiveMin&&this.modelValue.length<this.effectiveMin&&(e=!0),e},maxError(){let e=!1;return this.field.max!==void 0&&this.modelValue.length>this.field.max&&(e=!0),e},countLabel(){return this.$t("apostrophe:numberAdded",{count:this.modelValue.length})},minLabel(){return this.effectiveMin?this.$t("apostrophe:minUi",{number:this.effectiveMin}):!1},maxLabel(){return typeof this.field.max=="number"?this.$t("apostrophe:maxUi",{number:this.field.max}):!1},effectiveMin(){return this.field.min?this.field.min:this.field.required?1:0}}},pSe={class:"apos-min-max-count"},mSe={key:0,class:"apos-min-max-count__label"};function gSe(e,t,i,n,s,o){return p(),y("div",pSe,[o.countLabel?(p(),y("span",mSe,E(o.countLabel),1)):S("v-if",!0),o.minLabel?(p(),y("span",{key:1,class:ne([o.minError?"apos-has-error":"","apos-min-max-count__label"])},E(o.minLabel),3)):S("v-if",!0),o.maxLabel?(p(),y("span",{key:2,class:ne([o.maxError?"apos-has-error":"","apos-min-max-count__label"])},E(o.maxLabel),3)):S("v-if",!0)])}const bSe=I(fSe,[["render",gSe],["__scopeId","data-v-6e897c43"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposMinMaxCount.vue"]]),ySe={name:"MenuSwapIcon",props:{title:{type:String,default:null},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}},emits:["click"]},vSe=["aria-hidden","aria-label"],_Se=["fill","width","height"],wSe={d:"M12,6L7,11H17L12,6M7,13L12,18L17,13H7Z"},CSe={key:0};function kSe(e,t,i,n,s,o){return p(),y("span",J(e.$attrs,{"aria-hidden":i.title?null:!0,"aria-label":i.title,class:"material-design-icon menu-swap-icon",role:"img",onClick:t[0]||(t[0]=r=>e.$emit("click",r))}),[(p(),y("svg",{fill:i.fillColor,class:"material-design-icon__svg",width:i.size,height:i.size,viewBox:"0 0 24 24"},[k("path",wSe,[i.title?(p(),y("title",CSe,E(i.title),1)):S("v-if",!0)])],8,_Se))],16,vSe)}const ASe=I(ySe,[["render",kSe],["__file","/Users/vasyl/Projects/starter-kit-marketing/node_modules/@apostrophecms/vue-material-design-icons/MenuSwap.vue"]]),SSe={name:"AposPager",components:{"menu-swap-icon":ASe},props:{currentPage:{type:Number,default:1},totalPages:{type:Number,required:!0}},emits:["change","click"],computed:{prevButtonLabel(){return{key:this.currentPage>1?"apostrophe:goToPage":"apostrophe:previousPage",page:this.currentPage-1}},nextButtonLabel(){return{key:this.currentPage<this.totalPages?"apostrophe:goToPage":"apostrophe:nextPage",page:this.currentPage+1}},selectedPage:{get(){return this.currentPage},set(e){this.$emit("change",e)}}},methods:{incrementPage(e){let t=this.currentPage+e;t>this.totalPages?t=this.totalPages:t<1&&(t=1),this.$emit("click",t)}}},xSe={class:"apos-pager"},MSe={class:"apos-input-wrapper"},TSe=["disabled","aria-label"],OSe=["value"];function ESe(e,t,i,n,s,o){const r=O("AposButton"),a=O("menu-swap-icon");return p(),y("nav",xSe,[D(r,{disabled:i.currentPage==1,class:"apos-pager__btn",type:"outline",icon:"chevron-left-icon",modifiers:["small"],"icon-only":!0,label:o.prevButtonLabel,onClick:t[0]||(t[0]=l=>o.incrementPage(-1))},null,8,["disabled","label"]),k("div",MSe,[Ge(k("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.selectedPage=l),class:"apos-pager__page-select apos-input apos-input--select",disabled:i.totalPages<=1,"aria-label":e.$t("apostrophe:selectPage")},[(p(!0),y(Ce,null,Ie(i.totalPages,l=>(p(),y("option",{key:l,value:l},E(e.$t("apostrophe:pageNumber",{number:l})),9,OSe))),128))],8,TSe),[[E4,o.selectedPage]]),D(a,{size:18,class:"apos-input-icon"})]),D(r,{disabled:i.currentPage>=i.totalPages,type:"outline",class:"apos-pager__btn",icon:"chevron-right-icon",modifiers:["small"],"icon-only":!0,label:o.nextButtonLabel,onClick:t[2]||(t[2]=l=>o.incrementPage(1))},null,8,["disabled","label"])])}const ISe=I(SSe,[["render",ESe],["__scopeId","data-v-2ca89f4b"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposPager.vue"]]),$Se={name:"AposPagerDots",props:{dots:{type:Number,required:!0},activeIndex:{type:Number,default:1}},emits:["click"],data(){return{index:this.activeIndex}},methods:{click(e){this.$emit("click",e),this.index=e}}},LSe={class:"apos-pager-dots"},PSe=["onClick"],DSe={class:"apos-sr-only"};function RSe(e,t,i,n,s,o){return p(),y("ul",LSe,[(p(!0),y(Ce,null,Ie(i.dots,r=>(p(),y("li",{key:r,class:"apos-pager-dots__item"},[k("button",{role:"button",class:ne([{"apos-is-active":r===s.index},"apos-pager-dots__button"]),onClick:a=>o.click(r)},[k("span",DSe," Activate item "+E(r),1)],10,PSe)]))),128))])}const HSe=I($Se,[["render",RSe],["__scopeId","data-v-c9b3d0bb"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposPagerDots.vue"]]),VSe={name:"AposSelect",props:{icon:{type:String,default:"menu-down-icon"},uid:{type:Number,default:null},classes:{type:Array,default(){return[]}},wrapperClasses:{type:Array,default(){return[]}},choices:{type:Array,default(){return[]}},selected:{type:[String,Number,Boolean],default:""},disabled:{type:Boolean,default:!1},autocomplete:{type:String,default:null}},emits:["change"],methods:{change(e){this.$emit("change",JSON.parse(e))}}},zSe=["uid","disabled","autocomplete"],NSe=["value","selected"];function BSe(e,t,i,n,s,o){const r=O("AposIndicator");return p(),y("div",{class:ne(["apos-input-wrapper",i.wrapperClasses])},[k("select",{class:ne(["apos-input apos-input--select",i.classes]),uid:i.uid,disabled:i.disabled,autocomplete:i.autocomplete,onChange:t[0]||(t[0]=a=>o.change(a.target.value))},[(p(!0),y(Ce,null,Ie(i.choices,a=>(p(),y("option",{key:JSON.stringify(a.value),value:JSON.stringify(a.value),selected:a.value===i.selected},E(e.$t(a.label)),9,NSe))),128))],42,zSe),D(r,{icon:"menu-down-icon",class:"apos-input-icon","icon-size":20})],2)}const FSe=I(VSe,[["render",BSe],["__scopeId","data-v-9deefd2c"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposSelect.vue"]]),jSe={name:"AposSlat",props:{item:{type:Object,required:!0},parent:{type:String,required:!0},slatCount:{type:Number,required:!0},engaged:{type:Boolean,default:!1},removable:{type:Boolean,default:!0},selected:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},relationshipSchema:{type:Array,default:()=>null},editorLabel:{type:String,default:null},editorIcon:{type:String,default:null}},emits:["engage","disengage","move","remove","item-clicked","select"],data(){return{more:{button:{label:"apostrophe:moreOperations",iconOnly:!0,icon:"dots-vertical-icon",iconSize:13,type:"inline"},menu:[...this.editorIcon?[]:[{label:"apostrophe:editRelationship",action:"edit-relationship"}]]}}},computed:{itemSize(){var t;const e=(t=this.item.length)==null?void 0:t.size;return e<1e6?`${(e/1e3).toFixed(0)}KB`:`${(e/1e6).toFixed(1)}MB`},hasRelationshipEditor(){return this.item.attachment&&this.item.attachment.group==="images"?this.relationshipSchema&&this.item.attachment._isCroppable:this.relationshipSchema},hasRelationshipFields(){return this.hasRelationshipEditor&&Array.isArray(this.relationshipSchema)&&this.relationshipSchema.length}},methods:{nativeClick(e){return e.preventDefault(),e.target.click()},toggleEngage(){this.slatCount>1&&(this.engaged?this.disengage():this.engage())},engage(){this.$emit("engage",this.item._id)},disengage(){this.$emit("disengage",this.item._id)},move(e){if(this.engaged){const t=e>0?1:-1;this.$emit("move",this.item._id,t)}},remove(e,t){e.preventDefault(),this.$emit("remove",this.item,t)},click(e){this.$emit("select",this.item._id)}}},USe=["data-id","tabindex","aria-pressed","aria-labelledby"],WSe={class:"apos-slat__main"},qSe={key:4,class:"apos-slat__media-preview"},KSe=["src","alt"],GSe={key:5,class:"apos-slat__extension-wrapper"},JSe={class:"apos-slat__label"},YSe={class:"apos-slat__secondary"},ZSe={key:0,class:"apos-slat__size"};function XSe(e,t,i,n,s,o){const r=O("drag-icon"),a=O("AposContextMenu"),l=O("AposButton");return p(),y("li",{class:ne(["apos-slat",{"apos-is-engaged":i.engaged,"apos-is-only-child":i.slatCount===1,"apos-is-selected":i.selected,"apos-is-disabled":i.disabled}]),"data-id":i.item._id,tabindex:i.slatCount>1?"0":"-1","aria-pressed":i.engaged,role:"listitem","aria-labelledby":i.parent,onKeydown:[t[4]||(t[4]=Qe((...c)=>o.toggleEngage&&o.toggleEngage(...c),["space"])),t[5]||(t[5]=Qe((...c)=>o.toggleEngage&&o.toggleEngage(...c),["enter"])),t[6]||(t[6]=Qe((...c)=>o.disengage&&o.disengage(...c),["escape"])),t[7]||(t[7]=Qe(c=>o.move(1),["arrow-down"])),t[8]||(t[8]=Qe(c=>o.move(-1),["arrow-up"])),t[9]||(t[9]=Qe(c=>o.remove(c,!0),["backspace"]))],onClick:t[10]||(t[10]=(...c)=>o.click&&o.click(...c))},[k("div",WSe,[i.slatCount>1?(p(),R(r,{key:0,class:"apos-slat__control apos-slat__control--drag",size:13})):S("v-if",!0),o.hasRelationshipFields&&s.more.menu.length?(p(),R(a,{key:1,button:s.more.button,menu:s.more.menu,"menu-placement":"bottom-start",disabled:i.disabled,onItemClicked:t[0]||(t[0]=c=>e.$emit("item-clicked",i.item))},null,8,["button","menu","disabled"])):S("v-if",!0),i.editorIcon&&o.hasRelationshipEditor?(p(),R(l,{key:2,class:"apos-slat__editor-btn",role:"button",tooltip:{content:i.editorLabel,placement:"bottom"},icon:i.editorIcon,"icon-only":!0,modifiers:["inline"],disabled:i.disabled,onClick:t[1]||(t[1]=c=>e.$emit("item-clicked",i.item)),onKeydown:[Qe(Je(o.nativeClick,["prevent"]),["enter"]),Qe(Je(o.nativeClick,["prevent"]),["space"])]},null,8,["tooltip","icon","disabled","onKeydown"])):S("v-if",!0),i.item._url||i.item._urls?(p(),R(l,{key:3,class:"apos-slat__control apos-slat__control--view",icon:"eye-icon","icon-only":!0,modifiers:["inline"],label:"apostrophe:preview",href:i.item._url||i.item._urls.original,target:"_blank",onKeydown:[Qe(Je(o.nativeClick,["prevent"]),["enter"]),Qe(Je(o.nativeClick,["prevent"]),["space"])]},null,8,["href","onKeydown"])):S("v-if",!0),i.item.attachment&&i.item.attachment.group==="images"&&i.item.attachment._urls?(p(),y("div",qSe,[k("img",{src:i.item.attachment._urls.uncropped?i.item.attachment._urls.uncropped["one-sixth"]:i.item.attachment._urls["one-sixth"],alt:i.item.description||i.item.title,class:"apos-slat__media"},null,8,KSe)])):i.item.extension?(p(),y("div",GSe,[k("span",{class:ne(["apos-slat__extension",[`apos-slat__extension--${i.item.extension}`]])},E(i.item.extension),3)])):S("v-if",!0),k("div",JSe,E(i.item.title),1)]),k("div",YSe,[i.item.length&&i.item.length.size?(p(),y("div",ZSe,E(o.itemSize),1)):S("v-if",!0),i.removable?(p(),R(l,{key:1,class:"apos-slat__control apos-slat__control--remove",icon:"close-icon","icon-only":!0,modifiers:["inline"],label:"apostrophe:removeItem",disabled:i.disabled,onClick:t[2]||(t[2]=c=>o.remove(c)),onKeydown:t[3]||(t[3]=Qe(Je(c=>o.remove(c),["prevent"]),["space"]))},null,8,["disabled"])):S("v-if",!0)])],42,USe)}const QSe=I(jSe,[["render",XSe],["__scopeId","data-v-6a975d6c"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposSlat.vue"]]),e3e={name:"AposSlatList",components:{draggable:qm},props:{modelValue:{type:Array,required:!0},disabled:{type:Boolean,default:!1},removable:{type:Boolean,default:!0},selected:{type:String,default:null},relationshipSchema:{type:Array,default:()=>null},editorLabel:{type:String,default:null},editorIcon:{type:String,default:null},duplicate:{type:String,default:null}},emits:["item-clicked","select","update:modelValue"],data(){return{isDragging:!1,engaged:null,next:this.modelValue.slice()}},computed:{listId(){return`sortableList-${Ut.createId()}`},dragOptions(){return{animation:0,disabled:this.disabled||this.next.length<=1,ghostClass:"apos-is-dragging"}}},watch:{modelValue(){this.next=this.modelValue.slice()},next(e,t){let i=!0;if(e.length===this.modelValue.length){for(let n=0;n<e.length;n++)if(e[n]._id!==this.modelValue[n]._id||e[n].title!==this.modelValue[n].title){i=!1;break}}else i=!1;i||this.$emit("update:modelValue",this.next)}},methods:{update({oldIndex:e,newIndex:t}){this.next.splice(t,0,this.next.splice(e,1)[0]),this.next=this.next.slice()},engage(e){this.engaged=e},disengage(e){this.engaged=null},select(e){this.$emit("select",e)},remove(e,t){const i=this.getIndex(e._id);this.next=this.next.filter(n=>e._id!==n._id),t&&this.next[i]?this.focusElement(this.next[i]._id):t&&this.next[i-1]&&this.focusElement(this.next[i-1]._id)},move(e,t){const i=this.getIndex(e),n=t>0?i+1:i-1;this.next[n]&&(this.next.splice(n,0,this.next.splice(i,1)[0]),this.focusElement(e))},getIndex(e){let t=null;return this.next.forEach((i,n)=>{i._id===e&&(t=n)}),t},focusElement(e){this.$refs.root.querySelector(`[data-id="${e}"]`)&&this.$nextTick(()=>{this.$refs.root.querySelector(`[data-id="${e}"]`).focus()})}}},t3e={ref:"root"};function i3e(e,t,i,n,s,o){const r=O("AposSlat"),a=O("draggable");return p(),y("div",t3e,[D(a,{id:o.listId,"item-key":"_id",class:"apos-slat-list",tag:"ol",role:"list",options:o.dragOptions,list:s.next,onUpdate:o.update},{item:Q(({element:l})=>[D(td,{type:"transition",name:"apos-flip-list"},{default:Q(()=>[(p(),R(r,{key:l._id,class:ne(["apos-slat-list__item",{"apos-slat-list__item--disabled":i.disabled,"apos-input--error":i.duplicate}]),item:l,selected:i.selected===l._id,disabled:i.disabled,engaged:s.engaged===l._id,parent:o.listId,"slat-count":s.next.length,removable:i.removable,"relationship-schema":i.relationshipSchema,"editor-label":i.editorLabel,"editor-icon":i.editorIcon,onRemove:o.remove,onEngage:o.engage,onDisengage:o.disengage,onSelect:o.select,onMove:o.move,onItemClicked:c=>e.$emit("item-clicked",l)},null,8,["item","selected","class","disabled","engaged","parent","slat-count","removable","relationship-schema","editor-label","editor-icon","onRemove","onEngage","onDisengage","onSelect","onMove","onItemClicked"]))]),_:2},1024)]),_:1},8,["id","options","list","onUpdate"])],512)}const n3e=I(e3e,[["render",i3e],["__scopeId","data-v-0686d1be"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposSlatList.vue"]]),s3e={name:"AposSpinner",props:{color:{type:String,default:"--a-primary"},colorLight:{type:String,default:"--a-primary-transparent-50"},weight:{type:String,default:"normal"}},computed:{style(){return this.color?`color: var(${this.color});`:"color: var(--a-primary);"},stopColorLight(){const e=this.colorLight||this.color;return e!=null&&e.startsWith("--")?`var(${e})`:e},stopColorDark(){var e;return(e=this.color)!=null&&e.startsWith("--")?`var(${this.color})`:this.color},className(){return`apos-spinner--${this.weight}`}}},o3e={id:"linear-gradient",x1:"-280.32",y1:"390.11",x2:"-279.82",y2:"390.9",gradientTransform:"matrix(22.2, 0, 0, -22.2, 6233.2, 8673.92)",gradientUnits:"userSpaceOnUse"},r3e=["stop-color"],a3e=["stop-color"],l3e={id:"linear-gradient-2",x1:"-276.41",y1:"379.82",x2:"-276.72",y2:"379.33",gradientTransform:"matrix(17.69, 0, 0, -13.7, 4908.02, 5205.92)",gradientUnits:"userSpaceOnUse"},c3e=["stop-color"],d3e=["stop-color"];function u3e(e,t,i,n,s,o){return p(),y("div",{class:ne(["apos-spinner",o.className])},[S(" Disabling since the SVG is mostly not active vue template code. "),i.weight==="heavy"?(p(),y("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 23",class:"apos-spinner__svg apos-spinner__svg--heavy",style:Wt(o.style)},[k("defs",null,[k("linearGradient",o3e,[k("stop",{offset:"0","stop-color":o.stopColorLight},null,8,r3e),k("stop",{offset:"1","stop-color":o.stopColorDark},null,8,a3e)]),k("linearGradient",l3e,[k("stop",{offset:"0","stop-color":o.stopColorLight},null,8,c3e),k("stop",{offset:"1","stop-color":o.stopColorDark},null,8,d3e)])]),t[0]||(t[0]=k("path",{class:"apos-spinner__svg-track",d:"M11.5.32a11.1,11.1,0,1,0,11.1,11.1A11.1,11.1,0,0,0,11.5.32Zm0,5.2a5.9,5.9,0,1,1-5.9,5.9A5.9,5.9,0,0,1,11.5,5.52Z",fill:"url(#linear-gradient)"},null,-1)),t[1]||(t[1]=k("path",{class:"apos-spinner__svg-spinner",d:"M11.5.32a11.1,11.1,0,0,1,11.1,11.1,2.6,2.6,0,0,1-5.19.17v-.17a5.9,5.9,0,0,0-5.9-5.9A5.83,5.83,0,0,0,9,6.07l-.29.14A2.6,2.6,0,1,1,6.29,1.62,11,11,0,0,1,11.5.32Z",fill:"url(#linear-gradient-2)"},null,-1))],4)):(p(),y("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",class:"apos-spinner__svg",width:"38",height:"38",viewBox:"0 0 38 38",style:Wt(o.style)},t[2]||(t[2]=[Ll('<defs data-v-f824ee8f><linearGradient id="a" x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" data-v-f824ee8f><stop stop-color="currentColor" stop-opacity="0" offset="0%" data-v-f824ee8f></stop><stop stop-color="currentColor" stop-opacity=".631" offset="63.146%" data-v-f824ee8f></stop><stop stop-color="currentColor" offset="100%" data-v-f824ee8f></stop></linearGradient></defs><g fill="none" fill-rule="evenodd" data-v-f824ee8f><g transform="translate(1 1)" data-v-f824ee8f><path id="Oval-2" d="M36 18c0-9.94-8.06-18-18-18" stroke="url(#a)" stroke-width="2" transform="rotate(266.312 18 18)" data-v-f824ee8f><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite" data-v-f824ee8f></animateTransform></path><circle fill="currentColor" cx="36" cy="18" r="1" transform="rotate(266.312 18 18)" data-v-f824ee8f><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite" data-v-f824ee8f></animateTransform></circle></g></g>',2)]),4)),S(" eslint-enable vue/max-attributes-per-line ")],2)}const h3e=I(s3e,[["render",u3e],["__scopeId","data-v-f824ee8f"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposSpinner.vue"]]),f3e={name:"AposSubformPreview",props:{subform:{type:Object,required:!0},values:{type:Object,required:!0}},computed:{previewValue(){if(this.subform.help)return this.$t(this.subform.help);let e=this.subform.preview;const t=p3e(this.subform.schema,this.values,this.$t);return e||(e=this.subform.fields.map(i=>`{{ ${i} }}`).join(" ")),this.$t(e,t)}}};function p3e(e,t,i){const n={};for(const s of e){const o=t[s.name];if(typeof o>"u"&&s.def){n[s.name]=s.def;continue}if(o!==null)switch(s.type){case"password":{n[s.name]="********";break}case"boolean":{n[s.name]=s.toggle?i(s.toggle[o]):i(o?"apostrophe:yes":"apostrophe:no");break}case"radio":case"select":{n[s.name]=s.choices.filter(r=>r.value===o).map(r=>i(r.label))[0]||"";break}case"checkbox":{const r=[];for(const a of s.choices)(o||[]).includes(a.value)&&r.push(i(a.label));n[s.name]=r.join(", ");break}default:{const r=typeof o;n[s.name]=["string","number"].includes(r)?o:"";break}}}return n}const m3e={class:"apos-subform-preview"},g3e={class:"apos-subform-preview__label"},b3e={key:1,class:"apos-subform-preview__value-block"};function y3e(e,t,i,n,s,o){var r;return p(),y("div",m3e,[k("div",g3e,E(e.$t(i.subform.label||((r=i.subform.schema)==null?void 0:r[0].label)||"n/a")),1),k("div",{class:ne(["apos-subform-preview__value",{"is-help":!!i.subform.help}])},[i.subform.previewComponent?(p(),R(tt(i.subform.previewComponent),{key:0,class:"apos-subform-preview__value-block",subform:i.subform,values:i.values},null,8,["subform","values"])):(p(),y("span",b3e,E(o.previewValue),1))],2)])}const v3e=I(f3e,[["render",y3e],["__scopeId","data-v-9fe5c844"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposSubformPreview.vue"]]),_3e={props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},options:{type:Object,default(){return{}}},width:{type:[Number,String],default:null}},emits:["cell-click","col-click"],computed:{finalHeaders(){return this.headers.map(e=>({...e,id:e.id??e.name,label:e.label??"",action:e.action??!1,width:e.width??0,component:e.action?"button":"span",icon:e.icon??"",iconSize:e.iconSize??10,css:e.css??e.name,format:this.getFormatFactory(e),cellClasses:this.cellCss(e),headerClasses:this.headerCss(e),headerStyles:this.headerStyles(e)}))},tableHeaders(){return this.finalHeaders.filter(e=>["always","table"].includes(e.visibility??"always"))},tableWidth(){return this.width||"100%"},isTableFixed(){return this.isFixedValue(this.tableWidth)},maxCellWidth(){return this.options.maxCellWidth?this.options.maxCellWidth:"auto"},cssTableLayout(){return this.isTableFixed?"fixed":"auto"}},methods:{getValue(e,t,i=!0){var o;const n=((o=t.name)==null?void 0:o.split("."))??null;if(!n)return null;let s=e;try{for(const r of n)s=s[r]}catch{return null}return t.translate===!0&&(s=this.$t(s)),i?t.format(s):s},getFormatFactory(e){if(!e.format)return n=>n;if(typeof e.format=="function")return e.format;const[t,...i]=e.format.split(":");switch(t){case"last":return n=>"..."+`${n}`.substring(`${n}`.length-i[0]);case"yesno":return n=>n?this.$t("apostrophe:yes"):this.$t("apostrophe:no");default:return n=>n}},headerStyles(e){return this.isFixedValue(e.width)?{width:parseInt(e.width,10)+0+"px"}:e.width?{width:e.width}:{width:this.maxCellWidth}},headerCss(e){const t=["apos-table__header-label"];return this.isTableFixed&&t.push("apos-table__cell-field-fixed"),e.action&&t.push("apos-table__header--pointer"),t},cellCss(e){const t=["apos-table__cell-field",`apos-table__cell-field--${e.css}`];return this.isTableFixed&&t.push("apos-table__cell-field-fixed"),t},isFixedValue(e){return e&&(`${e}`.includes("px")||typeof e=="number")},onColClick(e){e.action&&this.$emit("col-click",{header:e})},onCellClick(e,t){this.$emit("cell-click",{item:e,header:t})}}},w3e={"data-apos-test":"tableHeader"},C3e=["data-apos-test-row-count"],k3e=["data-apos-test-cell-name","data-apos-test-cell-label","data-apos-test-cell-row-count","onClick"],A3e=["title"];function S3e(e,t,i,n,s,o){return p(),y("table",{class:"apos-table","data-apos-test":"table",style:Wt({"--table-width":o.tableWidth,"--table-layout":o.cssTableLayout})},[k("tbody",null,[k("tr",w3e,[(p(!0),y(Ce,null,Ie(o.tableHeaders,r=>(p(),y("th",{key:r.id,scope:"col",class:ne(["apos-table__header",`apos-table__header--${r.css}`]),"data-apos-test":"tableHeaderCell",style:Wt(r.headerStyles)},[yt(e.$slots,`header-${r.name}`,{header:r},()=>[(p(),R(tt(r.component),{class:ne(r.headerClasses),title:e.$t(r.label),onClick:a=>o.onColClick(r)},{default:Q(()=>[r.icon?(p(),R(tt(r.icon),{key:0,size:r.iconSize||15,"data-apos-test-icon":r.icon,class:"apos-table__header-icon","fill-color":"currentColor"},null,8,["size","data-apos-test-icon"])):S("v-if",!0),Mt(" "+E(e.$t(r.label)),1)]),_:2},1032,["class","title","onClick"]))],!0)],6))),128))]),(p(!0),y(Ce,null,Ie(i.items,(r,a)=>(p(),y("tr",{key:r._id,class:"apos-table__row","data-apos-test":"tableRow","data-apos-test-row-count":a+1},[(p(!0),y(Ce,null,Ie(o.tableHeaders,l=>(p(),y("td",{key:l.id,class:ne(["apos-table__cell",`apos-table__cell--${l.css}`]),"data-apos-test":"tableCell","data-apos-test-cell-name":l.name,"data-apos-test-cell-label":e.$t(l.label),"data-apos-test-cell-row-count":a+1,onClick:c=>o.onCellClick(r,l)},[yt(e.$slots,`cell-${l.name}`,{item:r,header:l,classes:l.cellClasses,valueFormatted:o.getValue(r,l),value:o.getValue(r,l,!1)},()=>[k("p",{class:ne(l.cellClasses),title:o.getValue(r,l,!1),"data-apos-test":"tableCellField"},E(o.getValue(r,l)),11,A3e)],!0)],10,k3e))),128))],8,C3e))),128))])],4)}const x3e=I(_3e,[["render",S3e],["__scopeId","data-v-3fa330b2"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposTable.vue"]]),M3e={props:{label:{type:String,required:!0},slug:{type:String,required:!0}},emits:["click"],methods:{click(){this.$emit("click",this.slug)}}},T3e={class:"apos-tag"};function O3e(e,t,i,n,s,o){const r=O("close-icon");return p(),y("div",T3e,[k("button",{class:"apos-tag__button",onClick:t[0]||(t[0]=(...a)=>o.click&&o.click(...a))},[D(r,{class:"apos-tag__remove",title:"Remove Tag",size:10})]),Mt(" "+E(i.label),1)])}const E3e=I(M3e,[["render",O3e],["__scopeId","data-v-f6f2a718"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposTag.vue"]]),I3e={props:{primaryAction:{type:Object,default(){return{label:"apostrophe:tagAddTag",action:"add-tag"}}},tags:{type:Array,default(){return[]}},applyTo:{type:Array,required:!0},tipAlignment:{type:String,default:"left"}},emits:["create-tag","update"],data(){return{creating:!1,searchValue:{data:""},searchStatus:{},checkboxes:{},myTags:[...this.tags],checked:[],searchInputValue:"",keyPrefix:`key-${Ut.createId()}`,origin:"below",open:!1,button:{label:"Context Menu Label",iconOnly:!0,icon:"Label",type:"outline"}}},computed:{disabledCreate(){return!!this.myTags.filter(t=>t.slug===this.searchInputValue).length},searchTags(){return this.creating?[]:this.searchInputValue.length>2?this.myTags.filter(e=>e.slug.includes(this.searchInputValue)):this.myTags},createLabel(){return this.searchInputValue.length?{key:"apostrophe:tagCreateTag",tag:this.searchInputValue}:"apostrophe:tagCreateNewTag"},searchField(){return{name:"tagSearch",label:"apostrophe:tagSearchApplyTags",placeholder:"apostrophe:tagSearchPlaceholder",help:"apostrophe:findOrAddTag",icon:!this.searchTags||!this.searchTags.length?"pencil-icon":"magnify-icon",disableFocus:!this.open}}},mounted(){const e={};this.tags.forEach(t=>{e[t.slug]=this.createCheckbox(t,this.applyTo)}),this.checkboxes=e},methods:{create(){if(!this.disabledCreate)if(!this.searchInputValue||!this.searchInputValue.length)this.creating=!0,this.searchValue.data=this.$t("apostrophe:tagNewTag"),this.$refs.textInput.$el.querySelector("input").focus(),this.$nextTick(()=>{this.$refs.textInput.$el.querySelector("input").select()});else{this.$emit("create-tag",this.searchInputValue);const e={label:this.searchInputValue,slug:this.searchInputValue,match:this.applyTo};this.checkboxes[e.slug]=this.createCheckbox(e,this.applyTo),this.myTags.unshift(e),this.creating=!1,this.emitState()}},updateTag(e){const t=e.target.value,i=this.myTags.find(s=>s.slug===t),n=this.checkboxes[t];n&&(i.match?i.match.length===this.applyTo.length?delete i.match:(i.match=this.applyTo,delete n.status.indeterminate,delete n.choice.indeterminate):i.match=this.applyTo,this.keyPrefix=`key-${Ut.createId()}`,this.emitState())},emitState(){this.$emit("update",this.myTags)},updateSearchInput(e){this.searchInputValue=e.data.toLowerCase(),this.searchInputValue||(this.creating=!1)},createCheckbox(e,t){const i={field:{type:"checkbox",name:e.slug},status:{},value:{data:[]},choice:{label:e.label,value:e.slug}},n=this.getCheckedState(e);return n!=="unchecked"&&this.checked.push(e.slug),n==="indeterminate"&&(i.choice.indeterminate=!0,i.status.indeterminate=!0),i},getCheckedState(e){return e.match?this.applyTo.every(t=>e.match.includes(t))?"checked":this.applyTo.some(t=>e.match.includes(t))?"indeterminate":"unchecked":"unchecked"}}},$3e={class:"apos-apply-tag-menu__inner"},L3e={class:"apos-apply-tag__create"},P3e={key:0,class:"apos-apply-tag-menu__tags"},D3e={key:1,class:"apos-apply-tag-menu__empty"},R3e={class:"apos-apply-tag-menu__empty-message"};function H3e(e,t,i,n,s,o){const r=O("AposInputString"),a=O("AposButton"),l=O("AposCheckbox"),c=O("AposContextMenu");return p(),R(c,{"menu-placement":"bottom-end",onOpen:t[1]||(t[1]=u=>s.open=u)},{default:Q(()=>[k("div",$3e,[D(r,{ref:"textInput",field:o.searchField,"model-value":s.searchValue,status:s.searchStatus,"onUpdate:modelValue":o.updateSearchInput,onReturn:o.create},null,8,["field","model-value","status","onUpdate:modelValue","onReturn"]),k("div",L3e,[D(a,{label:o.createLabel,type:"quiet",disabled:o.disabledCreate,"disable-focus":!s.open,onClick:o.create},null,8,["label","disabled","disable-focus","onClick"])]),k("div",null,[o.searchTags.length&&!s.creating?(p(),y("ol",P3e,[(p(!0),y(Ce,null,Ie(o.searchTags,u=>(p(),y("li",{key:`${s.keyPrefix}-${u.slug}`,class:"apos-apply-tag-menu__tag"},[s.checkboxes[u.slug]?(p(),R(l,{key:0,modelValue:s.checked,"onUpdate:modelValue":t[0]||(t[0]=h=>s.checked=h),field:s.checkboxes[u.slug].field,status:s.checkboxes[u.slug].status,choice:s.checkboxes[u.slug].choice,"disable-focus":!s.open,onUpdated:o.updateTag},null,8,["modelValue","field","status","choice","disable-focus","onUpdated"])):S("v-if",!0)]))),128))])):S("v-if",!0),!o.searchTags.length&&s.myTags.length&&!s.creating?(p(),y("div",D3e,[k("p",R3e,[Mt(E(e.$t("apostrophe:tagNoTagsFoundPerhaps"))+" ",1),D(a,{label:{key:"apostrophe:tagNoTagsFoundCreateOne",tag:s.searchInputValue},type:"quiet",disabled:o.disabledCreate,"disable-focus":!s.open,onClick:o.create},null,8,["label","disabled","disable-focus","onClick"])]),t[2]||(t[2]=k("span",{class:"apos-apply-tag-menu__empty-icon"},"  ",-1))])):S("v-if",!0)])])]),_:1})}const V3e=I(I3e,[["render",H3e],["__scopeId","data-v-55e6500e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposTagApply.vue"]]),z3e={props:{tags:{type:Array,default(){return[]}},title:{default:"Filter by Tag",type:String}},emits:["update"],data(){return{active:null,emptyState:{message:"apostrophe:tagYourImages"}}},methods:{toggleTag(e){this.active===e?this.active=null:this.active=e,this.$emit("update",this.active)}}},N3e={class:"apos-tag-list"},B3e={key:0,class:"apos-tag-list__inner"},F3e={class:"apos-tag-list__title"},j3e={class:"apos-tag-list__items"},U3e={key:1,class:"apos-tag-list__empty"};function W3e(e,t,i,n,s,o){const r=O("AposTagListItem"),a=O("AposEmptyState");return p(),y("div",N3e,[i.tags&&i.tags.length?(p(),y("div",B3e,[k("h3",F3e,E(e.$t(i.title)),1),k("ul",j3e,[(p(!0),y(Ce,null,Ie(i.tags,l=>(p(),R(r,{key:l.slug,"active-tag":s.active,tag:l,onClick:o.toggleTag},null,8,["active-tag","tag","onClick"]))),128))])])):(p(),y("div",U3e,[D(a,{"empty-state":s.emptyState},null,8,["empty-state"])]))])}const q3e=I(z3e,[["render",W3e],["__scopeId","data-v-2cf5b6a7"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposTagList.vue"]]),K3e={props:{activeTag:{type:String,default:null},tag:{required:!0,type:Object}},emits:["click"],computed:{active(){return this.activeTag===this.tag.value}},methods:{click(e){this.$emit("click",e.value)}}},G3e={class:"apos-tag-list__item"},J3e={class:"apos-tag-list__label"};function Y3e(e,t,i,n,s,o){const r=O("AposIndicator");return p(),y("li",G3e,[k("button",{class:ne([{"apos-is-active":o.active},"apos-tag-list__button"]),onClick:t[0]||(t[0]=a=>o.click(i.tag))},[D(r,{icon:o.active?"close-icon":"label-icon","fill-color":"var(--a-primary)",class:"apos-tag-list__icon","icon-size":12},null,8,["icon"]),k("span",J3e,E(i.tag.label),1)],2)])}const Z3e=I(K3e,[["render",Y3e],["__scopeId","data-v-7cfcc735"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposTagListItem.vue"]]),X3e={props:{modelValue:{type:Boolean,required:!0},disableFocus:{type:Boolean,default:!1}},emits:["toggle"],data(){return{activated:!1}},methods:{toggle(){this.activated=!this.activated}}},Q3e={class:"apos-toggle__container"},e4e=["tabindex"];function t4e(e,t,i,n,s,o){return p(),y("div",Q3e,[k("div",{class:ne(["apos-toggle__slider",{"apos-toggle__slider--activated":!i.modelValue}]),tabindex:i.disableFocus?null:"0",onClick:t[0]||(t[0]=r=>e.$emit("toggle")),onKeydown:[t[1]||(t[1]=Qe(Je(r=>e.$emit("toggle"),["stop"]),["space"])),t[2]||(t[2]=Qe(Je(r=>e.$emit("toggle"),["stop"]),["enter"]))]},null,42,e4e)])}const i4e=I(X3e,[["render",t4e],["__scopeId","data-v-f0719de5"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposToggle.vue"]]),n4e={name:"AposTree",props:{headers:{type:Array,required:!0},icons:{type:Object,default(){return{}}},items:{type:Array,required:!0},checked:{type:Array,default(){return null}},options:{type:Object,default(){return{}}},moduleOptions:{type:Object,default(){return{}}}},emits:["update","update:checked"],data(){return{myItems:ut(this.items),nested:!1,colWidths:null,treeId:Ut.createId(),expandedIndex:{}}},computed:{checkedProxy:{get(){return this.checked},set(e){this.$emit("update:checked",e)}},spacingRow(){let e={};const t={};this.headers&&this.headers.forEach(s=>{t[s.property]=s.label});let i=[t];this.items.forEach(s=>{i.push(s),s._children&&s._children.length>0&&(this.nested=!0,i=i.concat(s._children))}),i=i.slice(0,50),i.forEach(s=>{if(e.length===0){e=Object.assign({},s);return}this.headers.forEach(o=>{const r=o.property;(!e[r]||e[r]&&e[r].toString().length<(s[r]||"").toString().length)&&(e[r]=s[r])})});const n=[];return this.headers.forEach(s=>{let o;const r=this.headers.findIndex(l=>l.property===s.property),a={name:s.property,label:e[s.property]};if(r>-1){const l=JSON.parse(JSON.stringify(this.headers[r]));l.icon&&delete a.label,o=Object.assign(l,a)}else o=a;n.push(o)}),n}},watch:{items(e){this.myItems=e}},methods:{setWidths(e){this.colWidths=e},update(e){this.$emit("update",{changedId:e.item.dataset.rowId,startContext:e.from.dataset.listRow,startIndex:e.oldIndex,endContext:e.to.dataset.listRow,endIndex:e.newIndex})},onToggleSection({_id:e,expanded:t}){this.expandedIndex[e]=t}}};function s4e(e,t,i,n,s,o){const r=O("AposTreeHeader"),a=O("AposTreeRows");return p(),y("div",{class:ne(["apos-tree",{"apos-tree--nested":s.nested}])},[D(r,{headers:o.spacingRow,icons:i.icons,"spacer-only":!0,onCalculated:o.setWidths},null,8,["headers","icons","onCalculated"]),D(r,{headers:i.headers,icons:i.icons,"col-widths":s.colWidths,hidden:i.options.hideHeader},null,8,["headers","icons","col-widths","hidden"]),D(a,{checked:o.checkedProxy,"onUpdate:checked":t[0]||(t[0]=l=>o.checkedProxy=l),"list-id":"root",rows:s.myItems,headers:i.headers,icons:i.icons,"col-widths":s.colWidths,level:1,nested:s.nested,options:i.options,"tree-id":s.treeId,"module-options":i.moduleOptions,"expanded-index":s.expandedIndex,onUpdate:o.update,onToggle:o.onToggleSection},null,8,["checked","rows","headers","icons","col-widths","nested","options","tree-id","module-options","expanded-index","onUpdate","onToggle"])],2)}const o4e=I(n4e,[["render",s4e],["__scopeId","data-v-c5c37fde"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposTree.vue"]]),r4e={name:"AposTreeHeader",props:{headers:{type:Array,required:!0},icons:{type:Object,default(){return{}}},hidden:{type:Boolean,default:!1},spacerOnly:{type:Boolean,default:!1},colWidths:{type:Object,default(){return{}}}},emits:["calculated"],computed:{headerClasses(){return this.spacerOnly||this.hidden?"apos-tree__header--hidden":""}},watch:{headers(){this.spacerOnly&&this.$nextTick(()=>{this.calculateWidths()})}},mounted(){this.spacerOnly&&(this.calculateWidths(),window.addEventListener("resize",wa(this.calculateWidths,100)))},unmounted(){this.spacerOnly&&window.removeEventListener("resize",wa(this.calculateWidths,100))},methods:{calculateWidths(){const e={};this.headers.forEach(t=>{const i=this.$el.querySelector(`[data-spacer="${t.property}"]`);i&&(e[t.property]=i.clientWidth+15+(t.extraWidth??0))}),this.$emit("calculated",e)},getCellStyles(e){const t={};return this.colWidths&&this.colWidths[e.property]&&(t.width=`${this.colWidths[e.property]}px`),t}}},a4e=["aria-hidden"],l4e=["data-spacer"];function c4e(e,t,i,n,s,o){return p(),y("div",{class:ne(["apos-tree__row-data apos-tree__header",o.headerClasses]),"aria-hidden":i.spacerOnly},[(p(!0),y(Ce,null,Ie(i.headers,(r,a)=>(p(),y("span",{key:`${a}-${r.property}`,class:ne(["apos-tree__cell",`apos-tree--column-${r.property}`]),"data-spacer":i.spacerOnly&&r.property,style:Wt(o.getCellStyles(r))},[r.columnHeaderIcon?(p(),R(tt(i.icons[r.columnHeaderIcon]),{key:0,class:"apos-tree__cell__icon"})):S("v-if",!0),Mt(" "+E(e.$t(r.columnHeader)),1)],14,l4e))),128))],10,a4e)}const d4e=I(r4e,[["render",c4e],["__scopeId","data-v-89b92e5e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposTreeHeader.vue"]]),u4e={name:"AposTreeRows",components:{draggable:qm},props:{headers:{type:Array,required:!0},icons:{type:Object,default(){return{}}},rows:{type:Array,default(){return[]}},checked:{type:Array,default(){return null}},colWidths:{type:Object,default(){return{}}},level:{type:Number,required:!0},nested:{type:Boolean,required:!0},options:{type:Object,default(){return{}}},listId:{type:String,required:!0},treeId:{type:String,required:!0},expandedIndex:{type:Object,default(){return{}}},moduleOptions:{type:Object,default(){return{}}}},emits:["update","update:checked","change","toggle"],data(){return{treeBranches:[],countModifier:{}}},computed:{computedRows(){return this.rows.map(e=>{var t;return{...e,__count:(this.countModifier[e._id]||0)+(((t=e._children)==null?void 0:t.length)||0),__expanded:this.isExpanded(e._id),__key:`${e._id}-${e.level}-${e.rank}`}})},checkedProxy:{get(){return this.checked},set(e){this.$emit("update:checked",e)}},dragOptions(){return{scroll:!0,scrollSensitivity:100,scrollSpeed:1e3,bubbleScroll:!0,group:this.treeId,fallbackOnBody:!0,swapThreshold:.65,dataListId:this.listId,disabled:!this.options.draggable,handle:".apos-tree__row__icon--handle",ghostClass:"apos-is-dragging",filter:".apos-is-parked"}},maxReached(){return this.options.max!=null&&this.checked.length>=this.options.max}},mounted(){apos.bus.$on("apos-tree-child:added",this.onChildAdd),apos.bus.$on("apos-tree-child:removed",this.onChildRemove),this.$nextTick(()=>{this.$refs["tree-branches"]&&this.setHeights()})},beforeUnmount(){apos.bus.$off("apos-tree-child:added",this.onChildAdd),apos.bus.$off("apos-tree-child:removed",this.onChildRemove)},methods:{pointerEvent(e){e.stopPropagation()},setHeights(){this.treeBranches.forEach(e=>{const t=e.$el.clientHeight+20;e.$el.setAttribute("data-apos-branch-height",`${t}px`),e.$el.style.maxHeight=`${t}px`})},add(e){apos.bus.$emit("apos-tree-child:added",e.to.dataset.listRow)},remove(e){apos.bus.$emit("apos-tree-child:removed",e.from.dataset.listRow)},onChildAdd(e){this.rows.some(t=>t._id===e)&&(this.countModifier[e]=(this.countModifier[e]||0)+1)},onChildRemove(e){this.rows.some(t=>t._id===e)&&(this.countModifier[e]=(this.countModifier[e]||0)-1)},startDrag(){},endDrag(e){this.$emit("update",e),this.$nextTick(()=>{this.treeBranches.length&&this.setHeights()})},toggleSection(e,t){const i=t&&t.row||e.target.closest("[data-apos-tree-row]"),n=i.querySelector("[data-apos-branch-height]"),s=t&&t.toggle||e.target.closest("[data-apos-tree-toggle]"),o=i.dataset.rowId;s.getAttribute("aria-expanded")!=="true"?(n.style.maxHeight=n.getAttribute("data-apos-branch-height"),s.setAttribute("aria-expanded",!0),n.classList.remove("apos-is-collapsed"),this.$emit("toggle",{_id:o,expanded:!0})):n&&(n.style.maxHeight=0,s.setAttribute("aria-expanded",!1),n.classList.add("apos-is-collapsed"),this.$emit("toggle",{_id:o,expanded:!1}))},isExpanded(e){return this.expandedIndex[e]??!this.options.startCollapsed},keydownRow(e){e.key===" "&&(e.preventDefault(),this.selectRow(e))},selectRow(e){if(e.target.closest("[data-apos-tree-toggle]"))return;const i=e.target.closest("[data-apos-tree-row]");this.$emit("change",[i.dataset.rowId]);const n=i.querySelector("[data-apos-tree-toggle]");n&&n.getAttribute("aria-expanded")!=="true"&&this.toggleSection(null,{row:i,toggle:n})},getRowClasses(e){return["apos-tree__row",{"apos-is-parked":!!e.parked,"apos-tree__row--parent":e._children&&e._children.length>0,"apos-tree__row--selectable":this.options.selectable,"apos-tree__row--selected":this.options.selectable&&this.checked[0]===e._id}]},getEffectiveType(e,t){return e.component?e.component:t.type==="@apostrophecms/archive-page"?"span":e.type==="link"?"a":e.type==="button"?"button":"span"},getEffectiveIcon(e,t){const i=(!!t[e.property]).toString();return t.type==="@apostrophecms/archive-page"||!e.cellValue?!1:e.cellValue&&e.cellValue.icon?this.icons[e.cellValue.icon]:e.cellValue[i]&&e.cellValue[i].icon?this.icons[e.cellValue[i].icon]:!1},getEffectiveIconSize(e,t){const i=(!!t[e.property]).toString();return e.cellValue&&e.cellValue.iconSize?e.cellValue.iconSize:e.cellValue[i]&&e.cellValue[i].iconSize?e.cellValue[i].iconSize:15},getEffectiveCellLabel(e,t){const i=["@apostrophecms/archive-page"],n=(!!t[e.property]).toString();if(this.isObject(e.cellValue)){if(i.includes(t.type))return!1;if(e.cellValue[n]){if(typeof e.cellValue[n]=="string")return e.cellValue[n];if(e.cellValue[n].label)return e.cellValue[n].label}}const s=t._publishedDoc,o=s&&s[e.cellValue]!==void 0&&s[e.cellValue]||t[e.cellValue];return o||!1},getCellClasses(e,t){const i=["apos-tree__cell"],n=(!!t[e.property]).toString();return i.push(`apos-tree__cell--${e.property}`),e.cellValue&&e.cellValue.icon&&i.push("apos-tree__cell--icon"),this.isObject(e.cellValue)&&e.cellValue[n]&&e.cellValue[n].class&&i.push(e.cellValue[n].class),i},getCellDisabled(e,t){return this.getEffectiveType(e,t)==="span"?!1:e.type==="link"&&!t[e.property]?!0:!!(t.archived&&e.type==="button")},getCellStyles(e,t){const i={};return this.nested&&t===0&&this.colWidths&&this.colWidths[e]?i.width=`${this.colWidths[e]-24*this.level}px`:this.colWidths&&this.colWidths[e]&&(i.width=`${this.colWidths[e]}px`),i},isObject(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")}}},h4e=["data-row-id","aria-role","tabindex"],f4e={class:"apos-tree__row-data"},p4e=["aria-label","aria-expanded"],m4e={class:"apos-tree__cell__value"},g4e={key:1,class:"apos-tree__cell__label"};function b4e(e,t,i,n,s,o){const r=O("AposIndicator"),a=O("AposCheckbox"),l=O("AposTreeRows",!0),c=O("draggable");return p(),R(c,{"item-key":"_id",class:"apos-tree__list",tag:"ol",list:o.computedRows,options:o.dragOptions,onStart:o.startDrag,onEnd:o.endDrag,onAdd:o.add,onRemove:o.remove},{item:Q(({element:u})=>[k("li",J({"data-row-id":u._id,"data-apos-tree-row":"",class:o.getRowClasses(u),"aria-role":i.options.selectable?"button":null,tabindex:i.options.selectable?0:null},Xc(i.options.selectable?{click:o.selectRow,keydown:o.keydownRow}:{},!0)),[k("div",f4e,[u.__count>0?(p(),y("button",{key:0,class:"apos-tree__row__toggle","data-apos-tree-toggle":"","aria-label":e.$t("apostrophe:toggleSection"),"aria-expanded":u.__expanded,onClick:t[0]||(t[0]=h=>o.toggleSection(h))},[D(r,{icon:"chevron-down-icon",class:"apos-tree__row__toggle-icon"})],8,p4e)):S("v-if",!0),(p(!0),y(Ce,null,Ie(i.headers,(h,m)=>(p(),R(tt(o.getEffectiveType(h,u)),{key:`${u.__key}-${h.property}-${m}`,draft:u,published:u._publishedDoc,header:h,href:o.getEffectiveType(h,u)==="a"?u[h.property]:!1,target:h.type==="link"?"_blank":!1,class:ne(o.getCellClasses(h,u)),disabled:o.getCellDisabled(h,u),"data-col":h.property,style:Wt(o.getCellStyles(h.property,m)),options:i.moduleOptions,onClick:g=>o.getEffectiveType(h,u)==="button"&&h.action?e.$emit(h.action,u._id):null},{default:Q(()=>[i.options.draggable&&m===0&&!u.parked?(p(),R(r,{key:0,icon:"drag-icon",class:"apos-tree__row__icon apos-tree__row__icon--handle"})):S("v-if",!0),m===0&&u.parked&&u.type!=="@apostrophecms/archive-page"?(p(),R(r,{key:1,icon:"lock-icon",class:"apos-tree__row__icon apos-tree__row__icon--parked",tooltip:"apostrophe:pageIsParked"})):S("v-if",!0),m===0&&u.type==="@apostrophecms/archive-page"?(p(),R(r,{key:2,icon:"lock-icon",class:"apos-tree__row__icon apos-tree__row__icon--parked",tooltip:"apostrophe:cannotMoveArchive"})):S("v-if",!0),i.options.bulkSelect&&m===0?(p(),R(a,{key:3,modelValue:o.checkedProxy,"onUpdate:modelValue":t[1]||(t[1]=g=>o.checkedProxy=g),class:"apos-tree__row__checkbox",field:{name:u._id,hideLabel:!0,label:e.$t({key:"apostrophe:toggleSelectionOf",title:u.title}),readOnly:o.maxReached&&!i.checked.includes(u._id)},choice:{value:u._id},onPointerdown:o.pointerEvent},null,8,["modelValue","field","choice","onPointerdown"])):S("v-if",!0),k("span",m4e,[o.getEffectiveIcon(h,u)?(p(),R(r,{key:0,icon:o.getEffectiveIcon(h,u),class:"apos-tree__cell__icon","icon-size":o.getEffectiveIconSize(h,u)},null,8,["icon","icon-size"])):S("v-if",!0),o.getEffectiveCellLabel(h,u)?(p(),y("span",g4e,E(o.getEffectiveCellLabel(h,u)),1)):S("v-if",!0)])]),_:2},1032,["draft","published","header","href","target","class","disabled","data-col","style","options","onClick"]))),128))]),D(l,{ref:h=>s.treeBranches.push(h),checked:o.checkedProxy,"onUpdate:checked":t[2]||(t[2]=h=>o.checkedProxy=h),"data-apos-branch-height":"","data-list-row":u._id,rows:u._children,headers:i.headers,icons:i.icons,"col-widths":i.colWidths,level:i.level+1,nested:i.nested,"list-id":u._id,"tree-id":i.treeId,options:i.options,class:ne({"apos-is-collapsed":!u.__expanded}),style:Wt({"max-height":u.__expanded?null:"0"}),"module-options":i.moduleOptions,"expanded-index":i.expandedIndex,onUpdate:t[3]||(t[3]=h=>e.$emit("update",h)),onToggle:t[4]||(t[4]=h=>e.$emit("toggle",h))},null,8,["checked","data-list-row","rows","headers","icons","col-widths","level","nested","list-id","tree-id","options","class","style","module-options","expanded-index"])],16,h4e)]),_:1},8,["list","options","onStart","onEnd","onAdd","onRemove"])}const y4e=I(u4e,[["render",b4e],["__scopeId","data-v-94b400dd"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/ui/apos/components/AposTreeRows.vue"]]),v4e={name:"AposSettingsManager",props:{restore:{type:String,default:null}},data(){return{modal:{busy:!1,active:!1,showModal:!1,type:"overlay"},values:{data:{}},docReady:!1,errors:null,busy:!1,expanded:null,subformUpdateTimeouts:{},activeGroup:null,restoreRefTimeout:null}},computed:{moduleOptions(){return apos.settings},action(){return this.moduleOptions.action},subforms(){return this.moduleOptions.subforms},groups(){const e={};return this.subforms.forEach(t=>{t.group&&!e[t.group.name]?e[t.group.name]={name:t.group.name,label:t.group.label,index:[t.name],subforms:[t]}:t.group&&(e[t.group.name].index.push(t.name),e[t.group.name].subforms.push(t))}),e}},async mounted(){var e;if(this.activeGroup||(this.activeGroup=Object.keys(this.groups)[0]),this.modal.active=!0,await this.loadData(),this.restore){const t=this.subforms.find(i=>i.name===this.restore);this.activeGroup=(e=t==null?void 0:t.group)==null?void 0:e.name,this.activeGroup&&(this.restoreRefTimeout=setTimeout(()=>{var i,n;(n=(i=this.$refs[t.name])==null?void 0:i[0])==null||n.scrollIntoView()},1e3),this.setUpdatedTimeout(this.restore,5e3))}},beforeUnmount(){clearTimeout(this.restoreRefTimeout),Object.values(this.subformUpdateTimeouts).forEach(clearTimeout)},methods:{close(){this.modal.showModal=!1},updateExpanded(e){this.expanded=e.value?e.name:null,this.expanded&&(clearTimeout(this.subformUpdateTimeouts[e.name]),delete this.setSubformValues[e.name])},async submit(e){this.errors=null,this.busy=!0;try{const t=await apos.http.patch(`${this.action}/${e.name}`,{busy:!1,body:e.values});this.values.data[e.name]=t,this.setUpdatedTimeout(e.name),this.updateExpanded({name:e.name,value:!1});const i=this.subforms.find(n=>n.name===e.name);i!=null&&i.reload&&window.location.reload()}catch(t){await this.handleSaveError(t,{fallback:this.$t("apostrophe:error")})}finally{this.busy=!1}},setUpdatedTimeout(e,t=3e3){const i=setTimeout(()=>{delete this.subformUpdateTimeouts[e]},t);this.subformUpdateTimeouts[e]=i},async loadData(){const e=await apos.http.get(this.action,{busy:!0});this.setSubformValues(e),this.docReady=!0},setSubformValues(e){const t={};for(const i of this.subforms){t[i.name]={};for(const n of i.schema)t[i.name][n.name]=e[n.name]}this.values.data=t},async handleSaveError(e,{fallback:t}){if(console.error(e),e.body&&e.body.data&&e.body.data.errors){const i={};e.body.data.errors.forEach(n=>{i[n.path]=n}),this.errors=i}else await apos.notify(e.body&&e.body.message||t,{type:"danger",icon:"alert-circle-icon",dismiss:!0})}}},_4e={name:"AposSettingsManager",mixins:[v4e],emits:["modal-result"]},w4e={class:"apos-settings__group-items"},C4e=["data-apos-test-name","data-apos-test-label","onClick"],k4e=["data-apos-test-name","data-apos-test-label","data-apos-test-active"],A4e={class:"apos-settings__heading"};function S4e(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposModalBody"),l=O("AposSubform"),c=O("AposModal");return p(),R(c,{class:"apos-settings",modal:e.modal,"modal-title":e.$t("apostrophe:settings"),onEsc:e.close,onInactive:t[0]||(t[0]=u=>e.modal.active=!1),onShowModal:t[1]||(t[1]=u=>e.modal.showModal=!0)},{secondaryControls:Q(()=>[D(r,{type:"default",label:"apostrophe:close",disabled:e.busy,onClick:e.close},null,8,["disabled","onClick"])]),leftRail:Q(()=>[D(a,{class:"apos-settings__group"},{bodyMain:Q(()=>[k("ul",w4e,[(p(!0),y(Ce,null,Ie(e.groups,(u,h)=>(p(),y("li",{key:h,class:ne(["apos-settings__group-item",{"apos-is-active":h===e.activeGroup}])},[k("button",{"data-apos-test":"groupTrigger","data-apos-test-name":h,"data-apos-test-label":e.$t(u.label),onClick:m=>e.activeGroup=h},E(e.$t(u.label)),9,C4e)],2))),128))])]),_:1})]),main:Q(()=>[e.docReady?(p(),R(a,{key:0,class:"apos-settings__content"},{bodyMain:Q(()=>[(p(!0),y(Ce,null,Ie(e.groups,(u,h)=>Ge((p(),y("div",{key:h,class:"apos-settings__subform-group","data-apos-test":"subformGroup","data-apos-test-name":h,"data-apos-test-label":e.$t(u.label),"data-apos-test-active":h===e.activeGroup},[k("h2",A4e,E(e.$t(u.label)),1),(p(!0),y(Ce,null,Ie(u.subforms,m=>(p(),R(l,{key:m.name,ref_for:!0,ref:m.name,busy:e.busy,separator:u.subforms.length>1,errors:e.errors,subform:m,values:e.values.data[m.name],expanded:e.expanded===m.name,"update-indicator":!!e.subformUpdateTimeouts[m.name],"data-apos-test":"subform","data-apos-test-name":m.name,"data-apos-test-label":e.$t(m.label),"data-apos-test-expanded":e.expanded?"true":"false",onUpdateExpanded:e.updateExpanded,onSubmit:e.submit},null,8,["busy","separator","errors","subform","values","expanded","update-indicator","data-apos-test-name","data-apos-test-label","data-apos-test-expanded","onUpdateExpanded","onSubmit"]))),128))],8,k4e)),[[ti,h===e.activeGroup]])),128))]),_:1})):S("v-if",!0)]),_:1},8,["modal","modal-title","onEsc"])}const x4e=I(_4e,[["render",S4e],["__scopeId","data-v-04a27427"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/settings/apos/components/AposSettingsManager.vue"]]);var Pb,pS;function o5(){if(pS)return Pb;pS=1;function e(t){var i=typeof t;return t!=null&&(i=="object"||i=="function")}return Pb=e,Pb}var Db,mS;function M4e(){if(mS)return Db;mS=1;var e=typeof wo=="object"&&wo&&wo.Object===Object&&wo;return Db=e,Db}var Rb,gS;function r5(){if(gS)return Rb;gS=1;var e=M4e(),t=typeof self=="object"&&self&&self.Object===Object&&self,i=e||t||Function("return this")();return Rb=i,Rb}var Hb,bS;function T4e(){if(bS)return Hb;bS=1;var e=r5(),t=function(){return e.Date.now()};return Hb=t,Hb}var Vb,yS;function O4e(){if(yS)return Vb;yS=1;var e=/\s/;function t(i){for(var n=i.length;n--&&e.test(i.charAt(n)););return n}return Vb=t,Vb}var zb,vS;function E4e(){if(vS)return zb;vS=1;var e=O4e(),t=/^\s+/;function i(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return zb=i,zb}var Nb,_S;function a5(){if(_S)return Nb;_S=1;var e=r5(),t=e.Symbol;return Nb=t,Nb}var Bb,wS;function I4e(){if(wS)return Bb;wS=1;var e=a5(),t=Object.prototype,i=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function o(r){var a=i.call(r,s),l=r[s];try{r[s]=void 0;var c=!0}catch{}var u=n.call(r);return c&&(a?r[s]=l:delete r[s]),u}return Bb=o,Bb}var Fb,CS;function $4e(){if(CS)return Fb;CS=1;var e=Object.prototype,t=e.toString;function i(n){return t.call(n)}return Fb=i,Fb}var jb,kS;function L4e(){if(kS)return jb;kS=1;var e=a5(),t=I4e(),i=$4e(),n="[object Null]",s="[object Undefined]",o=e?e.toStringTag:void 0;function r(a){return a==null?a===void 0?s:n:o&&o in Object(a)?t(a):i(a)}return jb=r,jb}var Ub,AS;function P4e(){if(AS)return Ub;AS=1;function e(t){return t!=null&&typeof t=="object"}return Ub=e,Ub}var Wb,SS;function D4e(){if(SS)return Wb;SS=1;var e=L4e(),t=P4e(),i="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==i}return Wb=n,Wb}var qb,xS;function R4e(){if(xS)return qb;xS=1;var e=E4e(),t=o5(),i=D4e(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,r=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(i(c))return n;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var h=o.test(c);return h||r.test(c)?a(c.slice(2),h?2:8):s.test(c)?n:+c}return qb=l,qb}var Kb,MS;function H4e(){if(MS)return Kb;MS=1;var e=o5(),t=T4e(),i=R4e(),n="Expected a function",s=Math.max,o=Math.min;function r(a,l,c){var u,h,m,g,v,_,w=0,A=!1,L=!1,N=!0;if(typeof a!="function")throw new TypeError(n);l=i(l)||0,e(c)&&(A=!!c.leading,L="maxWait"in c,m=L?s(i(c.maxWait)||0,l):m,N="trailing"in c?!!c.trailing:N);function M(le){var ie=u,re=h;return u=h=void 0,w=le,g=a.apply(re,ie),g}function P(le){return w=le,v=setTimeout(se,l),A?M(le):g}function F(le){var ie=le-_,re=le-w,te=l-ie;return L?o(te,m-re):te}function K(le){var ie=le-_,re=le-w;return _===void 0||ie>=l||ie<0||L&&re>=m}function se(){var le=t();if(K(le))return j(le);v=setTimeout(se,F(le))}function j(le){return v=void 0,N&&u?M(le):(u=h=void 0,g)}function V(){v!==void 0&&clearTimeout(v),w=0,u=_=h=v=void 0}function z(){return v===void 0?g:j(t())}function Z(){var le=t(),ie=K(le);if(u=arguments,h=this,_=le,ie){if(v===void 0)return P(_);if(L)return clearTimeout(v),v=setTimeout(se,l),M(_)}return v===void 0&&(v=setTimeout(se,l)),g}return Z.cancel=V,Z.flush=z,Z}return Kb=r,Kb}var V4e=H4e();const Lf=Jc(V4e);function TS(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function Ht(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(i),!0).forEach(function(n){Ts(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):TS(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Ts(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function z4e(e,t){if(e==null)return{};var i,n,s=function(r,a){if(r==null)return{};var l,c,u={},h=Object.keys(r);for(c=0;c<h.length;c++)l=h[c],a.indexOf(l)>=0||(u[l]=r[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function Il(e){return function(t){if(Array.isArray(t))return Gb(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,i){if(t){if(typeof t=="string")return Gb(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gb(t,i)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var OS,N4e,Pf,Li=(OS=function(e){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var t={}.hasOwnProperty;function i(){for(var n=[],s=0;s<arguments.length;s++){var o=arguments[s];if(o){var r=typeof o;if(r==="string"||r==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var a=i.apply(null,o);a&&n.push(a)}}else if(r==="object")if(o.toString===Object.prototype.toString)for(var l in o)t.call(o,l)&&o[l]&&n.push(l);else n.push(o.toString())}}return n.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i})()},OS(Pf={path:N4e,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(t==null&&Pf.path)}},Pf.exports),Pf.exports),so=function(e){return function(t,i){if(!t)return e;var n;typeof t=="string"?n=t:i=t;var s=e;return n&&(s+="__"+n),s+(i?Object.keys(i).reduce(function(o,r){var a=i[r];return a&&(o+=" "+(typeof a=="boolean"?s+"--"+r:s+"--"+r+"_"+a)),o},""):"")}};function _v(e,t,i){var n,s,o,r,a;function l(){var u=Date.now()-r;u<t&&u>=0?n=setTimeout(l,t-u):(n=null,i||(a=e.apply(o,s),o=s=null))}t==null&&(t=100);var c=function(){o=this,s=arguments,r=Date.now();var u=i&&!n;return n||(n=setTimeout(l,t)),u&&(a=e.apply(o,s),o=s=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=e.apply(o,s),o=s=null,clearTimeout(n),n=null)},c}_v.debounce=_v;var wv=_v,qe=function(){return qe=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},qe.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function l5(e,t){var i,n;return e&&t?(i=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(i=e||t,n=e||t),{name:i,classname:n}}function c5(e){return/^blob:/.test(e)}function ES(e){return c5(e)||function(t){return/^data:/.test(t)}(e)}function cc(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ri(e){return e===void 0}function up(e){return typeof e=="object"&&e!==null}function Cv(e,t,i){var n={};return up(e)?(Object.keys(t).forEach(function(s){Ri(e[s])?n[s]=t[s]:up(t[s])?up(e[s])?n[s]=Cv(e[s],t[s],i[s]):n[s]=e[s]?t[s]:i[s]:t[s]===!0||t[s]===!1?n[s]=!!e[s]:n[s]=e[s]}),n):e?t:i}function Df(e){var t=Number(e);return Number.isNaN(t)?e:t}function IS(e){return typeof(e=="number"||function(t){return typeof t=="object"&&t!==null}(e)&&toString.call(e)=="[object Number]")&&!d5(e)}function d5(e){return e!=e}function u5(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var du=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},B4e=function(e,t){t===void 0&&(t={}),this.type="resize",this.directions=e,this.params=t},t_=function(e){this.type="move",this.directions=e},F4e=function(){function e(t,i,n,s,o){this.type="drag",this.nativeEvent=t,this.position=n,this.previousPosition=s,this.element=i,this.anchor=o}return e.prototype.shift=function(){var t=this,i=t.element,n=t.anchor,s=t.position;if(i){var o=i.getBoundingClientRect(),r=o.left,a=o.top;return{left:s.left-r-n.left,top:s.top-a-n.top}}return{left:0,top:0}},e}(),i_={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&e.touches.length===1&&(this.touches=Il(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,i){return{clientX:t.clientX+i.clientX/e.touches.length,clientY:t.clientY+i.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),i=t.left,n=t.right,s=t.bottom,o=t.top;this.anchor={left:e.clientX-i,top:e.clientY-o,bottom:s-e.clientY,right:n-e.clientX}},processMove:function(e,t){var i=Il(t);if(this.touches.length){if(this.touches.length===1&&i.length===1){var n=this.$refs.draggable;this.$emit("drag",new F4e(e,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};i_.render=function(e,t,i,n,s,o){return p(),R("div",{ref:"draggable",class:i.classname,onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onMouseover:t[3]||(t[3]=function(){return o.onMouseOver&&o.onMouseOver.apply(o,arguments)}),onMouseleave:t[4]||(t[4]=function(){return o.onMouseLeave&&o.onMouseLeave.apply(o,arguments)})},[yt(e.$slots,"default")],34)};var Jb=so("vue-handler-wrapper"),h5={name:"HandlerWrapper",components:{DraggableElement:i_},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,i=l5(this.horizontalPosition,this.verticalPosition);e=Jb((Ts(t={},i.classname,!0),Ts(t,"disabled",this.disabled),t))}else e=Jb({disabled:this.disabled});return{root:e,draggable:Jb("draggable")}}},emits:["leave","enter","drag","drag-end"]};h5.render=function(e,t,i,n,s,o){var r=O("DraggableElement");return p(),R("div",{class:o.classes.root},[D(r,{class:o.classes.draggable,onDrag:t[1]||(t[1]=function(a){return e.$emit("drag",a)}),onDragEnd:t[2]||(t[2]=function(a){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(a){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(a){return e.$emit("enter")})},{default:Q(function(){return[yt(e.$slots,"default")]}),_:3},8,["class"])],2)};var j4e=so("vue-line-wrapper"),f5={name:"LineWrapper",components:{DraggableElement:i_},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return j4e((Ts(e={},this.position,!0),Ts(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"]};f5.render=function(e,t,i,n,s,o){var r=O("DraggableElement");return p(),R(r,{class:o.classname,onDrag:t[1]||(t[1]=function(a){return e.$emit("drag",a)}),onDragEnd:t[2]||(t[2]=function(a){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(a){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(a){return e.$emit("enter")})},{default:Q(function(){return[yt(e.$slots,"default")]}),_:3},8,["class"])};var _o=["left","right","top","bottom"],U4e=["left","right"],W4e=["top","bottom"],q4e=["left","top"],K4e=["fill-area","fit-area","stencil","none"],$S={left:0,top:0,width:0,height:0};function LS(e,t,i){return!(i=i||["width","height","left","top"]).some(function(n){return e[n]!==t[n]})}function Ho(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function Uc(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Xi(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function Wu(e,t){var i={left:0,top:0,right:0,bottom:0};return _o.forEach(function(n){var s=t[n],o=Ho(e)[n];i[n]=s!==void 0&&o!==void 0?n==="left"||n==="top"?Math.max(0,s-o):Math.max(0,o-s):0}),i}function bo(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function hg(e){return{left:-e.left,top:-e.top}}function Nn(e,t){return qe(qe({},e),{left:e.left+t.left,top:e.top+t.top})}function Ls(e,t,i,n){if(t!==1){if(i){var s=Xi(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(i.left-s.left)*(1-t),top:e.top+e.height*(1-t)/2+(i.top-s.top)*(1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function Vt(e){return e.width/e.height}function Wc(e,t){return Math.min(t.right!==void 0&&t.left!==void 0?(t.right-t.left)/e.width:1/0,t.bottom!==void 0&&t.top!==void 0?(t.bottom-t.top)/e.height:1/0)}function qc(e,t){var i={left:0,top:0},n=Wu(e,t);return n.left&&n.left>0?i.left=n.left:n.right&&n.right>0&&(i.left=-n.right),n.top&&n.top>0?i.top=n.top:n.bottom&&n.bottom>0&&(i.top=-n.bottom),i}function Yb(e,t){var i;return t.minimum&&e<t.minimum?i=t.minimum:t.maximum&&e>t.maximum&&(i=t.maximum),i}function p5(e,t){var i=Vt(e),n=Vt(t);return t.width<1/0&&t.height<1/0?i>n?{width:t.width,height:t.width/i}:{width:t.height*i,height:t.height}:t.width<1/0?{width:t.width,height:t.width/i}:t.height<1/0?{width:t.height*i,height:t.height}:e}function m5(e,t){var i=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(i))+Math.abs(e.height*Math.sin(i)),height:Math.abs(e.width*Math.sin(i))+Math.abs(e.height*Math.cos(i))}}function na(e,t){var i=t*Math.PI/180;return{left:e.left*Math.cos(i)-e.top*Math.sin(i),top:e.left*Math.sin(i)+e.top*Math.cos(i)}}function fg(e,t){var i=Wu(Qi(e,t),t);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((e.width+i.left+i.right)/e.width,Wc(e,t)):Math.min((e.height+i.top+i.bottom)/e.height,Wc(e,t)):1}function Qi(e,t,i){i===void 0&&(i=!1);var n=qc(e,t);return Nn(e,i?hg(n):n)}function kv(e){return{width:e.right!==void 0&&e.left!==void 0?e.right-e.left:1/0,height:e.bottom!==void 0&&e.top!==void 0?e.bottom-e.top:1/0}}function G4e(e,t){return qe(qe({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function g5(e,t,i){i===void 0&&(i=!0);var n={};return _o.forEach(function(s){var o=e[s],r=t[s];o!==void 0&&r!==void 0?n[s]=s==="left"||s==="top"?i?Math.max(o,r):Math.min(o,r):i?Math.min(o,r):Math.max(o,r):r!==void 0?n[s]=r:o!==void 0&&(n[s]=o)}),n}function pg(e,t){return g5(e,t,!0)}function PS(e){var t=e.size,i=e.aspectRatio,n=e.ignoreMinimum,s=e.sizeRestrictions;return!!((t.correctRatio||Vt(t)>=i.minimum&&Vt(t)<=i.maximum)&&t.height<=s.maxHeight&&t.width<=s.maxWidth&&t.width&&t.height&&(n||t.height>=s.minHeight&&t.width>=s.minWidth))}function DS(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function pr(e){var t=e.width,i=e.height,n=e.sizeRestrictions,s={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},o={width:Math.max(n.minWidth,Math.min(n.maxWidth,t)),height:Math.max(n.minHeight,Math.min(n.maxHeight,i))};function r(c,u){return u===void 0&&(u=!1),c.reduce(function(h,m){return PS({size:m,aspectRatio:s,sizeRestrictions:n,ignoreMinimum:u})&&(!h||DS(m,{width:t,height:i})<DS(h,{width:t,height:i}))?m:h},null)}var a=[];s&&[s.minimum,s.maximum].forEach(function(c){c&&a.push({width:o.width,height:o.width/c,correctRatio:!0},{width:o.height*c,height:o.height,correctRatio:!0})}),PS({size:o,aspectRatio:s,sizeRestrictions:n})&&a.push(o);var l=r(a)||r(a,!0);return l&&{width:l.width,height:l.height}}function Av(e){var t=e.event,i=e.coordinates,n=e.positionRestrictions,s=n===void 0?{}:n,o=Nn(i,t.directions);return Nn(o,qc(o,s))}function J4e(e){var t=e.coordinates,i=e.transform,n=e.imageSize,s=e.sizeRestrictions,o=e.positionRestrictions,r=e.aspectRatio,a=e.visibleArea,l=function(u,h){return Av({coordinates:u,positionRestrictions:o,event:new t_({left:h.left-u.left,top:h.top-u.top})})},c=qe({},t);return(Array.isArray(i)?i:[i]).forEach(function(u){var h={};Ri((h=typeof u=="function"?u({coordinates:c,imageSize:n,visibleArea:a}):u).width)&&Ri(h.height)||(c=function(m,g){var v=qe(qe(qe({},m),pr({width:g.width,height:g.height,sizeRestrictions:s,aspectRatio:r})),{left:0,top:0});return l(v,{left:m.left,top:m.top})}(c,qe(qe({},c),h))),Ri(h.left)&&Ri(h.top)||(c=l(c,qe(qe({},c),h)))}),c}function Y4e(e){e.event;var t=e.getAreaRestrictions,i=e.boundaries,n=e.coordinates,s=e.visibleArea;e.aspectRatio;var o=e.stencilSize,r=e.sizeRestrictions,a=e.positionRestrictions;e.stencilReference;var l,c,u,h=qe({},n),m=qe({},s),g=qe({},o);l=Vt(g),c=Vt(h),u===void 0&&(u=.001),(l===0||c===0?Math.abs(c-l)<u:Math.abs(c/l)<1+u&&Math.abs(c/l)>1-u)||(h=qe(qe({},h),pr({sizeRestrictions:r,width:h.width,height:h.height,aspectRatio:{minimum:Vt(g),maximum:Vt(g)}})));var v=fg(m=Ls(m,h.width*i.width/(m.width*g.width)),t({visibleArea:m,type:"resize"}));return v!==1&&(m=Ls(m,v),h=Ls(h,v)),m=Qi(m=Nn(m,Uc(Xi(h),Xi(m))),t({visibleArea:m,type:"move"})),{coordinates:h=Qi(h,pg(Ho(m),a)),visibleArea:m}}function Z4e(e){var t=e.event,i=e.getAreaRestrictions,n=e.boundaries,s=e.coordinates,o=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var r=e.positionRestrictions;e.stencilReference;var a=qe({},s),l=qe({},o);if(s&&o&&t.type!=="manipulateImage"){var c={width:0,height:0};l.width,n.width,Vt(n)>Vt(a)?(c.height=.8*n.height,c.width=c.height*Vt(a)):(c.width=.8*n.width,c.height=c.width*Vt(a));var u=fg(l=Ls(l,a.width*n.width/(l.width*c.width)),i({visibleArea:l,type:"resize"}));l=Ls(l,u),u!==1&&(c.height/=u,c.width/=u),l=Qi(l=Nn(l,Uc(Xi(a),Xi(l))),i({visibleArea:l,type:"move"})),a=Qi(a,pg(Ho(l),r))}return{coordinates:a,visibleArea:l}}function X4e(e){var t=e.event,i=e.coordinates,n=e.visibleArea,s=e.getAreaRestrictions,o=qe({},n),r=qe({},i);if(t.type==="setCoordinates"){var a=Math.max(0,r.width-o.width),l=Math.max(0,r.height-o.height);a>l?o=Ls(o,Math.min(r.width/o.width,Wc(o,s({visibleArea:o,type:"resize"})))):l>a&&(o=Ls(o,Math.min(r.height/o.height,Wc(o,s({visibleArea:o,type:"resize"}))))),o=Qi(o=Nn(o,hg(qc(r,Ho(o)))),s({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:r}}function Q4e(e){var t=e.imageSize,i=e.visibleArea,n=e.coordinates,s=i||t;return{left:(i?i.left:0)+s.width/2-n.width/2,top:(i?i.top:0)+s.height/2-n.height/2}}function exe(e){var t=e.imageSize,i=e.visibleArea,n=e.aspectRatio,s=e.sizeRestrictions,o=i||t,r=Math.min(n.maximum||1/0,Math.max(n.minimum||0,Vt(o))),a=o.width<o.height?{width:.8*o.width,height:.8*o.width/r}:{height:.8*o.height,width:.8*o.height*r};return pr(qe(qe({},a),{aspectRatio:n,sizeRestrictions:s}))}function txe(e){var t,i,n=e.imageSize,s=e.visibleArea,o=e.boundaries,r=e.aspectRatio,a=e.sizeRestrictions,l=e.stencilSize,c=s||n;return Vt(c)>Vt(o)?i=(t=l.height*c.height/o.height)*Vt(l):t=(i=l.width*c.width/o.width)/Vt(l),pr({width:i,height:t,aspectRatio:r,sizeRestrictions:a})}function ixe(e){var t=e.getAreaRestrictions,i=e.coordinates,n=e.imageSize,s=Vt(e.boundaries);if(i){var o={height:Math.max(i.height,n.height),width:Math.max(i.width,n.width)},r=p5({width:Vt(o)>s?o.width:o.height*s,height:Vt(o)>s?o.width/s:o.height},kv(t())),a={left:i.left+i.width/2-r.width/2,top:i.top+i.height/2-r.height/2,width:r.width,height:r.height},l=Wu(i,Ho(qe({left:0,top:0},n))),c={};return!l.left&&!l.right&&a.width<=n.width&&(c.left=0,c.right=n.width),!l.top&&!l.bottom&&a.height<=n.height&&(c.top=0,c.bottom=n.height),Qi(a,c)}var u=Vt(n);return r={height:u>s?n.height:n.width/s,width:u>s?n.height*s:n.width},{left:n.width/2-r.width/2,top:n.height/2-r.height/2,width:r.width,height:r.height}}function Rf(e,t){return g5(e,Ho(t))}function nxe(e){var t=e.event,i=e.coordinates,n=e.visibleArea,s=e.sizeRestrictions,o=e.getAreaRestrictions,r=e.positionRestrictions,a=e.adjustStencil,l=t.scale,c=t.move,u=qe({},n),h=qe({},i),m=1,g=1,v=l.factor&&Math.abs(l.factor-1)>.001;u=Nn(u,{left:c.left||0,top:c.top||0});var _={stencil:{minimum:Math.max(s.minWidth?s.minWidth/h.width:0,s.minHeight?s.minHeight/h.height:0),maximum:Math.min(s.maxWidth?s.maxWidth/h.width:1/0,s.maxHeight?s.maxHeight/h.height:1/0,Wc(h,r))},area:{maximum:Wc(u,o({visibleArea:u,type:"resize"}))}};l.factor&&v&&(l.factor<1?(g=Math.max(l.factor,_.stencil.minimum))>1&&(g=1):l.factor>1&&(g=Math.min(l.factor,Math.min(_.area.maximum,_.stencil.maximum)))<1&&(g=1)),g&&(u=Ls(u,g,l.center));var w=i.left-n.left,A=n.width+n.left-(i.width+i.left),L=i.top-n.top,N=n.height+n.top-(i.height+i.top);return u=Qi(u=Nn(u,qc(u,{left:r.left!==void 0?r.left-w*g:void 0,top:r.top!==void 0?r.top-L*g:void 0,bottom:r.bottom!==void 0?r.bottom+N*g:void 0,right:r.right!==void 0?r.right+A*g:void 0})),o({visibleArea:u,type:"move"})),h.width=h.width*g,h.height=h.height*g,h.left=u.left+w*g,h.top=u.top+L*g,h=Qi(h,pg(Ho(u),r)),l.factor&&v&&a&&(l.factor>1?m=Math.min(_.area.maximum,l.factor)/g:l.factor<1&&(m=Math.max(h.height/u.height,h.width/u.width,l.factor/g)),m!==1&&(u=Nn(u=Qi(u=Ls(u,m,l.factor>1?l.center:Xi(h)),o({visibleArea:u,type:"move"})),hg(qc(h,Ho(u)))))),{coordinates:h,visibleArea:u}}function sxe(e){var t=e.aspectRatio,i=e.getAreaRestrictions,n=e.coordinates,s=e.visibleArea,o=e.sizeRestrictions,r=e.positionRestrictions,a=e.imageSize,l=e.previousImageSize,c=e.angle,u=qe({},n),h=qe({},s),m=na(Xi(qe({left:0,top:0},l)),c);return(u=qe(qe({},pr({sizeRestrictions:o,aspectRatio:t,width:u.width,height:u.height})),na(Xi(u),c))).left-=m.left-a.width/2+u.width/2,u.top-=m.top-a.height/2+u.height/2,h=Ls(h,fg(h,i({visibleArea:h,type:"resize"}))),{coordinates:u=Qi(u,r),visibleArea:h=Qi(h=Nn(h,Uc(Xi(u),Xi(n))),i({visibleArea:h,type:"move"}))}}function oxe(e){var t=e.flip,i=e.previousFlip,n=e.rotate,s=e.getAreaRestrictions,o=e.coordinates,r=e.visibleArea,a=e.imageSize,l=qe({},o),c=qe({},r),u=i.horizontal!==t.horizontal,h=i.vertical!==t.vertical;if(u||h){var m=na({left:a.width/2,top:a.height/2},-n),g=na(Xi(l),-n),v=na({left:u?m.left-(g.left-m.left):g.left,top:h?m.top-(g.top-m.top):g.top},n);l=Nn(l,Uc(v,Xi(l))),g=na(Xi(c),-n),c=Qi(c=Nn(c,Uc(v=na({left:u?m.left-(g.left-m.left):g.left,top:h?m.top-(g.top-m.top):g.top},n),Xi(c))),s({visibleArea:c,type:"move"}))}return{coordinates:l,visibleArea:c}}function RS(e){var t=e.directions,i=e.coordinates,n=e.positionRestrictions,s=n===void 0?{}:n,o=e.sizeRestrictions,r=e.preserveRatio,a=e.compensate,l=qe({},t),c=bo(i,l).width,u=bo(i,l).height;c<0&&(l.left<0&&l.right<0?(l.left=-(i.width-o.minWidth)/(l.left/l.right),l.right=-(i.width-o.minWidth)/(l.right/l.left)):l.left<0?l.left=-(i.width-o.minWidth):l.right<0&&(l.right=-(i.width-o.minWidth))),u<0&&(l.top<0&&l.bottom<0?(l.top=-(i.height-o.minHeight)/(l.top/l.bottom),l.bottom=-(i.height-o.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(i.height-o.minHeight):l.bottom<0&&(l.bottom=-(i.height-o.minHeight)));var h=Wu(bo(i,l),s);a&&(h.left&&h.left>0&&h.right===0?(l.right+=h.left,l.left-=h.left):h.right&&h.right>0&&h.left===0&&(l.left+=h.right,l.right-=h.right),h.top&&h.top>0&&h.bottom===0?(l.bottom+=h.top,l.top-=h.top):h.bottom&&h.bottom>0&&h.top===0&&(l.top+=h.bottom,l.bottom-=h.bottom),h=Wu(bo(i,l),s));var m={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(_o.forEach(function(_){var w=h[_];w&&l[_]&&(m[_]=Math.max(0,1-w/l[_]))}),r){var g=Math.min.apply(null,_o.map(function(_){return m[_]}));g!==1/0&&_o.forEach(function(_){l[_]*=g})}else _o.forEach(function(_){m[_]!==1/0&&(l[_]*=m[_])});if(c=bo(i,l).width,u=bo(i,l).height,l.right+l.left&&(c>o.maxWidth?m.width=(o.maxWidth-i.width)/(l.right+l.left):c<o.minWidth&&(m.width=(o.minWidth-i.width)/(l.right+l.left))),l.bottom+l.top&&(u>o.maxHeight?m.height=(o.maxHeight-i.height)/(l.bottom+l.top):u<o.minHeight&&(m.height=(o.minHeight-i.height)/(l.bottom+l.top))),r){var v=Math.min(m.width,m.height);v!==1/0&&_o.forEach(function(_){l[_]*=v})}else m.width!==1/0&&U4e.forEach(function(_){l[_]*=m.width}),m.height!==1/0&&W4e.forEach(function(_){l[_]*=m.height});return l}function Hf(e,t,i){return t==0&&i==0?e/2:t==0?0:i==0?e:e*Math.abs(t/(t+i))}var rxe=so("vue-simple-handler"),axe=so("vue-simple-handler-wrapper"),n_={name:"SimpleHandler",components:{HandlerWrapper:h5},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(Ts(e={},this.horizontalPosition,!!this.horizontalPosition),Ts(e,this.verticalPosition,!!this.verticalPosition),Ts(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),Ts(e,"hover",this.hover),e);return{default:Li(rxe(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:Li(axe(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};n_.render=function(e,t,i,n,s,o){var r=O("HandlerWrapper");return p(),R(r,{class:o.classes.wrapper,"vertical-position":i.verticalPosition,"horizontal-position":i.horizontalPosition,disabled:i.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:Q(function(){return[D("div",{class:o.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var lxe=so("vue-simple-line"),cxe=so("vue-simple-line-wrapper"),s_={name:"SimpleLine",components:{LineWrapper:f5},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:Li(lxe(Ts({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:Li(cxe(Ts({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};s_.render=function(e,t,i,n,s,o){var r=O("LineWrapper");return p(),R(r,{class:o.classes.wrapper,position:i.position,disabled:i.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:Q(function(){return[D("div",{class:o.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Zb=so("vue-bounding-box"),dxe=["east","west",null],uxe=["south","north",null],b5={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return n_}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return s_}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return dxe.forEach(function(t){uxe.forEach(function(i){if(t!==i){var n=l5(t,i),s=n.name,o=n.classname;e.push({name:s,classname:o,verticalDirection:i,horizontalDirection:t})}})}),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,i=this.linesClasses,n=this.linesWrappersClasses;return{root:Zb(),handlers:e,handlersWrappers:t,lines:i,linesWrappers:n}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(i){i.horizontalDirection&&i.verticalDirection||!e.lines[i.name]||t.push({name:i.name,component:e.linesComponent,class:Li(e.classes.lines.default,e.classes.lines[i.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:Li(e.classes.linesWrappers.default,e.classes.linesWrappers[i.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable})}),t},handlerNodes:function(){var e=this,t=[],i=this.width,n=this.height;return this.points.forEach(function(s){if(e.handlers[s.name]){var o={name:s.name,component:e.handlersComponent,class:Li(e.classes.handlers.default,e.classes.handlers[s.name]),wrapperClass:Li(e.classes.handlersWrappers.default,e.classes.handlersWrappers[s.name]),hoverClass:e.classes.handlers.hover,verticalDirection:s.verticalDirection,horizontalDirection:s.horizontalDirection,disabled:!e.resizable};if(i&&n){var r=s.horizontalDirection,a=s.verticalDirection,l=r==="east"?i:r==="west"?0:i/2,c=a==="south"?n:a==="north"?0:n/2;o.wrapperClass=Zb("handler"),o.wrapperStyle={transform:"translate(".concat(l,"px, ").concat(c,"px)")},e.transitions&&e.transitions.enabled&&(o.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else o.wrapperClass=Zb("handler",Ts({},s.classname,!0));t.push(o)}}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,i){var n,s=e.shift(),o=s.left,r=s.top,a={left:0,right:0,top:0,bottom:0};t==="west"?a.left-=o:t==="east"&&(a.right+=o),i==="north"?a.top-=r:i==="south"&&(a.bottom+=r),!i&&t?n="width":i&&!t&&(n="height"),this.resizable&&this.$emit("resize",new B4e(a,{allowedDirections:{left:t==="west"||!t,right:t==="east"||!t,bottom:i==="south"||!i,top:i==="north"||!i},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:n}))}},emits:["resize","resize-end"]};b5.render=function(e,t,i,n,s,o){return p(),R("div",{ref:"box",class:o.classes.root,style:o.style},[yt(e.$slots,"default"),D("div",null,[(p(!0),R(Ce,null,Ie(o.lineNodes,function(r){return p(),R(tt(r.component),{key:r.name,"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,position:r.name,disabled:r.disabled,onDrag:function(a){return o.onHandlerDrag(a,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[1]||(t[1]=function(a){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(p(!0),R(Ce,null,Ie(o.handlerNodes,function(r){return p(),R("div",{key:r.name,style:r.wrapperStyle,class:r.wrapperClass},[(p(),R(tt(r.component),{"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,"horizontal-position":r.horizontalDirection,"vertical-position":r.verticalDirection,disabled:r.disabled,onDrag:function(a){return o.onHandlerDrag(a,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[2]||(t[2]=function(a){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var hxe=so("vue-draggable-area"),y5={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:hxe()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&e.touches.length===1;t&&(this.touches=Il(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):u5({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&e.button===0){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top;this.anchor={x:e.clientX-i,y:e.clientY-n}},processMove:function(e,t){var i=Il(t);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),s=n.left,o=n.top;this.touches.length===1&&i.length===1&&this.$emit("move",new t_({left:i[0].clientX-(s+this.anchor.x),top:i[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};y5.render=function(e,t,i,n,s,o){return p(),R("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)})},[yt(e.$slots,"default")],544)};function Xb(e){var t,i;return{rotate:e.rotate||0,flip:{horizontal:((t=e==null?void 0:e.flip)===null||t===void 0?void 0:t.horizontal)||!1,vertical:((i=e==null?void 0:e.flip)===null||i===void 0?void 0:i.vertical)||!1}}}function fxe(e){return new Promise(function(t,i){try{if(e)if(/^data:/i.test(e))t(function(l){l=l.replace(/^data:([^;]+);base64,/gim,"");for(var c=atob(l),u=c.length,h=new ArrayBuffer(u),m=new Uint8Array(h),g=0;g<u;g++)m[g]=c.charCodeAt(g);return h}(e));else if(/^blob:/i.test(e)){var n=new FileReader;n.onload=function(l){t(l.target.result)},o=e,r=function(l){n.readAsArrayBuffer(l)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(){this.status!=200&&this.status!==0||r(this.response)},a.send()}else{var s=new XMLHttpRequest;s.onreadystatechange=function(){s.readyState===4&&(s.status===200||s.status===0?t(s.response):i("Warning: could not load an image to parse its orientation"),s=null)},s.onprogress=function(){s.getResponseHeader("content-type")!=="image/jpeg"&&s.abort()},s.withCredentials=!1,s.open("GET",e,!0),s.responseType="arraybuffer",s.send(null)}else i("Error: the image is empty")}catch(l){i(l)}var o,r,a})}function v5(e){var t=e.rotate,i=e.flip,n=e.scaleX,s=e.scaleY,o="";return o+=" rotate("+t+"deg) ",o+=" scaleX("+n*(i.horizontal?-1:1)+") ",o+=" scaleY("+s*(i.vertical?-1:1)+") "}function pxe(e){try{var t,i=new DataView(e),n=void 0,s=void 0,o=void 0,r=void 0;if(i.getUint8(0)===255&&i.getUint8(1)===216)for(var a=i.byteLength,l=2;l+1<a;){if(i.getUint8(l)===255&&i.getUint8(l+1)===225){o=l;break}l++}if(o&&(n=o+10,function(g,v,_){var w,A="";for(w=v,_+=v;w<_;w++)A+=String.fromCharCode(g.getUint8(w));return A}(i,o+4,4)==="Exif")){var c=i.getUint16(n);if(((s=c===18761)||c===19789)&&i.getUint16(n+2,s)===42){var u=i.getUint32(n+4,s);u>=8&&(r=n+u)}}if(r){for(var h=i.getUint16(r,s),m=0;m<h;m++)if(l=r+12*m+2,i.getUint16(l,s)===274){l+=8,t=i.getUint16(l,s),i.setUint16(l,1,s);break}}return t}catch{return null}}function HS(e,t){var i=t.getBoundingClientRect(),n=i.left,s=i.top,o={left:0,top:0},r=0;return e.forEach(function(a){o.left+=(a.clientX-n)/e.length,o.top+=(a.clientY-s)/e.length}),e.forEach(function(a){r+=u5({x:o.left,y:o.top},{x:a.clientX-n,y:a.clientY-s})}),{centerMass:o,spread:r,count:e.length}}var _5={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=wv(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(this.touches.length===1&&t.length===1)this.$emit("move",new du({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=HS(t,this.$refs.container),n=this.oldGeometricProperties;n.count===i.count&&n.count>1&&this.$emit("resize",new du({left:n.centerMass.left-i.centerMass.left,top:n.centerMass.top-i.centerMass.top},{factor:n.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?this.eventsFilter(e,this.transforming)!==!1:(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,i=t.getBoundingClientRect(),n=i.left,s=i.top,o=i.bottom,r=i.right;this.touches=Il(e.touches).filter(function(a){return a.clientX>n&&a.clientX<r&&a.clientY>s&&a.clientY<o}),this.oldGeometricProperties=HS(this.touches,t)}},onTouchEnd:function(e){e.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var i=Il(e.touches).filter(function(n){return!n.identifier||t.touches.find(function(s){return s.identifier===n.identifier})});this.processEvent(e)&&(this.processMove(e,i),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&e.buttons===1&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,s=1+this.wheelResize.ratio*(r=e.deltaY||e.detail||e.wheelDelta,(a=+r)==0||d5(a)?a:a>0?1:-1),o={left:e.clientX-i,top:e.clientY-n};this.$emit("resize",new du({},{factor:s,center:o})),this.touches.length||this.debouncedProcessEnd()}var r,a}},emits:["resize","move","transform-end"]};_5.render=function(e,t,i,n,s,o){return p(),R("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onWheel:t[3]||(t[3]=function(){return o.onWheel&&o.onWheel.apply(o,arguments)})},[yt(e.$slots,"default")],544)};var Sv={components:{TransformableImage:_5},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};Sv.render=function(e,t,i,n,s,o){var r=O("transformable-image");return p(),R(r,{"touch-move":i.touchMove,"touch-resize":i.touchResize,"mouse-move":i.mouseMove,"wheel-resize":i.wheelResize,onMove:t[1]||(t[1]=function(a){return e.$emit("move",a)}),onResize:t[2]||(t[2]=function(a){return e.$emit("resize",a)})},{default:Q(function(){return[yt(e.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var Vf=so("vue-preview"),w5={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Vf({fill:this.fill}),wrapper:Vf("wrapper"),imageWrapper:Vf("image-wrapper"),image:Li(Vf("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=Ht(Ht({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),i=this.imageSize.width,n=this.imageSize.height,s=m5({width:i,height:n},t.rotate),o={width:"".concat(i,"px"),height:"".concat(n,"px"),left:"0px",top:"0px"},r={rotate:{left:(i-s.width)*t.scaleX/2,top:(n-s.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*i/2,top:(1-t.scaleY)*n/2}};return o.transform=`translate(
				`.concat(-this.coordinates.left/e-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/e-r.rotate.top-r.scale.top,"px) ")+v5(t),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){e.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}};w5.render=function(e,t,i,n,s,o){return p(),R("div",{ref:"root",class:o.classes.root,style:o.style},[D("div",{ref:"wrapper",class:o.classes.wrapper,style:o.wrapperStyle},[Ge(D("img",{ref:"image",src:i.image&&i.image.src,class:o.classes.image,style:o.imageStyle},null,14,["src"]),[[ti,i.image&&i.image.src]])],6)],6)};var C5={components:{Preview:w5},inheritAttrs:!1};C5.render=function(e,t,i,n,s,o){var r=O("preview");return p(),R(r,J(e.$attrs,{fill:!0}),null,16)};var Qb=so("vue-rectangle-stencil"),k5={name:"RectangleStencil",components:{StencilPreview:C5,BoundingBox:b5,DraggableArea:y5},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return n_}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return s_}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:Li(Qb({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:Li(Qb("preview"),this.previewClass),boundingBox:Li(Qb("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,s=e.top,o={width:"".concat(i,"px"),height:"".concat(t,"px"),transform:"translate(".concat(n,"px, ").concat(s,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};k5.render=function(e,t,i,n,s,o){var r=O("stencil-preview"),a=O("draggable-area"),l=O("bounding-box");return p(),R("div",{class:o.classes.stencil,style:o.style},[D(l,{width:i.stencilCoordinates.width,height:i.stencilCoordinates.height,transitions:i.transitions,class:o.classes.boundingBox,handlers:i.handlers,"handlers-component":i.handlersComponent,"handlers-classes":i.handlersClasses,"handlers-wrappers-classes":i.handlersWrappersClasses,lines:i.lines,"lines-component":i.linesComponent,"lines-classes":i.linesClasses,"lines-wrappers-classes":i.linesWrappersClasses,resizable:i.resizable,onResize:o.onResize,onResizeEnd:o.onResizeEnd},{default:Q(function(){return[D(a,{movable:i.movable,onMove:o.onMove,onMoveEnd:o.onMoveEnd},{default:Q(function(){return[D(r,{image:i.image,coordinates:i.coordinates,width:i.stencilCoordinates.width,height:i.stencilCoordinates.height,class:o.classes.preview,transitions:i.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var mxe=["transitions"],tr=so("vue-advanced-cropper"),A5={name:"Cropper",components:{BackgroundWrapper:Sv},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return k5}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Sv}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return K4e.indexOf(e)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!(typeof e=="string"&&e!=="fill"&&e!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,i=e.coordinates,n=e.aspectRatio,s=e.positionRestrictions,o=e.sizeRestrictions,r=qe(qe({},i),{right:i.left+i.width,bottom:i.top+i.height}),a=t.params||{},l=qe({},t.directions),c=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(l.left=0,l.right=0),o.heightFrozen&&(l.top=0,l.bottom=0),_o.forEach(function(M){c[M]||(l[M]=0)});var u=bo(r,l=RS({coordinates:r,directions:l,sizeRestrictions:o,positionRestrictions:s})).width,h=bo(r,l).height,m=a.preserveRatio?Vt(r):Yb(u/h,n);if(m){var g=a.respectDirection;if(g||(g=r.width>=r.height||m===1?"width":"height"),g==="width"){var v=u/m-r.height;if(c.top&&c.bottom){var _=l.top,w=l.bottom;l.bottom=Hf(v,w,_),l.top=Hf(v,_,w)}else c.bottom?l.bottom=v:c.top?l.top=v:c.right?l.right=0:c.left&&(l.left=0)}else if(g==="height"){var A=r.width-h*m;if(c.left&&c.right){var L=l.left,N=l.right;l.left=-Hf(A,L,N),l.right=-Hf(A,N,L)}else c.left?l.left=-A:c.right?l.right=-A:c.top?l.top=0:c.bottom&&(l.bottom=0)}l=RS({directions:l,coordinates:r,sizeRestrictions:o,positionRestrictions:s,preserveRatio:!0,compensate:a.compensate})}return u=bo(r,l).width,h=bo(r,l).height,(m=a.preserveRatio?Vt(r):Yb(u/h,n))&&Math.abs(m-u/h)>.001&&_o.forEach(function(M){c[M]||(l[M]=0)}),Av({event:new t_({left:-l.left,top:-l.top}),coordinates:{width:i.width+l.right+l.left,height:i.height+l.top+l.bottom,left:i.left,top:i.top},positionRestrictions:s})}},moveAlgorithm:{type:Function,default:Av},initStretcher:{type:Function,default:function(e){var t=e.stretcher,i=e.imageSize,n=Vt(i);t.style.width=i.width+"px",t.style.height=t.clientWidth/n+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,i=e.coordinates,n=e.aspectRatio,s=e.sizeRestrictions,o=e.positionRestrictions,r=qe(qe({},i),pr({width:i.width,height:i.height,aspectRatio:n,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,s.minHeight),minWidth:Math.min(t.width,s.minWidth)}}));return r=Qi(r=Nn(r,Uc(Xi(i),Xi(r))),pg(Ho(t),o))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.getAreaRestrictions,s=e.coordinates,o=qe({},t);o.height=o.width/Vt(i),o.top+=(t.height-o.height)/2,(s.height-o.height>0||s.width-o.width>0)&&(o=Ls(o,Math.max(s.height/o.height,s.width/o.width)));var r=hg(qc(s,Ho(o=Ls(o,fg(o,n({visibleArea:o,type:"resize"}))))));return o.width<s.width&&(r.left=0),o.height<s.height&&(r.top=0),o=Qi(o=Nn(o,r),n({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.imageSize,s=e.imageRestriction,o=e.type,r={};return s==="fill-area"?r={left:0,top:0,right:n.width,bottom:n.height}:s==="fit-area"&&(Vt(i)>Vt(n)?(r={top:0,bottom:n.height},t&&o==="move"&&(t.width>n.width?(r.left=-(t.width-n.width)/2,r.right=n.width-r.left):(r.left=0,r.right=n.width))):(r={left:0,right:n.width},t&&o==="move"&&(t.height>n.height?(r.top=-(t.height-n.height)/2,r.bottom=n.height-r.top):(r.top=0,r.bottom=n.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i={};return e.imageRestriction!=="none"&&(i={left:0,top:0,right:t.width,bottom:t.height}),i}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:Ht({},$S)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var e=Cv(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:Cv(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:Ri(this.minWidth)?0:Df(this.minWidth),minHeight:Ri(this.minHeight)?0:Df(this.minHeight),maxWidth:Ri(this.maxWidth)?1/0:Df(this.maxWidth),maxHeight:Ri(this.maxHeight)?1/0:Df(this.maxHeight)});if(e=function(n){var s=n.areaRestrictions,o=n.sizeRestrictions,r=n.boundaries,a=n.positionRestrictions,l=qe(qe({},o),{minWidth:o.minWidth!==void 0?o.minWidth:0,minHeight:o.minHeight!==void 0?o.minHeight:0,maxWidth:o.maxWidth!==void 0?o.maxWidth:1/0,maxHeight:o.maxHeight!==void 0?o.maxHeight:1/0});a.left!==void 0&&a.right!==void 0&&(l.maxWidth=Math.min(l.maxWidth,a.right-a.left)),a.bottom!==void 0&&a.top!==void 0&&(l.maxHeight=Math.min(l.maxHeight,a.bottom-a.top));var c=kv(s),u=p5(r,c);return c.width<1/0&&(!l.maxWidth||l.maxWidth>u.width)&&(l.maxWidth=Math.min(l.maxWidth,u.width)),c.height<1/0&&(!l.maxHeight||l.maxHeight>u.height)&&(l.maxHeight=Math.min(l.maxHeight,u.height)),l.minWidth>l.maxWidth&&(l.minWidth=l.maxWidth,l.widthFrozen=!0),l.minHeight>l.maxHeight&&(l.minHeight=l.maxHeight,l.heightFrozen=!0),l}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),i=kv(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,i.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,i.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:tr(),image:Li(tr("image"),this.imageClass),stencil:tr("stencil"),boundaries:Li(tr("boundaries"),this.boundariesClass),stretcher:Li(tr("stretcher")),background:Li(tr("background"),this.backgroundClass),foreground:Li(tr("foreground"),this.foregroundClass),imageWrapper:Li(tr("image-wrapper")),cropperWrapper:Li(tr("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,i=e.height,n=e.left,s=e.top;return{width:t/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(s-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},i={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},n=Ht(Ht({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),s={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-i.left-this.imageTransforms.translateX,"px, ").concat(-t.top-i.top-this.imageTransforms.translateY,"px)")+v5(n)};return this.transitionsOptions.enabled&&(s.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),s}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(i){return e[i]!==t[i]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=wv(this.update,this.debounce),this.debouncedDisableTransitions=wv(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(Ht({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:Ht({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var i=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?Ht({},this.visibleArea):null,imageTransforms:t,get canvas(){return i.canvas?i.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?Ht({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,s=n===void 0||n;this.onManipulateImage(new du({},{factor:1/e,center:t}),{normalize:!1,transitions:s})},move:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,s=n===void 0||n;this.onManipulateImage(new du({left:e||0,top:t||0}),{normalize:!1,transitions:s})},setCoordinates:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.autoZoom,s=n===void 0||n,o=i.transitions,r=o===void 0||o;this.$nextTick(function(){t.imageLoaded?(t.transitionsActive||(r&&t.enableTransitions(),t.coordinates=t.applyTransform(e),s&&t.runAutoZoom("setCoordinates"),r&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e})},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then(function(){e.onChange()}):this.resetVisibleArea().then(function(){e.onChange()})},reset:function(){var e=this;return this.resetVisibleArea().then(function(){e.onChange(!1)})},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){e(),t.awaiting=!1}))},prepareResult:function(e){return this.roundResult?function(t){var i=t.coordinates,n=t.sizeRestrictions,s=t.positionRestrictions,o={width:Math.round(i.width),height:Math.round(i.height),left:Math.round(i.left),top:Math.round(i.top)};return o.width>n.maxWidth?o.width=Math.floor(i.width):o.width<n.minWidth&&(o.width=Math.ceil(i.width)),o.height>n.maxHeight?o.height=Math.floor(i.height):o.height<n.minHeight&&(o.height=Math.ceil(i.height)),Qi(o,s)}(Ht(Ht({},this.getPublicProperties()),{},{positionRestrictions:Rf(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,i,n){var s=this.autoZoomAlgorithm;s||(s=this.stencilSize?Y4e:this.autoZoom?Z4e:X4e);var o=s({event:{type:e,params:n},visibleArea:t,coordinates:i,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return Ht(Ht({},o),{},{changed:!LS(o.visibleArea,t)||!LS(o.coordinates,i)})},runAutoZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transitions,n=i!==void 0&&i,s=z4e(t,mxe),o=this.processAutoZoom(e,this.visibleArea,this.coordinates,s),r=o.visibleArea,a=o.coordinates,l=o.changed;n&&l&&this.enableTransitions(),this.visibleArea=r,this.coordinates=a,n&&l&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(t){var i=t.event,n=t.visibleArea,s=t.coefficient;if(i.type==="manipulateImage")return qe(qe({},i),{move:{left:i.move&&i.move.left?s*i.move.left:0,top:i.move&&i.move.top?s*i.move.top:0},scale:{factor:i.scale&&i.scale.factor?i.scale.factor:1,center:i.scale&&i.scale.center?{left:i.scale.center.left*s+n.left,top:i.scale.center.top*s+n.top}:null}});if(i.type==="resize"){var o=qe(qe({},i),{directions:qe({},i.directions)});return _o.forEach(function(a){o.directions[a]*=s}),o}if(i.type==="move"){var r=qe(qe({},i),{directions:qe({},i.directions)});return q4e.forEach(function(a){r.directions[a]*=s}),r}return i}(Ht(Ht({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,i=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(a,l,c){var u=c.rotate,h=c.flip,m={width:l.naturalWidth,height:l.naturalHeight},g=m5(m,u),v=a.getContext("2d");a.height=g.height,a.width=g.width,v.save();var _=na(Xi(qe({left:0,top:0},m)),u);return v.translate(-(_.left-g.width/2),-(_.top-g.height/2)),v.rotate(u*Math.PI/180),v.translate(h.horizontal?m.width:0,h.vertical?m.height:0),v.scale(h.horizontal?-1:1,h.vertical?-1:1),v.drawImage(l,0,0,m.width,m.height),v.restore(),a}(this.$refs.sourceCanvas,t,this.imageTransforms):t,n=Ht({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),s=function(a){return a.find(function(l){return c=l,!Number.isNaN(parseFloat(c))&&isFinite(c);var c})},o=pr({sizeRestrictions:{minWidth:s([n.width,n.minWidth])||0,minHeight:s([n.height,n.minHeight])||0,maxWidth:s([n.width,n.maxWidth])||1/0,maxHeight:s([n.height,n.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(n.maxArea&&o.width*o.height>n.maxArea){var r=Math.sqrt(n.maxArea/(o.width*o.height));o={width:Math.round(r*o.width),height:Math.round(r*o.height)}}return function(a,l,c,u,h){a.width=u?u.width:c.width,a.height=u?u.height:c.height;var m=a.getContext("2d");m.clearRect(0,0,a.width,a.height),h&&(h.imageSmoothingEnabled&&(m.imageSmoothingEnabled=h.imageSmoothingEnabled),h.imageSmoothingQuality&&(m.imageSmoothingQuality=h.imageSmoothingQuality),h.fillColor&&(m.fillStyle=h.fillColor,m.fillRect(0,0,a.width,a.height),m.save()));var g=c.left<0?-c.left:0,v=c.top<0?-c.top:0;m.drawImage(l,c.left+g,c.top+v,c.width,c.height,g*(a.width/c.width),v*(a.height/c.height),a.width,a.height)}(e,i,this.coordinates,o,n),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.visibleArea&&t?G4e(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,n=this.visibleArea&&t?Rf(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return J4e({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:n,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?txe:exe);var i=this.sizeRestrictions;i.minWidth,i.minHeight,i.maxWidth,i.maxHeight;var n=cc(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,s=this.defaultPosition||Q4e,o=[n,function(r){var a=r.coordinates;return Ht({},cc(s)?s({coordinates:a,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&o.push.apply(o,Il(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(o,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout(function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){var n={cropper:i,imageSize:e.imageSize};if(cc(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(n):e.defaultBoundaries==="fit"?e.boundaries=function(s){var o=s.cropper,r=s.imageSize,a=o.clientHeight,l=o.clientWidth,c=a,u=r.width*a/r.height;return u>l&&(u=l,c=r.height*l/r.width),{width:u,height:c}}(n):e.boundaries=function(s){var o=s.cropper;return{width:o.clientWidth,height:o.clientHeight}}(n),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=Ht(Ht({},this.defaultImageTransforms),{},{flip:Ht({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){e.priority!=="visible-area"&&(e.visibleArea=null,e.resetCoordinates());var t,i,n,s,o,r,a=e.defaultVisibleArea||ixe;e.visibleArea=cc(a)?a({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:e.priority!=="visible-area"?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},i=t.visibleArea,n=t.boundaries,s=t.getAreaRestrictions,o=qe({},i),r=Vt(n),o.width/o.height!==r&&(o.height=o.width/r),Qi(o,s({visibleArea:o,type:"move"}))),e.priority==="visible-area"?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")}).catch(function(){e.visibleArea=null})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")}).catch(function(){e.visibleArea=null})},onChange:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(s){if(ES(s))return!1;var o=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(s)||[],a={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},l=function(c){return c.port||((c.protocol||o.protocol)==="http"?80:433)};return!(!a.protocol&&!a.host&&!a.port||a.protocol&&a.protocol==o.protocol&&a.host&&a.host==o.host&&a.host&&l(a)==l(o))}(this.src)){var i=Ri(this.crossOrigin)?this.canvas:this.crossOrigin;i===!0&&(i="anonymous"),this.imageAttributes.crossOrigin=i||null}if(this.checkOrientation){var n=(e=this.src,new Promise(function(s){fxe(e).then(function(o){var r=pxe(o);s(o?{source:e,arrayBuffer:o,orientation:r}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(o){console.warn(o),s({source:e,arrayBuffer:null,orientation:null})})}));setTimeout(function(){n.then(t.onParseImage)},this.transitionTime)}else setTimeout(function(){t.onParseImage({source:t.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){e.$emit("ready"),e.onChange(!1)}))},onParseImage:function(e){var t=this,i=e.source,n=e.arrayBuffer,s=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,n&&s&&s>1?c5(i)||!ES(i)?(this.imageAttributes.src=URL.createObjectURL(new Blob([n])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(o){for(var r=[],a=new Uint8Array(o);a.length>0;){var l=a.subarray(0,8192);r.push(String.fromCharCode.apply(null,Array.from?Array.from(l):l.slice())),a=a.subarray(8192)}return"data:image/jpeg;base64,"+btoa(r.join(""))}(n):this.imageAttributes.src=i,cc(this.defaultTransforms)?this.appliedImageTransforms=Xb(this.defaultTransforms()):up(this.defaultTransforms)?this.appliedImageTransforms=Xb(this.defaultTransforms):this.appliedImageTransforms=function(o){var r=Xb({});if(o)switch(o){case 2:r.flip.horizontal=!0;break;case 3:r.rotate=-180;break;case 4:r.flip.vertical=!0;break;case 5:r.rotate=90,r.flip.vertical=!0;break;case 6:r.rotate=90;break;case 7:r.rotate=90,r.flip.horizontal=!0;break;case 8:r.rotate=-90}return r}(s),this.defaultImageTransforms=Ht(Ht({},this.appliedImageTransforms),{},{flip:Ht({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var o=t.$refs.image;o&&o.complete&&(function(r){return!!r.naturalWidth}(o)?t.onSuccessLoadImage():t.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender(function(){t.coordinates=t.moveAlgorithm(Ht(Ht({},t.getPublicProperties()),{},{positionRestrictions:Rf(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()})},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var i=t.sizeRestrictions,n=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(Ht(Ht({},t.getPublicProperties()),{},{positionRestrictions:Rf(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(i.maxWidth,t.visibleArea.width),maxHeight:Math.min(i.maxHeight,t.visibleArea.height),minWidth:Math.max(i.minWidth,n),minHeight:Math.max(i.minHeight,n)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1})},onManipulateImage:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var i=t.transitions,n=i!==void 0&&i,s=t.normalize,o=s===void 0||s;n&&this.enableTransitions();var r=nxe(Ht(Ht({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),a=r.visibleArea,l=r.coordinates;this.visibleArea=a,this.coordinates=l,this.runAutoZoom("manipulateImage"),this.onChange(),n&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.visibleArea,i=e.type,n=i===void 0?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:n})},getAspectRatio:function(e){var t,i,n=this.stencilProps,s=n.aspectRatio,o=n.minAspectRatio,r=n.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();t=a.minimum,i=a.maximum}if(Ri(t)&&(t=Ri(s)?o:s),Ri(i)&&(i=Ri(s)?r:s),!e&&(Ri(t)||Ri(i))){var l=this.getStencilSize(),c=l?Vt(l):null;Ri(t)&&(t=IS(c)?c:void 0),Ri(i)&&(i=IS(c)?c:void 0)}return{minimum:t,maximum:i}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,i=e.stencilSize,n=e.aspectRatio,Yb(Vt(s=cc(i)?i({boundaries:t,aspectRatio:n}):i),n)&&(s=pr({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:s.width,height:s.height,aspectRatio:{minimum:n.minimum,maximum:n.maximum}})),(s.width>t.width||s.height>t.height)&&(s=pr({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:s.width,height:s.height,aspectRatio:{minimum:Vt(s),maximum:Vt(s)}})),s;var e,t,i,n,s},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return Ht({},$S)},flip:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,s=n===void 0||n;if(!this.transitionsActive){s&&this.enableTransitions();var o=Ht({},this.imageTransforms.flip),r=oxe({flip:{horizontal:e?!o.horizontal:o.horizontal,vertical:t?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=r.visibleArea,l=r.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=a,this.coordinates=l,this.onChange(),s&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transitions,n=i===void 0||i;if(!this.transitionsActive){n&&this.enableTransitions();var s=Ht({},this.imageSize);this.appliedImageTransforms.rotate+=e;var o=sxe({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:s,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=o.visibleArea,a=o.coordinates,l=this.processAutoZoom("rotateImage",r,a);r=l.visibleArea,a=l.coordinates,this.visibleArea=r,this.coordinates=a,this.onChange(),n&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},gxe={key:0,ref:"canvas",style:{display:"none"}},bxe={key:1,ref:"sourceCanvas",style:{display:"none"}};A5.render=function(e,t,i,n,s,o){return p(),R("div",{ref:"cropper",class:o.classes.cropper},[D("div",{ref:"stretcher",class:o.classes.stretcher},null,2),D("div",{class:o.classes.boundaries,style:o.boundariesStyle},[(p(),R(tt(i.backgroundWrapperComponent),{class:o.classes.cropperWrapper,"wheel-resize":o.settings.resizeImage.wheel,"touch-resize":o.settings.resizeImage.touch,"touch-move":o.settings.moveImage.touch,"mouse-move":o.settings.moveImage.mouse,onMove:o.onManipulateImage,onResize:o.onManipulateImage},{default:Q(function(){return[D("div",{class:o.classes.background,style:o.boundariesStyle},null,6),D("div",{class:o.classes.imageWrapper},[D("img",{ref:"image",crossorigin:s.imageAttributes.crossOrigin,src:s.imageAttributes.src,class:o.classes.image,style:o.imageStyle,onMousedown:t[1]||(t[1]=Je(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),D("div",{class:o.classes.foreground,style:o.boundariesStyle},null,6),Ge((p(),R(tt(i.stencilComponent),J({ref:"stencil",image:o.image,coordinates:s.coordinates,"stencil-coordinates":o.stencilCoordinates,transitions:o.transitionsOptions},i.stencilProps,{onResize:o.onResize,onResizeEnd:o.onResizeEnd,onMove:o.onMove,onMoveEnd:o.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[ti,s.imageLoaded]]),i.canvas?(p(),R("canvas",gxe,null,512)):S("",!0),i.canvas?(p(),R("canvas",bxe,null,512)):S("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const yxe={components:{Cropper:A5},props:{attachment:{type:Object,required:!0},docFields:{type:Object,required:!0},aspectRatio:{type:Number,default:null},minSize:{type:Array,default:()=>[]},containerHeight:{type:Number,required:!0}},emits:["change"],data(){return{stencilProps:{"data-stencil":""},cropperHeight:this.getCropperHeight(),isCropperChanging:!1,isUpdatingCropperCoordinates:!1,stencilCoordinates:{left:null,top:null,width:null,height:null},focalPointDragCoordinates:{clientX:0,clientY:0}}},watch:{docFields:{deep:!0,handler(e,t){if(e.updateCoordinates&&this.checkCropperCoordinatesDiff(e.data,t.data)){const{width:i,height:n,left:s,top:o}=e.data;this.isUpdatingCropperCoordinates=!0,this.setCropperCoordinatesDebounced({width:i,height:n,left:s,top:o})}}},aspectRatio:{handler(e){this.$refs.cropper.reset(),this.stencilProps.aspectRatio=e,this.$refs.cropper.refresh()}}},created(){this.onScreenResizeDebounced=Lf(this.onScreenResize,500),this.handleCropperChangeDebounced=Lf(this.handleCropperChange,500),this.setCropperCoordinatesDebounced=Lf(this.setCropperCoordinates,500),this.updateFocalPointCoordinatesDebounced=Lf(this.updateFocalPointCoordinates,500),this.defaultSize={width:this.docFields.data.width,height:this.docFields.data.height},this.defaultPosition={top:this.docFields.data.top,left:this.docFields.data.left}},beforeUnmount(){this.onScreenResizeDebounced.cancel(),this.handleCropperChangeDebounced.cancel(),this.setCropperCoordinatesDebounced.cancel(),this.updateFocalPointCoordinatesDebounced.cancel(),this.$refs.focalPoint.removeEventListener("mousedown",this.onFocalPointMouseDown),window.removeEventListener("resize",this.onScreenResizeDebounced)},methods:{getCropperHeight(){const{width:e,height:t}=this.attachment;return e>t||t<=this.containerHeight?"auto":"100%"},onCropperReady(){this.stencilProps.aspectRatio=this.aspectRatio,this.$refs.cropper.refresh(),this.storeStencilCoordinates(),this.placeFocalPointInStencil(),window.addEventListener("resize",this.onScreenResizeDebounced)},onCropperChange({coordinates:e}){this.isChangingCropper=!0,this.handleCropperChangeDebounced(e)},onFocalPointMouseDown(e){e.preventDefault();const{focalPoint:t}=this.$refs;this.focalPointDragCoordinates.clientX=e.clientX,this.focalPointDragCoordinates.clientY=e.clientY,t.style.cursor="grabbing",t.style.transitionDuration="0s",document.addEventListener("mousemove",this.onFocalPointMouseMove),document.addEventListener("mouseup",this.onFocalPointMouseUp)},onFocalPointMouseMove(e){e.preventDefault();const{focalPoint:t}=this.$refs,i=this.getFocalPointSize(),n=t.offsetLeft-this.focalPointDragCoordinates.clientX+e.clientX,s=t.offsetTop-this.focalPointDragCoordinates.clientY+e.clientY;this.focalPointDragCoordinates.clientX=e.clientX,this.focalPointDragCoordinates.clientY=e.clientY;const o=1,r={left:-i.halfWidth+o,top:-i.halfHeight+o,right:t.offsetParent.clientWidth-i.halfWidth-o,bottom:t.offsetParent.clientHeight-i.halfHeight-o};n<r.left||s<r.top||n>r.right||s>r.bottom||(t.style.left=`${n}px`,t.style.top=`${s}px`,this.updateFocalPointCoordinatesDebounced())},onFocalPointMouseUp(){const{focalPoint:e}=this.$refs;e.style.cursor="grab",e.style.transitionDuration="0.1s",document.removeEventListener("mousemove",this.onFocalPointMouseMove),document.removeEventListener("mouseup",this.onFocalPointMouseUp)},onImageClick(e){if(this.isChangingCropper)return;const{focalPoint:t}=this.$refs,i=this.getFocalPointSize(),n=e.clientX-e.currentTarget.offsetLeft-e.currentTarget.offsetParent.offsetLeft-i.halfWidth,s=e.clientY-e.currentTarget.offsetTop-e.currentTarget.offsetParent.offsetTop-i.halfHeight;t.style.left=`${n}px`,t.style.top=`${s}px`,this.updateFocalPointCoordinatesDebounced()},onScreenResize(){this.storeStencilCoordinates(),this.placeFocalPointInStencil()},handleCropperChange(e){this.isChangingCropper=!1,!this.isUpdatingCropperCoordinates&&this.checkCropperCoordinatesDiff(e,this.docFields.data)&&(this.storeStencilCoordinates(),this.updateFocalPointCoordinates(),this.$emit("change",e,!1)),this.isUpdatingCropperCoordinates=!1},setCropperCoordinates(e){this.$refs.cropper.setCoordinates(e)},updateFocalPointCoordinates(){const{focalPoint:e}=this.$refs,t=this.getFocalPointSize(),i=(e.offsetLeft+t.halfWidth-this.stencilCoordinates.left)/this.stencilCoordinates.width,n=(e.offsetTop+t.halfHeight-this.stencilCoordinates.top)/this.stencilCoordinates.height,s=o({x:i,y:n});this.$emit("change",s,!1);function o({x:r,y:a}){return r>=0&&r<=1&&a>=0&&a<=1?{x:Math.abs(Math.round(r*100)),y:Math.abs(Math.round(a*100))}:{x:null,y:null}}},checkCropperCoordinatesDiff(e,t){return Object.entries(e).some(([i,n])=>t[i]!==n)},storeStencilCoordinates(){const e=document.querySelector("[data-stencil]"),t=window.getComputedStyle(e),i=new window.DOMMatrixReadOnly(t.transform);this.stencilCoordinates={left:i.m41,top:i.m42,width:e.clientWidth,height:e.clientHeight}},getFocalPointSize(){const{focalPoint:e}=this.$refs,t={width:e.clientWidth+e.clientLeft*2,height:e.clientHeight+e.clientTop*2};return{...t,halfWidth:t.width/2,halfHeight:t.height/2}},placeFocalPointInStencil(){const{focalPoint:e}=this.$refs,t=this.docFields.data.x||50,i=this.docFields.data.y||50,n=this.getFocalPointSize(),s=Math.round(t/100*this.stencilCoordinates.width+this.stencilCoordinates.left-n.halfWidth),o=Math.round(i/100*this.stencilCoordinates.height+this.stencilCoordinates.top-n.halfHeight);e.style.left=`${s}px`,e.style.top=`${o}px`}}};function vxe(e,t,i,n,s,o){const r=O("cropper"),a=Bn("apos-tooltip");return p(),y("div",{class:"apos-image-cropper",style:Wt({height:s.cropperHeight}),onClick:t[1]||(t[1]=(...l)=>o.onImageClick&&o.onImageClick(...l))},[Ge(k("span",{ref:"focalPoint",class:"apos-image-focal-point",onMousedown:t[0]||(t[0]=(...l)=>o.onFocalPointMouseDown&&o.onFocalPointMouseDown(...l))},null,544),[[a,"apostrophe:focalPoint"]]),D(r,{ref:"cropper",src:i.attachment._urls.uncropped?i.attachment._urls.uncropped.original:i.attachment._urls.original,debounce:0,"default-size":e.defaultSize,"default-position":e.defaultPosition,"stencil-props":s.stencilProps,"min-width":i.minSize[0],"min-height":i.minSize[1],onReady:o.onCropperReady,onChange:o.onCropperChange},null,8,["src","default-size","default-position","stencil-props","min-width","min-height","onReady","onChange"])],4)}const _xe=I(yxe,[["render",vxe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/image/apos/components/AposImageCropper.vue"]]),wxe=[[1,1],[2,3],[3,4],[3,2],[4,3],[5,4],[16,9],[9,16],[4,5]],Cxe=e=>[{label:e,value:0},...wxe.map(([i,n])=>({label:`${i}:${n}`,value:i/n}))],kxe={name:"AposImageRelationshipEditor",mixins:[Vo],props:{schema:{type:Array,default:null},widget:{type:Object,default:null},widgetSchema:{type:Array,default:()=>[]},item:{type:Object,default:null}},emits:["modal-result"],data(){const{aspectRatio:e,disableAspectRatio:t}=this.getAspectRatioFromConfig(),i=this.getMinSize(),n=this.getImage(),s=this.setDataValues(n);return{image:n,original:{...s},docFields:{data:s},fieldSchema:this.getFieldSchema(),errors:{},modal:{active:!1,type:"overlay",showModal:!0},modalTitle:{key:"apostrophe:editImageRelationshipTitle",title:n.title},currentTab:null,aspectRatio:e,aspectRatios:Cxe(this.$t("apostrophe:aspectRatioFree")),disableAspectRatio:t,minSize:i,correctingSizes:!1,maxWidth:n.attachment.width,maxHeight:n.attachment.height,minWidth:i[0]||1,minHeight:i[1]||1,containerHeight:0}},computed:{isModified(){return Es(this.fieldSchema,this.original,this.docFields.data)}},async mounted(){this.modal.active=!0,this.$nextTick(()=>{this.containerHeight=this.$refs.cropperContainer.clientHeight}),this.computeMaxSizes(),this.computeMinSizes()},methods:{getImage(){var e,t;return this.item||((t=(e=this.widget)==null?void 0:e._image)==null?void 0:t[0])},getFieldSchema(){var e;return this.schema||((e=this.widgetSchema.find(t=>t.name==="_image"))==null?void 0:e.schema)||[]},computeMaxSizes(){const{width:e,height:t}=this.image.attachment;if(!this.aspectRatio){this.maxWidth=e,this.maxHeight=t;return}if(this.aspectRatio===1){const s=e<t?e:t;this.maxWidth=s,this.maxHeight=s;return}const n=t/e*this.aspectRatio;this.maxWidth=n>1?e:Math.round(t*this.aspectRatio),this.maxHeight=n>1?Math.round(e/this.aspectRatio):t},computeMinSizes(){if(!this.minSize||!this.minSize.length)return;const[e,t]=this.minSize;if(!this.aspectRatio){this.minWidth=e,this.minHeight=t;return}if(this.aspectRatio===1){const s=e>t?e:t;this.minWidth=s,this.minHeight=s;return}const n=t/e*this.aspectRatio;n>1?(this.minWidth=Math.round(t*this.aspectRatio),this.minHeight=t):n<1&&(this.minWidth=e,this.minHeight=Math.round(e/this.aspectRatio))},setDataValues(e){return e._fields&&e._fields.width&&e._fields.height?{...e._fields}:{width:e.attachment.width,height:e.attachment.height,top:0,left:0,x:null,y:null}},async submit(){if(this.image.attachment&&await apos.http.post(`${apos.attachment.action}/crop`,{body:{_id:this.image.attachment._id,crop:this.docFields.data},busy:!0}),!this.widget)this.$emit("modal-result",this.docFields.data);else{const e={...this.image,_fields:this.docFields.data},t={...this.widget,_image:[e]};this.$emit("modal-result",t)}this.modal.showModal=!1},updateDocFields(e,t=!0){this.docFields={data:{...this.docFields.data,...e},updateCoordinates:t}},inputWidth(e){this.input(e,"width")},inputHeight(e){this.input(e,"height")},input({target:e},t){const i=parseInt(e.value,10);isNaN(i)||(this.computeAspectRatio(i,t),this.updateDocFields({[t]:i}))},blurInput(){const{width:e,height:t}=this.docFields.data;if(!this.aspectRatio){const{widthUpdated:i,minWidthUpdated:n}=e>this.maxWidth?{widthUpdated:this.maxWidth}:e<this.minWidth&&{widthUpdated:this.minWidth,minWidthUpdated:!0},{heightUpdated:s,minHeightUpdated:o}=t>this.maxHeight?{heightUpdated:this.maxHeight}:t<this.minHeight&&{heightUpdated:this.minHeight,minHeightUpdated:!0};this.updateDocFields({...i&&{width:i},...s&&{height:s}},!1),(n||o)&&this.minSizeUpdated();return}if(e>this.maxWidth||t>this.maxHeight){if(this.aspectRatio===1){const i=this.maxWidth<this.maxHeight?this.maxWidth:this.maxHeight;this.updateDocFields({width:i,height:i},!1)}else this.updateDocFields({width:this.maxWidth,height:this.maxHeight},!1);return}if(e<this.minWidth||t<this.minHeight){if(this.aspectRatio===1){const i=this.minWidth>this.minHeight?this.minWidth:this.minHeight;this.updateDocFields({width:i,height:i},!1)}else this.updateDocFields({width:this.minWidth,height:this.minHeight},!1);this.minSizeUpdated()}},minSizeUpdated(){this.correctingSizes=!0,setTimeout(()=>{this.correctingSizes=!1},1500)},switchPane(e){this.currentTab=e},getAspectRatioFromConfig(){const[e={}]=apos.area.widgetOptions||[];return e.aspectRatio&&e.aspectRatio.length===2?{aspectRatio:e.aspectRatio[0]/e.aspectRatio[1],disableAspectRatio:!0}:{aspectRatio:null,disableAspectRatio:!1}},updateAspectRatio(e){this.aspectRatio=e,this.computeMaxSizes(),this.computeMinSizes()},getMinSize(){const[e={}]=apos.area.widgetOptions;return e.minSize||[]},computeAspectRatio(e,t){if(!this.aspectRatio)return;const i=t==="width",n=i?"height":"width",s=i?e/this.aspectRatio:e*this.aspectRatio;this.updateDocFields({[n]:Math.round(s)},!1)}}},Axe={class:"apos-schema"},Sxe={class:"apos-field","data-apos-field":"aspectRatio"},xxe={class:"apos-field__label"},Mxe={class:"apos-field__label"},Txe={class:"apos-schema__aligned-fields"},Oxe={class:"apos-field","data-apos-field":"width"},Exe=["value","min","max"],Ixe={class:"apos-field","data-apos-field":"height"},$xe=["value","min","max"],Lxe={ref:"cropperContainer",class:"apos-image-cropper__container"};function Pxe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposIndicator"),l=O("AposSelect"),c=O("AposModalRail"),u=O("AposImageCropper"),h=O("AposModal");return p(),R(h,{class:"apos-doc-editor",modal:s.modal,"modal-title":e.$t("apostrophe:editImageRelationshipTitle"),onInactive:t[4]||(t[4]=m=>s.modal.active=!1),onShowModal:t[5]||(t[5]=m=>s.modal.showModal=!0),onEsc:e.confirmAndCancel},{secondaryControls:Q(()=>[D(r,{type:"default",label:"apostrophe:cancel",onClick:e.confirmAndCancel},null,8,["onClick"])]),primaryControls:Q(()=>[D(r,{type:"primary",label:"apostrophe:update",disabled:!o.isModified,attrs:{"data-apos-focus-priority":!0},onClick:o.submit},null,8,["disabled","onClick"])]),leftRail:Q(()=>[D(c,null,{default:Q(()=>[k("div",Axe,[k("div",Sxe,[k("label",xxe,[Mt(E(e.$t("apostrophe:aspectRatio"))+" ",1),s.disableAspectRatio?(p(),R(a,{key:0,class:"apos-field__tooltip",icon:"information-outline-icon","fill-color":"var(--a-primary)",tooltip:e.$t("apostrophe:aspectRatioWarning")},null,8,["tooltip"])):S("v-if",!0)]),D(l,{selected:s.aspectRatio,choices:s.aspectRatios,disabled:s.disableAspectRatio,onChange:o.updateAspectRatio},null,8,["selected","choices","disabled","onChange"])]),k("label",Mxe,E(e.$t("apostrophe:cropAndSize")),1),s.minSize[0]||s.minSize[1]?(p(),y("div",{key:0,class:ne(["apos-field__min-size",{"apos-field__min-size--correcting":s.correctingSizes}])},E(e.$t("apostrophe:minSize",{width:s.minSize[0]||"???",height:s.minSize[1]||"???"})),3)):S("v-if",!0),k("div",Txe,[k("div",Oxe,[t[6]||(t[6]=k("label",{class:"apos-field__label apos-field__label--aligned"}," W ",-1)),k("input",{value:s.docFields.data.width,class:"apos-input apos-input--text",type:"number",min:s.minWidth,max:s.maxWidth,onInput:t[0]||(t[0]=(...m)=>o.inputWidth&&o.inputWidth(...m)),onBlur:t[1]||(t[1]=(...m)=>o.blurInput&&o.blurInput(...m))},null,40,Exe)]),k("div",Ixe,[t[7]||(t[7]=k("label",{class:"apos-field__label apos-field__label--aligned"}," H ",-1)),k("input",{value:s.docFields.data.height,class:"apos-input apos-input--text",type:"number",min:s.minHeight,max:s.maxHeight,onInput:t[2]||(t[2]=(...m)=>o.inputHeight&&o.inputHeight(...m)),onBlur:t[3]||(t[3]=(...m)=>o.blurInput&&o.blurInput(...m))},null,40,$xe)])])])]),_:1})]),main:Q(()=>[k("div",Lxe,[D(u,{attachment:s.image.attachment,"doc-fields":s.docFields,"aspect-ratio":s.aspectRatio,"min-size":s.minSize,"container-height":s.containerHeight,onChange:o.updateDocFields},null,8,["attachment","doc-fields","aspect-ratio","min-size","container-height","onChange"])],512)]),_:1},8,["modal","modal-title","onEsc"])}const Dxe=I(kxe,[["render",Pxe],["__scopeId","data-v-d5dbb24f"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/image/apos/components/AposImageRelationshipEditor.vue"]]),Rxe=500,Hxe={mixins:[Vo,f0],props:{moduleName:{type:String,required:!0}},emits:["archive","save","search","piece-relationship-query"],data(){return{items:[],isFirstLoading:!0,isLoading:!1,isScrollLoading:!1,skipLoadObserver:!1,lock:0,loadRef:null,totalPages:1,currentPage:1,tagList:[],filterValues:{},modal:{active:!1,type:"overlay",showModal:!1},editing:void 0,modified:!1,lastSelected:null,emptyDisplay:{title:"apostrophe:noMediaFound",message:"apostrophe:uploadedMediaPlaceholder",emoji:""},cancelDescription:"apostrophe:discardImageChangesPrompt",debouncedGetMedia:wa(this.getMedia,Rxe,{onSuccess:this.appendMedia}),scrollQueue:sx(),loadObserver:new IntersectionObserver(this.handleIntersect,{root:null,rootMargin:"30px",threshold:0}),uploaded:!1}},computed:{modalTitle(){let e;return this.relationshipField?e={key:"apostrophe:chooseDocType",type:this.$t(this.moduleLabels.plural)}:e={key:"apostrophe:manageDocType",type:this.$t(this.moduleLabels.plural)},e},moduleOptions(){return window.apos.modules[this.moduleName]},toolbarFilters(){return!this.moduleOptions||!this.moduleOptions.filters?null:this.moduleOptions.filters.filter(e=>e.name!=="_tags")},moduleLabels(){return this.moduleOptions?{singular:this.moduleOptions.label,plural:this.moduleOptions.pluralLabel}:null},accept(){return this.moduleOptions.schema.find(e=>e.name==="attachment").accept},isModified(){return this.editing&&this.modified||this.relationshipIsModified()},headers(){return[]},saveRelationshipLabel(){return this.relationshipField&&this.relationshipField.max===1?{key:"apostrophe:selectOneLabel",typeLabel:this.$t(this.moduleLabels.singular)}:{key:"apostrophe:selectManyLabel",typeLabel:this.$t(this.moduleLabels.plural)}},isLastPage(){return this.totalPages>1&&this.currentPage===this.totalPages&&!this.isScrollLoading}},watch:{items(e){e.length===0&&(this.uploaded=!1)},async checked(e,t){var i,n;if(this.lastSelected=e.at(-1),e.length>1||e.length===0){!this.checked.includes((i=this.editing)==null?void 0:i._id)&&t.includes((n=this.editing)==null?void 0:n._id)&&!await this.updateEditing(null)&&(this.checked=t),this.modified===!1&&await this.updateEditing(null);return}await this.updateEditing(e.at(0))},isLastPage(e){e&&this.disconnectObserver()}},created(){this.setDefaultFilters()},async mounted(){this.modal.active=!0,apos.bus.$on("content-changed",this.onContentChanged),apos.bus.$on("command-menu-manager-close",this.confirmAndCancel),await this.scrollQueue.add(async()=>{const e=await this.getMedia({tags:!0});await this.appendMedia(e),this.isFirstLoading=!1})},beforeUnmount(){this.debouncedGetMedia.cancel(),apos.bus.$off("content-changed",this.onContentChanged),apos.bus.$off("command-menu-manager-close",this.confirmAndCancel)},methods:{hasScroll(){var i,n,s,o;const e=(n=(i=this.$refs.display)==null?void 0:i.$el)==null?void 0:n.offsetHeight,t=(o=(s=this.$refs.modalBody)==null?void 0:s.getBodyMainRef())==null?void 0:o.offsetHeight;return e>t},setDefaultFilters(){this.moduleOptions.filters.forEach(e=>{this.filterValues[e.name]=e.def})},editorModified(e){this.modified=e},async getMedia(e={}){const t={},i={...this.filterValues,page:this.currentPage,viewContext:this.relationshipField?"relationship":"manage"},n=!!Object.keys(this.filterValues).length;this.moduleOptions&&Array.isArray(this.moduleOptions.filters)&&this.moduleOptions.filters.forEach(o=>{!o.choices&&i.choices?i.choices+=`,${o.name}`:o.choices||(i.choices=o.name)}),this.relationshipField&&apos.bus.$emit("piece-relationship-query",i);for(const o in i)i[o]===void 0&&delete i[o];const s=await apos.http.get(this.moduleOptions.action,{qs:i,draft:!0});if(e.tags)if(n){const o=await apos.http.get(this.moduleOptions.action,{busy:!0,qs:{choices:"_tags"},draft:!0});t.tagList=o.choices._tags}else t.tagList=s.choices?s.choices._tags:[];t.options=e,t.currentPage=s.currentPage,t.totalPages=s.pages,t.items=[];for(const o of s.results)t.items.push(o);return t},async appendMedia({tagList:e,currentPage:t,totalPages:i,items:n,options:s={}}){if(typeof s.lock=="number"&&s.lock!==this.lock)return;Array.isArray(e)&&(this.tagList=e),this.currentPage=t,this.totalPages=i;const o=s.loadMoreIfSkipped&&!s.loadMore?new Set(this.items.map(a=>a._id)):new Set;let r=0;for(const a of n){if(o.has(a._id)){r++;continue}this.items.push(a)}return s.loadMore?(this.isLoading=!1,await this.$nextTick(),await this.loadUntilScroll(s.lock)):s.loadMoreIfSkipped&&r>0&&await this.loadWhenIntersecting(s.lock),r},async refetchMedia(e){this.isLoading=!0,this.currentPage=1,this.items=[],await this.debouncedGetMedia.skipDelay(e),this.isLoading=!1,this.modified=!1,this.clearSelected()},async filter(e,t){this.filterValues[e]=t,this.refetchMedia()},createPlaceholder(e){this.items.unshift(e)},async completeUploading(e){var a;this.uploaded=!0;const[t={}]=apos.area.widgetOptions,[i,n]=t.minSize||[];let s=!1;const o=e.filter(l=>{var c,u,h,m;return i&&((c=l.attachment)!=null&&c.width)&&i>l.attachment.width?(s=!0,((u=this.editing)==null?void 0:u._id)===l._id&&this.updateEditing(null),!1):n&&((h=l.attachment)!=null&&h.height)&&n>l.attachment.height?(s=!0,((m=this.editing)==null?void 0:m._id)===l._id&&this.updateEditing(null),!1):!0}),r=o.map(l=>l._id);if(this.items=this.items.map(l=>l.__placeholder?o.shift():l).filter(l=>!!l&&!l.__placeholder),s&&await apos.notify("apostrophe:minSize",{type:"danger",icon:"alert-circle-icon",dismiss:!0,interpolate:{width:i,height:n}}),Array.isArray(r)&&r.length){const l=this.checked.concat(r);this.checked=l.slice(0,((a=this.relationshipField)==null?void 0:a.max)||l.length),!this.editing&&r.length===1&&this.updateEditing(r[0])}},clearSelected(){this.checked=[]},async updateEditing(e){let t=this.items.find(i=>i._id===e);return t||(t=this.checkedDocs.find(i=>i._id===e)),this.editing&&this.modified&&!await apos.confirm({heading:this.cancelHeading,description:this.cancelDescription,negativeLabel:this.cancelNegativeLabel,affirmativeLabel:this.cancelAffirmativeLabel})?!1:t!=null&&t._edit?(this.editing=t,!0):(this.editing=null,!0)},select(e){this.checked.includes(e)?this.updateEditing(e):this.relationshipField&&(this.relationshipField.max>1||!this.relationshipField.max)?this.selectAnother(e):this.checked=[e]},selectAnother(e){var t;if(((t=this.relationshipField)==null?void 0:t.max)===1){this.select(e);return}this.checked.includes(e)?this.checked=this.checked.filter(i=>i!==e):this.checked=[...this.checked,e]},selectSeries(e){var l,c;if(!this.lastSelected||((l=this.relationshipField)==null?void 0:l.max)===1){this.select(e);return}const t=this.items.findIndex(u=>u._id===this.lastSelected),i=this.items.findIndex(u=>u._id===e),n=t>i?-1:1,s=n<0?i:t,o=n<0?t:i+1,r=this.items.slice(s,o).map(u=>u._id).filter(u=>!this.checked.includes(u)),a=this.checked.concat(r);this.checked=a.slice(0,((c=this.relationshipField)==null?void 0:c.max)||a.length)},async selectClick(){await this.updateEditing(null)&&this.selectAll()},archiveClick(){this.$emit("archive",this.checked)},async search(e){this.lock++,this.skipLoadObserver=!0,this.filterValues.autocomplete=e,this.currentPage=1,this.items=[],this.isLoading=!0,await this.debouncedGetMedia({loadMore:!0,lock:this.lock}),this.isLoading=!1,this.skipLoadObserver=!1},async onContentChanged({action:e,doc:t,docTypes:i}){this.getContentChangedTypes(t,i).includes(this.moduleName)&&(this.modified=!1,e==="update"?this.updateStateDoc(t):this.refetchMedia(),await this.updateEditing(null))},updateStateDoc(e){const t=this.items.findIndex(n=>n._id===e._id),i=this.checkedDocs.findIndex(n=>n._id===e._id);t!==-1&&(this.items[t]=e),i!==-1&&(this.checkedDocs[i]=e)},removeStateDoc(e){const t=this.items.findIndex(s=>s._id===e._id),i=this.checked.findIndex(s=>s===e._id),n=this.checkedDocs.findIndex(({_id:s})=>s===e._id);t!==-1&&this.items.splice(t,1),i!==-1&&this.checked.splice(i,1),n!==-1&&this.checkedDocs.splice(n,1)},async loadUntilScroll(e){let t=0,i=!0;for(;!this.hasScroll()&&i&&t<20;)i=await this.loadWhenIntersecting(e),t++,await this.$nextTick()},async handleIntersect(e){for(const t of e)t.isIntersecting&&!this.isFirstLoading&&!this.skipLoadObserver&&this.scrollQueue.add(async()=>{await this.loadWhenIntersecting(),await this.$nextTick(),await this.loadUntilScroll()}).catch(console.error)},async loadWhenIntersecting(e){if(this.currentPage<this.totalPages&&this.items.length){this.currentPage++,this.isScrollLoading=!0;const t=await this.getMedia({lock:e,loadMoreIfSkipped:this.uploaded});return typeof e=="number"&&e!==this.lock?(this.isScrollLoading=!1,!1):(await this.appendMedia(t),this.isScrollLoading=!1,!0)}return!1},observeLoadRef(){this.totalPages<2||!this.loadRef||this.loadObserver.observe(this.loadRef)},disconnectObserver(){this.loadObserver&&this.loadObserver.disconnect()},setLoadRef(e){this.loadRef=e,this.disconnectObserver(),e&&this.observeLoadRef()},async handleBatchAction({label:e,action:t,requestOptions:i={},messages:n}){if(t)try{await apos.http.post(`${this.moduleOptions.action}/${t}`,{body:{...i,_ids:this.checked,messages:n,type:this.checked.length===1?this.moduleLabels.singular:this.moduleLabels.plural}})}catch{apos.notify("apostrophe:errorBatchOperationNoti",{interpolate:{operation:this.$t(e)},type:"danger"})}}}};function Vxe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposUtilityOperations"),l=O("AposTagList"),c=O("AposModalRail"),u=O("AposLoadingBlock"),h=O("AposDocsManagerToolbar"),m=O("AposMediaManagerDisplay"),g=O("AposModalBody"),v=O("AposMediaManagerEditor"),_=O("AposMediaManagerSelections"),w=O("AposModal");return p(),R(w,{modal:s.modal,"modal-title":o.modalTitle,class:"apos-media-manager",onInactive:t[3]||(t[3]=A=>s.modal.active=!1),onShowModal:t[4]||(t[4]=A=>s.modal.showModal=!0),onEsc:e.confirmAndCancel},_l({primaryControls:Q(()=>[D(a,{"module-options":o.moduleOptions,"has-relationship-field":!!e.relationshipField},null,8,["module-options","has-relationship-field"]),e.relationshipField?(p(),R(r,{key:0,type:"primary",label:o.saveRelationshipLabel,disabled:!!e.relationshipErrors,attrs:{"data-apos-focus-priority":!0},onClick:e.saveRelationship},null,8,["label","disabled","onClick"])):S("v-if",!0)]),leftRail:Q(()=>[D(c,null,{default:Q(()=>[D(l,{title:"apostrophe:filterByTag",tags:s.tagList,onUpdate:t[0]||(t[0]=A=>o.filter("_tags",A))},null,8,["tags"])]),_:1})]),main:Q(()=>[s.isFirstLoading?(p(),R(u,{key:0})):(p(),R(g,{key:1,ref:"modalBody"},{bodyHeader:Q(()=>[D(h,{"selected-state":e.selectAllState,"total-pages":s.totalPages,"current-page":s.currentPage,filters:o.toolbarFilters,"filter-values":s.filterValues,labels:o.moduleLabels,disable:e.relationshipErrors==="min","displayed-items":s.items.length,checked:e.checked,"checked-count":e.checked.length,"module-name":i.moduleName,options:{noPager:!0},"batch-operations":o.moduleOptions.batchOperations,onSelectClick:o.selectClick,onSearch:o.search,onFilter:o.filter,onBatch:o.handleBatchAction},null,8,["selected-state","total-pages","current-page","filters","filter-values","labels","disable","displayed-items","checked","checked-count","module-name","batch-operations","onSelectClick","onSearch","onFilter","onBatch"])]),bodyMain:Q(()=>[s.isLoading?(p(),R(u,{key:0})):(p(),R(m,{key:1,ref:"display",checked:e.checked,"onUpdate:checked":t[1]||(t[1]=A=>e.checked=A),accept:o.accept,items:s.items,"module-options":o.moduleOptions,"max-reached":e.maxReached(),"is-last-page":o.isLastPage,"relationship-field":e.relationshipField,"is-scroll-loading":s.isScrollLoading,onEdit:o.updateEditing,onSelect:o.select,onSelectSeries:o.selectSeries,onSelectAnother:o.selectAnother,onUploadComplete:o.completeUploading,onCreatePlaceholder:o.createPlaceholder,onSetLoadRef:o.setLoadRef},null,8,["checked","accept","items","module-options","max-reached","is-last-page","relationship-field","is-scroll-loading","onEdit","onSelect","onSelectSeries","onSelectAnother","onUploadComplete","onCreatePlaceholder","onSetLoadRef"]))]),_:1},512))]),rightRail:Q(()=>[D(c,{type:"right"},{default:Q(()=>[k("div",{class:ne(["apos-media-manager__sidebar",{"apos-media-manager__sidebar--empty":!e.checked.length}])},[Ge(D(v,{media:s.editing,"is-modified":o.isModified,"module-labels":o.moduleLabels,onBack:t[2]||(t[2]=A=>o.updateEditing(null)),onModified:o.editorModified},null,8,["media","is-modified","module-labels","onModified"]),[[ti,s.editing]]),Ge(D(_,{items:e.checkedDocs,onClear:o.clearSelected,onEdit:o.updateEditing},null,8,["items","onClear","onEdit"]),[[ti,!s.editing]])],2)]),_:1})]),_:2},[e.relationshipField?{name:"secondaryControls",fn:Q(()=>[D(r,{type:"default",label:"apostrophe:cancel",onClick:e.confirmAndCancel},null,8,["onClick"])]),key:"0"}:{name:"secondaryControls",fn:Q(()=>[D(r,{type:"default",label:"apostrophe:exit",onClick:e.confirmAndCancel},null,8,["onClick"])]),key:"1"}]),1032,["modal","modal-title","onEsc"])}const zxe=I(Hxe,[["render",Vxe],["__scopeId","data-v-4c03182f"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/image/apos/components/AposMediaManager.vue"]]),Nxe={props:{maxReached:{type:Boolean,default:!1},checked:{type:[Array,Boolean],default:!1},moduleOptions:{type:Object,required:!0},items:{type:Array,default(){return[]}},options:{type:Object,default(){return{hideCheckboxes:!1}}},accept:{type:String,required:!1,default:null},largePreview:{type:Boolean,default:!1},relationshipField:{type:[Object,Boolean],default:!1},isLastPage:{type:Boolean,default:!1},isScrollLoading:{type:Boolean,default:!1}},emits:["update:checked","select","select-series","select-another","upload-started","upload-complete","create-placeholder","set-load-ref"],computed:{checkedProxy:{get(){return this.checked},set(e){var t;this.$emit("update:checked",((t=this.relationshipField)==null?void 0:t.max)===1?[].concat(e.at(-1)||[]):e)}},itemsWithKeys(){return this.items.map(e=>({...e,__key:this.idFor(e)}))}},watch:{async isLastPage(e){await this.$nextTick(),this.$emit("set-load-ref",this.$refs.scrollLoad)},async checked(e){var t;if(e.length){await this.$nextTick();const i=e[e.length-1];(t=this.$el.querySelector(`#btn-${i.replaceAll(":","-")}`))==null||t.focus()}}},mounted(){this.$emit("set-load-ref",this.$refs.scrollLoad)},methods:{getCellStyles(e){if(this.largePreview&&e.dimensions)return{width:`${e.dimensions.width}px`,height:`${e.dimensions.height}px`}},addDragClass(e){e.target.classList.add("apos-is-hovering")},removeDragClass(e){e.target.classList.remove("apos-is-hovering")},idFor(e){return`${e._id}-${Ut.createId()}`},canSelect(e){var t,i;return this.checked.includes(e)||((t=this.relationshipField)==null?void 0:t.max)===1||((i=this.relationshipField)==null?void 0:i.max)&&!this.maxReached}}},Bxe={class:"apos-media-manager-display"},Fxe={class:"apos-media-manager-display__grid"},jxe={class:"apos-media-manager-display__checkbox"},Uxe=["id","disabled","onClick"],Wxe=["src","alt"],qxe={key:1,class:"apos-media-manager-display__placeholder"},Kxe={key:1,class:"apos-media-manager-display__cell apos-is-hidden","aria-hidden":"true"},Gxe={key:1,class:"apos-media-manager-display__end-reached"};function Jxe(e,t,i,n,s,o){const r=O("AposMediaUploader"),a=O("AposCheckbox"),l=O("AposLoading");return p(),y("div",Bxe,[k("div",Fxe,[i.moduleOptions.canCreate?(p(),R(r,{key:0,action:i.moduleOptions.action,accept:i.accept,onUploadStarted:t[0]||(t[0]=c=>e.$emit("upload-started")),onUploadComplete:t[1]||(t[1]=c=>e.$emit("upload-complete",c)),onCreatePlaceholder:t[2]||(t[2]=c=>e.$emit("create-placeholder",c))},null,8,["action","accept"])):S("v-if",!0),(p(!0),y(Ce,null,Ie(o.itemsWithKeys,c=>{var u;return p(),y("div",{key:c.__key,class:ne(["apos-media-manager-display__cell",{"apos-is-selected":i.checked.includes(c._id)}]),style:Wt(o.getCellStyles(c))},[k("div",jxe,[Ge(D(a,{modelValue:o.checkedProxy,"onUpdate:modelValue":t[3]||(t[3]=h=>o.checkedProxy=h),tabindex:"-1",field:{name:c._id,hideLabel:!0,label:e.$t({key:"apostrophe:toggleSelectionOf",title:c.title}),disableFocus:!0,readOnly:o.canSelect(c._id)===!1},choice:{value:c._id}},null,8,["modelValue","field","choice"]),[[ti,c._id!=="placeholder"&&!i.options.hideCheckboxes]])]),k("button",{id:`btn-${(c._id||c.__placeholder||"").replaceAll(":","-")}`,disabled:c._id==="placeholder"||o.canSelect(c._id)===!1,class:"apos-media-manager-display__select",onClick:[Je(h=>e.$emit("select",c._id),["exact"]),Je(h=>e.$emit("select-series",c._id),["shift"]),Je(h=>e.$emit("select-another",c._id),["meta"]),Je(h=>e.$emit("select-another",c._id),["ctrl"])]},[(u=c.attachment)!=null&&u._urls?(p(),y("img",{key:0,class:"apos-media-manager-display__media",src:c.attachment._urls["one-sixth"],alt:c.description||c.title},null,8,Wxe)):(p(),y("div",qxe))],8,Uxe)],6)}),128)),i.items.length===0?(p(),y("div",Kxe,t[4]||(t[4]=[k("button",{disabled:"true",class:"apos-media-manager-display__select"},null,-1)]))):S("v-if",!0)]),i.isLastPage?(p(),y("div",Gxe,[k("p",null,E(e.$t("apostrophe:mediaLibraryEndReached")),1)])):(p(),y("div",{key:0,ref:"scrollLoad",class:ne(["apos-media-manager-display__scroll-load",{"apos-media-manager-display__scroll-load--loading":i.isScrollLoading}])},[i.isScrollLoading?(p(),R(l,{key:0,class:"apos-loading"})):S("v-if",!0)],2))])}const Yxe=I(Nxe,[["render",Jxe],["__scopeId","data-v-e64284d2"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/image/apos/components/AposMediaManagerDisplay.vue"]]);var hp={exports:{}},Zxe=hp.exports,VS;function Xxe(){return VS||(VS=1,function(e,t){(function(i,n){e.exports=n()})(Zxe,function(){return function(i,n){var s=n.prototype,o=s.format;s.format=function(r){var a=this,l=this.$locale();if(!this.isValid())return o.bind(this)(r);var c=this.$utils(),u=(r||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(h){switch(h){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),h==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),h==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return h}});return o.bind(this)(u)}}})}(hp)),hp.exports}var Qxe=Xxe();const eMe=Jc(Qxe);fa.extend(eMe);const tMe={mixins:[xr,Mu,Vo],props:{media:{type:Object,default(){return{}}},isModified:{type:Boolean,default:!1},moduleLabels:{type:Object,required:!0}},emits:["back","modified"],data(){return{activeMedia:ut(this.media),restoreOnly:this.media&&this.media.archived,original:ut(this.media),lipKey:"",triggerValidation:!1,showReplace:!1}},computed:{moduleOptions(){return window.apos.modules[this.activeMedia.type]||{}},canLocalize(){return this.moduleOptions.canLocalize&&this.activeMedia._id},moreMenu(){const e=[{label:"apostrophe:discardChanges",action:"cancel"}];return this.canLocalize&&e.push({label:"apostrophe:localize",action:"localize"}),this.activeMedia._id&&this.activeMedia._delete&&!this.restoreOnly&&e.push({label:"apostrophe:archiveImage",action:"archive",modifiers:["danger"]}),e},fileSize(){if(!this.activeMedia.attachment||!this.activeMedia.attachment.length)return"";const e=this.activeMedia.attachment.length,t=new Intl.NumberFormat(apos.locale,{maximumFractionDigits:2});if(e>=1e6){const i=t.format(e/1e6);return this.$t("apostrophe:mediaMB",{size:i})}else{const i=t.format(e/1e3);return this.$t("apostrophe:mediaKB",{size:i})}},createdDate(){return!this.activeMedia.attachment||!this.activeMedia.attachment.createdAt?"":fa(this.activeMedia.attachment.createdAt).format(this.$t("apostrophe:dayjsMediaCreatedDateFormat"))},isArchived(){var e;return(e=this.media)==null?void 0:e.archived}},watch:{"docFields.data":{deep:!0,handler(e,t){this.$nextTick(()=>{Object.keys(t).length>0&&Object.keys(e).length>0?this.$emit("modified",Es(this.schema,this.original,e)):this.$emit("modified",!1)}),this.activeMedia.attachment&&!e.attachment?this.updateActiveAttachment({}):(e.attachment&&!this.activeMedia.attachment||this.activeMedia.attachment&&!e.attachment||!Cl.isEqual(e.attachment,this.activeMedia.attachment))&&this.updateActiveAttachment(e.attachment)}},media(e){this.updateActiveDoc(e)}},mounted(){this.generateLipKey(),this.$emit("modified",!1)},methods:{moreMenuHandler(e){this[e.action]()},async updateActiveDoc(e){e=e||{},this.showReplace=!1,this.activeMedia=ut(e),this.restoreOnly=!!this.activeMedia.archived,this.original=ut(e),this.docFields.data=ut(e),this.generateLipKey(),await this.unlock(),e._id&&(await this.lock(`${this.moduleOptions.action}/${e._id}`)||this.lockNotAvailable())},async archive(){if(!await apos.confirm({heading:"apostrophe:areYouSure",description:"apostrophe:willMoveImageToArchive"}))return;const e=`${this.moduleOptions.action}/${this.activeMedia._id}`;try{const t=await apos.http.patch(e,{busy:!0,body:{archived:!0},draft:!0});apos.bus.$emit("content-changed",{doc:t,action:"archive"}),await apos.notify("apostrophe:contentArchived",{type:"success",icon:"archive-arrow-down-icon",dismiss:!0}),await this.cancel()}catch{await apos.notify("apostrophe:errorWhileArchiving",{type:"danger",icon:"alert-circle-icon",dismiss:!0})}},async save(){this.triggerValidation=!0;const e=`${this.moduleOptions.action}/${this.activeMedia._id}`;if(this.docFields.data.attachment=this.activeMedia.attachment,await this.$nextTick(),this.docFields.hasErrors){this.triggerValidation=!1,await apos.notify("apostrophe:resolveErrorsBeforeSaving",{type:"warning",icon:"alert-circle-icon",dismiss:!0});return}let t=this.docFields.data;this.addLockToRequest(t);try{const i=this.restoreOnly?apos.http.patch:apos.http.put;this.restoreOnly&&(t={archived:!1});const n=await i(e,{busy:!0,body:t,draft:!0});apos.bus.$emit("content-changed",{doc:n,action:this.restoreOnly?"restore":"update"}),this.original=ut(this.docFields.data);const s=this.restoreOnly?"apostrophe:contentRestored":"apostrophe:changesPublished";apos.notify(s,{type:"success",dismiss:!0})}catch(i){if(this.isLockedError(i))await this.showLockedError(i),this.lockNotAvailable();else{const n=this.restoreOnly?this.$t("apostrophe:mediaManagerErrorRestoring"):this.$t("apostrophe:mediaManagerErrorSaving");await this.handleSaveError(i,{fallback:`${n} ${this.moduleLabels.singular}`})}}finally{this.showReplace=!1}},generateLipKey(){this.lipKey=Ut.createId()},cancel(){this.showReplace=!1,this.$emit("back")},lockNotAvailable(){this.$emit("modified",!1),this.cancel()},updateActiveAttachment(e){this.activeMedia.attachment=e},viewMedia(){window.open(this.activeMedia.attachment._urls.original,"_blank")},async localize(e){if(this.isModified){if(!await this.confirmAndCancel())return;await this.cancel(),this.updateActiveDoc(this.activeMedia)}apos.bus.$emit("admin-menu-click",{itemName:"@apostrophecms/i18n:localize",props:{doc:this.activeMedia}})},async close(){await this.cancel()}}},iMe={key:0,class:"apos-media-editor__inner"},nMe={class:"apos-media-editor__thumb-wrapper"},sMe=["src","alt"],oMe={class:"apos-media-editor__details"},rMe={key:0,class:"apos-media-editor__detail"},aMe={key:1,class:"apos-media-editor__detail"},lMe={key:2,class:"apos-media-editor__detail"},cMe={class:"apos-media-editor__links"},dMe={class:"apos-media-editor__link","aria-hidden":"true"},uMe={key:0,class:"apos-media-editor__link"},hMe={key:1,class:"apos-media-editor__link"},fMe={class:"apos-media-editor__lip"};function pMe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposSchema"),l=O("AposContextMenu"),c=O("AposModalLip");return p(),y("div",{class:ne(["apos-media-editor",{"apos-is-replacing":s.showReplace}])},[s.activeMedia?(p(),y("div",iMe,[k("div",nMe,[s.activeMedia.attachment&&s.activeMedia.attachment._urls?(p(),y("img",{key:0,class:"apos-media-editor__thumb",src:s.activeMedia.attachment._urls[s.restoreOnly?"one-sixth":"one-third"],alt:s.activeMedia.description},null,8,sMe)):S("v-if",!0)]),k("ul",oMe,[o.createdDate?(p(),y("li",rMe,E(e.$t("apostrophe:mediaCreatedDate",{createdDate:o.createdDate})),1)):S("v-if",!0),o.fileSize?(p(),y("li",aMe,E(e.$t("apostrophe:mediaFileSize",{fileSize:o.fileSize})),1)):S("v-if",!0),s.activeMedia.attachment&&s.activeMedia.attachment.width?(p(),y("li",lMe,E(e.$t("apostrophe:mediaDimensions",{width:s.activeMedia.attachment.width,height:s.activeMedia.attachment.height})),1)):S("v-if",!0)]),k("ul",cMe,[k("li",dMe,[D(r,{type:"quiet",label:"apostrophe:replace",disabled:o.isArchived,onClick:t[0]||(t[0]=u=>s.showReplace=!0)},null,8,["disabled"])]),s.activeMedia.attachment&&s.activeMedia.attachment._urls?(p(),y("li",uMe,[D(r,{type:"quiet",label:"apostrophe:view",disabled:o.isArchived,onClick:o.viewMedia},null,8,["disabled","onClick"])])):S("v-if",!0),s.activeMedia.attachment&&s.activeMedia.attachment._urls?(p(),y("li",hMe,[D(r,{type:"quiet",label:"apostrophe:download",href:o.isArchived?null:s.activeMedia.attachment._urls.original,disabled:o.isArchived,download:""},null,8,["href","disabled"])])):S("v-if",!0)]),e.docFields.data.title!==void 0?(p(),R(a,{key:0,ref:"schema",modelValue:e.docFields,"onUpdate:modelValue":t[1]||(t[1]=u=>e.docFields=u),schema:e.schema,modifiers:["small","inverted"],"trigger-validation":s.triggerValidation,"doc-id":e.docFields.data._id,"following-values":e.followingValues(),"server-errors":e.serverErrors,onValidate:e.triggerValidate,onReset:t[2]||(t[2]=u=>e.$emit("modified",!1))},null,8,["modelValue","schema","trigger-validation","doc-id","following-values","server-errors","onValidate"])):S("v-if",!0)])):S("v-if",!0),D(c,{refresh:s.lipKey},{default:Q(()=>[k("div",fMe,[s.restoreOnly?S("v-if",!0):(p(),R(l,{key:0,button:{label:"apostrophe:moreOperations",iconOnly:!0,icon:"dots-vertical-icon",type:"subtle",modifiers:["small","no-motion"]},menu:o.moreMenu,"menu-placement":"top-end",onItemClicked:o.moreMenuHandler},null,8,["menu","onItemClicked"])),D(r,{class:"apos-media-editor__save",disabled:e.docFields.hasErrors,label:s.restoreOnly?"apostrophe:restore":"apostrophe:save",type:"primary",onClick:o.save},null,8,["disabled","label","onClick"])])]),_:1},8,["refresh"])],2)}const mMe=I(tMe,[["render",pMe],["__scopeId","data-v-ecfaa3dc"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/image/apos/components/AposMediaManagerEditor.vue"]]),gMe={props:{items:{type:Array,required:!0}},emits:["edit","clear"],data(){return{emptyState:{message:"apostrophe:noItemsSelected"},clearButton:{label:"apostrophe:clearSelection",type:"quiet",modifiers:["no-motion"]}}},methods:{edit(e){this.$emit("edit",e)},clear(){this.$emit("clear")}}},bMe={class:"apos-media-manager-selections"},yMe={key:0},vMe={class:"apos-media-manager-selections__heading"},_Me={class:"apos-media-manager-selections__items"},wMe={key:0,class:"apos-media-manager-selections__item-thumb-container"},CMe=["src","alt"],kMe={class:"apos-media-manager-selections__item-info"},AMe={class:"apos-media-manager-selections__item-title"},SMe={key:1,class:"apos-media-manager-selection__empty"};function xMe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposEmptyState");return p(),y("div",bMe,[i.items.length?(p(),y("div",yMe,[k("div",vMe,[Mt(E(i.items.length)+" items selected ",1),D(r,{label:"apostrophe:clear",type:"quiet",modifiers:["no-motion"],onClick:o.clear},null,8,["onClick"])]),k("ol",_Me,[(p(!0),y(Ce,null,Ie(i.items,l=>(p(),y("li",{key:l._id,class:"apos-media-manager-selections__item"},[l.attachment&&l.attachment._urls?(p(),y("div",wMe,[k("img",{src:l.attachment._urls["one-sixth"],alt:l.description||l.title,class:"apos-media-manager-selections__item-thumb"},null,8,CMe)])):S("v-if",!0),k("div",kMe,[k("div",AMe,E(l.title),1),l._edit?(p(),R(r,{key:0,label:"apostrophe:edit",type:"quiet",modifiers:["no-motion"],onClick:c=>o.edit(l._id)},null,8,["onClick"])):S("v-if",!0)])]))),128))])])):(p(),y("div",SMe,[D(a,{"empty-state":s.emptyState},null,8,["empty-state"])]))])}const MMe=I(gMe,[["render",xMe],["__scopeId","data-v-3e7a0cf6"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/image/apos/components/AposMediaManagerSelections.vue"]]),TMe={name:"AposMediaUploader",props:{action:{type:String,required:!0},disabled:{type:Boolean,default:!1},accept:{type:String,required:!1,default:null}},emits:["upload-started","upload-complete","create-placeholder"],data(){return{dragover:!1,dragoverCount:0}},computed:{},mounted(){apos.bus.$on("command-menu-manager-create-new",this.create)},unmounted(){apos.bus.$off("command-menu-manager-create-new",this.create)},methods:{create(){this.disabled||this.$refs.upload.click()},incrementDragover(){this.dragoverCount++,this.dragover=this.dragoverCount>0},decrementDragover(){this.dragoverCount--,this.dragover=this.dragoverCount>0},dragHandler(e){this.disabled||(e.preventDefault(),this.dragging=!0)},async uploadMedia(e){try{if(apos.bus.$emit("busy",{name:"busy",active:!0}),this.disabled)return;this.dragover=!1,this.$emit("upload-started");const t=e.dataTransfer?e.dataTransfer.files:e.target.files,i=t.length;let n=0;const s=await apos.http.post(this.action,{busy:!0,body:{_newInstance:!0},draft:!0});[...t].forEach(()=>this.createPlaceholder(s));const o=[];for(const a of t)try{const l=await this.insertImage(a,{...s});l!=null&&l._id&&o.push(l)}catch(l){n++;const c=l.body&&l.body.message?l.body.message:this.$t("apostrophe:uploadError");await apos.notify(c,{type:"danger",icon:"alert-circle-icon",dismiss:!0,localize:!1})}n>0&&await apos.notify("apostrophe:uploadedError",{type:"danger",icon:"alert-circle-icon",dismiss:!1,interpolate:{count:n}});const r=i-n;r>0&&await apos.notify("apostrophe:uploaded",{type:"success",dismiss:!0,interpolate:{count:r}}),this.$emit("upload-complete",o)}finally{apos.bus.$emit("busy",{name:"busy",active:!1}),this.$refs.upload.value=""}},createPlaceholder(e){this.$emit("create-placeholder",{...e,__placeholder:Ut.createId()})},async insertImage(e,t){const i=new window.FormData;i.append("file",e);const n=await apos.http.post("/api/v1/@apostrophecms/attachment/upload",{busy:!0,body:i}),s=Object.assign(t,{title:n.title,attachment:n});try{return await apos.http.post(this.action,{busy:!0,body:s,draft:!0})}catch(o){return await this.notifyErrors(o,this.$t("apostrophe:uploadError")),{}}},async notifyErrors(e,t){if(e.body&&e.body.data&&e.body.data.errors)for(const i of e.body.data.errors)await apos.notify(i.message||i.name||t,{type:"danger",icon:"alert-circle-icon",dismiss:!0,localize:!1})},onUploadDragAndDropKeyDown(e){const t=e.key==="Enter"||e.code==="Enter"||e.code==="NumpadEnter",i=e.keyCode===32||e.code==="Space";i&&e.preventDefault(),(t||i)&&this.create()}}},OMe=["disabled"],EMe={class:"apos-media-uploader__instructions"},IMe={class:"apos-media-uploader__primary"},$Me={key:0,class:"apos-media-uploader__secondary"},LMe=["accept","disabled"];function PMe(e,t,i,n,s,o){const r=O("AposCloudUploadIcon");return p(),y("label",{class:ne(["apos-media-manager-display__cell apos-media-uploader",{"apos-media-uploader--enabled":!i.disabled}]),disabled:i.disabled?i.disabled:null,onDrop:t[2]||(t[2]=Je((...a)=>o.uploadMedia&&o.uploadMedia(...a),["prevent"])),onDragover:t[3]||(t[3]=Je(()=>{},["prevent"])),onDragenter:t[4]||(t[4]=(...a)=>o.incrementDragover&&o.incrementDragover(...a)),onDragleave:t[5]||(t[5]=(...a)=>o.decrementDragover&&o.decrementDragover(...a))},[k("div",{class:ne(["apos-media-uploader__inner",{"apos-is-dragging":s.dragover}]),tabindex:"0","data-apos-focus-priority":"",onKeydown:t[0]||(t[0]=(...a)=>o.onUploadDragAndDropKeyDown&&o.onUploadDragAndDropKeyDown(...a))},[D(r,{class:"apos-media-uploader__icon"}),k("div",EMe,[k("p",IMe,E(e.$t(s.dragover?"apostrophe:mediaUploadViaDrop":"apostrophe:dropMedia")),1),s.dragover?S("v-if",!0):(p(),y("p",$Me,E(e.$t("apostrophe:mediaUploadViaExplorer")),1))])],34),k("input",{ref:"upload",type:"file",class:"apos-sr-only",accept:i.accept,multiple:"true",disabled:i.disabled,tabindex:"-1",onInput:t[1]||(t[1]=(...a)=>o.uploadMedia&&o.uploadMedia(...a))},null,40,LMe)],42,OMe)}const DMe=I(TMe,[["render",PMe],["__scopeId","data-v-9665b041"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/image/apos/components/AposMediaUploader.vue"]]),RMe={name:"AposSubmittedDraftIcon",data(){return{count:0}},computed:{canPublish(){return window.apos.modules["@apostrophecms/submitted-draft"].canPublish},tooltip(){return this.count>0?"apostrophe:manageDraftSubmissions":"apostrophe:noDraftSubmissions"}},mounted(){this.updateCount()},unmounted(){this.timeout&&clearTimeout(this.timeout)},methods:{open(){apos.bus.$emit("admin-menu-click","@apostrophecms/submitted-draft:manager")},async updateCount(){try{document.visibilityState!=="hidden"&&(this.count=(await apos.http.get(apos.modules["@apostrophecms/submitted-draft"].action,{qs:{count:1,aposMode:"draft"}})).count)}catch(e){console.error(e)}finally{this.timeout=setTimeout(this.updateCount,1e4)}}}},HMe={key:0,class:"apos-submitted-drafts__counter"};function VMe(e,t,i,n,s,o){const r=O("AposButton");return p(),R(r,{icon:"tray-full-icon",type:"subtle",modifiers:["small","no-motion"],disabled:s.count<=0,tooltip:o.tooltip,"icon-only":!0,onClick:o.open},{label:Q(()=>[o.canPublish&&s.count>0?(p(),y("span",HMe,E(s.count),1)):S("v-if",!0)]),_:1},8,["disabled","tooltip","onClick"])}const zMe=I(RMe,[["render",VMe],["__scopeId","data-v-a418bb2f"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/submitted-draft/apos/components/AposSubmittedDraftIcon.vue"]]),NMe={name:"AposCommandMenuKey",props:{label:{type:[String,Object],default:null},color:{type:String,default:null},textColor:{type:String,default:null},icon:{type:String,default:null},iconSize:{type:Number,default:12},textOnly:{type:Boolean,default:!1}},computed:{classes(){return[this.textOnly?"apos-command-menu-text":"apos-command-menu-key",!this.icon&&this.label.length>1?"apos-command-menu-key-auto":""]}}};function BMe(e,t,i,n,s,o){const r=O("AposIndicator");return p(),y("span",{class:ne(o.classes)},[i.icon?(p(),R(r,{key:0,icon:i.icon,"icon-size":i.iconSize,class:"apos-button__icon","fill-color":"color"},null,8,["icon","icon-size"])):S("v-if",!0),i.label?yt(e.$slots,"label",{key:1},()=>[Mt(E(e.$t(i.label)),1)],!0):S("v-if",!0)],2)}const FMe=I(NMe,[["render",BMe],["__scopeId","data-v-7d3edd8c"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/command-menu/apos/components/AposCommandMenuKey.vue"]]),jMe={name:"AposCommandMenuKeyList",props:{shortcut:{type:String,default:""}},computed:{keys(){const[e]=this.shortcut.split(" "),t={" ":"keyboard-space",alt:"apple-keyboard-option",arrowdown:"arrow-down-icon",arrowleft:"arrow-left-icon",arrowright:"arrow-right-icon",arrowup:"arrow-up-icon",backspace:"keyboard-backspace",caps:"apple-keyboard-caps",capslock:"apple-keyboard-caps",cmd:"apple-keyboard-command",command:"apple-keyboard-command",control:"apple-keyboard-control",ctrl:"apple-keyboard-control",enter:"keyboard-return",esc:"keyboard-esc",escape:"keyboard-esc",f10:"keyboard-f10",f11:"keyboard-f11",f12:"keyboard-f12",f1:"keyboard-f1",f2:"keyboard-f2",f3:"keyboard-f3",f4:"keyboard-f4",f5:"keyboard-f5",f6:"keyboard-f6",f7:"keyboard-f7",f8:"keyboard-f8",f9:"keyboard-f9",meta:"apple-keyboard-command",option:"apple-keyboard-option",return:"keyboard-return",shift:"apple-keyboard-shift",space:"keyboard-space",tab:"keyboard-tab"},i={delete:"del",pagedown:"pgdn",pageup:"pgup"};return e.split("+").flatMap(this.then).map(n=>{if(n==="then")return{icon:null,label:"apostrophe:commandMenuKeyThen",textOnly:!0};const s=t[n.toLowerCase()];return{icon:s,label:s?null:(i[n.toLowerCase()]||n).toLowerCase()}})}},methods:{then(e){return e.includes(",")?e.split(",").flatMap(t=>[t,"then"]).slice(0,-1):e}}},UMe={class:"apos-command-menu-keys"};function WMe(e,t,i,n,s,o){const r=O("AposCommandMenuKey");return p(),y("div",UMe,[(p(!0),y(Ce,null,Ie(o.keys,(a,l)=>(p(),R(r,{key:l,label:a.label,icon:a.icon,"text-only":a.textOnly},null,8,["label","icon","text-only"]))),128))])}const qMe=I(jMe,[["render",WMe],["__scopeId","data-v-a391713a"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/command-menu/apos/components/AposCommandMenuKeyList.vue"]]),KMe={name:"AposCommandMenuShortcut",emits:["safe-close"],data(){return{groups:apos.commandMenu.modals.default,modal:{busy:!1,active:!1,trapFocus:!1,type:"overlay",showModal:!1,disableHeader:!0}}},computed:{hasCommands(){return Object.keys(this.groups).length}},mounted(){apos.bus.$on("modal-launched",this.autoCloseWhenHidden),apos.bus.$on("modal-resolved",this.close),this.modal.active=!0;const e=apos.commandMenu.getModal(),t=apos.commandMenu.modals[e]||{};this.groups=t,this.hasCommands||this.$emit("safe-close")},beforeUnmount(){apos.bus.$off("modal-launched",this.autoCloseWhenHidden),apos.bus.$off("modal-resolved",this.close)},methods:{autoCloseWhenHidden(e){if(apos.modal.getProperties(e.id).itemName!=="@apostrophecms/command-menu:shortcut"){this.close();return}const i=apos.modal.getAt(-2);apos.modal.getProperties(i.id).itemName==="@apostrophecms/command-menu:shortcut"&&this.close()},close(){this.modal.showModal=!1},getLabel(e){if(typeof e=="object"&&e.key){const t=e.type?this.$t(e.type):"";return this.$t({...e,key:e.key,type:t})}return this.$t(e)}}},GMe={class:"apos-modal__header"},JMe={class:"apos-modal__header__main"},YMe={class:"apos-modal__heading"},ZMe={class:"apos-command-menu-shortcut-groups"},XMe={class:"apos-command-menu-shortcut-group-title"},QMe=["aria-keyshortcuts"],eTe={class:"apos-command-menu-shortcut-command-title"};function tTe(e,t,i,n,s,o){const r=O("AposButton"),a=O("AposCommandMenuKeyList"),l=O("AposModalBody"),c=O("AposModal");return p(),R(c,{modal:s.modal,class:"apos-command-menu-shortcut",onEsc:o.close,onInactive:t[0]||(t[0]=u=>s.modal.active=!1),onShowModal:t[1]||(t[1]=u=>s.modal.showModal=!0)},{main:Q(()=>[D(l,null,{bodyMain:Q(()=>[k("header",GMe,[k("div",JMe,[D(r,{attrs:{"data-apos-focus-priority":!0},type:"default",title:e.$t("apostrophe:commandMenuEsc"),"icon-only":!0,icon:"keyboard-esc",onClick:o.close},null,8,["title","onClick"]),k("h2",YMe,E(e.$t("apostrophe:commandMenuShortcut")),1)])]),k("section",ZMe,[(p(!0),y(Ce,null,Ie(s.groups,(u,h)=>(p(),y("div",{key:h,class:"apos-command-menu-shortcut-group"},[k("h3",XMe,E(o.getLabel(u.label)),1),(p(!0),y(Ce,null,Ie(u.commands,(m,g)=>(p(),y("div",{key:g,class:"apos-command-menu-shortcut-command","aria-keyshortcuts":m.shortcut},[k("div",eTe,E(o.getLabel(m.label)),1),D(a,{shortcut:m.shortcut},null,8,["shortcut"])],8,QMe))),128))]))),128))])]),_:1})]),_:1},8,["modal","onEsc"])}const iTe=I(KMe,[["render",tTe],["__scopeId","data-v-2a2eb10e"],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/command-menu/apos/components/AposCommandMenuShortcut.vue"]]),nTe={name:"TheAposCommandMenu",mixins:[sh],props:{modals:{type:Object,default(){return{}}}},data(){return{previousKey:"",modal:"default"}},computed:{...yx(Cr,["stack"]),shortcuts(){const e=Object.values(this.modals[this.modal]||{});return Object.fromEntries(e.flatMap(t=>Object.values(t.commands).filter(i=>i.shortcut).flatMap(i=>i.shortcut.split(" ").map(n=>[n.toUpperCase(),i.action]))))}},watch:{stack(e){this.modal=this.getFirstNonShortcutModal()}},mounted(){apos.bus.$on("@apostrophecms/command-menu:open-modal",async e=>{await apos.modal.execute(e.name,e.props)}),document.addEventListener("keydown",this.keyboardShortcutListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this.keyboardShortcutListener)},methods:{...vx(Cr,["getAt","getProperties"]),delay(e,t){return new Promise(()=>{setTimeout(e,t)})},getModal(){return this.modal},getFirstNonShortcutModal(e=-1){const t=this.getAt(e),i=this.getProperties(t.id);return i.itemName==="@apostrophecms/command-menu:shortcut"?this.getFirstNonShortcutModal(e+-1):i.itemName||"default"},keyboardShortcutListener(e){if(e.target.nodeName!=="INPUT"&&e.target.nodeName!=="TEXTAREA"&&document.activeElement.contentEditable!=="true"){const t=[["ALT",e.altKey],["CTRL",e.ctrlKey],["META",e.metaKey],["SHIFT",e.shiftKey],["KEY",e.key.toUpperCase()]].filter(([,s])=>s).map(([s,o])=>s==="KEY"?o:s).join("+"),i=this.previousKey?`${this.previousKey},${t}`:t,n=this.shortcuts[i]||this.shortcuts[i.startsWith("SHIFT+")?i.slice(6):i];if(n){e.preventDefault(),apos.bus.$emit(n.type,n.payload);return}e.key.length===1&&(this.previousKey=e.key.toUpperCase(),this.delay(()=>{this.previousKey=""},1e3))}}}};function sTe(e,t,i,n,s,o){return p(),y("div",{class:ne(["apos-command-menu",e.themeClass])},[S(" nothing for the moment ")],2)}const oTe=I(nTe,[["render",sTe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/command-menu/apos/components/TheAposCommandMenu.vue"]]),rTe={name:"AposTranslationIndicator",props:{label:{type:String,default:null},size:{type:Number,default:16}}},aTe={class:"apos-translation-indicator","data-apos-test":"translationIndicator"},lTe=["width","height"],cTe={key:0,class:"apos-translation-indicator__text"};function dTe(e,t,i,n,s,o){return p(),y("span",aTe,[(p(),y("svg",{width:i.size,height:i.size,viewBox:"0 0 24 24"},t[0]||(t[0]=[k("defs",null,[k("linearGradient",{id:"apos-translation-gradient",x1:"0",x2:"0",y1:"0",y2:"1"},[k("stop",{class:"stop1",offset:"0%"}),k("stop",{class:"stop2",offset:"100%"})])],-1),k("path",{id:"svg-path",d:"M19,1L17.74,3.75L15,5L17.74,6.26L19,9L20.25,6.26L23,5L20.25,3.75M9,4L6.5,9.5L1,12L6.5,14.5L9,20L11.5,14.5L17,12L11.5,9.5M19,15L17.74,17.74L15,19L17.74,20.25L19,23L20.25,20.25L23,19L20.25,17.74"},null,-1)]),8,lTe)),i.label?(p(),y("p",cTe,E(e.$t(i.label)),1)):S("v-if",!0)])}const uTe=I(rTe,[["render",dTe],["__file","/Users/vasyl/Projects/starter-kit-marketing/apos-build/@apostrophecms/vite/default/src/@apostrophecms/translation/apos/components/AposTranslationIndicator.vue"]]),hTe=e=>Mn.create({name:"anchor",priority:1e3,keepOnSplit:!1,addAttributes(){return{id:{default:null}}},parseHTML(){return[{tag:"span[id]"}]},renderHTML({HTMLAttributes:t}){return["span",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setAnchor:t=>({chain:i})=>i().setMark(this.name,t).run(),toggleAnchor:t=>({chain:i})=>i().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).run(),unsetAnchor:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).run()}}}),fTe=e=>{const t={};return[...e.nodes||[],...e.marks||[]].forEach(n=>{var o;const s=(o=n.tag)==null?void 0:o.toLowerCase();s&&(t[s]=(t[s]||[]).concat(...n.class?n.class.split(" "):[]))}),Oi.create({addCommands(){return{toggleClassOrToggleMark:(n,s)=>({editor:o,commands:r})=>{if(o.isActive("textStyle")){let a,l=o.getAttributes("textStyle").class;typeof l=="string"&&(l=l.split(" ")),Array.isArray(l)?l=l.filter(c=>typeof c=="string"&&c.length>0):l=[],l.includes(s.class)?a=l.filter(c=>c!==s.class):a=l.concat(s.class),a.length===0?r.toggleMark("textStyle",{class:s.class}):r.updateAttributes("textStyle",{class:a.length?a.join(" "):null})}else r.toggleMark("textStyle",{class:s.class})}}},addGlobalAttributes(){return[{types:Object.keys(e.types),attributes:{class:{default:null,renderHTML(n){return{class:n.class}},parseHTML(n){const s=n.tagName.toLowerCase();if(!t[s])return null;const o=(n.getAttribute("class")||"").split(" ").filter(r=>t[s].includes(r));return o.length?o.join(" "):null}}}}]}})},pTe=e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach(i=>{var n,s;const o=i.getAttribute("style"),r=(s=(n=i.parentElement)===null||n===void 0?void 0:n.closest("span"))===null||s===void 0?void 0:s.getAttribute("style");i.setAttribute("style",`${r};${o}`)})},mTe=Mn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&pTe(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",qt(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(i,n)=>{if(i.isTextblock)return!0;i.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(o=>!!o))||e.removeMark(n,n+i.nodeSize,this.type)}),!0}}}}),gTe=Oi.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),bTe=e=>gTe.extend({}),S5=ji.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Xy({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),yTe={heading:S5,paragraph:DT},vTe=e=>{const t=[...e.nodes,...e.marks],[i]=t.filter(o=>o.def);if(!i)return;const n="defaultNode",s={class:i.options.class||null};if(i.type==="heading"||i.type==="paragraph")return yTe[i.type].extend({name:n,addOptions(){var o;return{...(o=this.parent)==null?void 0:o.call(this),HTMLAttributes:s,levels:i.options.level?[i.options.level]:null}}});if(i.type==="textStyle")return ji.create({group:"block",content:"text*",name:n,addOptions(){var o;return{...(o=this.parent)==null?void 0:o.call(this),HTMLAttributes:s}},renderHTML:()=>["span",s,0],parseHTML(){return[{tag:"span",getAttrs:o=>o.hasAttribute("style")?{}:!1}]}})},_Te=e=>ji.create({name:"div",addOptions(){return{HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,parseHTML(){return[{tag:"div"}]},renderHTML({HTMLAttributes:t}){return["div",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setDiv:t=>({commands:i})=>i.setNode(this.name,t),toggleDiv:t=>({commands:i})=>i.toggleNode(this.name,"paragraph",t)}}}),wTe=e=>{const t=e.nodes.filter(n=>n.def)[0];let i="block+";return t&&(i="(defaultNode|block)+"),ji.create({name:"doc",topNode:!0,content:i})},CTe=e=>{const t=e.nodes.filter(s=>s.type==="heading"),i=t.map(s=>s.options.level),n=t.filter(s=>s.def).length?t.filter(s=>s.def)[0].options.level:i[0];return S5.extend({addOptions(){var s;return{...(s=this.parent)==null?void 0:s.call(this),levels:i}},addAttributes(){var s;return{...(s=this.parent)==null?void 0:s.call(this),level:{default:n,rendered:!1}}},addKeyboardShortcuts(){const s=Object.keys(this.editor.schema.marks);return this.options.levels.reduce((o,r)=>({...o,[`Mod-Alt-${r}`]:()=>this.editor.commands.toggleHeading({level:r}),Enter:()=>s.forEach(a=>this.editor.commands.unsetMark(a))}),{})}})},kTe=e=>ji.create({name:"image",addOptions(){return{addPasteHandler:!0,openOnClick:!1,HTMLAttributes:{}}},allowGapCursor:!0,atom:!0,selectable:!0,group:"block",content:"inline*",draggable:!0,addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),...apos.modules["@apostrophecms/rich-text-widget"].linkSchema.filter(i=>!!i.htmlAttribute).filter(i=>!i.extensions||i.extensions.includes("Image")).reduce((i,n)=>(i[n.htmlAttribute]={default:n.def??null,parseHTML:s=>{var o;return(o=s.querySelector("a"))==null?void 0:o.getAttribute(n.htmlAttribute)}},i),{}),imageId:{default:null,parseHTML:i=>{var a;const s=((a=i.querySelector("img"))==null?void 0:a.getAttribute("src")).split("/");return s.length<2||s.pop()!=="src"?!1:s.pop()}},href:{default:null,parseHTML:i=>{var n;return(n=i.querySelector("a"))==null?void 0:n.getAttribute("href")}},title:{default:null,parseHTML:i=>{var n;return(n=i.querySelector("a"))==null?void 0:n.getAttribute("title")}},rel:{default:null,parseHTML:i=>{var n;return(n=i.querySelector("a"))==null?void 0:n.getAttribute("rel")}},caption:{default:"",parseHTML:i=>{var n;return((n=i.querySelector("figcaption"))==null?void 0:n.innerText)||""}},style:{default:null,parseHTML:i=>i.getAttribute("class")},alt:{default:null,parseHTML:i=>{var n;return(n=i.querySelector("img"))==null?void 0:n.getAttribute("alt")}}}},parseHTML(){return[{tag:"figure",contentElement:"figcaption"}]},renderHTML({HTMLAttributes:t}){const i=["figure",qt(this.options.HTMLAttributes,{class:t.style})],n={src:`${apos.modules["@apostrophecms/image"].action}/${t.imageId}/src`,alt:t.alt,draggable:!1,contenteditable:!1};if(t.href){const s=apos.modules["@apostrophecms/rich-text-widget"].linkSchema.filter(o=>!!o.htmlAttribute).filter(o=>!o.extensions||o.extensions.includes("Image")).reduce((o,r)=>(o[r.htmlAttribute]=t[r.htmlAttribute],o),{});i.push(["a",qt(s,{href:t.href,title:t.title,target:t.target,rel:t.rel,draggable:!1,contenteditable:!1}),["img",n]])}else i.push(["img",n]);return i.push(["figcaption",0]),i},addNodeView(){return({editor:t,node:i,getPos:n,HTMLAttributes:s,decorations:o})=>{const r=t.isEditable?"ProseMirror-selectednode":"",a=new Set(["imageId","href","title","caption","style","alt"]),l=Object.keys(s).filter(v=>!a.has(v)),c=document.createElement("figure");s.style&&(c.className=s.style);const u=document.createElement("img");u.src=`${apos.modules["@apostrophecms/image"].action}/${i.attrs.imageId}/src`,s.alt&&(u.alt=s.alt),u.draggable=!1;const h=document.createElement("figcaption");h.innerText=s.caption||"",h.contentEditable="false";let m=null;if(s.href){m=document.createElement("a");for(const v of l)s[v]!==null&&m.setAttribute(v,s[v]);s.rel&&(m.rel=s.rel),m.href=s.href,s.title&&(m.title=s.title),m.appendChild(u),m.addEventListener("click",g),c.appendChild(m)}else c.appendChild(u);c.appendChild(h);function g(v){t.isEditable&&v.preventDefault()}return{dom:c,update:v=>{if(v.type!==i.type)return!1;v.attrs.style?c.className=r+" "+v.attrs.style:c.className=r,u.alt=v.attrs.alt,u.src=v.attrs.imageId?`${apos.modules["@apostrophecms/image"].action}/${v.attrs.imageId}/src`:"",h.innerText=v.attrs.caption||"";const _=c.querySelector("a");if(v.attrs.href&&!_?(m=document.createElement("a"),m.addEventListener("click",g),c.insertBefore(m,u),m.appendChild(u)):!v.attrs.href&&_&&(m=c.querySelector("a"),c.insertBefore(u,m),m.removeEventListener("click",g),m.remove(),m=null),m){for(const w of l)v.attrs[w]!==null?m.setAttribute(w,v.attrs[w]):m.removeAttribute(w);m.href=v.attrs.href,v.attrs.title?m.title=v.attrs.title:m.removeAttribute("title"),v.attrs.rel?m.rel=v.attrs.rel:m.removeAttribute("rel")}return!0}}}},addCommands(){return{setImage:t=>({chain:i})=>i().focus().insertContent({type:this.name,attrs:t,content:t!=null&&t.caption?[{type:"text",text:t.caption}]:[]}).run()}}}),ATe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",STe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Kc=(e,t)=>{for(const i in t)e[i]=t[i];return e},xv="numeric",Mv="ascii",Tv="alpha",uu="asciinumeric",Ud="alphanumeric",Ov="domain",x5="emoji",xTe="scheme",MTe="slashscheme",ey="whitespace";function TTe(e,t){return e in t||(t[e]=[]),t[e]}function il(e,t,i){t[xv]&&(t[uu]=!0,t[Ud]=!0),t[Mv]&&(t[uu]=!0,t[Tv]=!0),t[uu]&&(t[Ud]=!0),t[Tv]&&(t[Ud]=!0),t[Ud]&&(t[Ov]=!0),t[x5]&&(t[Ov]=!0);for(const n in t){const s=TTe(n,i);s.indexOf(e)<0&&s.push(e)}}function OTe(e,t){const i={};for(const n in t)t[n].indexOf(e)>=0&&(i[n]=!0);return i}function Pn(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Pn.groups={};Pn.prototype={accepts(){return!!this.t},go(e){const t=this,i=t.j[e];if(i)return i;for(let n=0;n<t.jr.length;n++){const s=t.jr[n][0],o=t.jr[n][1];if(o&&s.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,i,n){for(let s=0;s<e.length;s++)this.tt(e[s],t,i,n)},tr(e,t,i,n){n=n||Pn.groups;let s;return t&&t.j?s=t:(s=new Pn(t),i&&n&&il(t,i,n)),this.jr.push([e,s]),s},ts(e,t,i,n){let s=this;const o=e.length;if(!o)return s;for(let r=0;r<o-1;r++)s=s.tt(e[r]);return s.tt(e[o-1],t,i,n)},tt(e,t,i,n){n=n||Pn.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const o=t;let r,a=s.go(e);if(a?(r=new Pn,Kc(r.j,a.j),r.jr.push.apply(r.jr,a.jr),r.jd=a.jd,r.t=a.t):r=new Pn,o){if(n)if(r.t&&typeof r.t=="string"){const l=Kc(OTe(r.t,n),i);il(o,l,n)}else i&&il(o,i,n);r.t=o}return s.j[e]=r,r}};const wt=(e,t,i,n,s)=>e.ta(t,i,n,s),ui=(e,t,i,n,s)=>e.tr(t,i,n,s),zS=(e,t,i,n,s)=>e.ts(t,i,n,s),ke=(e,t,i,n,s)=>e.tt(t,i,n,s),or="WORD",Ev="UWORD",M5="ASCIINUMERICAL",T5="ALPHANUMERICAL",qu="LOCALHOST",Iv="TLD",$v="UTLD",fp="SCHEME",bc="SLASH_SCHEME",o_="NUM",Lv="WS",r_="NL",hu="OPENBRACE",fu="CLOSEBRACE",nm="OPENBRACKET",sm="CLOSEBRACKET",om="OPENPAREN",rm="CLOSEPAREN",am="OPENANGLEBRACKET",lm="CLOSEANGLEBRACKET",cm="FULLWIDTHLEFTPAREN",dm="FULLWIDTHRIGHTPAREN",um="LEFTCORNERBRACKET",hm="RIGHTCORNERBRACKET",fm="LEFTWHITECORNERBRACKET",pm="RIGHTWHITECORNERBRACKET",mm="FULLWIDTHLESSTHAN",gm="FULLWIDTHGREATERTHAN",bm="AMPERSAND",ym="APOSTROPHE",vm="ASTERISK",Xr="AT",_m="BACKSLASH",wm="BACKTICK",Cm="CARET",sa="COLON",a_="COMMA",km="DOLLAR",fo="DOT",Am="EQUALS",l_="EXCLAMATION",ks="HYPHEN",pu="PERCENT",Sm="PIPE",xm="PLUS",Mm="POUND",mu="QUERY",c_="QUOTE",O5="FULLWIDTHMIDDLEDOT",d_="SEMI",po="SLASH",gu="TILDE",Tm="UNDERSCORE",E5="EMOJI",Om="SYM";var I5=Object.freeze({__proto__:null,ALPHANUMERICAL:T5,AMPERSAND:bm,APOSTROPHE:ym,ASCIINUMERICAL:M5,ASTERISK:vm,AT:Xr,BACKSLASH:_m,BACKTICK:wm,CARET:Cm,CLOSEANGLEBRACKET:lm,CLOSEBRACE:fu,CLOSEBRACKET:sm,CLOSEPAREN:rm,COLON:sa,COMMA:a_,DOLLAR:km,DOT:fo,EMOJI:E5,EQUALS:Am,EXCLAMATION:l_,FULLWIDTHGREATERTHAN:gm,FULLWIDTHLEFTPAREN:cm,FULLWIDTHLESSTHAN:mm,FULLWIDTHMIDDLEDOT:O5,FULLWIDTHRIGHTPAREN:dm,HYPHEN:ks,LEFTCORNERBRACKET:um,LEFTWHITECORNERBRACKET:fm,LOCALHOST:qu,NL:r_,NUM:o_,OPENANGLEBRACKET:am,OPENBRACE:hu,OPENBRACKET:nm,OPENPAREN:om,PERCENT:pu,PIPE:Sm,PLUS:xm,POUND:Mm,QUERY:mu,QUOTE:c_,RIGHTCORNERBRACKET:hm,RIGHTWHITECORNERBRACKET:pm,SCHEME:fp,SEMI:d_,SLASH:po,SLASH_SCHEME:bc,SYM:Om,TILDE:gu,TLD:Iv,UNDERSCORE:Tm,UTLD:$v,UWORD:Ev,WORD:or,WS:Lv});const ir=/[a-z]/,Ld=new RegExp("\\p{L}","u"),ty=new RegExp("\\p{Emoji}","u"),nr=/\d/,iy=/\s/,NS="\r",ny=`
`,ETe="",ITe="",sy="";let zf=null,Nf=null;function $Te(e=[]){const t={};Pn.groups=t;const i=new Pn;zf==null&&(zf=BS(ATe)),Nf==null&&(Nf=BS(STe)),ke(i,"'",ym),ke(i,"{",hu),ke(i,"}",fu),ke(i,"[",nm),ke(i,"]",sm),ke(i,"(",om),ke(i,")",rm),ke(i,"<",am),ke(i,">",lm),ke(i,"",cm),ke(i,"",dm),ke(i,"",um),ke(i,"",hm),ke(i,"",fm),ke(i,"",pm),ke(i,"",mm),ke(i,"",gm),ke(i,"&",bm),ke(i,"*",vm),ke(i,"@",Xr),ke(i,"`",wm),ke(i,"^",Cm),ke(i,":",sa),ke(i,",",a_),ke(i,"$",km),ke(i,".",fo),ke(i,"=",Am),ke(i,"!",l_),ke(i,"-",ks),ke(i,"%",pu),ke(i,"|",Sm),ke(i,"+",xm),ke(i,"#",Mm),ke(i,"?",mu),ke(i,'"',c_),ke(i,"/",po),ke(i,";",d_),ke(i,"~",gu),ke(i,"_",Tm),ke(i,"\\",_m),ke(i,"",O5);const n=ui(i,nr,o_,{[xv]:!0});ui(n,nr,n);const s=ui(n,ir,M5,{[uu]:!0}),o=ui(n,Ld,T5,{[Ud]:!0}),r=ui(i,ir,or,{[Mv]:!0});ui(r,nr,s),ui(r,ir,r),ui(s,nr,s),ui(s,ir,s);const a=ui(i,Ld,Ev,{[Tv]:!0});ui(a,ir),ui(a,nr,o),ui(a,Ld,a),ui(o,nr,o),ui(o,ir),ui(o,Ld,o);const l=ke(i,ny,r_,{[ey]:!0}),c=ke(i,NS,Lv,{[ey]:!0}),u=ui(i,iy,Lv,{[ey]:!0});ke(i,sy,u),ke(c,ny,l),ke(c,sy,u),ui(c,iy,u),ke(u,NS),ke(u,ny),ui(u,iy,u),ke(u,sy,u);const h=ui(i,ty,E5,{[x5]:!0});ke(h,"#"),ui(h,ty,h),ke(h,ETe,h);const m=ke(h,ITe);ke(m,"#"),ui(m,ty,h);const g=[[ir,r],[nr,s]],v=[[ir,null],[Ld,a],[nr,o]];for(let _=0;_<zf.length;_++)Fr(i,zf[_],Iv,or,g);for(let _=0;_<Nf.length;_++)Fr(i,Nf[_],$v,Ev,v);il(Iv,{tld:!0,ascii:!0},t),il($v,{utld:!0,alpha:!0},t),Fr(i,"file",fp,or,g),Fr(i,"mailto",fp,or,g),Fr(i,"http",bc,or,g),Fr(i,"https",bc,or,g),Fr(i,"ftp",bc,or,g),Fr(i,"ftps",bc,or,g),il(fp,{scheme:!0,ascii:!0},t),il(bc,{slashscheme:!0,ascii:!0},t),e=e.sort((_,w)=>_[0]>w[0]?1:-1);for(let _=0;_<e.length;_++){const w=e[_][0],L=e[_][1]?{[xTe]:!0}:{[MTe]:!0};w.indexOf("-")>=0?L[Ov]=!0:ir.test(w)?nr.test(w)?L[uu]=!0:L[Mv]=!0:L[xv]=!0,zS(i,w,w,L)}return zS(i,"localhost",qu,{ascii:!0}),i.jd=new Pn(Om),{start:i,tokens:Kc({groups:t},I5)}}function $5(e,t){const i=LTe(t.replace(/[A-Z]/g,a=>a.toLowerCase())),n=i.length,s=[];let o=0,r=0;for(;r<n;){let a=e,l=null,c=0,u=null,h=-1,m=-1;for(;r<n&&(l=a.go(i[r]));)a=l,a.accepts()?(h=0,m=0,u=a):h>=0&&(h+=i[r].length,m++),c+=i[r].length,o+=i[r].length,r++;o-=h,r-=m,c-=h,s.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return s}function LTe(e){const t=[],i=e.length;let n=0;for(;n<i;){let s=e.charCodeAt(n),o,r=s<55296||s>56319||n+1===i||(o=e.charCodeAt(n+1))<56320||o>57343?e[n]:e.slice(n,n+2);t.push(r),n+=r.length}return t}function Fr(e,t,i,n,s){let o;const r=t.length;for(let a=0;a<r-1;a++){const l=t[a];e.j[l]?o=e.j[l]:(o=new Pn(n),o.jr=s.slice(),e.j[l]=o),e=o}return o=new Pn(i),o.jr=s.slice(),e.j[t[r-1]]=o,o}function BS(e){const t=[],i=[];let n=0,s="0123456789";for(;n<e.length;){let o=0;for(;s.indexOf(e[n+o])>=0;)o++;if(o>0){t.push(i.join(""));for(let r=parseInt(e.substring(n,n+o),10);r>0;r--)i.pop();n+=o}else i.push(e[n]),n++}return t}const Ku={defaultProtocol:"http",events:null,format:FS,formatHref:FS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function u_(e,t=null){let i=Kc({},Ku);e&&(i=Kc(i,e instanceof u_?e.o:e));const n=i.ignoreTags,s=[];for(let o=0;o<n.length;o++)s.push(n[o].toUpperCase());this.o=i,t&&(this.defaultRender=t),this.ignoreTags=s}u_.prototype={o:Ku,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,i){const n=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=i.t in s?s[i.t]:Ku[e],typeof s=="function"&&n&&(s=s(t,i))):typeof s=="function"&&n&&(s=s(t,i.t,i)),s)},getObj(e,t,i){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,i.t,i)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function FS(e){return e}function L5(e,t){this.t="token",this.v=e,this.tk=t}L5.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),i=e.get("truncate",t,this),n=e.get("format",t,this);return i&&n.length>i?n.substring(0,i)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Ku.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,i=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",i,this),s=e.get("tagName",i,t),o=this.toFormattedString(e),r={},a=e.get("className",i,t),l=e.get("target",i,t),c=e.get("rel",i,t),u=e.getObj("attributes",i,t),h=e.getObj("events",i,t);return r.href=n,a&&(r.class=a),l&&(r.target=l),c&&(r.rel=c),u&&Kc(r,u),{tagName:s,attributes:r,content:o,eventListeners:h}}};function mg(e,t){class i extends L5{constructor(s,o){super(s,o),this.t=e}}for(const n in t)i.prototype[n]=t[n];return i.t=e,i}const jS=mg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),US=mg("text"),PTe=mg("nl"),Bf=mg("url",{isLink:!0,toHref(e=Ku.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==qu&&e[1].t===sa}}),_s=e=>new Pn(e);function DTe({groups:e}){const t=e.domain.concat([bm,vm,Xr,_m,wm,Cm,km,Am,ks,o_,pu,Sm,xm,Mm,po,Om,gu,Tm]),i=[ym,sa,a_,fo,l_,pu,mu,c_,d_,am,lm,hu,fu,sm,nm,om,rm,cm,dm,um,hm,fm,pm,mm,gm],n=[bm,ym,vm,_m,wm,Cm,km,Am,ks,hu,fu,pu,Sm,xm,Mm,mu,po,Om,gu,Tm],s=_s(),o=ke(s,gu);wt(o,n,o),wt(o,e.domain,o);const r=_s(),a=_s(),l=_s();wt(s,e.domain,r),wt(s,e.scheme,a),wt(s,e.slashscheme,l),wt(r,n,o),wt(r,e.domain,r);const c=ke(r,Xr);ke(o,Xr,c),ke(a,Xr,c),ke(l,Xr,c);const u=ke(o,fo);wt(u,n,o),wt(u,e.domain,o);const h=_s();wt(c,e.domain,h),wt(h,e.domain,h);const m=ke(h,fo);wt(m,e.domain,h);const g=_s(jS);wt(m,e.tld,g),wt(m,e.utld,g),ke(c,qu,g);const v=ke(h,ks);ke(v,ks,v),wt(v,e.domain,h),wt(g,e.domain,h),ke(g,fo,m),ke(g,ks,v);const _=ke(g,sa);wt(_,e.numeric,jS);const w=ke(r,ks),A=ke(r,fo);ke(w,ks,w),wt(w,e.domain,r),wt(A,n,o),wt(A,e.domain,r);const L=_s(Bf);wt(A,e.tld,L),wt(A,e.utld,L),wt(L,e.domain,r),wt(L,n,o),ke(L,fo,A),ke(L,ks,w),ke(L,Xr,c);const N=ke(L,sa),M=_s(Bf);wt(N,e.numeric,M);const P=_s(Bf),F=_s();wt(P,t,P),wt(P,i,F),wt(F,t,P),wt(F,i,F),ke(L,po,P),ke(M,po,P);const K=ke(a,sa),se=ke(l,sa),j=ke(se,po),V=ke(j,po);wt(a,e.domain,r),ke(a,fo,A),ke(a,ks,w),wt(l,e.domain,r),ke(l,fo,A),ke(l,ks,w),wt(K,e.domain,P),ke(K,po,P),ke(K,mu,P),wt(V,e.domain,P),wt(V,t,P),ke(V,po,P);const z=[[hu,fu],[nm,sm],[om,rm],[am,lm],[cm,dm],[um,hm],[fm,pm],[mm,gm]];for(let Z=0;Z<z.length;Z++){const[le,ie]=z[Z],re=ke(P,le);ke(F,le,re),ke(re,ie,P);const te=_s(Bf);wt(re,t,te);const ee=_s();wt(re,i),wt(te,t,te),wt(te,i,ee),wt(ee,t,te),wt(ee,i,ee),ke(te,ie,P),ke(ee,ie,P)}return ke(s,qu,L),ke(s,r_,PTe),{start:s,tokens:I5}}function RTe(e,t,i){let n=i.length,s=0,o=[],r=[];for(;s<n;){let a=e,l=null,c=null,u=0,h=null,m=-1;for(;s<n&&!(l=a.go(i[s].t));)r.push(i[s++]);for(;s<n&&(c=l||a.go(i[s].t));)l=null,a=c,a.accepts()?(m=0,h=a):m>=0&&m++,s++,u++;if(m<0)s-=u,s<n&&(r.push(i[s]),s++);else{r.length>0&&(o.push(oy(US,t,r)),r=[]),s-=m,u-=m;const g=h.t,v=i.slice(s-u,s);o.push(oy(g,t,v))}}return r.length>0&&o.push(oy(US,t,r)),o}function oy(e,t,i){const n=i[0].s,s=i[i.length-1].e,o=t.slice(n,s);return new e(o,i)}const HTe=typeof console<"u"&&console&&console.warn||(()=>{}),VTe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ni={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function zTe(){return Pn.groups={},ni.scanner=null,ni.parser=null,ni.tokenQueue=[],ni.pluginQueue=[],ni.customSchemes=[],ni.initialized=!1,ni}function WS(e,t=!1){if(ni.initialized&&HTe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${VTe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ni.customSchemes.push([e,t])}function NTe(){ni.scanner=$Te(ni.customSchemes);for(let e=0;e<ni.tokenQueue.length;e++)ni.tokenQueue[e][1]({scanner:ni.scanner});ni.parser=DTe(ni.scanner.tokens);for(let e=0;e<ni.pluginQueue.length;e++)ni.pluginQueue[e][1]({scanner:ni.scanner,parser:ni.parser});return ni.initialized=!0,ni}function h_(e){return ni.initialized||NTe(),RTe(ni.parser.start,e,$5(ni.scanner.start,e))}h_.scan=$5;function P5(e,t=null,i=null){if(t&&typeof t=="object"){if(i)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);i=t,t=null}const n=new u_(i),s=h_(e),o=[];for(let r=0;r<s.length;r++){const a=s[r];a.isLink&&(!t||a.t===t)&&n.check(a)&&o.push(a.toFormattedObject(n))}return o}function BTe(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function FTe(e){return new bi({key:new Pi("autolink"),appendTransaction:(t,i,n)=>{const s=t.some(c=>c.docChanged)&&!i.doc.eq(n.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!s||o)return;const{tr:r}=n,a=q1e(i.doc,[...t]);if(X1e(a).forEach(({newRange:c})=>{const u=G1e(n.doc,c,g=>g.isTextblock);let h,m;if(u.length>1?(h=u[0],m=n.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ")):u.length&&n.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(h=u[0],m=n.doc.textBetween(h.pos,c.to,void 0," ")),h&&m){const g=m.split(" ").filter(A=>A!=="");if(g.length<=0)return!1;const v=g[g.length-1],_=h.pos+m.lastIndexOf(v);if(!v)return!1;const w=h_(v).map(A=>A.toObject(e.defaultProtocol));if(!BTe(w))return!1;w.filter(A=>A.isLink).map(A=>({...A,from:_+A.start+1,to:_+A.end+1})).filter(A=>n.schema.marks.code?!n.doc.rangeHasMark(A.from,A.to,n.schema.marks.code):!0).filter(A=>e.validate(A.value)).filter(A=>e.shouldAutoLink(A.value)).forEach(A=>{z0(A.from,A.to,n.doc).some(L=>L.mark.type===e.type)||r.addMark(A.from,A.to,e.type.create({href:A.href}))})}}),!!r.steps.length)return r}})}function jTe(e){return new bi({key:new Pi("handleClickLink"),props:{handleClick:(t,i,n)=>{var s,o;if(n.button!==0||!t.editable)return!1;let r=n.target;const a=[];for(;r.nodeName!=="DIV";)a.push(r),r=r.parentNode;if(!a.find(m=>m.nodeName==="A"))return!1;const l=sT(t.state,e.type.name),c=n.target,u=(s=c==null?void 0:c.href)!==null&&s!==void 0?s:l.href,h=(o=c==null?void 0:c.target)!==null&&o!==void 0?o:l.target;return c&&u?(window.open(u,h),!0):!1}}})}function UTe(e){return new bi({key:new Pi("handlePasteLink"),props:{handlePaste:(t,i,n)=>{const{state:s}=t,{selection:o}=s,{empty:r}=o;if(r)return!1;let a="";n.content.forEach(c=>{a+=c.textContent});const l=P5(a,{defaultProtocol:e.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(e.editor.commands.setMark(e.type,{href:l.href}),!0)}}})}const WTe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Wa(e,t){const i=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&i.push(s)}),!e||e.replace(WTe,"").match(new RegExp(`^(?:(?:${i.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const qTe=Mn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){WS(e);return}WS(e.scheme,e.optionalSlashes)})},onDestroy(){zTe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Wa(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:i=>!!Wa(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Wa(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",qt(this.options.HTMLAttributes,e),0]:["a",qt(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>{const{href:i}=e;return this.options.isAllowedUri(i,{defaultValidate:n=>!!Wa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:i}=e;return this.options.isAllowedUri(i,{defaultValidate:n=>!!Wa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ka({find:e=>{const t=[];if(e){const{protocols:i,defaultProtocol:n}=this.options,s=P5(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:r=>!!Wa(r,i),protocols:i,defaultProtocol:n}));s.length&&s.forEach(o=>t.push({text:o.value,data:{href:o.href},index:o.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:i}=this.options;return this.options.autolink&&e.push(FTe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!Wa(s,t),protocols:t,defaultProtocol:i}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(jTe({type:this.type})),this.options.linkOnPaste&&e.push(UTe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),KTe=e=>qTe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),openOnClick:!1,linkOnPaste:!0,HTMLAttributes:{}}},addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),title:{default:null,parseHTML:i=>i.getAttribute("title")},...apos.modules["@apostrophecms/rich-text-widget"].linkSchema.filter(i=>!!i.htmlAttribute).filter(i=>!i.extensions||i.extensions.includes("Link")).reduce((i,n)=>(i[n.htmlAttribute]={default:n.def??null},i),{})}}}),GTe=ji.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",qt(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),JTe=e=>GTe.extend({content:"defaultNode block*"}),YTe=e=>mTe.extend({parseHTML(){return[{tag:"span"}]}}),ZTe=()=>{let e=!1;apos.util.onReady(()=>{e||(e=!0,apos.bus.$on("apos-localize-batch-results",t))});async function t({log:i,ids:n}){const s=i.filter(h).length,o=i.filter(m).length;if(!s){o&&await apos.notify("apostrophe:localizingNotificationSuccess",{type:"success",icon:"translate-icon",interpolate:{count:o},dismiss:!0});return}const r=Object.entries(window.apos.i18n.locales).map(([_,w])=>({name:_,label:w.label||_})),a=i.map(_=>{const w=r.find(A=>A.name===_.locale)??r[0]??{name:"en",label:"English"};return{_id:_._id+":"+w.name,type:g(_),detail:_.detail,relationship:_.relationship,locale:w,doc:{_id:_._id,title:_.title,aposDocId:_.aposDocId,type:_.type,typeLabel:v(_.type)}}});await apos.report({heading:"apostrophe:localizingReportHeading",description:"apostrophe:localizingReportDesc",footerMessageDanger:"apostrophe:localizingReportHeading",items:a,headers:[{name:"doc.aposDocId",label:"_id",format:"last:5"},{name:"doc.typeLabel",label:"apostrophe:type",sortable:!0},{name:"locale.label",label:"apostrophe:locale",sortable:!0},{name:"relationship",label:"apostrophe:relationship",format:"yesno",visibility:"export",sortable:!0},{name:"doc.title",label:"apostrophe:title",width:"20%",sortable:!0},{name:"detail",label:"apostrophe:details",width:"20%"}]},{mode:"error"});const l=o?"warning":"danger",c={warning:"apostrophe:localizingNotificationWarning",danger:"apostrophe:localizingNotificationDanger"},u={warning:{count:o,skipCount:s},danger:{count:s}};await apos.notify(c[l],{type:l,icon:"translate-icon",interpolate:u[l],dismiss:!0});function h(_){return![!1,"conflict"].includes(_.error)}function m(_){return _.error===!1}function g(_){return _.error==="conflict"?"info":_.error?"error":"success"}function v(_){const w=apos.modules[_]||{};return w.action==="@apostrophecms/page"?"apostrophe:page":w.label||_}}},XTe=()=>{apos.i18n.crossDomainClipboard&&localStorage.setItem("aposWidgetClipboard",apos.i18n.crossDomainClipboard)},QTe={install(e,t){e.directive("click-outside-element",{beforeMount(i,n){i.aposClickOutsideHandler=s=>{i!==s.target&&!i.contains(s.target)&&!apos.modal.onTopOf(s.target,i)&&n.value(s)},document.body.addEventListener("click",i.aposClickOutsideHandler)},beforeUnmount(i,n){document.body.removeEventListener("click",i.aposClickOutsideHandler)}})}};function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function e5e(e,t){if(Js(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D5(e){var t=e5e(e,"string");return Js(t)=="symbol"?t:t+""}function t5e(e,t,i){return(t=D5(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xi(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&n.push.apply(n,Object.getOwnPropertySymbols(i).filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.forEach(function(s){t5e(e,s,i[s])})}return e}function Or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qS(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D5(n.key),n)}}function Er(e,t,i){return t&&qS(e.prototype,t),i&&qS(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function $l(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(e,t){if(t&&(Js(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $l(e)}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gc(e)}function Pv(e,t){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},Pv(e,t)}function gg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pv(e,t)}var i5e={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,i){console&&console[t]&&console[t].apply(console,i)}},n5e=function(){function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Or(this,e),this.init(t,i)}return Er(e,[{key:"init",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=i||i5e,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(i){this.debug=i}},{key:"log",value:function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(i,n,s,o){return o&&!this.debug?null:(typeof i[0]=="string"&&(i[0]="".concat(s).concat(this.prefix," ").concat(i[0])),this.logger[n](i))}},{key:"create",value:function(i){return new e(this.logger,xi({},{prefix:"".concat(this.prefix,":").concat(i,":")},this.options))}}]),e}(),mr=new n5e,Sa=function(){function e(){Or(this,e),this.observers={}}return Er(e,[{key:"on",value:function(i,n){var s=this;return i.split(" ").forEach(function(o){s.observers[o]=s.observers[o]||[],s.observers[o].push(n)}),this}},{key:"off",value:function(i,n){if(this.observers[i]){if(!n){delete this.observers[i];return}this.observers[i]=this.observers[i].filter(function(s){return s!==n})}}},{key:"emit",value:function(i){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];if(this.observers[i]){var r=[].concat(this.observers[i]);r.forEach(function(l){l.apply(void 0,s)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(l){l.apply(l,[i].concat(s))})}}}]),e}();function Pd(){var e,t,i=new Promise(function(n,s){e=n,t=s});return i.resolve=e,i.reject=t,i}function KS(e){return e==null?"":""+e}function s5e(e,t,i){e.forEach(function(n){t[n]&&(i[n]=t[n])})}function f_(e,t,i){function n(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function s(){return!e||typeof e=="string"}for(var o=typeof t!="string"?[].concat(t):t.split(".");o.length>1;){if(s())return{};var r=n(o.shift());!e[r]&&i&&(e[r]=new i),Object.prototype.hasOwnProperty.call(e,r)?e=e[r]:e={}}return s()?{}:{obj:e,k:n(o.shift())}}function GS(e,t,i){var n=f_(e,t,Object),s=n.obj,o=n.k;s[o]=i}function o5e(e,t,i,n){var s=f_(e,t,Object),o=s.obj,r=s.k;o[r]=o[r]||[],o[r].push(i)}function Em(e,t){var i=f_(e,t),n=i.obj,s=i.k;if(n)return n[s]}function JS(e,t,i){var n=Em(e,i);return n!==void 0?n:Em(t,i)}function R5(e,t,i){for(var n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?typeof e[n]=="string"||e[n]instanceof String||typeof t[n]=="string"||t[n]instanceof String?i&&(e[n]=t[n]):R5(e[n],t[n],i):e[n]=t[n]);return e}function dc(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var r5e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function a5e(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return r5e[t]}):e}var bg=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function H5(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var n=t.split(i),s=e,o=0;o<n.length;++o){if(!s||typeof s[n[o]]=="string"&&o+1<n.length)return;if(s[n[o]]===void 0){for(var r=2,a=n.slice(o,o+r).join(i),l=s[a];l===void 0&&n.length>o+r;)r++,a=n.slice(o,o+r).join(i),l=s[a];if(l===void 0)return;if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a];var c=n.slice(o+r).join(i);return c?H5(l,c,i):void 0}s=s[n[o]]}return s}}var l5e=function(e){gg(t,e);function t(i){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Or(this,t),n=Gu(this,Gc(t).call(this)),bg&&Sa.call($l(n)),n.data=i||{},n.options=s,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n.options.ignoreJSONStructure===void 0&&(n.options.ignoreJSONStructure=!0),n}return Er(t,[{key:"addNamespaces",value:function(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}},{key:"removeNamespaces",value:function(n){var s=this.options.ns.indexOf(n);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(n,s,o){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,l=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[n,s];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(a?o.split(a):o)),n.indexOf(".")>-1&&(c=n.split("."));var u=Em(this.data,c);return u||!l||typeof o!="string"?u:H5(this.data&&this.data[n]&&this.data[n][s],o,a)}},{key:"addResource",value:function(n,s,o,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=this.options.keySeparator;l===void 0&&(l=".");var c=[n,s];o&&(c=c.concat(l?o.split(l):o)),n.indexOf(".")>-1&&(c=n.split("."),r=s,s=c[1]),this.addNamespaces(s),GS(this.data,c,r),a.silent||this.emit("added",n,s,o,r)}},{key:"addResources",value:function(n,s,o){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var a in o)(typeof o[a]=="string"||Object.prototype.toString.apply(o[a])==="[object Array]")&&this.addResource(n,s,a,o[a],{silent:!0});r.silent||this.emit("added",n,s,o)}},{key:"addResourceBundle",value:function(n,s,o,r,a){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[n,s];n.indexOf(".")>-1&&(c=n.split("."),r=o,o=s,s=c[1]),this.addNamespaces(s);var u=Em(this.data,c)||{};r?R5(u,o,a):u=xi({},u,o),GS(this.data,c,u),l.silent||this.emit("added",n,s,o)}},{key:"removeResourceBundle",value:function(n,s){this.hasResourceBundle(n,s)&&delete this.data[n][s],this.removeNamespaces(s),this.emit("removed",n,s)}},{key:"hasResourceBundle",value:function(n,s){return this.getResource(n,s)!==void 0}},{key:"getResourceBundle",value:function(n,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?xi({},{},this.getResource(n,s)):this.getResource(n,s)}},{key:"getDataByLanguage",value:function(n){return this.data[n]}},{key:"toJSON",value:function(){return this.data}}]),t}(Sa),V5={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,i,n,s,o){var r=this;return t.forEach(function(a){r.processors[a]&&(i=r.processors[a].process(i,n,s,o))}),i}},YS={},ZS=function(e){gg(t,e);function t(i){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Or(this,t),n=Gu(this,Gc(t).call(this)),bg&&Sa.call($l(n)),s5e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,$l(n)),n.options=s,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n.logger=mr.create("translator"),n}return Er(t,[{key:"changeLanguage",value:function(n){n&&(this.language=n)}},{key:"exists",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;var o=this.resolve(n,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(n,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ns||this.options.defaultNS;if(o&&n.indexOf(o)>-1){var l=n.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:n,namespaces:a};var c=n.split(o);(o!==r||o===r&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),n=c.join(r)}return typeof a=="string"&&(a=[a]),{key:n,namespaces:a}}},{key:"translate",value:function(n,s,o){var r=this;if(Js(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=this.extractFromKey(n[n.length-1],s),c=l.key,u=l.namespaces,h=u[u.length-1],m=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(g){var v=s.nsSeparator||this.options.nsSeparator;return h+v+c}return c}var _=this.resolve(n,s),w=_&&_.res,A=_&&_.usedKey||c,L=_&&_.exactUsedKey||c,N=Object.prototype.toString.apply(w),M=["[object Number]","[object Function]","[object RegExp]"],P=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject,K=typeof w!="string"&&typeof w!="boolean"&&typeof w!="number";if(F&&w&&K&&M.indexOf(N)<0&&!(typeof P=="string"&&N==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,w,xi({},s,{ns:u})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");if(a){var se=N==="[object Array]",j=se?[]:{},V=se?L:A;for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z)){var Z="".concat(V).concat(a).concat(z);j[z]=this.translate(Z,xi({},s,{joinArrays:!1,ns:u})),j[z]===Z&&(j[z]=w[z])}w=j}}else if(F&&typeof P=="string"&&N==="[object Array]")w=w.join(P),w&&(w=this.extendTranslation(w,n,s,o));else{var le=!1,ie=!1,re=s.count!==void 0&&typeof s.count!="string",te=t.hasDefaultValue(s),ee=re?this.pluralResolver.getSuffix(m,s.count):"",G=s["defaultValue".concat(ee)]||s.defaultValue;!this.isValidLookup(w)&&te&&(le=!0,w=G),this.isValidLookup(w)||(ie=!0,w=c);var U=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,de=U&&ie?void 0:w,Se=te&&G!==w&&this.options.updateMissing;if(ie||le||Se){if(this.logger.log(Se?"updateKey":"missingKey",m,h,c,Se?G:w),a){var Te=this.resolve(c,xi({},s,{keySeparator:!1}));Te&&Te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Ne=[],Ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ue&&Ue[0])for(var gt=0;gt<Ue.length;gt++)Ne.push(Ue[gt]);else this.options.saveMissingTo==="all"?Ne=this.languageUtils.toResolveHierarchy(s.lng||this.language):Ne.push(s.lng||this.language);var Le=function(ht,Pt,Tt){r.options.missingKeyHandler?r.options.missingKeyHandler(ht,h,Pt,Se?Tt:de,Se,s):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(ht,h,Pt,Se?Tt:de,Se,s),r.emit("missingKey",ht,h,Pt,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&re?Ne.forEach(function(We){r.pluralResolver.getSuffixes(We).forEach(function(ht){Le([We],c+ht,s["defaultValue".concat(ht)]||G)})}):Le(Ne,c,G))}w=this.extendTranslation(w,n,s,_,o),ie&&w===c&&this.options.appendNamespaceToMissingKey&&(w="".concat(h,":").concat(c)),(ie||le)&&this.options.parseMissingKeyHandler&&(w=this.options.parseMissingKeyHandler(w))}return w}},{key:"extendTranslation",value:function(n,s,o,r,a){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,o,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(xi({},o,{interpolation:xi({},this.options.interpolation,o.interpolation)}));var c=o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,u;if(c){var h=n.match(this.interpolator.nestingRegexp);u=h&&h.length}var m=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(m=xi({},this.options.interpolation.defaultVariables,m)),n=this.interpolator.interpolate(n,m,o.lng||this.language,o),c){var g=n.match(this.interpolator.nestingRegexp),v=g&&g.length;u<v&&(o.nest=!1)}o.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var A=arguments.length,L=new Array(A),N=0;N<A;N++)L[N]=arguments[N];return a&&a[0]===L[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(L[0]," in key: ").concat(s[0])),null):l.translate.apply(l,L.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var _=o.postProcess||this.options.postProcess,w=typeof _=="string"?[_]:_;return n!=null&&w&&w.length&&o.applyPostProcessor!==!1&&(n=V5.handle(w,n,s,this.options&&this.options.postProcessPassResolved?xi({i18nResolved:r},o):o,this)),n}},{key:"resolve",value:function(n){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,l,c,u;return typeof n=="string"&&(n=[n]),n.forEach(function(h){if(!s.isValidLookup(r)){var m=s.extractFromKey(h,o),g=m.key;a=g;var v=m.namespaces;s.options.fallbackNS&&(v=v.concat(s.options.fallbackNS));var _=o.count!==void 0&&typeof o.count!="string",w=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",A=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);v.forEach(function(L){s.isValidLookup(r)||(u=L,!YS["".concat(A[0],"-").concat(L)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(u)&&(YS["".concat(A[0],"-").concat(L)]=!0,s.logger.warn('key "'.concat(a,'" for languages "').concat(A.join(", "),`" won't get resolved as namespace "`).concat(u,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(function(N){if(!s.isValidLookup(r)){c=N;var M=g,P=[M];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(P,g,N,L,o);else{var F;_&&(F=s.pluralResolver.getSuffix(N,o.count)),_&&w&&P.push(M+F),w&&P.push(M+="".concat(s.options.contextSeparator).concat(o.context)),_&&P.push(M+=F)}for(var K;K=P.pop();)s.isValidLookup(r)||(l=K,r=s.getResource(N,L,K,o))}}))})}}),{res:r,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:u}}},{key:"isValidLookup",value:function(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}},{key:"getResource",value:function(n,s,o){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,s,o,r):this.resourceStore.getResource(n,s,o,r)}}],[{key:"hasDefaultValue",value:function(n){var s="defaultValue";for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&s===o.substring(0,s.length)&&n[o]!==void 0)return!0;return!1}}]),t}(Sa);function ry(e){return e.charAt(0).toUpperCase()+e.slice(1)}var c5e=function(){function e(t){Or(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mr.create("languageUtils")}return Er(e,[{key:"getScriptPartFromCode",value:function(i){if(!i||i.indexOf("-")<0)return null;var n=i.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(i){if(!i||i.indexOf("-")<0)return i;var n=i.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(i){if(typeof i=="string"&&i.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],s=i.split("-");return this.options.lowerCaseLng?s=s.map(function(o){return o.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=ry(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=ry(s[1].toLowerCase())),n.indexOf(s[2].toLowerCase())>-1&&(s[2]=ry(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}},{key:"isWhitelisted",value:function(i){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(i)}},{key:"isSupportedCode",value:function(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}},{key:"getBestMatchFromCodes",value:function(i){var n=this;if(!i)return null;var s;return i.forEach(function(o){if(!s){var r=n.formatLanguageCode(o);(!n.options.supportedLngs||n.isSupportedCode(r))&&(s=r)}}),!s&&this.options.supportedLngs&&i.forEach(function(o){if(!s){var r=n.getLanguagePartFromCode(o);if(n.isSupportedCode(r))return s=r;s=n.options.supportedLngs.find(function(a){if(a.indexOf(r)===0)return a})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(i,n){if(!i)return[];if(typeof i=="function"&&(i=i(n)),typeof i=="string"&&(i=[i]),Object.prototype.toString.apply(i)==="[object Array]")return i;if(!n)return i.default||[];var s=i[n];return s||(s=i[this.getScriptPartFromCode(n)]),s||(s=i[this.formatLanguageCode(n)]),s||(s=i[this.getLanguagePartFromCode(n)]),s||(s=i.default),s||[]}},{key:"toResolveHierarchy",value:function(i,n){var s=this,o=this.getFallbackCodes(n||this.options.fallbackLng||[],i),r=[],a=function(c){c&&(s.isSupportedCode(c)?r.push(c):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(c)))};return typeof i=="string"&&i.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(i))):typeof i=="string"&&a(this.formatLanguageCode(i)),o.forEach(function(l){r.indexOf(l)<0&&a(s.formatLanguageCode(l))}),r}}]),e}(),d5e=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],u5e={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};function h5e(){var e={};return d5e.forEach(function(t){t.lngs.forEach(function(i){e[i]={numbers:t.nr,plurals:u5e[t.fc]}})}),e}var f5e=function(){function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Or(this,e),this.languageUtils=t,this.options=i,this.logger=mr.create("pluralResolver"),this.rules=h5e()}return Er(e,[{key:"addRule",value:function(i,n){this.rules[i]=n}},{key:"getRule",value:function(i){return this.rules[i]||this.rules[this.languageUtils.getLanguagePartFromCode(i)]}},{key:"needsPlural",value:function(i){var n=this.getRule(i);return n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(i,n){return this.getSuffixes(i).map(function(s){return n+s})}},{key:"getSuffixes",value:function(i){var n=this,s=this.getRule(i);return s?s.numbers.map(function(o){return n.getSuffix(i,o)}):[]}},{key:"getSuffix",value:function(i,n){var s=this,o=this.getRule(i);if(o){var r=o.noAbs?o.plurals(n):o.plurals(Math.abs(n)),a=o.numbers[r];this.options.simplifyPluralSuffix&&o.numbers.length===2&&o.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var l=function(){return s.options.prepend&&a.toString()?s.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&o.numbers.length===2&&o.numbers[0]===1?l():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(i)),""}}]),e}(),p5e=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Or(this,e),this.logger=mr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(i){return i},this.init(t)}return Er(e,[{key:"init",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.interpolation||(i.interpolation={escapeValue:!0});var n=i.interpolation;this.escape=n.escape!==void 0?n.escape:a5e,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?dc(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?dc(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?dc(n.nestingPrefix):n.nestingPrefixEscaped||dc("$t("),this.nestingSuffix=n.nestingSuffix?dc(n.nestingSuffix):n.nestingSuffixEscaped||dc(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var i="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(i,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(i,n,s,o){var r=this,a,l,c,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(w){return w.replace(/\$/g,"$$$$")}var m=function(A){if(A.indexOf(r.formatSeparator)<0){var L=JS(n,u,A);return r.alwaysFormat?r.format(L,void 0,s,xi({},o,n,{interpolationkey:A})):L}var N=A.split(r.formatSeparator),M=N.shift().trim(),P=N.join(r.formatSeparator).trim();return r.format(JS(n,u,M),P,s,xi({},o,n,{interpolationkey:M}))};this.resetRegExp();var g=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,v=o&&o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,_=[{regex:this.regexpUnescape,safeValue:function(A){return h(A)}},{regex:this.regexp,safeValue:function(A){return r.escapeValue?h(r.escape(A)):h(A)}}];return _.forEach(function(w){for(c=0;a=w.regex.exec(i);){if(l=m(a[1].trim()),l===void 0)if(typeof g=="function"){var A=g(i,a,o);l=typeof A=="string"?A:""}else if(v){l=a[0];continue}else r.logger.warn("missed to pass in variable ".concat(a[1]," for interpolating ").concat(i)),l="";else typeof l!="string"&&!r.useRawValueToEscape&&(l=KS(l));var L=w.safeValue(l);if(i=i.replace(a[0],L),v?(w.regex.lastIndex+=L.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,c++,c>=r.maxReplaces)break}}),i}},{key:"nest",value:function(i,n){var s=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a,l=xi({},o);l.applyPostProcessor=!1,delete l.defaultValue;function c(g,v){var _=this.nestingOptionsSeparator;if(g.indexOf(_)<0)return g;var w=g.split(new RegExp("".concat(_,"[ ]*{"))),A="{".concat(w[1]);g=w[0],A=this.interpolate(A,l),A=A.replace(/'/g,'"');try{l=JSON.parse(A),v&&(l=xi({},v,l))}catch(L){return this.logger.warn("failed parsing options string in nesting for key ".concat(g),L),"".concat(g).concat(_).concat(A)}return delete l.defaultValue,g}for(;r=this.nestingRegexp.exec(i);){var u=[],h=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){var m=r[1].split(this.formatSeparator).map(function(g){return g.trim()});r[1]=m.shift(),u=m,h=!0}if(a=n(c.call(this,r[1].trim(),l),l),a&&r[0]===i&&typeof a!="string")return a;typeof a!="string"&&(a=KS(a)),a||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(i)),a=""),h&&(a=u.reduce(function(g,v){return s.format(g,v,o.lng,xi({},o,{interpolationkey:r[1].trim()}))},a.trim())),i=i.replace(r[0],a),this.regexp.lastIndex=0}return i}}]),e}();function m5e(e,t){for(var i=e.indexOf(t);i!==-1;)e.splice(i,1),i=e.indexOf(t)}var g5e=function(e){gg(t,e);function t(i,n,s){var o,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Or(this,t),o=Gu(this,Gc(t).call(this)),bg&&Sa.call($l(o)),o.backend=i,o.store=n,o.services=s,o.languageUtils=s.languageUtils,o.options=r,o.logger=mr.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,r.backend,r),o}return Er(t,[{key:"queueLoad",value:function(n,s,o,r){var a=this,l=[],c=[],u=[],h=[];return n.forEach(function(m){var g=!0;s.forEach(function(v){var _="".concat(m,"|").concat(v);!o.reload&&a.store.hasResourceBundle(m,v)?a.state[_]=2:a.state[_]<0||(a.state[_]===1?c.indexOf(_)<0&&c.push(_):(a.state[_]=1,g=!1,c.indexOf(_)<0&&c.push(_),l.indexOf(_)<0&&l.push(_),h.indexOf(v)<0&&h.push(v)))}),g||u.push(m)}),(l.length||c.length)&&this.queue.push({pending:c,loaded:{},errors:[],callback:r}),{toLoad:l,pending:c,toLoadLanguages:u,toLoadNamespaces:h}}},{key:"loaded",value:function(n,s,o){var r=n.split("|"),a=r[0],l=r[1];s&&this.emit("failedLoading",a,l,s),o&&this.store.addResourceBundle(a,l,o),this.state[n]=s?-1:2;var c={};this.queue.forEach(function(u){o5e(u.loaded,[a],l),m5e(u.pending,n),s&&u.errors.push(s),u.pending.length===0&&!u.done&&(Object.keys(u.loaded).forEach(function(h){c[h]||(c[h]=[]),u.loaded[h].length&&u.loaded[h].forEach(function(m){c[h].indexOf(m)<0&&c[h].push(m)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(u){return!u.done})}},{key:"read",value:function(n,s,o){var r=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,c=arguments.length>5?arguments[5]:void 0;return n.length?this.backend[o](n,s,function(u,h){if(u&&h&&a<5){setTimeout(function(){r.read.call(r,n,s,o,a+1,l*2,c)},l);return}c(u,h)}):c(null,{})}},{key:"prepareLoading",value:function(n,s){var o=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof s=="string"&&(s=[s]);var l=this.queueLoad(n,s,r,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(n,s,o){this.prepareLoading(n,s,{},o)}},{key:"reload",value:function(n,s,o){this.prepareLoading(n,s,{reload:!0},o)}},{key:"loadOne",value:function(n){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=n.split("|"),a=r[0],l=r[1];this.read(a,l,"read",void 0,void 0,function(c,u){c&&s.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(a," failed"),c),!c&&u&&s.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(a),u),s.loaded(n,c,u)})}},{key:"saveMissing",value:function(n,s,o,r,a){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}o==null||o===""||(this.backend&&this.backend.create&&this.backend.create(n,s,o,r,null,xi({},l,{isUpdate:a})),!(!n||!n[0])&&this.store.addResource(n[0],s,o,r))}}]),t}(Sa);function b5e(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var i={};if(Js(t[1])==="object"&&(i=t[1]),typeof t[1]=="string"&&(i.defaultValue=t[1]),typeof t[2]=="string"&&(i.tDescription=t[2]),Js(t[2])==="object"||Js(t[3])==="object"){var n=t[3]||t[2];Object.keys(n).forEach(function(s){i[s]=n[s]})}return i},interpolation:{escapeValue:!0,format:function(t,i,n,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function XS(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ff(){}var y5e=function(e){gg(t,e);function t(){var i,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Or(this,t),i=Gu(this,Gc(t).call(this)),bg&&Sa.call($l(i)),i.options=XS(n),i.services={},i.logger=mr,i.modules={external:[]},s&&!i.isInitialized&&!n.isClone){if(!i.options.initImmediate)return i.init(n,s),Gu(i,$l(i));setTimeout(function(){i.init(n,s)},0)}return i}return Er(t,[{key:"init",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),s.whitelist&&!s.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),s.nonExplicitWhitelist&&!s.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=xi({},b5e(),this.options,XS(s)),this.format=this.options.interpolation.format,o||(o=Ff);function r(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?mr.init(r(this.modules.logger),this.options):mr.init(null,this.options);var a=new c5e(this.options);this.store=new l5e(this.options.resources,this.options);var l=this.services;l.logger=mr,l.resourceStore=this.store,l.languageUtils=a,l.pluralResolver=new f5e(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l.interpolator=new p5e(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new g5e(r(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",function(v){for(var _=arguments.length,w=new Array(_>1?_-1:0),A=1;A<_;A++)w[A-1]=arguments[A];n.emit.apply(n,[v].concat(w))}),this.modules.languageDetector&&(l.languageDetector=r(this.modules.languageDetector),l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=r(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new ZS(this.services,this.options),this.translator.on("*",function(v){for(var _=arguments.length,w=new Array(_>1?_-1:0),A=1;A<_;A++)w[A-1]=arguments[A];n.emit.apply(n,[v].concat(w))}),this.modules.external.forEach(function(v){v.init&&v.init(n)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach(function(v){n[v]=function(){var _;return(_=n.store)[v].apply(_,arguments)}});var h=["addResource","addResources","addResourceBundle","removeResourceBundle"];h.forEach(function(v){n[v]=function(){var _;return(_=n.store)[v].apply(_,arguments),n}});var m=Pd(),g=function(){var _=function(A,L){n.isInitialized&&!n.initializedStoreOnce&&n.logger.warn("init: i18next is already initialized. You should call init just once!"),n.isInitialized=!0,n.options.isClone||n.logger.log("initialized",n.options),n.emit("initialized",n.options),m.resolve(L),o(A,L)};if(n.languages&&n.options.compatibilityAPI!=="v1"&&!n.isInitialized)return _(null,n.t.bind(n));n.changeLanguage(n.options.lng,_)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),m}},{key:"loadResources",value:function(n){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ff,r=o,a=typeof n=="string"?n:this.language;if(typeof n=="function"&&(r=n),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode")return r();var l=[],c=function(m){if(m){var g=s.services.languageUtils.toResolveHierarchy(m);g.forEach(function(v){l.indexOf(v)<0&&l.push(v)})}};if(a)c(a);else{var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.forEach(function(h){return c(h)})}this.options.preload&&this.options.preload.forEach(function(h){return c(h)}),this.services.backendConnector.load(l,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(n,s,o){var r=Pd();return n||(n=this.languages),s||(s=this.options.ns),o||(o=Ff),this.services.backendConnector.reload(n,s,function(a){r.resolve(),o(a)}),r}},{key:"use",value:function(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&V5.addPostProcessor(n),n.type==="3rdParty"&&this.modules.external.push(n),this}},{key:"changeLanguage",value:function(n,s){var o=this;this.isLanguageChangingTo=n;var r=Pd();this.emit("languageChanging",n);var a=function(u,h){h?(o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.translator.changeLanguage(h),o.isLanguageChangingTo=void 0,o.emit("languageChanged",h),o.logger.log("languageChanged",h)):o.isLanguageChangingTo=void 0,r.resolve(function(){return o.t.apply(o,arguments)}),s&&s(u,function(){return o.t.apply(o,arguments)})},l=function(u){!n&&!u&&o.services.languageDetector&&(u=[]);var h=typeof u=="string"?u:o.services.languageUtils.getBestMatchFromCodes(u);h&&(o.language||(o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h)),o.translator.language||o.translator.changeLanguage(h),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(h)),o.loadResources(h,function(m){a(m,h)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(l):l(n),r}},{key:"getFixedT",value:function(n,s,o){var r=this,a=function l(c,u){var h;if(Js(u)!=="object"){for(var m=arguments.length,g=new Array(m>2?m-2:0),v=2;v<m;v++)g[v-2]=arguments[v];h=r.options.overloadTranslationOptionHandler([c,u].concat(g))}else h=xi({},u);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns;var _=r.options.keySeparator||".",w=o?"".concat(o).concat(_).concat(c):c;return r.t(w,h)};return typeof n=="string"?a.lng=n:a.lngs=n,a.ns=s,a.keyPrefix=o,a}},{key:"t",value:function(){var n;return this.translator&&(n=this.translator).translate.apply(n,arguments)}},{key:"exists",value:function(){var n;return this.translator&&(n=this.translator).exists.apply(n,arguments)}},{key:"setDefaultNamespace",value:function(n){this.options.defaultNS=n}},{key:"hasLoadedNamespace",value:function(n){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var c=function(m,g){var v=s.services.backendConnector.state["".concat(m,"|").concat(g)];return v===-1||v===2};if(o.precheck){var u=o.precheck(this,c);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,n)||!this.services.backendConnector.backend||c(r,n)&&(!a||c(l,n)))}},{key:"loadNamespaces",value:function(n,s){var o=this,r=Pd();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(function(a){o.options.ns.indexOf(a)<0&&o.options.ns.push(a)}),this.loadResources(function(a){r.resolve(),s&&s(a)}),r):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(n,s){var o=Pd();typeof n=="string"&&(n=[n]);var r=this.options.preload||[],a=n.filter(function(l){return r.indexOf(l)<0});return a.length?(this.options.preload=r.concat(a),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(n){if(n||(n=this.languages&&this.languages.length>0?this.languages[0]:this.language),!n)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return s.indexOf(this.services.languageUtils.getLanguagePartFromCode(n))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new t(n,s)}},{key:"cloneInstance",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ff,r=xi({},this.options,s,{isClone:!0}),a=new t(r),l=["store","services","language"];return l.forEach(function(c){a[c]=n[c]}),a.services=xi({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new ZS(a.services,a.options),a.translator.on("*",function(c){for(var u=arguments.length,h=new Array(u>1?u-1:0),m=1;m<u;m++)h[m-1]=arguments[m];a.emit.apply(a,[c].concat(h))}),a.init(r,o),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}(Sa),Wd=new y5e;let $i;const v5e={install(e,t){$i||($i=t.i18n);const i=[$i.defaultLocale];i[0]!=="en"&&i.push("en"),Wd.init({lng:ay($i.adminLocale),fallbackLng:i,resources:{},debug:$i.debug,interpolation:{escapeValue:!1},skipOnVariables:!1,appendNamespaceToMissingKey:!0,defaultNS:[apos.i18n.defaultNamespace],parseMissingKeyHandler(n){return n.startsWith(`${this.defaultNS[0]}:`)?n.slice(this.defaultNS[0].length+1):n}});for(const[n,s]of Object.entries($i.i18n[$i.adminLocale]))Wd.addResourceBundle(ay($i.adminLocale),n,s,!0,!0);if($i.adminLocale!==$i.defaultLocale)for(const[n,s]of Object.entries($i.i18n[$i.defaultLocale]))Wd.addResourceBundle(ay($i.defaultLocale),n,s,!0,!0);if($i.adminLocale!=="en"&&$i.defaultLocale!=="en")for(const[n,s]of Object.entries($i.i18n.en))Wd.addResourceBundle("en",n,s,!0,!0);e.config.globalProperties.$t=Im,e.provide("i18n",Im)}};function Im(e,t={}){if(!$i)return"";if(e!==null&&typeof e=="object"&&(t=e,e=t.key),t.localize===!1)return e;if(e==null||(e+="",!e.length))return"";const i=Wd.t(e,{lng:$i.adminLocale,...t});return $i.show?i===e?e.match(/^\S+:/)?` ${i}`:` ${i}`:` ${i}`:i}function ay(e){const[t,i]=e.split("-");return i?`${t}-${i.toUpperCase()}`:e}const _5e=(e,t)=>`<div id="${e}" class="apos-tooltip" role="tooltip">
    <div class="apos-tooltip__wrapper">
      <div class="apos-tooltip__arrow"></div>
      <div class="apos-tooltip__inner">
        ${t}
      </div>
    </div>
  </div>`,w5e={install(e){e.directive("apos-tooltip",{mounted(r,a,l){t(r,a)},updated(r,a){const l=Object.hasOwn(a.value||{},"content")?a.value.content:a.value,c=Object.hasOwn(a.oldValue||{},"content")?a.oldValue.content:a.oldValue;Cl.isEqual(l,c)||(r.aposShowTooltipListener&&i(r),t(r,a))},beforeUnmount(r,a){i(r)}});function t(r,a){var g,v;let l,c;if(!a.value&&!((g=a.value)!=null&&g.content))return;const u=(v=a.value)==null?void 0:v.delay,h=o(a.value);if(!h)return;const m=`tooltip__${Ut.createId()}`;r.aposShowTooltipListener=n({el:r,value:a.value,tooltipTimeout:l,delayTimeout:c,tooltipId:m,localized:h}),r.aposHideTooltipListener=s({tooltipId:m,tooltipTimeout:l,delayTimeout:c,delay:u}),r.addEventListener("mouseenter",r.aposShowTooltipListener),r.addEventListener("mouseleave",r.aposHideTooltipListener),r.addEventListener("click",r.aposHideTooltipListener)}function i(r){r.aposHideTooltipListener&&r.aposHideTooltipListener(!0),r.removeEventListener("mouseenter",r.aposShowTooltipListener),r.removeEventListener("mouseleave",r.aposHideTooltipListener),r.removeEventListener("click",r.aposHideTooltipListener)}function n({el:r,value:a,tooltipTimeout:l,delayTimeout:c,tooltipId:u,localized:h}){return async()=>{const m=document.querySelector(`#${u}`);m?m.setAttribute("aria-hidden",!1):document.body.insertAdjacentHTML("beforeend",_5e(u,h));const g=m||document.querySelector(`#${u}`);if(!g)return;const v=g.querySelector(".apos-tooltip__arrow"),{x:_,y:w,middlewareData:A,placement:L}=await vv(r,g,{placement:a.placement||"bottom-end",middleware:[mv(11),gv({padding:5}),bv(),yv({element:v,padding:10})]}),[N]=L.split("-"),{x:M,y:P}=A.arrow;m||(g.setAttribute("x-placement",N),g.setAttribute("aria-hidden",!1)),Object.assign(g.style,{left:`${_}px`,top:`${w}px`}),Object.assign(v.style,{...M&&{left:`${M}px`},...P&&{top:`${P}px`}})}}function s({tooltipId:r,tooltipTimeout:a,delayTimeout:l,delay:c}){return(u=!1)=>{const h=document.querySelector(`#${r}`);if(h){if(u){h.remove();return}c?l=setTimeout(()=>{h.setAttribute("aria-hidden",!0)},c):h.setAttribute("aria-hidden",!0),a=setTimeout(()=>{h.remove()},5e3)}}}function o(r){if(r)return r.content?r.localize===!1?r.content:Im(r.content):Im(r)}}},C5e=Rle(),Dl=(e,t={})=>{const i=ED(e,t);i.use(v5e,{i18n:apos.modules["@apostrophecms/i18n"]}),i.use(w5e),i.use(QTe),i.use(C5e);const n=[window.apos.vueComponents,window.apos.iconComponents];for(const s of n)for(const[o,r]of Object.entries(s))i.component(o,r);return i};function k5e(){const e=apos.vueComponents.TheAposBusy,t=document.querySelector("#apos-busy");if(!t)return;Dl(e).mount(t)}function A5e(){const e=apos.vueComponents.TheAposAdminBar,t=document.querySelector("#apos-admin-bar");if(!apos.adminBar||!t||(apos==null?void 0:apos.adminBar.showAdminBar)===!1)return;Dl(e,{items:apos.adminBar.items||[]}).mount(t)}function S5e(){const e=apos.vueComponents.TheAposNotifications,t=document.querySelector("#apos-notification");if(!apos.login.user||!t)return;Dl(e).mount(t);const n=Rp();apos.notify=n.notify,n.poll()}function x5e(){const e=apos.vueComponents.TheAposLogin,t=document.querySelector("#apos-login");t&&Dl(e).mount(t),apos.bus.$on("admin-menu-click",async i=>{if(i==="@apostrophecms/login-logout"){await apos.http.post(`${apos.modules["@apostrophecms/login"].action}/logout`,{}),window.sessionStorage.setItem("aposStateChange",Date.now()),window.sessionStorage.setItem("aposStateChangeSeen","{}");try{await apos.http.get(location.href,{})}catch(n){if(n.status===404){location.assign("/");return}}location.reload()}})}const M5e=()=>{apos.doc.edit=async({type:e,_id:t,copyOfId:i,copyOf:n})=>{var o,r;if(!e)throw new Error("You must specify the type of document to edit.");apos.page.validPageTypes.includes(e)&&(e="@apostrophecms/page");const s=(r=(o=apos.modules[e])==null?void 0:o.components)==null?void 0:r.editorModal;if(!s)throw new Error(`${e} is not a valid piece or page type, or cannot be edited`);if(i=i??(n==null?void 0:n._id),n&&!i)throw new Error("copyOf (deprecated) must be an object with a `_id` property, if possible pass `copyOfId` instead");return apos.modal.execute(s,{moduleName:e,docId:t,copyOfId:i})},apos.bus.$on("edit",apos.doc.edit)};function T5e(){const e=apos.vueComponents.TheAposModals,t=document.querySelector("#apos-modals");if(!t)return;Dl(e).mount(t);const n=Cr();apos.modal.execute=n.execute,apos.modal.get=n.get,apos.modal.getAt=n.getAt,apos.modal.getProperties=n.getProperties,apos.modal.onTopOf=n.onTopOf,apos.modal.getActiveLocale=n.getActiveLocale,apos.confirm=n.confirm,apos.alert=n.alert,apos.report=n.report}function O5e(){const e=apos.vueComponents.AposAreaEditor;let t=0;apos.area.widgetOptions=[],r(),n(),document.documentElement.style.setProperty("--a-widget-margin",apos.ui.widgetMargin),apos.bus.$on("widget-rendering",function(){t++}),apos.bus.$on("widget-rendered",a=>{t--,i(a)}),apos.bus.$on("refreshed",function(){i()});function i({edit:a=!0}={}){a&&n(),t===0&&apos.util.runPlayers()}function n(){const a=Array.from(document.querySelectorAll("[data-apos-area-newly-editable]"));a.sort((l,c)=>{const u=s(l),h=s(c);return u<h?-1:h>u?1:0});for(const l of a)o(l)}function s(a){let l=0;for(;a;)a=a.parentNode,l++;return l}function o(a){const l=JSON.parse(a.getAttribute("data-options")),c=JSON.parse(a.getAttribute("data")),u=a.getAttribute("data-field-id"),h=JSON.parse(a.getAttribute("data-choices")),m={},g=c._docId;for(const v of a.querySelectorAll("[data-apos-widget]")){const _=v.getAttribute("data-apos-widget"),w=c.items.find(A=>_===A._id);w&&(m[_]={html:v.innerHTML,parameters:{_docId:g,widget:w,areaFieldId:u,type:w.type}},v.remove())}a.removeAttribute("data-apos-area-newly-editable"),apos.area.activeEditor&&apos.area.activeEditor.id===c._id?a.parentNode.replaceChild(apos.area.activeEditor.$el,a):Dl(e,{options:l,id:c._id,items:c.items,choices:h,docId:g,fieldId:u,renderings:m}).mount(a)}function r(){class a{set(c){localStorage.setItem("aposWidgetClipboard",JSON.stringify(c))}get(){const c=window.localStorage.getItem("aposWidgetClipboard");return c?JSON.parse(c):null}}apos.area.widgetClipboard=new a}}function E5e(){window.addEventListener("hashchange",t=>{e()&&t.stopPropagation()}),e();async function e(){const i=(location.hash||"").match(/#apostrophe-permalink-(.*)$/);if(i){const n=i[1].replace(/\?.*$/,""),s=await apos.http.get(`${apos.doc.action}/${n}`,{});if(s._url)return location.replace(s._url),!0}}}function I5e(){document.body.addEventListener("click",e=>{if(e.target.getAttribute("data-apos-bus-event")){const t=e.target.getAttribute("data-apos-bus-event");let i,n={};try{n=JSON.parse(t),i=n.name||!1}catch{i=t}i?apos.bus.$emit(i,n.data||null):(console.error("Apostrophe bus events require a name"),apos.notify("apostrophe:error",{type:"error"}))}},!1)}function $5e(){apos.settings.restore&&(apos.modal.execute("AposSettingsManager",{restore:apos.settings.restore}),apos.settings.restore=null)}const L5e=()=>{const e=["minSize"];apos.bus.$on("piece-relationship-query",t=>{const[i={}]=apos.area.widgetOptions||[];e.forEach(n=>{i[n]&&(t[n]=i[n])})})};function P5e(){const e=apos.vueComponents.TheAposCommandMenu,t=document.querySelector("#apos-command-menu");if(!apos.commandMenu||!t)return;const n=Dl(e,{modals:apos.commandMenu.modals}).mount(t);apos.commandMenu.getModal=n.getModal}window.apos.bus={$on:(...e)=>of.on(...e),$once:(...e)=>of.once(...e),$off:(...e)=>of.off(...e),$emit:(...e)=>of.emit(...e)};window.apos.iconComponents=window.apos.iconComponents||{};window.apos.iconComponents["account-box-icon"]=FD;window.apos.iconComponents["alert-circle-icon"]=JD;window.apos.iconComponents["alpha-x-icon"]=iR;window.apos.iconComponents["anchor-icon"]=cR;window.apos.iconComponents["apple-keyboard-caps"]=gR;window.apos.iconComponents["apple-keyboard-command"]=kR;window.apos.iconComponents["apple-keyboard-control"]=ER;window.apos.iconComponents["apple-keyboard-option"]=HR;window.apos.iconComponents["apple-keyboard-shift"]=UR;window.apos.iconComponents["archive-arrow-down-icon"]=ZR;window.apos.iconComponents["archive-arrow-up-icon"]=sH;window.apos.iconComponents["arrow-collapse-vertical-icon"]=uH;window.apos.iconComponents["arrow-down-icon"]=yH;window.apos.iconComponents["arrow-expand-vertical-icon"]=SH;window.apos.iconComponents["arrow-left-icon"]=$H;window.apos.iconComponents["arrow-right-icon"]=zH;window.apos.iconComponents["arrow-up-icon"]=qH;window.apos.iconComponents["binoculars-icon"]=QH;window.apos.iconComponents["calendar-icon"]=rV;window.apos.iconComponents["cellphone-icon"]=fV;window.apos.iconComponents["check-all-icon"]=_V;window.apos.iconComponents["check-bold-icon"]=MV;window.apos.iconComponents["check-circle-icon"]=PV;window.apos.iconComponents["check-decagram-icon"]=BV;window.apos.iconComponents["checkbox-blank-icon"]=GV;window.apos.iconComponents["checkbox-marked-icon"]=tz;window.apos.iconComponents["chevron-down-icon"]=lz;window.apos.iconComponents["chevron-left-icon"]=mz;window.apos.iconComponents["chevron-right-icon"]=L4;window.apos.iconComponents["chevron-up-icon"]=Tz;window.apos.iconComponents["circle-icon"]=Dz;window.apos.iconComponents["circle-medium-icon"]=Fz;window.apos.iconComponents["clipboard-plus-icon"]=Jz;window.apos.iconComponents["clipboard-plus-outline-icon"]=iN;window.apos.iconComponents["clock-icon"]=cN;window.apos.iconComponents["close-circle-icon"]=gN;window.apos.iconComponents["close-icon"]=t0;window.apos.iconComponents["cloud-upload-icon"]=ON;window.apos.iconComponents["code-tags-icon"]=RN;window.apos.iconComponents["cog-icon"]=jN;window.apos.iconComponents["content-copy-icon"]=YN;window.apos.iconComponents["content-cut-icon"]=nB;window.apos.iconComponents["content-duplicate-icon"]=dB;window.apos.iconComponents["cursor-default-click-icon"]=bB;window.apos.iconComponents["delete-icon"]=AB;window.apos.iconComponents["dots-horizontal-icon"]=IB;window.apos.iconComponents["dots-vertical-icon"]=VB;window.apos.iconComponents["drag-icon"]=WB;window.apos.iconComponents["eye-icon"]=XB;window.apos.iconComponents["file-document-icon"]=oF;window.apos.iconComponents["file-tree-icon"]=hF;window.apos.iconComponents["flare-icon"]=vF;window.apos.iconComponents["format-align-center-icon"]=xF;window.apos.iconComponents["format-align-justify-icon"]=LF;window.apos.iconComponents["format-align-left-icon"]=NF;window.apos.iconComponents["format-align-right-icon"]=KF;window.apos.iconComponents["format-bold-icon"]=ej;window.apos.iconComponents["format-font-icon"]=aj;window.apos.iconComponents["format-italic-icon"]=pj;window.apos.iconComponents["format-list-bulleted-icon"]=wj;window.apos.iconComponents["format-list-numbered-icon"]=Tj;window.apos.iconComponents["format-quote-close-icon"]=Dj;window.apos.iconComponents["format-strikethrough-variant-icon"]=Fj;window.apos.iconComponents["format-subscript-icon"]=Jj;window.apos.iconComponents["format-superscript-icon"]=iU;window.apos.iconComponents["format-text-icon"]=cU;window.apos.iconComponents["format-underline-icon"]=gU;window.apos.iconComponents["help-circle-icon"]=kU;window.apos.iconComponents["image-edit-outline"]=EU;window.apos.iconComponents["image-icon"]=HU;window.apos.iconComponents["image-size-select-actual-icon"]=UU;window.apos.iconComponents["information-icon"]=P4;window.apos.iconComponents["information-outline-icon"]=nW;window.apos.iconComponents["instagram-icon"]=dW;window.apos.iconComponents["keyboard-backspace"]=bW;window.apos.iconComponents["keyboard-esc"]=AW;window.apos.iconComponents["keyboard-f1"]=IW;window.apos.iconComponents["keyboard-f10"]=VW;window.apos.iconComponents["keyboard-f11"]=WW;window.apos.iconComponents["keyboard-f12"]=XW;window.apos.iconComponents["keyboard-f2"]=oq;window.apos.iconComponents["keyboard-f3"]=hq;window.apos.iconComponents["keyboard-f4"]=vq;window.apos.iconComponents["keyboard-f5"]=xq;window.apos.iconComponents["keyboard-f6"]=Lq;window.apos.iconComponents["keyboard-f7"]=Nq;window.apos.iconComponents["keyboard-f8"]=Kq;window.apos.iconComponents["keyboard-f9"]=eK;window.apos.iconComponents["keyboard-return"]=aK;window.apos.iconComponents["keyboard-space"]=pK;window.apos.iconComponents["keyboard-tab"]=wK;window.apos.iconComponents["label-icon"]=TK;window.apos.iconComponents["lightbulb-on-icon"]=DK;window.apos.iconComponents["link-icon"]=FK;window.apos.iconComponents["list-status-icon"]=JK;window.apos.iconComponents["lock-icon"]=iG;window.apos.iconComponents["magnify-icon"]=cG;window.apos.iconComponents["map-marker-icon"]=gG;window.apos.iconComponents["menu-down-icon"]=kG;window.apos.iconComponents["minus-box-icon"]=EG;window.apos.iconComponents["minus-icon"]=HG;window.apos.iconComponents["monitor-icon"]=UG;window.apos.iconComponents["paperclip-icon"]=ZG;window.apos.iconComponents["pencil-icon"]=sJ;window.apos.iconComponents["phone-icon"]=uJ;window.apos.iconComponents["play-box-icon"]=yJ;window.apos.iconComponents["playlist-edit-icon"]=SJ;window.apos.iconComponents["plus-icon"]=$J;window.apos.iconComponents["redo-icon"]=zJ;window.apos.iconComponents["refresh-icon"]=qJ;window.apos.iconComponents["shape-icon"]=QJ;window.apos.iconComponents["sign-text-icon"]=rY;window.apos.iconComponents["tablet-icon"]=fY;window.apos.iconComponents["tag-icon"]=_Y;window.apos.iconComponents["text-box-icon"]=MY;window.apos.iconComponents["text-box-multiple-icon"]=PY;window.apos.iconComponents["text-box-remove-icon"]=BY;window.apos.iconComponents["trash-can-icon"]=GY;window.apos.iconComponents["trash-can-outline-icon"]=tZ;window.apos.iconComponents["tune-icon"]=lZ;window.apos.iconComponents["undo-icon"]=mZ;window.apos.iconComponents["unfold-less-horizontal-icon"]=CZ;window.apos.iconComponents["unfold-more-horizontal-icon"]=OZ;window.apos.iconComponents["video-icon"]=RZ;window.apos.iconComponents["view-column-icon"]=jZ;window.apos.iconComponents["water-off-icon"]=YZ;window.apos.iconComponents["web-icon"]=nX;window.apos.iconComponents["database-export-icon"]=dX;window.apos.iconComponents["format-color-highlight-icon"]=bX;window.apos.iconComponents["table-icon"]=AX;window.apos.iconComponents["palette-swatch-icon"]=IX;window.apos.iconComponents["table-row-plus-after-icon"]=VX;window.apos.iconComponents["table-column-plus-after-icon"]=WX;window.apos.iconComponents["table-column-remove-icon"]=XX;window.apos.iconComponents["table-row-remove-icon"]=oQ;window.apos.iconComponents["table-plus-icon"]=hQ;window.apos.iconComponents["table-minus-icon"]=vQ;window.apos.iconComponents["table-column-icon"]=xQ;window.apos.iconComponents["table-row-icon"]=LQ;window.apos.iconComponents["table-split-cell-icon"]=NQ;window.apos.iconComponents["table-merge-cells-icon"]=KQ;window.apos.iconComponents["earth-icon"]=eee;window.apos.iconComponents["database-check-icon"]=aee;window.apos.iconComponents["tray-full-icon"]=pee;window.apos.iconComponents["form-select-icon"]=wee;window.apos.iconComponents["form-textbox-icon"]=Tee;window.apos.iconComponents["form-textarea-icon"]=Dee;window.apos.iconComponents["radiobox-marked-icon"]=Fee;window.apos.iconComponents["file-upload-outline-icon"]=Jee;window.apos.iconComponents["checkbox-marked-outline-icon"]=ite;window.apos.iconComponents["toggle-switch-outline-icon"]=cte;window.apos.iconComponents["arrow-decision-icon"]=gte;window.apos.iconComponents["menu-open-icon"]=kte;window.apos.iconComponents["button-icon"]=Ete;window.apos.iconComponents["gesture-tap-button-icon"]=Hte;window.apos.iconComponents["form-icon"]=Ute;window.apos.iconComponents["image-gallery-icon"]=Zte;window.apos.iconComponents["map-icon"]=sie;window.apos.iconComponents["cards-icon"]=uie;window.apos.iconComponents["layout-side-icon"]=yie;window.apos.iconComponents["list-icon"]=Sie;window.apos.iconComponents["teams-icon"]=$ie;window.apos.vueComponents=window.apos.vueComponents||{};window.apos.vueComponents.AposI18nLocalize=nne;window.apos.vueComponents.AposArrayEditor=One;window.apos.vueComponents.AposInputArea=Lne;window.apos.vueComponents.AposInputArray=kse;window.apos.vueComponents.AposInputAttachment=Tse;window.apos.vueComponents.AposInputBoolean=Rse;window.apos.vueComponents.AposInputCheckboxes=Fse;window.apos.vueComponents.AposInputDateAndTime=Zse;window.apos.vueComponents.AposInputObject=noe;window.apos.vueComponents.AposInputPassword=coe;window.apos.vueComponents.AposInputRadio=boe;window.apos.vueComponents.AposInputRange=Eoe;window.apos.vueComponents.AposInputRelationship=Voe;window.apos.vueComponents.AposInputSelect=Foe;window.apos.vueComponents.AposInputSlug=Joe;window.apos.vueComponents.AposInputString=ire;window.apos.vueComponents.AposInputWrapper=mre;window.apos.vueComponents.AposLogo=vre;window.apos.vueComponents.AposLogoIcon=kre;window.apos.vueComponents.AposLogoPadless=Mre;window.apos.vueComponents.AposSchema=Ire;window.apos.vueComponents.AposSearchList=Ure;window.apos.vueComponents.AposSubform=tae;window.apos.vueComponents.TheAposBusy=sae;window.apos.vueComponents.AposInputRole=aae;window.apos.vueComponents.AposPermissionGrid=bae;window.apos.vueComponents.TheAposAdminBar=kae;window.apos.vueComponents.TheAposAdminBarLocale=xae;window.apos.vueComponents.TheAposAdminBarMenu=Lae;window.apos.vueComponents.TheAposAdminBarUser=Rae;window.apos.vueComponents.TheAposContextBar=Nae;window.apos.vueComponents.TheAposContextBreakpointPreviewMode=Uae;window.apos.vueComponents.TheAposContextModeAndSettings=Jae;window.apos.vueComponents.TheAposContextTitle=tle;window.apos.vueComponents.TheAposContextUndoRedo=rle;window.apos.vueComponents.TheAposSavingIndicator=ule;window.apos.vueComponents.AposNotification=Yle;window.apos.vueComponents.TheAposNotifications=Qle;window.apos.vueComponents.AposForgotPasswordForm=oce;window.apos.vueComponents.AposLoginForm=pce;window.apos.vueComponents.AposResetPasswordForm=_ce;window.apos.vueComponents.TheAposLogin=Oce;window.apos.vueComponents.TheAposLoginHeader=Hce;window.apos.vueComponents.AposDocsManagerToolbar=Nce;window.apos.vueComponents.AposModal=sde;window.apos.vueComponents.AposModalBody=ude;window.apos.vueComponents.AposModalBreadcrumbs=mde;window.apos.vueComponents.AposModalConfirm=Ade;window.apos.vueComponents.AposModalLip=Lde;window.apos.vueComponents.AposModalRail=Rde;window.apos.vueComponents.AposModalReport=Kde;window.apos.vueComponents.AposModalShareDraft=cue;window.apos.vueComponents.AposModalTabs=gue;window.apos.vueComponents.AposModalTabsBody=Cue;window.apos.vueComponents.AposModalToolbar=Mue;window.apos.vueComponents.AposWidgetModalTabs=Pue;window.apos.vueComponents.TheAposModals=Hue;window.apos.vueComponents.AposDocContextMenu=Bue;window.apos.vueComponents.AposDocEditor=que;window.apos.vueComponents.AposDocLocalePicker=Zue;window.apos.vueComponents.AposDocsManager=nhe;window.apos.vueComponents.AposDocsManagerDisplay=hhe;window.apos.vueComponents.AposDocsManagerSelectBox=yhe;window.apos.vueComponents.AposRelationshipEditor=Che;window.apos.vueComponents.AposUtilityOperations=xhe;window.apos.vueComponents.AposPagesManager=$he;window.apos.vueComponents.AposAreaContextualMenu=Nhe;window.apos.vueComponents.AposAreaEditor=qhe;window.apos.vueComponents.AposAreaExpandedMenu=tfe;window.apos.vueComponents.AposAreaMenu=sfe;window.apos.vueComponents.AposAreaMenuItem=dfe;window.apos.vueComponents.AposAreaWidget=wfe;window.apos.vueComponents.AposWidgetControls=Sfe;window.apos.vueComponents.AposWidget=Efe;window.apos.vueComponents.AposWidgetEditor=Dfe;window.apos.vueComponents.AposImageControlDialog=zfe;window.apos.vueComponents.AposRichTextWidgetEditor=L_e;window.apos.vueComponents.AposTiptapAnchor=z_e;window.apos.vueComponents.AposTiptapButton=F_e;window.apos.vueComponents.AposTiptapColor=G_e;window.apos.vueComponents.AposTiptapDivider=X_e;window.apos.vueComponents.AposTiptapImage=iwe;window.apos.vueComponents.AposTiptapImportTable=owe;window.apos.vueComponents.AposTiptapInsertBtn=fwe;window.apos.vueComponents.AposTiptapInsertItem=gwe;window.apos.vueComponents.AposTiptapLink=Cwe;window.apos.vueComponents.AposTiptapMarks=Ewe;window.apos.vueComponents.AposTiptapStyles=Rwe;window.apos.vueComponents.AposTiptapTableControls=ET;window.apos.vueComponents.AposTiptapUndefined=zwe;window.apos.vueComponents.AposColor=qT;window.apos.vueComponents.AposInputColor=K2e;window.apos.vueComponents.AposInputOembed=Q2e;window.apos.vueComponents.AposAvatar=nCe;window.apos.vueComponents.AposButton=dCe;window.apos.vueComponents.AposButtonGroup=pCe;window.apos.vueComponents.AposButtonSplit=ACe;window.apos.vueComponents.AposCellBasic=MCe;window.apos.vueComponents.AposCellButton=ECe;window.apos.vueComponents.AposCellContextMenu=PCe;window.apos.vueComponents.AposCellDate=HCe;window.apos.vueComponents.AposCellLabels=UCe;window.apos.vueComponents.AposCellLastEdited=KCe;window.apos.vueComponents.AposCellLink=ZCe;window.apos.vueComponents.AposCellType=eke;window.apos.vueComponents.AposCheckbox=rke;window.apos.vueComponents.AposCloudUploadIcon=dke;window.apos.vueComponents.AposColorCheckerboard=pke;window.apos.vueComponents.AposCombo=Cke;window.apos.vueComponents.AposContextMenu=sAe;window.apos.vueComponents.AposContextMenuDialog=cAe;window.apos.vueComponents.AposContextMenuItem=mAe;window.apos.vueComponents.AposContextMenuTip=yAe;window.apos.vueComponents.AposEmptyState=SAe;window.apos.vueComponents.AposFile=$Ae;window.apos.vueComponents.AposFilterMenu=RAe;window.apos.vueComponents.AposIndicator=_x;window.apos.vueComponents.AposLabel=zAe;window.apos.vueComponents.AposLoading=jAe;window.apos.vueComponents.AposLoadingBlock=GAe;window.apos.vueComponents.AposLocale=eSe;window.apos.vueComponents.AposLocalePicker=hSe;window.apos.vueComponents.AposMinMaxCount=bSe;window.apos.vueComponents.AposPager=ISe;window.apos.vueComponents.AposPagerDots=HSe;window.apos.vueComponents.AposSelect=FSe;window.apos.vueComponents.AposSlat=QSe;window.apos.vueComponents.AposSlatList=n3e;window.apos.vueComponents.AposSpinner=h3e;window.apos.vueComponents.AposSubformPreview=v3e;window.apos.vueComponents.AposTable=x3e;window.apos.vueComponents.AposTag=E3e;window.apos.vueComponents.AposTagApply=V3e;window.apos.vueComponents.AposTagList=q3e;window.apos.vueComponents.AposTagListItem=Z3e;window.apos.vueComponents.AposToggle=i4e;window.apos.vueComponents.AposTree=o4e;window.apos.vueComponents.AposTreeHeader=d4e;window.apos.vueComponents.AposTreeRows=y4e;window.apos.vueComponents.AposSettingsManager=x4e;window.apos.vueComponents.AposImageCropper=_xe;window.apos.vueComponents.AposImageRelationshipEditor=Dxe;window.apos.vueComponents.AposMediaManager=zxe;window.apos.vueComponents.AposMediaManagerDisplay=Yxe;window.apos.vueComponents.AposMediaManagerEditor=mMe;window.apos.vueComponents.AposMediaManagerSelections=MMe;window.apos.vueComponents.AposMediaUploader=DMe;window.apos.vueComponents.AposSubmittedDraftIcon=zMe;window.apos.vueComponents.AposCommandMenuKey=FMe;window.apos.vueComponents.AposCommandMenuKeyList=qMe;window.apos.vueComponents.AposCommandMenuShortcut=iTe;window.apos.vueComponents.TheAposCommandMenu=oTe;window.apos.vueComponents.AposTranslationIndicator=uTe;window.apos.tiptapExtensions=window.apos.tiptapExtensions||[];apos.tiptapExtensions.push(hTe);apos.tiptapExtensions.push(fTe);apos.tiptapExtensions.push(bTe);apos.tiptapExtensions.push(vTe);apos.tiptapExtensions.push(_Te);apos.tiptapExtensions.push(wTe);apos.tiptapExtensions.push(CTe);apos.tiptapExtensions.push(kTe);apos.tiptapExtensions.push(KTe);apos.tiptapExtensions.push(JTe);apos.tiptapExtensions.push(YTe);document.readyState!=="loading"?setTimeout(QS,0):window.addEventListener("DOMContentLoaded",QS);function QS(){ZTe(),XTe(),k5e(),A5e(),S5e(),x5e(),M5e(),T5e(),O5e(),E5e(),I5e(),$5e(),L5e(),P5e()}